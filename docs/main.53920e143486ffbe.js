"use strict";(self.webpackChunkTraining=self.webpackChunkTraining||[]).push([[179],{2011:(xt,Ae,U)=>{U.d(Ae,{Dh:()=>be,GT:()=>ie,cc:()=>Me,hO:()=>$e,on:()=>Y,pX:()=>ue,xv:()=>xe});var s=U(4650),$=U(9260),N=U(4976);xt=U.hmd(xt);const ae=["ngOnDestroy"],ue=(Oe,Fe,ze,Se={})=>new Proxy(Oe,{get:(Te,Ne)=>ze.runOutsideAngular(()=>{var Ge;if(Oe[Ne])return!(null===(Ge=Se?.spy)||void 0===Ge)&&Ge.get&&Se.spy.get(Ne,Oe[Ne]),Oe[Ne];if(ae.indexOf(Ne)>-1)return()=>{};const Be=Fe.toPromise().then(de=>{const rt=de&&de[Ne];return"function"==typeof rt?rt.bind(de):rt&&rt.then?rt.then(At=>ze.run(()=>At)):ze.run(()=>rt)});return new Proxy(()=>{},{get:(de,rt)=>Be[rt],apply:(de,rt,At)=>Be.then(ut=>{var Kt;const mt=ut&&ut(...At);return!(null===(Kt=Se?.spy)||void 0===Kt)&&Kt.apply&&Se.spy.apply(Ne,At,mt),mt})})})}),ie=(Oe,Fe)=>{Fe.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Se=>{Object.defineProperty(Oe.prototype,Se,Object.getOwnPropertyDescriptor(ze.prototype||ze,Se))})})};class Ee{constructor(Fe){return Fe}}const be=new s.OlP("angularfire2.app.options"),xe=new s.OlP("angularfire2.app.name");function Y(Oe,Fe,ze){const Te="object"==typeof ze&&ze||{};Te.name=Te.name||"string"==typeof ze&&ze||"[DEFAULT]";const Ge=$.Z.apps.filter(Be=>Be&&Be.name===Te.name)[0]||Fe.runOutsideAngular(()=>$.Z.initializeApp(Oe,Te));try{JSON.stringify(Oe)!==JSON.stringify(Ge.options)&&q("error",`${Ge.name} Firebase App already initialized with different options${xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ee(Ge)}const q=(Oe,...Fe)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Oe](...Fe)},te={provide:Ee,useFactory:Y,deps:[be,s.R0b,[new s.FiY,xe]]};let $e=(()=>{class Oe{constructor(ze){$.Z.registerVersion("angularfire",N.q4.full,"core"),$.Z.registerVersion("angularfire",N.q4.full,"app-compat"),$.Z.registerVersion("angular",s.q4F.full,ze.toString())}static initializeApp(ze,Se){return{ngModule:Oe,providers:[{provide:be,useValue:ze},{provide:xe,useValue:Se}]}}}return Oe.\u0275fac=function(ze){return new(ze||Oe)(s.LFG(s.Lbi))},Oe.\u0275mod=s.oAB({type:Oe}),Oe.\u0275inj=s.cJS({providers:[te]}),Oe})();function Me(Oe,Fe,ze,Se,Te){const[,Ne,Ge]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===Oe)||[];if(Ne)return function Qe(Oe,Fe){try{return Oe.toString()===Fe.toString()}catch{return Oe===Fe}}(Te,Ge)||(we("error",`${Fe} was already initialized on the ${ze} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Te,was:Ge})),Ne;{const Be=Se();return globalThis.\u0275AngularfireInstanceCache.push([Oe,Be,Te]),Be}}const dt=!!xt.hot,we=(Oe,...Fe)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Oe](...Fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(xt,Ae,U)=>{U.d(Ae,{q4:()=>Sl,iC:()=>Ih,HU:()=>Na,vb:()=>pm,JM:()=>Ml,u3:()=>Xn});var s=U(4650),$=U(259),N=U(5861),ae=U(6881),ue=U(2090),ie=U(4859),Ee=U(1877);const be=(x,D)=>D.some(M=>x instanceof M);let xe,Y;const $e=new WeakMap,Me=new WeakMap,Qe=new WeakMap,dt=new WeakMap,we=new WeakMap;let ze={get(x,D,M){if(x instanceof IDBTransaction){if("done"===D)return Me.get(x);if("objectStoreNames"===D)return x.objectStoreNames||Qe.get(x);if("store"===D)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return Ge(x[D])},set:(x,D,M)=>(x[D]=M,!0),has:(x,D)=>x instanceof IDBTransaction&&("done"===D||"store"===D)||D in x};function Ne(x){return"function"==typeof x?function Te(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...D){return x.apply(Be(this),D),Ge($e.get(this))}:function(...D){return Ge(x.apply(Be(this),D))}:function(D,...M){const z=x.call(Be(this),D,...M);return Qe.set(z,D.sort?D.sort():[D]),Ge(z)}}(x):(x instanceof IDBTransaction&&function Fe(x){if(Me.has(x))return;const D=new Promise((M,z)=>{const K=()=>{x.removeEventListener("complete",J),x.removeEventListener("error",pe),x.removeEventListener("abort",pe)},J=()=>{M(),K()},pe=()=>{z(x.error||new DOMException("AbortError","AbortError")),K()};x.addEventListener("complete",J),x.addEventListener("error",pe),x.addEventListener("abort",pe)});Me.set(x,D)}(x),be(x,function q(){return xe||(xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,ze):x)}function Ge(x){if(x instanceof IDBRequest)return function Oe(x){const D=new Promise((M,z)=>{const K=()=>{x.removeEventListener("success",J),x.removeEventListener("error",pe)},J=()=>{M(Ge(x.result)),K()},pe=()=>{z(x.error),K()};x.addEventListener("success",J),x.addEventListener("error",pe)});return D.then(M=>{M instanceof IDBCursor&&$e.set(M,x)}).catch(()=>{}),we.set(D,x),D}(x);if(dt.has(x))return dt.get(x);const D=Ne(x);return D!==x&&(dt.set(x,D),we.set(D,x)),D}const Be=x=>we.get(x),At=["get","getKey","getAll","getAllKeys","count"],ut=["put","add","delete","clear"],Kt=new Map;function mt(x,D){if(!(x instanceof IDBDatabase)||D in x||"string"!=typeof D)return;if(Kt.get(D))return Kt.get(D);const M=D.replace(/FromIndex$/,""),z=D!==M,K=ut.includes(M);if(!(M in(z?IDBIndex:IDBObjectStore).prototype)||!K&&!At.includes(M))return;const J=function(){var pe=(0,N.Z)(function*(Xe,...Ye){const yt=this.transaction(Xe,K?"readwrite":"readonly");let Ot=yt.store;return z&&(Ot=Ot.index(Ye.shift())),(yield Promise.all([Ot[M](...Ye),K&&yt.done]))[0]});return function(Ye){return pe.apply(this,arguments)}}();return Kt.set(D,J),J}!function Se(x){ze=x(ze)}(x=>({...x,get:(D,M,z)=>mt(D,M)||x.get(D,M,z),has:(D,M)=>!!mt(D,M)||x.has(D,M)}));const Vo="@firebase/installations",Fi="0.6.4",Dr=1e4,Do=`w:${Fi}`,he="FIS_v2",ge="https://firebaseinstallations.googleapis.com/v1",ye=36e5,ht=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(x){return x instanceof ue.ZR&&x.code.includes("request-failed")}function pn({projectId:x}){return`${ge}/projects/${x}/installations`}function Dt(x){return{token:x.token,requestStatus:2,expiresIn:vi(x.expiresIn),creationTime:Date.now()}}function cn(x,D){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,N.Z)(function*(x,D){const z=(yield D.json()).error;return ht.create("request-failed",{requestName:x,serverCode:z.code,serverMessage:z.message,serverStatus:z.status})})).apply(this,arguments)}function yn({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function Vn(x){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,N.Z)(function*(x){const D=yield x();return D.status>=500&&D.status<600?x():D})).apply(this,arguments)}function vi(x){return Number(x.replace("s","000"))}function vt(){return(vt=(0,N.Z)(function*({appConfig:x,heartbeatServiceProvider:D},{fid:M}){const z=pn(x),K=yn(x),J=D.getImmediate({optional:!0});if(J){const yt=yield J.getHeartbeatsHeader();yt&&K.append("x-firebase-client",yt)}const Xe={method:"POST",headers:K,body:JSON.stringify({fid:M,authVersion:he,appId:x.appId,sdkVersion:Do})},Ye=yield Vn(()=>fetch(z,Xe));if(Ye.ok){const yt=yield Ye.json();return{fid:yt.fid||M,registrationStatus:2,refreshToken:yt.refreshToken,authToken:Dt(yt.authToken)}}throw yield cn("Create Installation",Ye)})).apply(this,arguments)}function ni(x){return new Promise(D=>{setTimeout(D,x)})}const li=/^[cdef][\w-]{21}$/,tr="";function hr(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const M=function gn(x){return function Io(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return li.test(M)?M:tr}catch{return tr}}function Qt(x){return`${x.appName}!${x.appId}`}const pt=new Map;function Lt(x,D){const M=Qt(x);ii(M,D),function fr(x,D){const M=function Li(){return!ri&&"BroadcastChannel"in self&&(ri=new BroadcastChannel("[Firebase] FID Change"),ri.onmessage=x=>{ii(x.data.key,x.data.fid)}),ri}();M&&M.postMessage({key:x,fid:D}),function tn(){0===pt.size&&ri&&(ri.close(),ri=null)}()}(M,D)}function ii(x,D){const M=pt.get(x);if(M)for(const z of M)z(D)}let ri=null;const Fr="firebase-installations-database",nn=1,Ir="firebase-installations-store";let $t=null;function di(){return $t||($t=function de(x,D,{blocked:M,upgrade:z,blocking:K,terminated:J}={}){const pe=indexedDB.open(x,D),Xe=Ge(pe);return z&&pe.addEventListener("upgradeneeded",Ye=>{z(Ge(pe.result),Ye.oldVersion,Ye.newVersion,Ge(pe.transaction))}),M&&pe.addEventListener("blocked",()=>M()),Xe.then(Ye=>{J&&Ye.addEventListener("close",()=>J()),K&&Ye.addEventListener("versionchange",()=>K())}).catch(()=>{}),Xe}(Fr,nn,{upgrade:(x,D)=>{0===D&&x.createObjectStore(Ir)}})),$t}function qn(x,D){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,N.Z)(function*(x,D){const M=Qt(x),K=(yield di()).transaction(Ir,"readwrite"),J=K.objectStore(Ir),pe=yield J.get(M);return yield J.put(D,M),yield K.done,(!pe||pe.fid!==D.fid)&&Lt(x,D.fid),D})).apply(this,arguments)}function ui(x){return mr.apply(this,arguments)}function mr(){return(mr=(0,N.Z)(function*(x){const D=Qt(x),z=(yield di()).transaction(Ir,"readwrite");yield z.objectStore(Ir).delete(D),yield z.done})).apply(this,arguments)}function nr(x,D){return pr.apply(this,arguments)}function pr(){return(pr=(0,N.Z)(function*(x,D){const M=Qt(x),K=(yield di()).transaction(Ir,"readwrite"),J=K.objectStore(Ir),pe=yield J.get(M),Xe=D(pe);return void 0===Xe?yield J.delete(M):yield J.put(Xe,M),yield K.done,Xe&&(!pe||pe.fid!==Xe.fid)&&Lt(x,Xe.fid),Xe})).apply(this,arguments)}function W(x){return G.apply(this,arguments)}function G(){return G=(0,N.Z)(function*(x){let D;const M=yield nr(x.appConfig,z=>{const K=function B(x){return Tt(x||{fid:hr(),registrationStatus:0})}(z),J=function V(x,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(ht.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},z=function O(x,D){return Q.apply(this,arguments)}(x,M);return{installationEntry:M,registrationPromise:z}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Ce(x)}:{installationEntry:D}}(x,K);return D=J.registrationPromise,J.installationEntry});return M.fid===tr?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}}),G.apply(this,arguments)}function Q(){return Q=(0,N.Z)(function*(x,D){try{const M=yield function ti(x,D){return vt.apply(this,arguments)}(x,D);return qn(x.appConfig,M)}catch(M){throw ft(M)&&409===M.customData.serverCode?yield ui(x.appConfig):yield qn(x.appConfig,{fid:D.fid,registrationStatus:0}),M}}),Q.apply(this,arguments)}function Ce(x){return ot.apply(this,arguments)}function ot(){return(ot=(0,N.Z)(function*(x){let D=yield Mt(x.appConfig);for(;1===D.registrationStatus;)yield ni(100),D=yield Mt(x.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:z}=yield W(x);return z||M}return D})).apply(this,arguments)}function Mt(x){return nr(x,D=>{if(!D)throw ht.create("installation-not-found");return Tt(D)})}function Tt(x){return function Xt(x){return 1===x.registrationStatus&&x.registrationTime+Dr<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Rn(){return(Rn=(0,N.Z)(function*({appConfig:x,heartbeatServiceProvider:D},M){const z=function Gt(x,{fid:D}){return`${pn(x)}/${D}/authTokens:generate`}(x,M),K=function _i(x,{refreshToken:D}){const M=yn(x);return M.append("Authorization",function Nr(x){return`${he} ${x}`}(D)),M}(x,M),J=D.getImmediate({optional:!0});if(J){const yt=yield J.getHeartbeatsHeader();yt&&K.append("x-firebase-client",yt)}const Xe={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:Do,appId:x.appId}})},Ye=yield Vn(()=>fetch(z,Xe));if(Ye.ok)return Dt(yield Ye.json());throw yield cn("Generate Auth Token",Ye)})).apply(this,arguments)}function Bi(x){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,N.Z)(function*(x,D=!1){let M;const z=yield nr(x.appConfig,J=>{if(!rn(J))throw ht.create("not-registered");const pe=J.authToken;if(!D&&function Ct(x){return 2===x.requestStatus&&!function wn(x){const D=Date.now();return D<x.creationTime||x.creationTime+x.expiresIn<D+ye}(x)}(pe))return J;if(1===pe.requestStatus)return M=function _e(x,D){return le.apply(this,arguments)}(x,D),J;{if(!navigator.onLine)throw ht.create("app-offline");const Xe=function un(x){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:D})}(J);return M=function bt(x,D){return kt.apply(this,arguments)}(x,Xe),Xe}});return M?yield M:z.authToken}),Uo.apply(this,arguments)}function le(){return(le=(0,N.Z)(function*(x,D){let M=yield Ve(x.appConfig);for(;1===M.authToken.requestStatus;)yield ni(100),M=yield Ve(x.appConfig);const z=M.authToken;return 0===z.requestStatus?Bi(x,D):z})).apply(this,arguments)}function Ve(x){return nr(x,D=>{if(!rn(D))throw ht.create("not-registered");return function ir(x){return 1===x.requestStatus&&x.requestTime+Dr<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function kt(){return kt=(0,N.Z)(function*(x,D){try{const M=yield function Rt(x,D){return Rn.apply(this,arguments)}(x,D),z=Object.assign(Object.assign({},D),{authToken:M});return yield qn(x.appConfig,z),M}catch(M){if(!ft(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const z=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield qn(x.appConfig,z)}else yield ui(x.appConfig);throw M}}),kt.apply(this,arguments)}function rn(x){return void 0!==x&&2===x.registrationStatus}function Yl(){return(Yl=(0,N.Z)(function*(x){const D=x,{installationEntry:M,registrationPromise:z}=yield W(D);return z?z.catch(console.error):Bi(D).catch(console.error),M.fid})).apply(this,arguments)}function ls(){return ls=(0,N.Z)(function*(x,D=!1){const M=x;return yield function Ui(x){return tt.apply(this,arguments)}(M),(yield Bi(M,D)).token}),ls.apply(this,arguments)}function tt(){return(tt=(0,N.Z)(function*(x){const{registrationPromise:D}=yield W(x);D&&(yield D)})).apply(this,arguments)}function Hi(x){return ht.create("missing-app-config-values",{valueName:x})}const qt="installations",Wr=x=>{const D=x.getProvider("app").getImmediate(),M=function ol(x){if(!x||!x.options)throw Hi("App Configuration");if(!x.name)throw Hi("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!x.options[M])throw Hi(M);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,ae._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},ga=x=>{const D=x.getProvider("app").getImmediate(),M=(0,ae._getProvider)(D,qt).getImmediate();return{getId:()=>function Vi(x){return Yl.apply(this,arguments)}(M),getToken:K=>function Kf(x){return ls.apply(this,arguments)}(M,K)}};(function Ho(){(0,ae._registerComponent)(new ie.wA(qt,Wr,"PUBLIC")),(0,ae._registerComponent)(new ie.wA("installations-internal",ga,"PRIVATE"))})(),(0,ae.registerVersion)(Vo,Fi),(0,ae.registerVersion)(Vo,Fi,"esm2017");const Ci="@firebase/remote-config",Ei=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fg{constructor(D,M,z,K){this.client=D,this.storage=M,this.storageCache=z,this.logger=K}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const z=Date.now()-M,K=z<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${z}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${K}.`),K}fetch(D){var M=this;return(0,N.Z)(function*(){const[z,K]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(K&&M.isCachedDataFresh(D.cacheMaxAgeMillis,z))return K;D.eTag=K&&K.eTag;const J=yield M.client.fetch(D),pe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===J.status&&pe.push(M.storage.setLastSuccessfulFetchResponse(J)),yield Promise.all(pe),J})()}}function Fu(x=navigator){return x.languages&&x.languages[0]||x.language}class Qf{constructor(D,M,z,K,J,pe){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=z,this.projectId=K,this.apiKey=J,this.appId=pe}fetch(D){var M=this;return(0,N.Z)(function*(){const[z,K]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Ye={sdk_version:M.sdkVersion,app_instance_id:z,app_instance_id_token:K,app_id:M.appId,language_code:Fu()},yt={method:"POST",headers:Xe,body:JSON.stringify(Ye)},Ot=fetch(pe,yt),Bt=new Promise((Mr,Xr)=>{D.signal.addEventListener(()=>{const Es=new Error("The operation was aborted.");Es.name="AbortError",Xr(Es)})});let Ar;try{yield Promise.race([Ot,Bt]),Ar=yield Ot}catch(Mr){let Xr="fetch-client-network";throw"AbortError"===Mr?.name&&(Xr="fetch-timeout"),Ei.create(Xr,{originalErrorMessage:Mr?.message})}let Xi=Ar.status;const Qs=Ar.headers.get("ETag")||void 0;let jd,Fa;if(200===Ar.status){let Mr;try{Mr=yield Ar.json()}catch(Xr){throw Ei.create("fetch-client-parse",{originalErrorMessage:Xr?.message})}jd=Mr.entries,Fa=Mr.state}if("INSTANCE_STATE_UNSPECIFIED"===Fa?Xi=500:"NO_CHANGE"===Fa?Xi=304:("NO_TEMPLATE"===Fa||"EMPTY_CONFIG"===Fa)&&(jd={}),304!==Xi&&200!==Xi)throw Ei.create("fetch-status",{httpStatus:Xi});return{status:Xi,eTag:Qs,config:jd}})()}}class Bu{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,N.Z)(function*(){const z=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,z)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:z}){var K=this;return(0,N.Z)(function*(){yield function Lu(x,D){return new Promise((M,z)=>{const K=Math.max(D-Date.now(),0),J=setTimeout(M,K);x.addEventListener(()=>{clearTimeout(J),z(Ei.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const J=yield K.client.fetch(D);return yield K.storage.deleteThrottleMetadata(),J}catch(J){if(!function mg(x){if(!(x instanceof ue.ZR&&x.customData))return!1;const D=Number(x.customData.httpStatus);return 429===D||500===D||503===D||504===D}(J))throw J;const pe={throttleEndTimeMillis:Date.now()+(0,ue.$s)(z),backoffCount:z+1};return yield K.storage.setThrottleMetadata(pe),K.attemptFetch(D,pe)}})()}}class Xf{constructor(D,M,z,K,J){this.app=D,this._client=M,this._storageCache=z,this._storage=K,this._logger=J,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function hs(x,D){const M=x.target.error||void 0;return Ei.create(D,{originalErrorMessage:M&&M?.message})}const Nn="app_namespace_store";class zu{constructor(D,M,z,K=function em(){return new Promise((x,D)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=z=>{D(hs(z,"storage-open"))},M.onsuccess=z=>{x(z.target.result)},M.onupgradeneeded=z=>{0===z.oldVersion&&z.target.result.createObjectStore(Nn,{keyPath:"compositeKey"})}}catch(M){D(Ei.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=D,this.appName=M,this.namespace=z,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,N.Z)(function*(){const z=yield M.openDbPromise;return new Promise((K,J)=>{const Xe=z.transaction([Nn],"readonly").objectStore(Nn),Ye=M.createCompositeKey(D);try{const yt=Xe.get(Ye);yt.onerror=Ot=>{J(hs(Ot,"storage-get"))},yt.onsuccess=Ot=>{const Bt=Ot.target.result;K(Bt?Bt.value:void 0)}}catch(yt){J(Ei.create("storage-get",{originalErrorMessage:yt?.message}))}})})()}set(D,M){var z=this;return(0,N.Z)(function*(){const K=yield z.openDbPromise;return new Promise((J,pe)=>{const Ye=K.transaction([Nn],"readwrite").objectStore(Nn),yt=z.createCompositeKey(D);try{const Ot=Ye.put({compositeKey:yt,value:M});Ot.onerror=Bt=>{pe(hs(Bt,"storage-set"))},Ot.onsuccess=()=>{J()}}catch(Ot){pe(Ei.create("storage-set",{originalErrorMessage:Ot?.message}))}})})()}delete(D){var M=this;return(0,N.Z)(function*(){const z=yield M.openDbPromise;return new Promise((K,J)=>{const Xe=z.transaction([Nn],"readwrite").objectStore(Nn),Ye=M.createCompositeKey(D);try{const yt=Xe.delete(Ye);yt.onerror=Ot=>{J(hs(Ot,"storage-delete"))},yt.onsuccess=()=>{K()}}catch(yt){J(Ei.create("storage-delete",{originalErrorMessage:yt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class fs{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,N.Z)(function*(){const M=D.storage.getLastFetchStatus(),z=D.storage.getLastSuccessfulFetchTimestampMillis(),K=D.storage.getActiveConfig(),J=yield M;J&&(D.lastFetchStatus=J);const pe=yield z;pe&&(D.lastSuccessfulFetchTimestampMillis=pe);const Xe=yield K;Xe&&(D.activeConfig=Xe)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function ju(){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,N.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function ya(){(0,ae._registerComponent)(new ie.wA("remote-config",function x(D,{instanceIdentifier:M}){const z=D.getProvider("app").getImmediate(),K=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ei.create("registration-window");if(!(0,ue.hl)())throw Ei.create("indexed-db-unavailable");const{projectId:J,apiKey:pe,appId:Xe}=z.options;if(!J)throw Ei.create("registration-project-id");if(!pe)throw Ei.create("registration-api-key");if(!Xe)throw Ei.create("registration-app-id");const Ye=new zu(Xe,z.name,M=M||"firebase"),yt=new fs(Ye),Ot=new Ee.Yd(Ci);Ot.logLevel=Ee.in.ERROR;const Bt=new Qf(K,ae.SDK_VERSION,M,J,pe,Xe),Ar=new Bu(Bt,Ye),Xi=new fg(Ar,Ye,yt,Ot),Qs=new Xf(z,Xi,yt,Ye,Ot);return function gr(x){const D=(0,ue.m9)(x);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Qs),Qs},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Ci,"0.4.4"),(0,ae.registerVersion)(Ci,"0.4.4","esm2017")}();const tm=(x,D)=>D.some(M=>x instanceof M);let ms,ud;const ba=new WeakMap,Fs=new WeakMap,Zn=new WeakMap,cl=new WeakMap,ec=new WeakMap;let Bs={get(x,D,M){if(x instanceof IDBTransaction){if("done"===D)return Fs.get(x);if("objectStoreNames"===D)return x.objectStoreNames||Zn.get(x);if("store"===D)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return _r(x[D])},set:(x,D,M)=>(x[D]=M,!0),has:(x,D)=>x instanceof IDBTransaction&&("done"===D||"store"===D)||D in x};function tc(x){return"function"==typeof x?function nm(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $u(){return ud||(ud=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...D){return x.apply(ji(this),D),_r(ba.get(this))}:function(...D){return _r(x.apply(ji(this),D))}:function(D,...M){const z=x.call(ji(this),D,...M);return Zn.set(z,D.sort?D.sort():[D]),_r(z)}}(x):(x instanceof IDBTransaction&&function Ls(x){if(Fs.has(x))return;const D=new Promise((M,z)=>{const K=()=>{x.removeEventListener("complete",J),x.removeEventListener("error",pe),x.removeEventListener("abort",pe)},J=()=>{M(),K()},pe=()=>{z(x.error||new DOMException("AbortError","AbortError")),K()};x.addEventListener("complete",J),x.addEventListener("error",pe),x.addEventListener("abort",pe)});Fs.set(x,D)}(x),tm(x,function Jl(){return ms||(ms=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,Bs):x)}function _r(x){if(x instanceof IDBRequest)return function Di(x){const D=new Promise((M,z)=>{const K=()=>{x.removeEventListener("success",J),x.removeEventListener("error",pe)},J=()=>{M(_r(x.result)),K()},pe=()=>{z(x.error),K()};x.addEventListener("success",J),x.addEventListener("error",pe)});return D.then(M=>{M instanceof IDBCursor&&ba.set(M,x)}).catch(()=>{}),ec.set(D,x),D}(x);if(cl.has(x))return cl.get(x);const D=tc(x);return D!==x&&(cl.set(x,D),ec.set(D,x)),D}const ji=x=>ec.get(x);function dl(x,D,{blocked:M,upgrade:z,blocking:K,terminated:J}={}){const pe=indexedDB.open(x,D),Xe=_r(pe);return z&&pe.addEventListener("upgradeneeded",Ye=>{z(_r(pe.result),Ye.oldVersion,Ye.newVersion,_r(pe.transaction))}),M&&pe.addEventListener("blocked",()=>M()),Xe.then(Ye=>{J&&Ye.addEventListener("close",()=>J()),K&&Ye.addEventListener("versionchange",()=>K())}).catch(()=>{}),Xe}function ps(x,{blocked:D}={}){const M=indexedDB.deleteDatabase(x);return D&&M.addEventListener("blocked",()=>D()),_r(M).then(()=>{})}const Gu=["get","getKey","getAll","getAllKeys","count"],$o=["put","add","delete","clear"],ul=new Map;function wa(x,D){if(!(x instanceof IDBDatabase)||D in x||"string"!=typeof D)return;if(ul.get(D))return ul.get(D);const M=D.replace(/FromIndex$/,""),z=D!==M,K=$o.includes(M);if(!(M in(z?IDBIndex:IDBObjectStore).prototype)||!K&&!Gu.includes(M))return;const J=function(){var pe=(0,N.Z)(function*(Xe,...Ye){const yt=this.transaction(Xe,K?"readwrite":"readonly");let Ot=yt.store;return z&&(Ot=Ot.index(Ye.shift())),(yield Promise.all([Ot[M](...Ye),K&&yt.done]))[0]});return function(Ye){return pe.apply(this,arguments)}}();return ul.set(D,J),J}!function Ki(x){Bs=x(Bs)}(x=>({...x,get:(D,M,z)=>wa(D,M)||x.get(D,M,z),has:(D,M)=>!!wa(D,M)||x.has(D,M)}));const Pt="/firebase-messaging-sw.js",nc="/firebase-cloud-messaging-push-scope",im="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hd="https://fcmregistrations.googleapis.com/v1",fd="google.c.a.c_id",md="google.c.a.c_l",Wu="google.c.a.ts",qu="google.c.a.e";var ve=(()=>{return(x=ve||(ve={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",ve;var x})();function Ut(x){const D=new Uint8Array(x);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pd(x){const M=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),z=atob(M),K=new Uint8Array(z.length);for(let J=0;J<z.length;++J)K[J]=z.charCodeAt(J);return K}const hl="fcm_token_details_db",hi=5,Zu="fcm_token_object_Store";function Zr(){return Zr=(0,N.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(J=>J.name).includes(hl))return null;let D=null;return(yield dl(hl,hi,{upgrade:(z=(0,N.Z)(function*(K,J,pe,Xe){var Ye;if(J<2||!K.objectStoreNames.contains(Zu))return;const yt=Xe.objectStore(Zu),Ot=yield yt.index("fcmSenderId").get(x);if(yield yt.clear(),Ot)if(2===J){const Bt=Ot;if(!Bt.auth||!Bt.p256dh||!Bt.endpoint)return;D={token:Bt.fcmToken,createTime:null!==(Ye=Bt.createTime)&&void 0!==Ye?Ye:Date.now(),subscriptionOptions:{auth:Bt.auth,p256dh:Bt.p256dh,endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:"string"==typeof Bt.vapidKey?Bt.vapidKey:Ut(Bt.vapidKey)}}}else if(3===J){const Bt=Ot;D={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:Ut(Bt.auth),p256dh:Ut(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:Ut(Bt.vapidKey)}}}else if(4===J){const Bt=Ot;D={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:Ut(Bt.auth),p256dh:Ut(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:Ut(Bt.vapidKey)}}}}),function(J,pe,Xe,Ye){return z.apply(this,arguments)})})).close(),yield ps(hl),yield ps("fcm_vapid_details_db"),yield ps("undefined"),function ic(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:D}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var z}),Zr.apply(this,arguments)}const Yu="firebase-messaging-database",Ku=1,gs="firebase-messaging-store";let Ca=null;function Qi(){return Ca||(Ca=dl(Yu,Ku,{upgrade:(x,D)=>{0===D&&x.createObjectStore(gs)}})),Ca}function Sr(x){return _s.apply(this,arguments)}function _s(){return _s=(0,N.Z)(function*(x){const D=Xu(x),z=yield(yield Qi()).transaction(gs).objectStore(gs).get(D);if(z)return z;{const K=yield function xa(x){return Zr.apply(this,arguments)}(x.appConfig.senderId);if(K)return yield Go(x,K),K}}),_s.apply(this,arguments)}function Go(x,D){return So.apply(this,arguments)}function So(){return(So=(0,N.Z)(function*(x,D){const M=Xu(x),K=(yield Qi()).transaction(gs,"readwrite");return yield K.objectStore(gs).put(D,M),yield K.done,D})).apply(this,arguments)}function Vs(){return(Vs=(0,N.Z)(function*(x){const D=Xu(x),z=(yield Qi()).transaction(gs,"readwrite");yield z.objectStore(gs).delete(D),yield z.done})).apply(this,arguments)}function Xu({appConfig:x}){return x.appId}const fi=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rc(x,D){return fl.apply(this,arguments)}function fl(){return(fl=(0,N.Z)(function*(x,D){const M=yield ml(x),z=sc(D),K={method:"POST",headers:M,body:JSON.stringify(z)};let J;try{J=yield(yield fetch(gd(x.appConfig),K)).json()}catch(pe){throw fi.create("token-subscribe-failed",{errorInfo:pe?.toString()})}if(J.error)throw fi.create("token-subscribe-failed",{errorInfo:J.error.message});if(!J.token)throw fi.create("token-subscribe-no-token");return J.token})).apply(this,arguments)}function oc(){return(oc=(0,N.Z)(function*(x,D){const M=yield ml(x),z=sc(D.subscriptionOptions),K={method:"PATCH",headers:M,body:JSON.stringify(z)};let J;try{J=yield(yield fetch(`${gd(x.appConfig)}/${D.token}`,K)).json()}catch(pe){throw fi.create("token-update-failed",{errorInfo:pe?.toString()})}if(J.error)throw fi.create("token-update-failed",{errorInfo:J.error.message});if(!J.token)throw fi.create("token-update-no-token");return J.token})).apply(this,arguments)}function eh(x,D){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,N.Z)(function*(x,D){const z={method:"DELETE",headers:yield ml(x)};try{const J=yield(yield fetch(`${gd(x.appConfig)}/${D}`,z)).json();if(J.error)throw fi.create("token-unsubscribe-failed",{errorInfo:J.error.message})}catch(K){throw fi.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function gd({projectId:x}){return`${hd}/projects/${x}/registrations`}function ml(x){return _d.apply(this,arguments)}function _d(){return(_d=(0,N.Z)(function*({appConfig:x,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function sc({p256dh:x,auth:D,endpoint:M,vapidKey:z}){const K={web:{endpoint:M,auth:D,p256dh:x}};return z!==im&&(K.web.applicationPubKey=z),K}const th=6048e5;function nh(){return nh=(0,N.Z)(function*(x){const D=yield function _g(x,D){return ih.apply(this,arguments)}(x.swRegistration,x.vapidKey),M={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:D.endpoint,auth:Ut(D.getKey("auth")),p256dh:Ut(D.getKey("p256dh"))},z=yield Sr(x.firebaseDependencies);if(z){if(function vg(x,D){return D.vapidKey===x.vapidKey&&D.endpoint===x.endpoint&&D.auth===x.auth&&D.p256dh===x.p256dh}(z.subscriptionOptions,M))return Date.now()>=z.createTime+th?function zn(x,D){return yd.apply(this,arguments)}(x,{token:z.token,createTime:Date.now(),subscriptionOptions:M}):z.token;try{yield eh(x.firebaseDependencies,z.token)}catch(K){console.warn(K)}return Da(x.firebaseDependencies,M)}return Da(x.firebaseDependencies,M)}),nh.apply(this,arguments)}function Ao(){return Ao=(0,N.Z)(function*(x){const D=yield Sr(x.firebaseDependencies);D&&(yield eh(x.firebaseDependencies,D.token),yield function Qu(x){return Vs.apply(this,arguments)}(x.firebaseDependencies));const M=yield x.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Ao.apply(this,arguments)}function yd(){return yd=(0,N.Z)(function*(x,D){try{const M=yield function Ju(x,D){return oc.apply(this,arguments)}(x.firebaseDependencies,D),z=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield Go(x.firebaseDependencies,z),M}catch(M){throw yield function rr(x){return Ao.apply(this,arguments)}(x),M}}),yd.apply(this,arguments)}function Da(x,D){return ac.apply(this,arguments)}function ac(){return(ac=(0,N.Z)(function*(x,D){const z={token:yield rc(x,D),createTime:Date.now(),subscriptionOptions:D};return yield Go(x,z),z.token})).apply(this,arguments)}function ih(){return(ih=(0,N.Z)(function*(x,D){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pd(D)})})).apply(this,arguments)}function lc(x){const D={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function bd(x,D){if(!D.notification)return;x.notification={};const M=D.notification.title;M&&(x.notification.title=M);const z=D.notification.body;z&&(x.notification.body=z);const K=D.notification.image;K&&(x.notification.image=K);const J=D.notification.icon;J&&(x.notification.icon=J)}(D,x),function rh(x,D){D.data&&(x.data=D.data)}(D,x),function oh(x,D){var M,z,K,J,pe;if(!(D.fcmOptions||null!==(M=D.notification)&&void 0!==M&&M.click_action))return;x.fcmOptions={};const Xe=null!==(K=null===(z=D.fcmOptions)||void 0===z?void 0:z.link)&&void 0!==K?K:null===(J=D.notification)||void 0===J?void 0:J.click_action;Xe&&(x.fcmOptions.link=Xe);const Ye=null===(pe=D.fcmOptions)||void 0===pe?void 0:pe.analytics_label;Ye&&(x.fcmOptions.analyticsLabel=Ye)}(D,x),D}function Ia(x,D){const M=[];for(let z=0;z<x.length;z++)M.push(x.charAt(z)),z<D.length&&M.push(D.charAt(z));return M.join("")}function Wo(x){return fi.create("missing-app-config-values",{valueName:x})}Ia("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ia("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yg{constructor(D,M,z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function pl(x){if(!x||!x.options)throw Wo("App Configuration Object");if(!x.name)throw Wo("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=x;for(const z of D)if(!M[z])throw Wo(z);return{appName:x.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:K,installations:M,analyticsProvider:z}}_delete(){return Promise.resolve()}}function rm(x){return dc.apply(this,arguments)}function dc(){return(dc=(0,N.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(Pt,{scope:nc}),x.swRegistration.update().catch(()=>{})}catch(D){throw fi.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function qo(){return(qo=(0,N.Z)(function*(x,D){if(!D&&!x.swRegistration&&(yield rm(x)),D||!x.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw fi.create("invalid-sw-registration");x.swRegistration=D}})).apply(this,arguments)}function gl(){return(gl=(0,N.Z)(function*(x,D){D?x.vapidKey=D:x.vapidKey||(x.vapidKey=im)})).apply(this,arguments)}function Ta(){return Ta=(0,N.Z)(function*(x,D){if(!navigator)throw fi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fi.create("permission-blocked");return yield function wd(x,D){return gl.apply(this,arguments)}(x,D?.vapidKey),yield function sh(x,D){return qo.apply(this,arguments)}(x,D?.serviceWorkerRegistration),function vd(x){return nh.apply(this,arguments)}(x)}),Ta.apply(this,arguments)}function vs(){return(vs=(0,N.Z)(function*(x,D,M){const z=function Us(x){switch(x){case ve.NOTIFICATION_CLICKED:return"notification_open";case ve.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(z,{message_id:M[fd],message_name:M[md],message_time:M[Wu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zs(){return zs=(0,N.Z)(function*(x,D){const M=D.data;if(!M.isFirebaseMessaging)return;x.onMessageHandler&&M.messageType===ve.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(lc(M)):x.onMessageHandler.next(lc(M)));const z=M.data;(function cc(x){return"object"==typeof x&&!!x&&fd in x})(z)&&"1"===z[qu]&&(yield function ah(x,D,M){return vs.apply(this,arguments)}(x,M.messageType,z))}),zs.apply(this,arguments)}const Aa="@firebase/messaging",vl=x=>{const D=new yg(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Sa(x,D){return zs.apply(this,arguments)}(D,M)),D},xd=x=>{const D=x.getProvider("messaging").getImmediate();return{getToken:z=>function uc(x,D){return Ta.apply(this,arguments)}(D,z)}};function om(){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,N.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function yl(){(0,ae._registerComponent)(new ie.wA("messaging",vl,"PUBLIC")),(0,ae._registerComponent)(new ie.wA("messaging-internal",xd,"PRIVATE")),(0,ae.registerVersion)(Aa,"0.12.4"),(0,ae.registerVersion)(Aa,"0.12.4","esm2017")}();const ys="analytics",fc="firebase_id",dh="origin",bl=6e4,uh="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mc="https://www.googletagmanager.com/gtag/js",Ii=new Ee.Yd("@firebase/analytics"),Yn=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function sm(x){if(!x.startsWith(mc)){const D=Yn.create("invalid-gtag-resource",{gtagURL:x});return Ii.warn(D.message),""}return x}function bs(x){return Promise.all(x.map(D=>D.catch(M=>M)))}function ws(){return(ws=(0,N.Z)(function*(x,D,M,z,K,J){const pe=z[K];try{if(pe)yield D[pe];else{const Ye=(yield bs(M)).find(yt=>yt.measurementId===K);Ye&&(yield D[Ye.appId])}}catch(Xe){Ii.error(Xe)}x("config",K,J)})).apply(this,arguments)}function Hs(){return(Hs=(0,N.Z)(function*(x,D,M,z,K){try{let J=[];if(K&&K.send_to){let pe=K.send_to;Array.isArray(pe)||(pe=[pe]);const Xe=yield bs(M);for(const Ye of pe){const yt=Xe.find(Bt=>Bt.measurementId===Ye),Ot=yt&&D[yt.appId];if(!Ot){J=[];break}J.push(Ot)}}0===J.length&&(J=Object.values(D)),yield Promise.all(J),x("event",z,K||{})}catch(J){Ii.error(J)}})).apply(this,arguments)}const gc=30,Gs=new class hh{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function lm(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function fn(){return(fn=(0,N.Z)(function*(x){var D;const{appId:M,apiKey:z}=x,K={method:"GET",headers:lm(z)},J=uh.replace("{app-id}",M),pe=yield fetch(J,K);if(200!==pe.status&&304!==pe.status){let Xe="";try{const Ye=yield pe.json();null!==(D=Ye.error)&&void 0!==D&&D.message&&(Xe=Ye.error.message)}catch{}throw Yn.create("config-fetch-failed",{httpStatus:pe.status,responseMessage:Xe})}return pe.json()})).apply(this,arguments)}function mh(){return(mh=(0,N.Z)(function*(x,D=Gs,M){const{appId:z,apiKey:K,measurementId:J}=x.options;if(!z)throw Yn.create("no-app-id");if(!K){if(J)return{measurementId:J,appId:z};throw Yn.create("no-api-key")}const pe=D.getThrottleMetadata(z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new Yv;return setTimeout((0,N.Z)(function*(){Xe.abort()}),void 0!==M?M:bl),Md({appId:z,apiKey:K,measurementId:J},pe,Xe,D)})).apply(this,arguments)}function Md(x,D,M){return kd.apply(this,arguments)}function kd(){return kd=(0,N.Z)(function*(x,{throttleEndTimeMillis:D,backoffCount:M},z,K=Gs){var J;const{appId:pe,measurementId:Xe}=x;try{yield function cm(x,D){return new Promise((M,z)=>{const K=Math.max(D-Date.now(),0),J=setTimeout(M,K);x.addEventListener(()=>{clearTimeout(J),z(Yn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(z,D)}catch(Ye){if(Xe)return Ii.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:pe,measurementId:Xe};throw Ye}try{const Ye=yield function fh(x){return fn.apply(this,arguments)}(x);return K.deleteThrottleMetadata(pe),Ye}catch(Ye){const yt=Ye;if(!function Zv(x){if(!(x instanceof ue.ZR&&x.customData))return!1;const D=Number(x.customData.httpStatus);return 429===D||500===D||503===D||504===D}(yt)){if(K.deleteThrottleMetadata(pe),Xe)return Ii.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${yt?.message}]`),{appId:pe,measurementId:Xe};throw Ye}const Ot=503===Number(null===(J=yt?.customData)||void 0===J?void 0:J.httpStatus)?(0,ue.$s)(M,K.intervalMillis,gc):(0,ue.$s)(M,K.intervalMillis),Bt={throttleEndTimeMillis:Date.now()+Ot,backoffCount:M+1};return K.setThrottleMetadata(pe,Bt),Ii.debug(`Calling attemptFetch again in ${Ot} millis`),Md(x,Bt,z,K)}}),kd.apply(this,arguments)}class Yv{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Ws,Pa;function dm(){return(dm=(0,N.Z)(function*(x,D,M,z,K){if(K&&K.global)x("event",M,z);else{const J=yield D;x("event",M,Object.assign(Object.assign({},z),{send_to:J}))}})).apply(this,arguments)}function Kr(){return(Kr=(0,N.Z)(function*(){if(!(0,ue.hl)())return Ii.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(x){return Ii.warn(Yn.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function qe(){return qe=(0,N.Z)(function*(x,D,M,z,K,J,pe){var Xe;const Ye=function Ad(x){return mh.apply(this,arguments)}(x);Ye.then(Xi=>{M[Xi.measurementId]=Xi.appId,x.options.measurementId&&Xi.measurementId!==x.options.measurementId&&Ii.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Xi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xi=>Ii.error(Xi)),D.push(Ye);const yt=function Yr(){return Kr.apply(this,arguments)}().then(Xi=>{if(Xi)return z.getId()}),[Ot,Bt]=yield Promise.all([Ye,yt]);(function $s(x){const D=window.document.getElementsByTagName("script");for(const M of Object.values(D))if(M.src&&M.src.includes(mc)&&M.src.includes(x))return M;return null})(J)||function ka(x,D){const M=function pc(x,D){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(x,D)),M}("firebase-js-sdk-policy",{createScriptURL:sm}),z=document.createElement("script"),K=`${mc}?l=${x}&id=${D}`;z.src=M?M?.createScriptURL(K):K,z.async=!0,document.head.appendChild(z)}(J,Ot.measurementId),Pa&&(K("consent","default",Pa),function Cl(x){Pa=x}(void 0)),K("js",new Date);const Ar=null!==(Xe=pe?.config)&&void 0!==Xe?Xe:{};return Ar[dh]="firebase",Ar.update=!0,null!=Bt&&(Ar[fc]=Bt),K("config",Ot.measurementId,Ar),Ws&&(K("set",Ws),function yc(x){Ws=x}(void 0)),Ot.measurementId}),qe.apply(this,arguments)}class Kn{constructor(D){this.app=D}_delete(){return delete Fn[this.app.options.appId],Promise.resolve()}}let Fn={},Ur=[];const Zo={};let Cn,je,Qn="dataLayer",si="gtag",ho=!1;function um(x,D,M){!function yr(){const x=[];if((0,ue.ru)()&&x.push("This is a browser extension environment."),(0,ue.zI)()||x.push("Cookies are not available."),x.length>0){const D=x.map((z,K)=>`(${K+1}) ${z}`).join(" "),M=Yn.create("invalid-analytics-context",{errorInfo:D});Ii.warn(M.message)}}();const z=x.options.appId;if(!z)throw Yn.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Yn.create("no-api-key");Ii.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fn[z])throw Yn.create("already-exists",{id:z});if(!ho){!function Id(x){let D=[];Array.isArray(window[x])?D=window[x]:window[x]=D}(Qn);const{wrappedGtag:J,gtagCore:pe}=function js(x,D,M,z,K){let J=function(...pe){window[z].push(arguments)};return window[K]&&"function"==typeof window[K]&&(J=window[K]),window[K]=function wl(x,D,M,z){function J(){return J=(0,N.Z)(function*(pe,...Xe){try{if("event"===pe){const[Ye,yt]=Xe;yield function am(x,D,M,z,K){return Hs.apply(this,arguments)}(x,D,M,Ye,yt)}else if("config"===pe){const[Ye,yt]=Xe;yield function Td(x,D,M,z,K,J){return ws.apply(this,arguments)}(x,D,M,z,Ye,yt)}else if("consent"===pe){const[Ye]=Xe;x("consent","update",Ye)}else if("get"===pe){const[Ye,yt,Ot]=Xe;x("get",Ye,yt,Ot)}else if("set"===pe){const[Ye]=Xe;x("set",Ye)}else x(pe,...Xe)}catch(Ye){Ii.error(Ye)}}),J.apply(this,arguments)}return function K(pe){return J.apply(this,arguments)}}(J,x,D,M),{gtagCore:J,wrappedGtag:window[K]}}(Fn,Ur,Zo,Qn,si);je=J,Cn=pe,ho=!0}return Fn[z]=function Zt(x,D,M,z,K,J,pe){return qe.apply(this,arguments)}(x,Ur,Zo,D,Cn,Qn,M),new Kn(x)}function gh(){return fo.apply(this,arguments)}function fo(){return(fo=(0,N.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const yh="@firebase/analytics";!function ai(){(0,ae._registerComponent)(new ie.wA(ys,(D,{options:M})=>um(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ae._registerComponent)(new ie.wA("analytics-internal",function x(D){try{const M=D.getProvider(ys).getImmediate();return{logEvent:(z,K,J)=>function vh(x,D,M,z){x=(0,ue.m9)(x),function Kv(x,D,M,z,K){return dm.apply(this,arguments)}(je,Fn[x.app.options.appId],D,M,z).catch(K=>Ii.error(K))}(M,z,K,J)}}catch(M){throw Yn.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ae.registerVersion)(yh,"0.10.0"),(0,ae.registerVersion)(yh,"0.10.0","esm2017")}();var Fd=U(4408),Yo=U(7565);const Vd=new class Bd extends Yo.v{}(class Ld extends Fd.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,z=0){return null!=z&&z>0||null==z&&this.delay>0?super.requestAsyncId(D,M,z):(D.flush(this),0)}});var fm=U(4986),Tl=U(9751),bh=U(8505),Cc=U(9468),Zs=U(5363);const Sl=new s.GfV("7.6.1"),Ud="__angularfire_symbol__analyticsIsSupportedValue",wh="__angularfire_symbol__analyticsIsSupported",Al="__angularfire_symbol__remoteConfigIsSupportedValue",xh="__angularfire_symbol__remoteConfigIsSupported",mm="__angularfire_symbol__messagingIsSupportedValue",Ch="__angularfire_symbol__messagingIsSupported";function Ml(x,D,M){if(D){if(1===D.length)return D[0];const J=D.filter(pe=>pe.app===M);if(1===J.length)return J[0]}return M.container.getProvider(x).getImmediate({optional:!0})}globalThis[wh]||(globalThis[wh]=gh().then(x=>globalThis[Ud]=x).catch(()=>globalThis[Ud]=!1)),globalThis[Ch]||(globalThis[Ch]=om().then(x=>globalThis[mm]=x).catch(()=>globalThis[mm]=!1)),globalThis[xh]||(globalThis[xh]=ju().then(x=>globalThis[Al]=x).catch(()=>globalThis[Al]=!1));const pm=(x,D)=>{const M=D?[D]:(0,$.C6)(),z=[];return M.forEach(K=>{K.container.getProvider(x).instances.forEach(pe=>{z.includes(pe)||z.push(pe)})}),z};function Ys(){}class Ec{constructor(D,M=Vd){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,z){const K=this.zone;return this.delegate.schedule(function(pe){K.runGuarded(()=>{D.apply(this,[pe])})},M,z)}}class mo{constructor(D){this.zone=D,this.task=null}call(D,M){const z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ys,{},Ys,Ys)),M.pipe((0,bh.b)({next:z,complete:z,error:z})).subscribe(D).add(z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Na=(()=>{class x{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Ec(Zone.current)),this.insideAngular=M.run(()=>new Ec(Zone.current,fm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(M){return new(M||x)(s.LFG(s.R0b))},x.\u0275prov=s.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Ks(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Cs(x){return Ks().ngZone.run(()=>x())}function Ih(x){return Ks(),function _m(x){return function(M){return(M=M.lift(new mo(x.ngZone))).pipe((0,Cc.R)(x.outsideAngular),(0,Zs.Q)(x.insideAngular))}}(Ks())(x)}const vm=(x,D)=>function(){const z=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Cs(()=>x.apply(void 0,z))},Xn=(x,D)=>function(){let M;const z=arguments;for(let J=0;J<arguments.length;J++)"function"==typeof z[J]&&(D&&(M||(M=Cs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ys,{},Ys,Ys)))),z[J]=vm(z[J],M));const K=function Dh(x){return Ks().ngZone.runOutsideAngular(()=>x())}(()=>x.apply(this,z));if(!D){if(K instanceof Tl.y){const J=Ks();return K.pipe((0,Cc.R)(J.outsideAngular),(0,Zs.Q)(J.insideAngular))}return Cs(()=>K)}return K instanceof Tl.y?K.pipe(Ih):K instanceof Promise?Cs(()=>new Promise((J,pe)=>K.then(Xe=>Cs(()=>J(Xe)),Xe=>Cs(()=>pe(Xe))))):"function"==typeof K&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),K.apply(this,arguments)}:Cs(()=>K)}},1389:(xt,Ae,U)=>{U.d(Ae,{$:()=>Pt,A:()=>q,D:()=>Me,I:()=>oi,J:()=>Wr,L:()=>To,N:()=>nr,P:()=>Zt,Q:()=>zu,R:()=>vc,U:()=>Hu,V:()=>ju,W:()=>Xl,X:()=>jo,Y:()=>Jl,Z:()=>$u,_:()=>ec,a:()=>vr,a0:()=>im,a1:()=>fd,a2:()=>pg,a3:()=>Zu,a4:()=>Zr,a5:()=>Yu,a6:()=>gs,a7:()=>Qi,a8:()=>_s,a9:()=>So,aA:()=>de,aB:()=>wh,aC:()=>ui,aD:()=>pr,aE:()=>bh,aF:()=>_h,aG:()=>xc,aH:()=>xn,aL:()=>Mo,aO:()=>ms,aa:()=>Qu,ab:()=>Xu,ac:()=>gg,ad:()=>Ju,ae:()=>eh,af:()=>gd,ai:()=>th,aj:()=>nh,ak:()=>rr,an:()=>nm,ao:()=>bd,aq:()=>gl,ar:()=>Aa,as:()=>At,at:()=>Tt,au:()=>Ce,av:()=>Se,aw:()=>Bt,ax:()=>Ch,ay:()=>Xt,az:()=>Te,b:()=>hc,c:()=>je,d:()=>um,e:()=>El,f:()=>yh,g:()=>Bd,h:()=>Fd,i:()=>Sd,j:()=>fm,k:()=>Fa,l:()=>xl,m:()=>Es,o:()=>La,p:()=>be,r:()=>ph,s:()=>xs,u:()=>Yr});var s=U(5861),$=U(2090),N=U(6881),ae=U(7582),ue=U(1877),ie=U(4859);const be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Qe=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new ue.Yd("@firebase/auth");function ze(w,...p){Oe.logLevel<=ue.in.ERROR&&Oe.error(`Auth (${N.SDK_VERSION}): ${w}`,...p)}function Se(w,...p){throw Be(w,...p)}function Te(w,...p){return Be(w,...p)}function Ne(w,p,v){const C=Object.assign(Object.assign({},Qe()),{[p]:v});return new $.LL("auth","Firebase",C).create(p,{appName:w.name})}function Ge(w,p,v){if(!(p instanceof v))throw v.name!==p.constructor.name&&Se(w,"argument-error"),Ne(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(w,...p){if("string"!=typeof w){const v=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=w.name),w._errorFactory.create(v,...C)}return dt.create(w,...p)}function de(w,p,...v){if(!w)throw Be(p,...v)}function rt(w){const p="INTERNAL ASSERTION FAILED: "+w;throw ze(p),new Error(p)}function At(w,p){w||rt(p)}function ut(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Kt(){return"http:"===mt()||"https:"===mt()}function mt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Dr{constructor(p,v){this.shortDelay=p,this.longDelay=v,At(v>p,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function Vo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kt()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Do(w,p){At(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return p?`${v}${p.startsWith("/")?p.slice(1):p}`:v}class he{static initialize(p,v,C){this.fetchImpl=p,v&&(this.headersImpl=v),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ye=new Dr(3e4,6e4);function se(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function ke(w,p,v,C){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,s.Z)(function*(w,p,v,C,k={}){return ht(w,k,(0,s.Z)(function*(){let F={},ee={};C&&("GET"===p?ee=C:F={body:JSON.stringify(C)});const fe=(0,$.xO)(Object.assign({key:w.config.apiKey},ee)).slice(1),Ze=yield w._getAdditionalHeaders();return Ze["Content-Type"]="application/json",w.languageCode&&(Ze["X-Firebase-Locale"]=w.languageCode),he.fetch()(cn(w,w.config.apiHost,v,fe),Object.assign({method:p,headers:Ze,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function ht(w,p,v){return ft.apply(this,arguments)}function ft(){return(ft=(0,s.Z)(function*(w,p,v){w._canInitEmulator=!1;const C=Object.assign(Object.assign({},ge),p);try{const k=new Bn(w),F=yield Promise.race([v(),k.promise]);k.clearNetworkTimeout();const ee=yield F.json();if("needConfirmation"in ee)throw yn(w,"account-exists-with-different-credential",ee);if(F.ok&&!("errorMessage"in ee))return ee;{const fe=F.ok?ee.errorMessage:ee.error.message,[Ze,et]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw yn(w,"credential-already-in-use",ee);if("EMAIL_EXISTS"===Ze)throw yn(w,"email-already-in-use",ee);if("USER_DISABLED"===Ze)throw yn(w,"user-disabled",ee);const wt=C[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(et)throw Ne(w,wt,et);Se(w,wt)}}catch(k){if(k instanceof $.ZR)throw k;Se(w,"network-request-failed",{message:String(k)})}})).apply(this,arguments)}function pn(w,p,v,C){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,s.Z)(function*(w,p,v,C,k={}){const F=yield ke(w,p,v,C,k);return"mfaPendingCredential"in F&&Se(w,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function cn(w,p,v,C){const k=`${p}${v}?${C}`;return w.config.emulator?Do(w.config,k):`${w.config.apiScheme}://${k}`}class Bn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((v,C)=>{this.timer=setTimeout(()=>C(Te(this.auth,"network-request-failed")),ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yn(w,p,v){const C={appName:w.name};v.email&&(C.email=v.email),v.phoneNumber&&(C.phoneNumber=v.phoneNumber);const k=Te(w,p,C);return k.customData._tokenResponse=v,k}function Vn(){return(Vn=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function vi(){return(vi=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ti(){return(ti=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function vt(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function li(){return(li=(0,s.Z)(function*(w,p=!1){const v=(0,$.m9)(w),C=yield v.getIdToken(p),k=hr(C);de(k&&k.exp&&k.auth_time&&k.iat,v.auth,"internal-error");const F="object"==typeof k.firebase?k.firebase:void 0,ee=F?.sign_in_provider;return{claims:k,token:C,authTime:vt(tr(k.auth_time)),issuedAtTime:vt(tr(k.iat)),expirationTime:vt(tr(k.exp)),signInProvider:ee||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function tr(w){return 1e3*Number(w)}function hr(w){const[p,v,C]=w.split(".");if(void 0===p||void 0===v||void 0===C)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,$.tV)(v);return k?JSON.parse(k):(ze("Failed to decode base64 JWT payload"),null)}catch(k){return ze("Caught error parsing JWT payload as JSON",k?.toString()),null}}function Qt(w,p){return pt.apply(this,arguments)}function pt(){return(pt=(0,s.Z)(function*(w,p,v=!1){if(v)return p;try{return yield p}catch(C){throw C instanceof $.ZR&&function Lt({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(C)&&w.auth.currentUser===w&&(yield w.auth.signOut()),C}})).apply(this,arguments)}class ci{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var v;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const k=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(p=!1){var v=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield v.iteration()}),C)}iteration(){var p=this;return(0,s.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&p.schedule(!0))}p.schedule()})()}}class qi{constructor(p,v){this.createdAt=p,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=vt(this.lastLoginAt),this.creationTime=vt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ii(w){return fr.apply(this,arguments)}function fr(){return fr=(0,s.Z)(function*(w){var p;const v=w.auth,C=yield w.getIdToken(),k=yield Qt(w,function Nr(w,p){return ti.apply(this,arguments)}(v,{idToken:C}));de(k?.users.length,v,"internal-error");const F=k.users[0];w._notifyReloadListener(F);const ee=null!==(p=F.providerUserInfo)&&void 0!==p&&p.length?function Fr(w){return w.map(p=>{var{providerId:v}=p,C=(0,ae._T)(p,["providerId"]);return{providerId:v,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(F.providerUserInfo):[],fe=function tn(w,p){return[...w.filter(C=>!p.some(k=>k.providerId===C.providerId)),...p]}(w.providerData,ee),wt=!!w.isAnonymous&&!(w.email&&F.passwordHash||fe?.length),Yt={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:fe,metadata:new qi(F.createdAt,F.lastLoginAt),isAnonymous:wt};Object.assign(w,Yt)}),fr.apply(this,arguments)}function Li(){return(Li=(0,s.Z)(function*(w){const p=(0,$.m9)(w);yield ii(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ir(){return(Ir=(0,s.Z)(function*(w,p){const v=yield ht(w,{},(0,s.Z)(function*(){const C=(0,$.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:k,apiKey:F}=w.config,ee=cn(w,k,"/v1/token",`key=${F}`),fe=yield w._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",he.fetch()(ee,{method:"POST",headers:fe,body:C})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class $t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){de(p.idToken,"internal-error"),de(typeof p.idToken<"u","internal-error"),de(typeof p.refreshToken<"u","internal-error");const v="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function gn(w){const p=hr(w);return de(p,"internal-error"),de(typeof p.exp<"u","internal-error"),de(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,v)}getToken(p,v=!1){var C=this;return(0,s.Z)(function*(){return de(!C.accessToken||C.refreshToken,p,"user-token-expired"),v||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,v){var C=this;return(0,s.Z)(function*(){const{accessToken:k,refreshToken:F,expiresIn:ee}=yield function nn(w,p){return Ir.apply(this,arguments)}(p,v);C.updateTokensAndExpiration(k,F,Number(ee))})()}updateTokensAndExpiration(p,v,C){this.refreshToken=v||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,v){const{refreshToken:C,accessToken:k,expirationTime:F}=v,ee=new $t;return C&&(de("string"==typeof C,"internal-error",{appName:p}),ee.refreshToken=C),k&&(de("string"==typeof k,"internal-error",{appName:p}),ee.accessToken=k),F&&(de("number"==typeof F,"internal-error",{appName:p}),ee.expirationTime=F),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new $t,this.toJSON())}_performRefresh(){return rt("not implemented")}}function di(w,p){de("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class qn{constructor(p){var{uid:v,auth:C,stsTokenManager:k}=p,F=(0,ae._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ci(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=C,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new qi(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(p){var v=this;return(0,s.Z)(function*(){const C=yield Qt(v,v.stsTokenManager.getToken(v.auth,p));return de(C,v.auth,"internal-error"),v.accessToken!==C&&(v.accessToken=C,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),C})()}getIdTokenResult(p){return function Io(w){return li.apply(this,arguments)}(this,p)}reload(){return function ri(w){return Li.apply(this,arguments)}(this)}_assign(p){this!==p&&(de(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(v=>Object.assign({},v)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const v=new qn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(p){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,v=!1){var C=this;return(0,s.Z)(function*(){let k=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),k=!0),v&&(yield ii(C)),yield C.auth._persistUserIfCurrent(C),k&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,s.Z)(function*(){const v=yield p.getIdToken();return yield Qt(p,function _i(w,p){return Vn.apply(this,arguments)}(p.auth,{idToken:v})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,v){var C,k,F,ee,fe,Ze,et,wt;const Yt=null!==(C=v.displayName)&&void 0!==C?C:void 0,kr=null!==(k=v.email)&&void 0!==k?k:void 0,Ds=null!==(F=v.phoneNumber)&&void 0!==F?F:void 0,Gd=null!==(ee=v.photoURL)&&void 0!==ee?ee:void 0,Mh=null!==(fe=v.tenantId)&&void 0!==fe?fe:void 0,Rl=null!==(Ze=v._redirectEventId)&&void 0!==Ze?Ze:void 0,wm=null!==(et=v.createdAt)&&void 0!==et?et:void 0,kh=null!==(wt=v.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:Wd,emailVerified:xm,isAnonymous:qd,providerData:Zd,stsTokenManager:Pl}=v;de(Wd&&Pl,p,"internal-error");const Yd=$t.fromJSON(this.name,Pl);de("string"==typeof Wd,p,"internal-error"),di(Yt,p.name),di(kr,p.name),de("boolean"==typeof xm,p,"internal-error"),de("boolean"==typeof qd,p,"internal-error"),di(Ds,p.name),di(Gd,p.name),di(Mh,p.name),di(Rl,p.name),di(wm,p.name),di(kh,p.name);const Dc=new qn({uid:Wd,auth:p,email:kr,emailVerified:xm,displayName:Yt,isAnonymous:qd,photoURL:Gd,phoneNumber:Ds,tenantId:Mh,stsTokenManager:Yd,createdAt:wm,lastLoginAt:kh});return Zd&&Array.isArray(Zd)&&(Dc.providerData=Zd.map(Rh=>Object.assign({},Rh))),Rl&&(Dc._redirectEventId=Rl),Dc}static _fromIdTokenResponse(p,v,C=!1){return(0,s.Z)(function*(){const k=new $t;k.updateFromServerResponse(v);const F=new qn({uid:v.localId,auth:p,stsTokenManager:k,isAnonymous:C});return yield ii(F),F})()}}const Zi=new Map;function ui(w){At(w instanceof Function,"Expected a class definition");let p=Zi.get(w);return p?(At(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,Zi.set(w,p),p)}const nr=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(v,C){var k=this;return(0,s.Z)(function*(){k.storage[v]=C})()}_get(v){var C=this;return(0,s.Z)(function*(){const k=C.storage[v];return void 0===k?null:k})()}_remove(v){var C=this;return(0,s.Z)(function*(){delete C.storage[v]})()}_addListener(v,C){}_removeListener(v,C){}}return w.type="NONE",w})();function pr(w,p,v){return`firebase:${w}:${p}:${v}`}class W{constructor(p,v,C){this.persistence=p,this.auth=v,this.userKey=C;const{config:k,name:F}=this.auth;this.fullUserKey=pr(this.userKey,k.apiKey,F),this.fullPersistenceKey=pr("persistence",k.apiKey,F),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const v=yield p.persistence._get(p.fullUserKey);return v?qn._fromJSON(p.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var v=this;return(0,s.Z)(function*(){if(v.persistence===p)return;const C=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=p,C?v.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,v,C="authUser"){return(0,s.Z)(function*(){if(!v.length)return new W(ui(nr),p,C);const k=(yield Promise.all(v.map(function(){var et=(0,s.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return et.apply(this,arguments)}}()))).filter(et=>et);let F=k[0]||ui(nr);const ee=pr(C,p.config.apiKey,p.name);let fe=null;for(const et of v)try{const wt=yield et._get(ee);if(wt){const Yt=qn._fromJSON(p,wt);et!==F&&(fe=Yt),F=et;break}}catch{}const Ze=k.filter(et=>et._shouldAllowMigration);return F._shouldAllowMigration&&Ze.length?(F=Ze[0],fe&&(yield F._set(ee,fe.toJSON())),yield Promise.all(v.map(function(){var et=(0,s.Z)(function*(wt){if(wt!==F)try{yield wt._remove(ee)}catch{}});return function(wt){return et.apply(this,arguments)}}())),new W(F,p,C)):new W(F,p,C)})()}}function G(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Q(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(B(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ot(p))return"Blackberry";if(Mt(p))return"Webos";if(V(p))return"Safari";if((p.includes("chrome/")||O(p))&&!p.includes("edge/"))return"Chrome";if(Ce(p))return"Android";{const C=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function B(w=(0,$.z$)()){return/firefox\//i.test(w)}function V(w=(0,$.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function O(w=(0,$.z$)()){return/crios\//i.test(w)}function Q(w=(0,$.z$)()){return/iemobile/i.test(w)}function Ce(w=(0,$.z$)()){return/android/i.test(w)}function ot(w=(0,$.z$)()){return/blackberry/i.test(w)}function Mt(w=(0,$.z$)()){return/webos/i.test(w)}function Tt(w=(0,$.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Xt(w=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Gt(w=(0,$.z$)()){return Tt(w)||Ce(w)||Mt(w)||ot(w)||/windows phone/i.test(w)||Q(w)}function Uo(w,p=[]){let v;switch(w){case"Browser":v=G((0,$.z$)());break;case"Worker":v=`${G((0,$.z$)())}-${w}`;break;default:v=w}const C=p.length?p.join(","):"FirebaseCore-web";return`${v}/JsCore/${N.SDK_VERSION}/${C}`}function le(){return(le=(0,s.Z)(function*(w){return(yield ke(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ve(w,p){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*(w,p){return ke(w,"GET","/v2/recaptchaConfig",se(w,p))})).apply(this,arguments)}function kt(w){return void 0!==w&&void 0!==w.getResponse}function rn(w){return void 0!==w&&void 0!==w.enterprise}class Ct{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function un(w){return new Promise((p,v)=>{const C=document.createElement("script");C.setAttribute("src",w),C.onload=p,C.onerror=k=>{const F=Te("internal-error");F.customData=k,v(F)},C.type="text/javascript",C.charset="UTF-8",function wn(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(C)})}function ir(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Kf="NO_RECAPTCHA";class ls{constructor(p){this.type="recaptcha-enterprise",this.auth=xn(p)}verify(p="verify",v=!1){var C=this;return(0,s.Z)(function*(){function F(){return F=(0,s.Z)(function*(fe){if(!v){if(null==fe.tenantId&&null!=fe._agentRecaptchaConfig)return fe._agentRecaptchaConfig.siteKey;if(null!=fe.tenantId&&void 0!==fe._tenantRecaptchaConfigs[fe.tenantId])return fe._tenantRecaptchaConfigs[fe.tenantId].siteKey}return new Promise(function(){var Ze=(0,s.Z)(function*(et,wt){Ve(fe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Yt=>{if(void 0!==Yt.recaptchaKey){const kr=new Ct(Yt);return null==fe.tenantId?fe._agentRecaptchaConfig=kr:fe._tenantRecaptchaConfigs[fe.tenantId]=kr,et(kr.siteKey)}wt(new Error("recaptcha Enterprise site key undefined"))}).catch(Yt=>{wt(Yt)})});return function(et,wt){return Ze.apply(this,arguments)}}())}),F.apply(this,arguments)}function ee(fe,Ze,et){const wt=window.grecaptcha;rn(wt)?wt.enterprise.ready(()=>{wt.enterprise.execute(fe,{action:p}).then(Yt=>{Ze(Yt)}).catch(()=>{Ze(Kf)})}):et(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((fe,Ze)=>{(function k(fe){return F.apply(this,arguments)})(C.auth).then(et=>{if(!v&&rn(window.grecaptcha))ee(et,fe,Ze);else{if(typeof window>"u")return void Ze(new Error("RecaptchaVerifier is only supported in browser"));un("https://www.google.com/recaptcha/enterprise.js?render="+et).then(()=>{ee(et,fe,Ze)}).catch(wt=>{Ze(wt)})}}).catch(et=>{Ze(et)})})})()}}function Ui(w,p,v){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*(w,p,v,C=!1){const k=new ls(w);let F;try{F=yield k.verify(v)}catch{F=yield k.verify(v,!0)}const ee=Object.assign({},p);return Object.assign(ee,C?{captchaResp:F}:{captchaResponse:F}),Object.assign(ee,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ee,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ee})).apply(this,arguments)}class Jt{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,v){const C=F=>new Promise((ee,fe)=>{try{ee(p(F))}catch(Ze){fe(Ze)}});C.onAbort=v,this.queue.push(C);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(p){var v=this;return(0,s.Z)(function*(){if(v.auth.currentUser===p)return;const C=[];try{for(const k of v.queue)yield k(p),k.onAbort&&C.push(k.onAbort)}catch(k){C.reverse();for(const F of C)try{F()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:k?.message})}})()}}class Un{constructor(p,v,C,k){this.app=p,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=C,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cs(this),this.idTokenSubscription=new cs(this),this.beforeStateQueue=new Jt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(p,v){var C=this;return v&&(this._popupRedirectResolver=ui(v)),this._initializationPromise=this.queue((0,s.Z)(function*(){var k,F;if(!C._deleted&&(C.persistenceManager=yield W.create(C,p),!C._deleted)){if(null!==(k=C._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(v),C.lastNotifiedUid=(null===(F=C.currentUser)||void 0===F?void 0:F.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const v=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||v){if(p.currentUser&&v&&p.currentUser.uid===v.uid)return p._currentUser._assign(v),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(v,!0)}})()}initializeCurrentUser(p){var v=this;return(0,s.Z)(function*(){var C;const k=yield v.assertedPersistence.getCurrentUser();let F=k,ee=!1;if(p&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const fe=null===(C=v.redirectUser)||void 0===C?void 0:C._redirectEventId,Ze=F?._redirectEventId,et=yield v.tryRedirectSignIn(p);(!fe||fe===Ze)&&et?.user&&(F=et.user,ee=!0)}if(!F)return v.directlySetCurrentUser(null);if(!F._redirectEventId){if(ee)try{yield v.beforeStateQueue.runMiddleware(F)}catch(fe){F=k,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(fe))}return F?v.reloadAndSetCurrentUserOrClear(F):v.directlySetCurrentUser(null)}return de(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===F._redirectEventId?v.directlySetCurrentUser(F):v.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(p){var v=this;return(0,s.Z)(function*(){let C=null;try{C=yield v._popupRedirectResolver._completeRedirectFn(v,p,!0)}catch{yield v._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var v=this;return(0,s.Z)(function*(){try{yield ii(p)}catch(C){if("auth/network-request-failed"!==C?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Fi(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var v=this;return(0,s.Z)(function*(){const C=p?(0,$.m9)(p):null;return C&&de(C.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(C&&C._clone(v))})()}_updateCurrentUser(p,v=!1){var C=this;return(0,s.Z)(function*(){if(!C._deleted)return p&&de(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),v||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,s.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var v=this;return this.queue((0,s.Z)(function*(){yield v.assertedPersistence.setPersistence(ui(p))}))}initializeRecaptchaConfig(){var p=this;return(0,s.Z)(function*(){const v=yield Ve(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new Ct(v);null==p.tenantId?p._agentRecaptchaConfig=C:p._tenantRecaptchaConfigs[p.tenantId]=C,C.emailPasswordEnabled&&new ls(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new $.LL("auth","Firebase",p())}onAuthStateChanged(p,v,C){return this.registerStateListener(this.authStateSubscription,p,v,C)}beforeAuthStateChanged(p,v){return this.beforeStateQueue.pushCallback(p,v)}onIdTokenChanged(p,v,C){return this.registerStateListener(this.idTokenSubscription,p,v,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,v){var C=this;return(0,s.Z)(function*(){const k=yield C.getOrInitRedirectPersistenceManager(v);return null===p?k.removeCurrentUser():k.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var v=this;return(0,s.Z)(function*(){if(!v.redirectPersistenceManager){const C=p&&ui(p)||v._popupRedirectResolver;de(C,v,"argument-error"),v.redirectPersistenceManager=yield W.create(v,[ui(C._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(p){var v=this;return(0,s.Z)(function*(){var C,k;return v._isInitialized&&(yield v.queue((0,s.Z)(function*(){}))),(null===(C=v._currentUser)||void 0===C?void 0:C._redirectEventId)===p?v._currentUser:(null===(k=v.redirectUser)||void 0===k?void 0:k._redirectEventId)===p?v.redirectUser:null})()}_persistUserIfCurrent(p){var v=this;return(0,s.Z)(function*(){if(p===v.currentUser)return v.queue((0,s.Z)(function*(){return v.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(v=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,v,C,k){if(this._deleted)return()=>{};const F="function"==typeof v?v:v.next.bind(v),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return de(ee,this,"internal-error"),ee.then(()=>F(this.currentUser)),"function"==typeof v?p.addObserver(v,C,k):p.addObserver(v)}directlySetCurrentUser(p){var v=this;return(0,s.Z)(function*(){v.currentUser&&v.currentUser!==p&&v._currentUser._stopProactiveRefresh(),p&&v.isProactiveRefreshEnabled&&p._startProactiveRefresh(),v.currentUser=p,p?yield v.assertedPersistence.setCurrentUser(p):yield v.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Uo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var v;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const k=yield null===(v=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();k&&(C["X-Firebase-Client"]=k);const F=yield p._getAppCheckToken();return F&&(C["X-Firebase-AppCheck"]=F),C})()}_getAppCheckToken(){var p=this;return(0,s.Z)(function*(){var v;const C=yield null===(v=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return C?.error&&function Fe(w,...p){Oe.logLevel<=ue.in.WARN&&Oe.warn(`Auth (${N.SDK_VERSION}): ${w}`,...p)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function xn(w){return(0,$.m9)(w)}class cs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,$.ne)(v=>this.observer=v)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function oi(w,p,v){const C=xn(w);de(C._canInitEmulator,C,"emulator-config-failed"),de(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const k=!!v?.disableWarnings,F=ol(p),{host:ee,port:fe}=function Hi(w){const p=ol(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!v)return{host:"",port:null};const C=v[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(C);if(k){const F=k[1];return{host:F,port:qt(C.substr(F.length+1))}}{const[F,ee]=C.split(":");return{host:F,port:qt(ee)}}}(p);C.config.emulator={url:`${F}//${ee}${null===fe?"":`:${fe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ee,port:fe,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function Kl(){function w(){const p=document.createElement("p"),v=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function ol(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function qt(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class Wr{constructor(p,v){this.providerId=p,this.signInMethod=v}toJSON(){return rt("not implemented")}_getIdTokenResponse(p){return rt("not implemented")}_linkToIdToken(p,v){return rt("not implemented")}_getReauthenticationResolver(p){return rt("not implemented")}}function ga(w,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:resetPassword",se(w,p))})).apply(this,arguments)}function Ci(w,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Lr(){return(Lr=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:update",se(w,p))})).apply(this,arguments)}function Os(w,p){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,s.Z)(function*(w,p){return pn(w,"POST","/v1/accounts:signInWithPassword",se(w,p))})).apply(this,arguments)}function An(w,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:sendOobCode",se(w,p))})).apply(this,arguments)}function sl(){return(sl=(0,s.Z)(function*(w,p){return An(w,p)})).apply(this,arguments)}function _a(w,p){return ds.apply(this,arguments)}function ds(){return(ds=(0,s.Z)(function*(w,p){return An(w,p)})).apply(this,arguments)}function Br(w,p){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,s.Z)(function*(w,p){return An(w,p)})).apply(this,arguments)}function gr(){return(gr=(0,s.Z)(function*(w,p){return An(w,p)})).apply(this,arguments)}function Ns(){return(Ns=(0,s.Z)(function*(w,p){return pn(w,"POST","/v1/accounts:signInWithEmailLink",se(w,p))})).apply(this,arguments)}function al(){return(al=(0,s.Z)(function*(w,p){return pn(w,"POST","/v1/accounts:signInWithEmailLink",se(w,p))})).apply(this,arguments)}class Tr extends Wr{constructor(p,v,C,k=null){super("password",C),this._email=p,this._password=v,this._tenantId=k}static _fromEmailAndPassword(p,v){return new Tr(p,v,"password")}static _fromEmailAndCode(p,v,C=null){return new Tr(p,v,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(p){var v=this;return(0,s.Z)(function*(){var C;switch(v.signInMethod){case"password":const k={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=p._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const F=yield Ui(p,k,"signInWithPassword");return Os(p,F)}return Os(p,k).catch(function(){var F=(0,s.Z)(function*(ee){if("auth/missing-recaptcha-token"===ee.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const fe=yield Ui(p,k,"signInWithPassword");return Os(p,fe)}return Promise.reject(ee)});return function(ee){return F.apply(this,arguments)}}());case"emailLink":return function uo(w,p){return Ns.apply(this,arguments)}(p,{email:v._email,oobCode:v._password});default:Se(p,"internal-error")}})()}_linkToIdToken(p,v){var C=this;return(0,s.Z)(function*(){switch(C.signInMethod){case"password":return Ci(p,{idToken:v,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Ql(w,p){return al.apply(this,arguments)}(p,{idToken:v,email:C._email,oobCode:C._password});default:Se(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function us(w,p){return ll.apply(this,arguments)}function ll(){return(ll=(0,s.Z)(function*(w,p){return pn(w,"POST","/v1/accounts:signInWithIdp",se(w,p))})).apply(this,arguments)}class To extends Wr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const v=new To(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(v.idToken=p.idToken),p.accessToken&&(v.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(v.nonce=p.nonce),p.pendingToken&&(v.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(v.accessToken=p.oauthToken,v.secret=p.oauthTokenSecret):Se("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:k}=v,F=(0,ae._T)(v,["providerId","signInMethod"]);if(!C||!k)return null;const ee=new To(C,k);return ee.idToken=F.idToken||void 0,ee.accessToken=F.accessToken||void 0,ee.secret=F.secret,ee.nonce=F.nonce,ee.pendingToken=F.pendingToken||null,ee}_getIdTokenResponse(p){return us(p,this.buildRequest())}_linkToIdToken(p,v){const C=this.buildRequest();return C.idToken=v,us(p,C)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,us(p,v)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),p.postBody=(0,$.xO)(v)}return p}}function Fu(){return(Fu=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:sendVerificationCode",se(w,p))})).apply(this,arguments)}function Lu(){return(Lu=(0,s.Z)(function*(w,p){return pn(w,"POST","/v1/accounts:signInWithPhoneNumber",se(w,p))})).apply(this,arguments)}function Bu(){return(Bu=(0,s.Z)(function*(w,p){const v=yield pn(w,"POST","/v1/accounts:signInWithPhoneNumber",se(w,p));if(v.temporaryProof)throw yn(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Vu={USER_NOT_FOUND:"user-not-found"};function Xf(){return(Xf=(0,s.Z)(function*(w,p){return pn(w,"POST","/v1/accounts:signInWithPhoneNumber",se(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Vu)})).apply(this,arguments)}class hs extends Wr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,v){return new hs({verificationId:p,verificationCode:v})}static _fromTokenResponse(p,v){return new hs({phoneNumber:p,temporaryProof:v})}_getIdTokenResponse(p){return function Qf(w,p){return Lu.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,v){return function mg(w,p){return Bu.apply(this,arguments)}(p,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Uu(w,p){return Xf.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:v,verificationId:C,verificationCode:k}=this.params;return p&&v?{temporaryProof:p,phoneNumber:v}:{sessionInfo:C,code:k}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:v,verificationCode:C,phoneNumber:k,temporaryProof:F}=p;return C||v||k||F?new hs({verificationId:v,verificationCode:C,phoneNumber:k,temporaryProof:F}):null}}class va{constructor(p){var v,C,k,F,ee,fe;const Ze=(0,$.zd)((0,$.pd)(p)),et=null!==(v=Ze.apiKey)&&void 0!==v?v:null,wt=null!==(C=Ze.oobCode)&&void 0!==C?C:null,Yt=function Nn(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=Ze.mode)&&void 0!==k?k:null);de(et&&wt&&Yt,"argument-error"),this.apiKey=et,this.operation=Yt,this.code=wt,this.continueUrl=null!==(F=Ze.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(ee=Ze.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(fe=Ze.tenantId)&&void 0!==fe?fe:null}static parseLink(p){const v=function Jf(w){const p=(0,$.zd)((0,$.pd)(w)).link,v=p?(0,$.zd)((0,$.pd)(p)).deep_link_id:null,C=(0,$.zd)((0,$.pd)(w)).deep_link_id;return(C?(0,$.zd)((0,$.pd)(C)).link:null)||C||v||p||w}(p);try{return new va(v)}catch{return null}}}let zu=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,C){return Tr._fromEmailAndPassword(v,C)}static credentialWithLink(v,C){const k=va.parseLink(C);return de(k,"argument-error"),Tr._fromEmailAndCode(v,k.code,k.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class fs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ya extends fs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class jo extends ya{static credentialFromJSON(p){const v="string"==typeof p?JSON.parse(p):p;return de("providerId"in v&&"signInMethod"in v,"argument-error"),To._fromParams(v)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return de(p.idToken||p.accessToken,"argument-error"),To._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return jo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return jo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:C,oauthTokenSecret:k,pendingToken:F,nonce:ee,providerId:fe}=p;if(!C&&!k&&!v&&!F||!fe)return null;try{return new jo(fe)._credential({idToken:v,accessToken:C,nonce:ee,pendingToken:F})}catch{return null}}}let Hu=(()=>{class w extends ya{constructor(){super("facebook.com")}static credential(v){return To._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),ju=(()=>{class w extends ya{constructor(){super("google.com"),this.addScope("profile")}static credential(v,C){return To._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:C})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:C,oauthAccessToken:k}=v;if(!C&&!k)return null;try{return w.credential(C,k)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Xl=(()=>{class w extends ya{constructor(){super("github.com")}static credential(v){return To._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class ms extends Wr{constructor(p,v){super(p,p),this.pendingToken=v}_getIdTokenResponse(p){return us(p,this.buildRequest())}_linkToIdToken(p,v){const C=this.buildRequest();return C.idToken=v,us(p,C)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,us(p,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:k,pendingToken:F}=v;return C&&k&&F&&C===k?new ms(C,F):null}static _create(p,v){return new ms(p,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Jl extends fs{constructor(p){de(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Jl.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Jl.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const v=ms.fromJSON(p);return de(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:v,providerId:C}=p;if(!v||!C)return null;try{return ms._create(C,v)}catch{return null}}}let $u=(()=>{class w extends ya{constructor(){super("twitter.com")}static credential(v,C){return To._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:C})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:C,oauthTokenSecret:k}=v;if(!C||!k)return null;try{return w.credential(C,k)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function ba(w,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,s.Z)(function*(w,p){return pn(w,"POST","/v1/accounts:signUp",se(w,p))})).apply(this,arguments)}class Zn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,v,C,k=!1){return(0,s.Z)(function*(){const F=yield qn._fromIdTokenResponse(p,C,k),ee=cl(C);return new Zn({user:F,providerId:ee,_tokenResponse:C,operationType:v})})()}static _forOperation(p,v,C){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const k=cl(C);return new Zn({user:p,providerId:k,_tokenResponse:C,operationType:v})})()}}function cl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function ec(w){return Di.apply(this,arguments)}function Di(){return(Di=(0,s.Z)(function*(w){var p;const v=xn(w);if(yield v._initializationPromise,null!==(p=v.currentUser)&&void 0!==p&&p.isAnonymous)return new Zn({user:v.currentUser,providerId:null,operationType:"signIn"});const C=yield ba(v,{returnSecureToken:!0}),k=yield Zn._fromIdTokenResponse(v,"signIn",C,!0);return yield v._updateCurrentUser(k.user),k})).apply(this,arguments)}class Ls extends $.ZR{constructor(p,v,C,k){var F;super(v.code,v.message),this.operationType=C,this.user=k,Object.setPrototypeOf(this,Ls.prototype),this.customData={appName:p.name,tenantId:null!==(F=p.tenantId)&&void 0!==F?F:void 0,_serverResponse:v.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,v,C,k){return new Ls(p,v,C,k)}}function Bs(w,p,v,C){return("reauthenticate"===p?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Ls._fromErrorAndOperation(w,F,p,C):F})}function Ki(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function nm(w,p){return tc.apply(this,arguments)}function tc(){return tc=(0,s.Z)(function*(w,p){const v=(0,$.m9)(w);yield dl(!0,v,p);const{providerUserInfo:C}=yield function Wn(w,p){return vi.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[p]}),k=Ki(C||[]);return v.providerData=v.providerData.filter(F=>k.has(F.providerId)),k.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),tc.apply(this,arguments)}function _r(w,p){return ji.apply(this,arguments)}function ji(){return(ji=(0,s.Z)(function*(w,p,v=!1){const C=yield Qt(w,p._linkToIdToken(w.auth,yield w.getIdToken()),v);return Zn._forOperation(w,"link",C)})).apply(this,arguments)}function dl(w,p,v){return ps.apply(this,arguments)}function ps(){return(ps=(0,s.Z)(function*(w,p,v){yield ii(p);const k=!1===w?"provider-already-linked":"no-such-provider";de(Ki(p.providerData).has(v)===w,p.auth,k)})).apply(this,arguments)}function Gu(w,p){return $o.apply(this,arguments)}function $o(){return($o=(0,s.Z)(function*(w,p,v=!1){const{auth:C}=w,k="reauthenticate";try{const F=yield Qt(w,Bs(C,k,p,w),v);de(F.idToken,C,"internal-error");const ee=hr(F.idToken);de(ee,C,"internal-error");const{sub:fe}=ee;return de(w.uid===fe,C,"user-mismatch"),Zn._forOperation(w,k,F)}catch(F){throw"auth/user-not-found"===F?.code&&Se(C,"user-mismatch"),F}})).apply(this,arguments)}function ul(w,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,s.Z)(function*(w,p,v=!1){const C="signIn",k=yield Bs(w,C,p),F=yield Zn._fromIdTokenResponse(w,C,k);return v||(yield w._updateCurrentUser(F.user)),F})).apply(this,arguments)}function Pt(w,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,s.Z)(function*(w,p){return ul(xn(w),p)})).apply(this,arguments)}function im(w,p){return hd.apply(this,arguments)}function hd(){return(hd=(0,s.Z)(function*(w,p){const v=(0,$.m9)(w);return yield dl(!1,v,p.providerId),_r(v,p)})).apply(this,arguments)}function fd(w,p){return md.apply(this,arguments)}function md(){return(md=(0,s.Z)(function*(w,p){return Gu((0,$.m9)(w),p)})).apply(this,arguments)}function qu(){return(qu=(0,s.Z)(function*(w,p){return pn(w,"POST","/v1/accounts:signInWithCustomToken",se(w,p))})).apply(this,arguments)}function pg(w,p){return ve.apply(this,arguments)}function ve(){return ve=(0,s.Z)(function*(w,p){const v=xn(w),C=yield function Wu(w,p){return qu.apply(this,arguments)}(v,{token:p,returnSecureToken:!0}),k=yield Zn._fromIdTokenResponse(v,"signIn",C);return yield v._updateCurrentUser(k.user),k}),ve.apply(this,arguments)}class Ut{constructor(p,v){this.factorId=p,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(p,v){return"phoneInfo"in v?pd._fromServerResponse(p,v):"totpInfo"in v?hl._fromServerResponse(p,v):Se(p,"internal-error")}}class pd extends Ut{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,v){return new pd(v)}}class hl extends Ut{constructor(p){super("totp",p)}static _fromServerResponse(p,v){return new hl(v)}}function hi(w,p,v){var C;de((null===(C=v.url)||void 0===C?void 0:C.length)>0,w,"invalid-continue-uri"),de(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=v.url,p.dynamicLinkDomain=v.dynamicLinkDomain,p.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(de(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=v.iOS.bundleId),v.android&&(de(v.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=v.android.installApp,p.androidMinimumVersionCode=v.android.minimumVersion,p.androidPackageName=v.android.packageName)}function Zu(w,p,v){return xa.apply(this,arguments)}function xa(){return xa=(0,s.Z)(function*(w,p,v){var C;const k=xn(w),F={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=k._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ee=yield Ui(k,F,"getOobCode",!0);v&&hi(k,ee,v),yield _a(k,ee)}else v&&hi(k,F,v),yield _a(k,F).catch(function(){var ee=(0,s.Z)(function*(fe){if("auth/missing-recaptcha-token"!==fe.code)return Promise.reject(fe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ze=yield Ui(k,F,"getOobCode",!0);v&&hi(k,Ze,v),yield _a(k,Ze)}});return function(fe){return ee.apply(this,arguments)}}())}),xa.apply(this,arguments)}function Zr(w,p,v){return ic.apply(this,arguments)}function ic(){return(ic=(0,s.Z)(function*(w,p,v){yield ga((0,$.m9)(w),{oobCode:p,newPassword:v})})).apply(this,arguments)}function Yu(w,p){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,s.Z)(function*(w,p){yield function Ps(w,p){return Lr.apply(this,arguments)}((0,$.m9)(w),{oobCode:p})}),Ku.apply(this,arguments)}function gs(w,p){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,s.Z)(function*(w,p){const v=(0,$.m9)(w),C=yield ga(v,{oobCode:p}),k=C.requestType;switch(de(k,v,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(C.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(C.mfaInfo,v,"internal-error");default:de(C.email,v,"internal-error")}let F=null;return C.mfaInfo&&(F=Ut._fromServerResponse(xn(v),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:F},operation:k}})).apply(this,arguments)}function Qi(w,p){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,s.Z)(function*(w,p){const{data:v}=yield gs((0,$.m9)(w),p);return v.email})).apply(this,arguments)}function _s(w,p,v){return Go.apply(this,arguments)}function Go(){return Go=(0,s.Z)(function*(w,p,v){var C;const k=xn(w),F={returnSecureToken:!0,email:p,password:v,clientType:"CLIENT_TYPE_WEB"};let ee;if(null!==(C=k._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const et=yield Ui(k,F,"signUpPassword");ee=ba(k,et)}else ee=ba(k,F).catch(function(){var et=(0,s.Z)(function*(wt){if("auth/missing-recaptcha-token"===wt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Yt=yield Ui(k,F,"signUpPassword");return ba(k,Yt)}return Promise.reject(wt)});return function(wt){return et.apply(this,arguments)}}());const fe=yield ee.catch(et=>Promise.reject(et)),Ze=yield Zn._fromIdTokenResponse(k,"signIn",fe);return yield k._updateCurrentUser(Ze.user),Ze}),Go.apply(this,arguments)}function So(w,p,v){return Pt((0,$.m9)(w),zu.credential(p,v))}function Qu(w,p,v){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,s.Z)(function*(w,p,v){var C;const k=xn(w),F={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function ee(fe,Ze){de(Ze.handleCodeInApp,k,"argument-error"),Ze&&hi(k,fe,Ze)}if(null!==(C=k._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const fe=yield Ui(k,F,"getOobCode",!0);ee(fe,v),yield Br(k,fe)}else ee(F,v),yield Br(k,F).catch(function(){var fe=(0,s.Z)(function*(Ze){if("auth/missing-recaptcha-token"!==Ze.code)return Promise.reject(Ze);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const et=yield Ui(k,F,"getOobCode",!0);ee(et,v),yield Br(k,et)}});return function(Ze){return fe.apply(this,arguments)}}())}),Vs.apply(this,arguments)}function Xu(w,p){return"EMAIL_SIGNIN"===va.parseLink(p)?.operation}function gg(w,p,v){return fi.apply(this,arguments)}function fi(){return(fi=(0,s.Z)(function*(w,p,v){const C=(0,$.m9)(w),k=zu.credentialWithLink(p,v||ut());return de(k._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Pt(C,k)})).apply(this,arguments)}function fl(){return(fl=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:createAuthUri",se(w,p))})).apply(this,arguments)}function Ju(w,p){return oc.apply(this,arguments)}function oc(){return oc=(0,s.Z)(function*(w,p){const C={identifier:p,continueUri:Kt()?ut():"http://localhost"},{signinMethods:k}=yield function rc(w,p){return fl.apply(this,arguments)}((0,$.m9)(w),C);return k||[]}),oc.apply(this,arguments)}function eh(w,p){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,s.Z)(function*(w,p){const v=(0,$.m9)(w),k={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&hi(v.auth,k,p);const{email:F}=yield function dd(w,p){return sl.apply(this,arguments)}(v.auth,k);F!==w.email&&(yield w.reload())}),Ea.apply(this,arguments)}function gd(w,p,v){return ml.apply(this,arguments)}function ml(){return ml=(0,s.Z)(function*(w,p,v){const C=(0,$.m9)(w),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};v&&hi(C.auth,F,v);const{email:ee}=yield function Nu(w,p){return gr.apply(this,arguments)}(C.auth,F);ee!==w.email&&(yield w.reload())}),ml.apply(this,arguments)}function sc(){return(sc=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function th(w,p){return vd.apply(this,arguments)}function vd(){return vd=(0,s.Z)(function*(w,{displayName:p,photoURL:v}){if(void 0===p&&void 0===v)return;const C=(0,$.m9)(w),F={idToken:yield C.getIdToken(),displayName:p,photoUrl:v,returnSecureToken:!0},ee=yield Qt(C,function _d(w,p){return sc.apply(this,arguments)}(C.auth,F));C.displayName=ee.displayName||null,C.photoURL=ee.photoUrl||null;const fe=C.providerData.find(({providerId:Ze})=>"password"===Ze);fe&&(fe.displayName=C.displayName,fe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ee)}),vd.apply(this,arguments)}function nh(w,p){return Ao((0,$.m9)(w),p,null)}function rr(w,p){return Ao((0,$.m9)(w),null,p)}function Ao(w,p,v){return zn.apply(this,arguments)}function zn(){return(zn=(0,s.Z)(function*(w,p,v){const{auth:C}=w,F={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(F.email=p),v&&(F.password=v);const ee=yield Qt(w,Ci(C,F));yield w._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class Da{constructor(p,v,C={}){this.isNewUser=p,this.providerId=v,this.profile=C}}class ac extends Da{constructor(p,v,C,k){super(p,v,C),this.username=k}}class _g extends Da{constructor(p,v){super(p,"facebook.com",v)}}class ih extends ac{constructor(p,v){super(p,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class vg extends Da{constructor(p,v){super(p,"google.com",v)}}class lc extends ac{constructor(p,v,C){super(p,"twitter.com",v,C)}}function bd(w){const{user:p,_tokenResponse:v}=w;return p.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function yd(w){var p,v;if(!w)return null;const{providerId:C}=w,k=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},F=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!C&&w?.idToken){const ee=null===(v=null===(p=hr(w.idToken))||void 0===p?void 0:p.firebase)||void 0===v?void 0:v.sign_in_provider;if(ee)return new Da(F,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!C)return null;switch(C){case"facebook.com":return new _g(F,k);case"github.com":return new ih(F,k);case"google.com":return new vg(F,k);case"twitter.com":return new lc(F,k,w.screenName||null);case"custom":case"anonymous":return new Da(F,null);default:return new Da(F,C,k)}}(v)}class qo{constructor(p,v,C){this.type=p,this.credential=v,this.auth=C}static _fromIdtoken(p,v){return new qo("enroll",p,v)}static _fromMfaPendingCredential(p){return new qo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var v,C;if(p?.multiFactorSession){if(null!==(v=p.multiFactorSession)&&void 0!==v&&v.pendingCredential)return qo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return qo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class wd{constructor(p,v,C){this.session=p,this.hints=v,this.signInResolver=C}static _fromError(p,v){const C=xn(p),k=v.customData._serverResponse,F=(k.mfaInfo||[]).map(fe=>Ut._fromServerResponse(C,fe));de(k.mfaPendingCredential,C,"internal-error");const ee=qo._fromMfaPendingCredential(k.mfaPendingCredential);return new wd(ee,F,function(){var fe=(0,s.Z)(function*(Ze){const et=yield Ze._process(C,ee);delete k.mfaInfo,delete k.mfaPendingCredential;const wt=Object.assign(Object.assign({},k),{idToken:et.idToken,refreshToken:et.refreshToken});switch(v.operationType){case"signIn":const Yt=yield Zn._fromIdTokenResponse(C,v.operationType,wt);return yield C._updateCurrentUser(Yt.user),Yt;case"reauthenticate":return de(v.user,C,"internal-error"),Zn._forOperation(v.user,v.operationType,wt);default:Se(C,"internal-error")}});return function(Ze){return fe.apply(this,arguments)}}())}resolveSignIn(p){var v=this;return(0,s.Z)(function*(){return v.signInResolver(p)})()}}function gl(w,p){var v;const C=(0,$.m9)(w),k=p;return de(p.customData.operationType,C,"argument-error"),de(null===(v=k.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,C,"argument-error"),wd._fromError(C,k)}class Sa{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(C=>Ut._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Sa(p)}getSession(){var p=this;return(0,s.Z)(function*(){return qo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,v){var C=this;return(0,s.Z)(function*(){const k=p,F=yield C.getSession(),ee=yield Qt(C.user,k._process(C.user.auth,F,v));return yield C.user._updateTokensIfNecessary(ee),C.user.reload()})()}unenroll(p){var v=this;return(0,s.Z)(function*(){const C="string"==typeof p?p:p.uid,k=yield v.user.getIdToken();try{const F=yield Qt(v.user,function Us(w,p){return ke(w,"POST","/v2/accounts/mfaEnrollment:withdraw",se(w,p))}(v.user.auth,{idToken:k,mfaEnrollmentId:C}));v.enrolledFactors=v.enrolledFactors.filter(({uid:ee})=>ee!==C),yield v.user._updateTokensIfNecessary(F),yield v.user.reload()}catch(F){throw F}})()}}const zs=new WeakMap;function Aa(w){const p=(0,$.m9)(w);return zs.has(p)||zs.set(p,Sa._fromUser(p)),zs.get(p)}const _l="__sak";class vl{constructor(p,v){this.storageRetriever=p,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(_l,"1"),this.storage.removeItem(_l),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,v){return this.storage.setItem(p,JSON.stringify(v)),Promise.resolve()}_get(p){const v=this.storage.getItem(p);return Promise.resolve(v?JSON.parse(v):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const hc=(()=>{class w extends vl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,C)=>this.onStorageEvent(v,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xd(){const w=(0,$.z$)();return V(w)||Tt(w)}()&&function Bi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Gt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const C of Object.keys(this.listeners)){const k=this.storage.getItem(C),F=this.localCache[C];k!==F&&v(C,F,k)}}onStorageEvent(v,C=!1){if(!v.key)return void this.forAllChangedKeys((fe,Ze,et)=>{this.notifyListeners(fe,et)});const k=v.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(k);if(v.newValue!==fe)null!==v.newValue?this.storage.setItem(k,v.newValue):this.storage.removeItem(k);else if(this.localCache[k]===v.newValue&&!C)return}const F=()=>{const fe=this.storage.getItem(k);!C&&this.localCache[k]===fe||this.notifyListeners(k,fe)},ee=this.storage.getItem(k);!function Rn(){return(0,$.w1)()&&10===document.documentMode}()||ee===v.newValue||v.newValue===v.oldValue?F():setTimeout(F,10)}notifyListeners(v,C){this.localCache[v]=C;const k=this.listeners[v];if(k)for(const F of Array.from(k))F(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,C,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:C,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,C){var k=()=>super._set,F=this;return(0,s.Z)(function*(){yield k().call(F,v,C),F.localCache[v]=JSON.stringify(C)})()}_get(v){var C=()=>super._get,k=this;return(0,s.Z)(function*(){const F=yield C().call(k,v);return k.localCache[v]=JSON.stringify(F),F})()}_remove(v){var C=()=>super._remove,k=this;return(0,s.Z)(function*(){yield C().call(k,v),delete k.localCache[v]})()}}return w.type="LOCAL",w})(),vr=(()=>{class w extends vl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,C){}_removeListener(v,C){}}return w.type="SESSION",w})();let Dd=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const C=this.receivers.find(F=>F.isListeningto(v));if(C)return C;const k=new w(v);return this.receivers.push(k),k}isListeningto(v){return this.eventTarget===v}handleEvent(v){var C=this;return(0,s.Z)(function*(){const k=v,{eventId:F,eventType:ee,data:fe}=k.data,Ze=C.handlersMap[ee];if(!Ze?.size)return;k.ports[0].postMessage({status:"ack",eventId:F,eventType:ee});const et=Array.from(Ze).map(function(){var Yt=(0,s.Z)(function*(kr){return kr(k.origin,fe)});return function(kr){return Yt.apply(this,arguments)}}()),wt=yield function lh(w){return Promise.all(w.map(function(){var p=(0,s.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(C){return{fulfilled:!1,reason:C}}});return function(v){return p.apply(this,arguments)}}()))}(et);k.ports[0].postMessage({status:"done",eventId:F,eventType:ee,response:wt})})()}_subscribe(v,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(C)}_unsubscribe(v,C){this.handlersMap[v]&&C&&this.handlersMap[v].delete(C),(!C||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Mo(w="",p=10){let v="";for(let C=0;C<p;C++)v+=Math.floor(10*Math.random());return w+v}class ch{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,v,C=50){var k=this;return(0,s.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let ee,fe;return new Promise((Ze,et)=>{const wt=Mo("",20);F.port1.start();const Yt=setTimeout(()=>{et(new Error("unsupported_event"))},C);fe={messageChannel:F,onMessage(kr){const Ds=kr;if(Ds.data.eventId===wt)switch(Ds.data.status){case"ack":clearTimeout(Yt),ee=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),Ze(Ds.data.response);break;default:clearTimeout(Yt),clearTimeout(ee),et(new Error("invalid_response"))}}},k.handlers.add(fe),F.port1.addEventListener("message",fe.onMessage),k.target.postMessage({eventType:p,eventId:wt,data:v},[F.port2])}).finally(()=>{fe&&k.removeMessageHandler(fe)})})()}}function mi(){return window}function fc(){return typeof mi().WorkerGlobalScope<"u"&&"function"==typeof mi().importScripts}function bl(){return(bl=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ii="firebaseLocalStorageDb",Ma=1,Yn="firebaseLocalStorage",sm="fbase_key";class bs{constructor(p){this.request=p}toPromise(){return new Promise((p,v)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function pc(w,p){return w.transaction([Yn],p?"readwrite":"readonly").objectStore(Yn)}function Id(){const w=indexedDB.open(Ii,Ma);return new Promise((p,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const C=w.result;try{C.createObjectStore(Yn,{keyPath:sm})}catch(k){v(k)}}),w.addEventListener("success",(0,s.Z)(function*(){const C=w.result;C.objectStoreNames.contains(Yn)?p(C):(C.close(),yield function ka(){const w=indexedDB.deleteDatabase(Ii);return new bs(w).toPromise()}(),p(yield Id()))}))})}function Td(w,p,v){return ws.apply(this,arguments)}function ws(){return(ws=(0,s.Z)(function*(w,p,v){const C=pc(w,!0).put({[sm]:p,value:v});return new bs(C).toPromise()})).apply(this,arguments)}function Hs(){return(Hs=(0,s.Z)(function*(w,p){const v=pc(w,!1).get(p),C=yield new bs(v).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function wl(w,p){const v=pc(w,!0).delete(p);return new bs(v).toPromise()}const Sd=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,s.Z)(function*(){return v.db||(v.db=yield Id()),v.db})()}_withRetries(v){var C=this;return(0,s.Z)(function*(){let k=0;for(;;)try{const F=yield C._openDb();return yield v(F)}catch(F){if(k++>3)throw F;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,s.Z)(function*(){return fc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,s.Z)(function*(){v.receiver=Dd._getInstance(function mc(){return fc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var C=(0,s.Z)(function*(k,F){return{keyProcessed:(yield v._poll()).includes(F.key)}});return function(k,F){return C.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var C=(0,s.Z)(function*(k,F){return["keyChanged"]});return function(k,F){return C.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,s.Z)(function*(){var C,k;if(v.activeServiceWorker=yield function dh(){return bl.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new ch(v.activeServiceWorker);const F=yield v.sender._send("ping",{},800);F&&null!==(C=F[0])&&void 0!==C&&C.fulfilled&&null!==(k=F[0])&&void 0!==k&&k.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var C=this;return(0,s.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function uh(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:v},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Id();return yield Td(v,_l,"1"),yield wl(v,_l),!0}catch{}return!1})()}_withPendingWrite(v){var C=this;return(0,s.Z)(function*(){C.pendingWrites++;try{yield v()}finally{C.pendingWrites--}})()}_set(v,C){var k=this;return(0,s.Z)(function*(){return k._withPendingWrite((0,s.Z)(function*(){return yield k._withRetries(F=>Td(F,v,C)),k.localCache[v]=C,k.notifyServiceWorker(v)}))})()}_get(v){var C=this;return(0,s.Z)(function*(){const k=yield C._withRetries(F=>function am(w,p){return Hs.apply(this,arguments)}(F,v));return C.localCache[v]=k,k})()}_remove(v){var C=this;return(0,s.Z)(function*(){return C._withPendingWrite((0,s.Z)(function*(){return yield C._withRetries(k=>wl(k,v)),delete C.localCache[v],C.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,s.Z)(function*(){const C=yield v._withRetries(ee=>{const fe=pc(ee,!1).getAll();return new bs(fe).toPromise()});if(!C)return[];if(0!==v.pendingWrites)return[];const k=[],F=new Set;for(const{fbase_key:ee,value:fe}of C)F.add(ee),JSON.stringify(v.localCache[ee])!==JSON.stringify(fe)&&(v.notifyListeners(ee,fe),k.push(ee));for(const ee of Object.keys(v.localCache))v.localCache[ee]&&!F.has(ee)&&(v.notifyListeners(ee,null),k.push(ee));return k})()}notifyListeners(v,C){this.localCache[v]=C;const k=this.listeners[v];if(k)for(const F of Array.from(k))F(C)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),Ad=1e12;class mh{constructor(p){this.auth=p,this.counter=Ad,this._widgets=new Map}render(p,v){const C=this.counter;return this._widgets.set(C,new Md(p,this.auth.name,v||{})),this.counter++,C}reset(p){var v;const C=p||Ad;null===(v=this._widgets.get(C))||void 0===v||v.delete(),this._widgets.delete(C)}getResponse(p){var v;return(null===(v=this._widgets.get(p||Ad))||void 0===v?void 0:v.getResponse())||""}execute(p){var v=this;return(0,s.Z)(function*(){var C;return null===(C=v._widgets.get(p||Ad))||void 0===C||C.execute(),""})()}}class Md{constructor(p,v,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof p?document.getElementById(p):p;de(k,"argument-error",{appName:v}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function kd(w){const p=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<w;C++)p.push(v.charAt(Math.floor(Math.random()*v.length)));return p.join("")}(50);const{callback:p,"expired-callback":v}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const cm=ir("rcb"),Zv=new Dr(3e4,6e4);class Ws{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=mi().grecaptcha)||void 0===p||!p.render)}load(p,v=""){return de(function Kv(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),p,"argument-error"),this.shouldResolveImmediately(v)&&kt(mi().grecaptcha)?Promise.resolve(mi().grecaptcha):new Promise((C,k)=>{const F=mi().setTimeout(()=>{k(Te(p,"network-request-failed"))},Zv.get());mi()[cm]=()=>{mi().clearTimeout(F),delete mi()[cm];const fe=mi().grecaptcha;if(!fe||!kt(fe))return void k(Te(p,"internal-error"));const Ze=fe.render;fe.render=(et,wt)=>{const Yt=Ze(et,wt);return this.counter++,Yt},this.hostLanguage=v,C(fe)},un(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:cm,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(F),k(Te(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var v;return!(null===(v=mi().grecaptcha)||void 0===v||!v.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dm{load(p){return(0,s.Z)(function*(){return new mh(p)})()}clearedOneInstance(){}}const Ti="recaptcha",_c={theme:"light",type:"image"};class vc{constructor(p,v=Object.assign({},_c),C){this.parameters=v,this.type=Ti,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xn(C),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof p?document.getElementById(p):p;de(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dm:new Ws,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const v=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(v)||new Promise(F=>{const ee=fe=>{fe&&(p.tokenChangeListeners.delete(ee),F(fe))};p.tokenChangeListeners.add(ee),p.isInvisible&&C.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return v=>{if(this.tokenChangeListeners.forEach(C=>C(v)),"function"==typeof p)p(v);else if("string"==typeof p){const C=mi()[p];"function"==typeof C&&C(v)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let v=p.container;if(!p.isInvisible){const C=document.createElement("div");v.appendChild(C),v=C}p.widgetId=p.getAssertedRecaptcha().render(v,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){de(Kt()&&!fc(),p.auth,"internal-error"),yield function Rd(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const v=yield function _e(w){return le.apply(this,arguments)}(p.auth);de(v,p.auth,"internal-error"),p.parameters.sitekey=v})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vr{constructor(p,v){this.verificationId=p,this.onConfirmation=v}confirm(p){const v=hs._fromVerification(this.verificationId,p);return this.onConfirmation(v)}}function xs(w,p,v){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,s.Z)(function*(w,p,v){const C=xn(w),k=yield Cl(C,p,(0,$.m9)(v));return new Vr(k,F=>Pt(C,F))})).apply(this,arguments)}function xl(w,p,v){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,s.Z)(function*(w,p,v){const C=(0,$.m9)(w);yield dl(!1,C,"phone");const k=yield Cl(C.auth,p,(0,$.m9)(v));return new Vr(k,F=>im(C,F))})).apply(this,arguments)}function ph(w,p,v){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,s.Z)(function*(w,p,v){const C=(0,$.m9)(w),k=yield Cl(C.auth,p,(0,$.m9)(v));return new Vr(k,F=>fd(C,F))})).apply(this,arguments)}function Cl(w,p,v){return yc.apply(this,arguments)}function yc(){return yc=(0,s.Z)(function*(w,p,v){var C;const k=yield v.verify();try{let F;if(de("string"==typeof k,w,"argument-error"),de(v.type===Ti,w,"argument-error"),F="string"==typeof p?{phoneNumber:p}:p,"session"in F){const ee=F.session;if("phoneNumber"in F)return de("enroll"===ee.type,w,"internal-error"),(yield function uc(w,p){return ke(w,"POST","/v2/accounts/mfaEnrollment:start",se(w,p))}(w,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{de("signin"===ee.type,w,"internal-error");const fe=(null===(C=F.multiFactorHint)||void 0===C?void 0:C.uid)||F.multiFactorUid;return de(fe,w,"missing-multi-factor-info"),(yield function hh(w,p){return ke(w,"POST","/v2/accounts/mfaSignIn:start",se(w,p))}(w,{mfaPendingCredential:ee.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield function fg(w,p){return Fu.apply(this,arguments)}(w,{phoneNumber:F.phoneNumber,recaptchaToken:k});return ee}}finally{v._reset()}}),yc.apply(this,arguments)}function Yr(w,p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,s.Z)(function*(w,p){yield _r((0,$.m9)(w),p)})).apply(this,arguments)}let Zt=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=xn(v)}verifyPhoneNumber(v,C){return Cl(this.auth,v,(0,$.m9)(C))}static credential(v,C){return hs._fromVerification(v,C)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:C,temporaryProof:k}=v;return C&&k?hs._fromTokenResponse(C,k):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function qe(w,p){return p?ui(p):(de(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Kn extends Wr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return us(p,this._buildIdpRequest())}_linkToIdToken(p,v){return us(p,this._buildIdpRequest(v))}_getReauthenticationResolver(p){return us(p,this._buildIdpRequest())}_buildIdpRequest(p){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(v.idToken=p),v}}function Fn(w){return ul(w.auth,new Kn(w),w.bypassAuthState)}function Ur(w){const{auth:p,user:v}=w;return de(v,p,"internal-error"),Gu(v,new Kn(w),w.bypassAuthState)}function Zo(w){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,s.Z)(function*(w){const{auth:p,user:v}=w;return de(v,p,"internal-error"),_r(v,new Kn(w),w.bypassAuthState)})).apply(this,arguments)}class si{constructor(p,v,C,k,F=!1){this.auth=p,this.resolver=C,this.user=k,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var p=this;return new Promise(function(){var v=(0,s.Z)(function*(C,k){p.pendingPromise={resolve:C,reject:k};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(F){p.reject(F)}});return function(C,k){return v.apply(this,arguments)}}())}onAuthEvent(p){var v=this;return(0,s.Z)(function*(){const{urlResponse:C,sessionId:k,postBody:F,tenantId:ee,error:fe,type:Ze}=p;if(fe)return void v.reject(fe);const et={auth:v.auth,requestUri:C,sessionId:k,tenantId:ee||void 0,postBody:F||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Ze)(et))}catch(wt){v.reject(wt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Fn;case"linkViaPopup":case"linkViaRedirect":return Zo;case"reauthViaPopup":case"reauthViaRedirect":return Ur;default:Se(this.auth,"internal-error")}}resolve(p){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cn=new Dr(2e3,1e4);function je(w,p,v){return ho.apply(this,arguments)}function ho(){return(ho=(0,s.Z)(function*(w,p,v){const C=xn(w);Ge(w,p,fs);const k=qe(C,v);return new Od(C,"signInViaPopup",p,k).executeNotNull()})).apply(this,arguments)}function El(w,p,v){return yr.apply(this,arguments)}function yr(){return(yr=(0,s.Z)(function*(w,p,v){const C=(0,$.m9)(w);Ge(C.auth,p,fs);const k=qe(C.auth,v);return new Od(C.auth,"reauthViaPopup",p,k,C).executeNotNull()})).apply(this,arguments)}function um(w,p,v){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,s.Z)(function*(w,p,v){const C=(0,$.m9)(w);Ge(C.auth,p,fs);const k=qe(C.auth,v);return new Od(C.auth,"linkViaPopup",p,k,C).executeNotNull()})).apply(this,arguments)}let Od=(()=>{class w extends si{constructor(v,C,k,F,ee){super(v,C,F,ee),this.provider=k,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,s.Z)(function*(){const C=yield v.execute();return de(C,v.auth,"internal-error"),C})()}onExecution(){var v=this;return(0,s.Z)(function*(){At(1===v.filter.length,"Popup operations only handle one event");const C=Mo();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],C),v.authWindow.associatedEvent=C,v.resolver._originValidation(v.auth).catch(k=>{v.reject(k)}),v.resolver._isIframeWebStorageSupported(v.auth,k=>{k||v.reject(Te(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var C,k;this.pollId=null!==(k=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Cn.get())};v()}}return w.currentPopupAction=null,w})();const gh="pendingRedirect",fo=new Map;class bc extends si{constructor(p,v,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,v=this;return(0,s.Z)(function*(){let C=fo.get(v.auth._key());if(!C){try{const F=(yield function wc(w,p){return Qr.apply(this,arguments)}(v.resolver,v.auth))?yield p().call(v):null;C=()=>Promise.resolve(F)}catch(k){C=()=>Promise.reject(k)}fo.set(v.auth._key(),C)}return v.bypassAuthState||fo.set(v.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var v=()=>super.onAuthEvent,C=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return v().call(C,p);if("unknown"!==p.type){if(p.eventId){const k=yield C.auth._redirectUserForId(p.eventId);if(k)return C.user=k,v().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Qr(){return(Qr=(0,s.Z)(function*(w,p){const v=Nd(p),C=vh(w);if(!(yield C._isAvailable()))return!1;const k="true"===(yield C._get(v));return yield C._remove(v),k})).apply(this,arguments)}function hm(w,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,s.Z)(function*(w,p){return vh(w)._set(Nd(p),"true")})).apply(this,arguments)}function xc(){fo.clear()}function _h(w,p){fo.set(w._key(),p)}function vh(w){return ui(w._redirectPersistence)}function Nd(w){return pr(gh,w.config.apiKey,w.name)}function yh(w,p,v){return function Dl(w,p,v){return ai.apply(this,arguments)}(w,p,v)}function ai(){return(ai=(0,s.Z)(function*(w,p,v){const C=xn(w);Ge(w,p,fs),yield C._initializationPromise;const k=qe(C,v);return yield hm(k,C),k._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Fd(w,p,v){return function Ld(w,p,v){return Yo.apply(this,arguments)}(w,p,v)}function Yo(){return(Yo=(0,s.Z)(function*(w,p,v){const C=(0,$.m9)(w);Ge(C.auth,p,fs),yield C.auth._initializationPromise;const k=qe(C.auth,v);yield hm(k,C.auth);const F=yield Zs(C);return k._openRedirect(C.auth,p,"reauthViaRedirect",F)})).apply(this,arguments)}function Bd(w,p,v){return function Vd(w,p,v){return Il.apply(this,arguments)}(w,p,v)}function Il(){return(Il=(0,s.Z)(function*(w,p,v){const C=(0,$.m9)(w);Ge(C.auth,p,fs),yield C.auth._initializationPromise;const k=qe(C.auth,v);yield dl(!1,C,p.providerId),yield hm(k,C.auth);const F=yield Zs(C);return k._openRedirect(C.auth,p,"linkViaRedirect",F)})).apply(this,arguments)}function fm(w,p){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,s.Z)(function*(w,p){return yield xn(w)._initializationPromise,bh(w,p,!1)})).apply(this,arguments)}function bh(w,p){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,s.Z)(function*(w,p,v=!1){const C=xn(w),k=qe(C,p),ee=yield new bc(C,k,v).execute();return ee&&!v&&(delete ee.user._redirectEventId,yield C._persistUserIfCurrent(ee.user),yield C._setRedirectUser(null,p)),ee})).apply(this,arguments)}function Zs(w){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,s.Z)(function*(w){const p=Mo(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class wh{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let v=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(v=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function mm(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xh(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=p,v=!0)),v}sendToConsumer(p,v){var C;if(p.error&&!xh(p)){const k=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";v.onError(Te(this.auth,k))}else v.onAuthEvent(p)}isEventForConsumer(p,v){const C=null===v.eventId||!!p.eventId&&p.eventId===v.eventId;return v.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Al(p))}saveEventToCache(p){this.cachedEventUids.add(Al(p)),this.lastProcessedEventTime=Date.now()}}function Al(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function xh({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===p?.code}function Ch(w){return zd.apply(this,arguments)}function zd(){return(zd=(0,s.Z)(function*(w,p={}){return ke(w,"GET","/v1/projects",p)})).apply(this,arguments)}const Qv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bg=/^https?/;function Ml(){return(Ml=(0,s.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield Ch(w);for(const v of p)try{if(pm(v))return}catch{}Se(w,"unauthorized-domain")})).apply(this,arguments)}function pm(w){const p=ut(),{protocol:v,hostname:C}=new URL(p);if(w.startsWith("chrome-extension://")){const ee=new URL(w);return""===ee.hostname&&""===C?"chrome-extension:"===v&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===v&&ee.hostname===C}if(!bg.test(v))return!1;if(Qv.test(w))return C===w;const k=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(C)}const Ys=new Dr(3e4,6e4);function Ec(){const w=mi().___jsl;if(w?.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let Na=null;const Dh=new Dr(5e3,15e3),Cs="__/auth/iframe",Hd="emulator/auth/iframe",gm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ih=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _m(w){const p=w.config;de(p.authDomain,w,"auth-domain-config-required");const v=p.emulator?Do(p,Hd):`https://${w.config.authDomain}/${Cs}`,C={apiKey:p.apiKey,appName:w.name,v:N.SDK_VERSION},k=Ih.get(w.config.apiHost);k&&(C.eid=k);const F=w._getFrameworks();return F.length&&(C.fw=F.join(",")),`${v}?${(0,$.xO)(C).slice(1)}`}function Xn(){return Xn=(0,s.Z)(function*(w){const p=yield function Ks(w){return Na=Na||function mo(w){return new Promise((p,v)=>{var C,k,F;function ee(){Ec(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ec(),v(Te(w,"network-request-failed"))},timeout:Ys.get()})}if(null!==(k=null===(C=mi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==k&&k.Iframe)p(gapi.iframes.getContext());else{if(null===(F=mi().gapi)||void 0===F||!F.load){const fe=ir("iframefcb");return mi()[fe]=()=>{gapi.load?ee():v(Te(w,"network-request-failed"))},un(`https://apis.google.com/js/api.js?onload=${fe}`).catch(Ze=>v(Ze))}ee()}}).catch(p=>{throw Na=null,p})}(w),Na}(w),v=mi().gapi;return de(v,w,"internal-error"),p.open({where:document.body,url:_m(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gm,dontclear:!0},C=>new Promise(function(){var k=(0,s.Z)(function*(F,ee){yield C.restyle({setHideOnLeave:!1});const fe=Te(w,"network-request-failed"),Ze=mi().setTimeout(()=>{ee(fe)},Dh.get());function et(){mi().clearTimeout(Ze),F(C)}C.ping(et).then(et,()=>{ee(fe)})});return function(F,ee){return k.apply(this,arguments)}}()))}),Xn.apply(this,arguments)}const x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D=500,M=600,z="_blank",K="http://localhost";class J{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ye="__/auth/handler",yt="emulator/auth/handler",Ot=encodeURIComponent("fac");function Bt(w,p,v,C,k,F){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,s.Z)(function*(w,p,v,C,k,F){de(w.config.authDomain,w,"auth-domain-config-required"),de(w.config.apiKey,w,"invalid-api-key");const ee={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:C,v:N.SDK_VERSION,eventId:k};if(p instanceof fs){p.setDefaultLanguage(w.languageCode),ee.providerId=p.providerId||"",(0,$.xb)(p.getCustomParameters())||(ee.customParameters=JSON.stringify(p.getCustomParameters()));for(const[wt,Yt]of Object.entries(F||{}))ee[wt]=Yt}if(p instanceof ya){const wt=p.getScopes().filter(Yt=>""!==Yt);wt.length>0&&(ee.scopes=wt.join(","))}w.tenantId&&(ee.tid=w.tenantId);const fe=ee;for(const wt of Object.keys(fe))void 0===fe[wt]&&delete fe[wt];const Ze=yield w._getAppCheckToken(),et=Ze?`#${Ot}=${encodeURIComponent(Ze)}`:"";return`${function Xi({config:w}){return w.emulator?Do(w,yt):`https://${w.authDomain}/${Ye}`}(w)}?${(0,$.xO)(fe).slice(1)}${et}`})).apply(this,arguments)}const Qs="webStorageSupport",Fa=class jd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vr,this._completeRedirectFn=bh,this._overrideRedirectResult=_h}_openPopup(p,v,C,k){var F=this;return(0,s.Z)(function*(){var ee;At(null===(ee=F.eventManagers[p._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const fe=yield Bt(p,v,C,ut(),k);return function pe(w,p,v,C=D,k=M){const F=Math.max((window.screen.availHeight-k)/2,0).toString(),ee=Math.max((window.screen.availWidth-C)/2,0).toString();let fe="";const Ze=Object.assign(Object.assign({},x),{width:C.toString(),height:k.toString(),top:F,left:ee}),et=(0,$.z$)().toLowerCase();v&&(fe=O(et)?z:v),B(et)&&(p=p||K,Ze.scrollbars="yes");const wt=Object.entries(Ze).reduce((kr,[Ds,Gd])=>`${kr}${Ds}=${Gd},`,"");if(function Rt(w=(0,$.z$)()){var p;return Tt(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(et)&&"_self"!==fe)return function Xe(w,p){const v=document.createElement("a");v.href=w,v.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(C)}(p||"",fe),new J(null);const Yt=window.open(p||"",fe,wt);de(Yt,w,"popup-blocked");try{Yt.focus()}catch{}return new J(Yt)}(p,fe,Mo())})()}_openRedirect(p,v,C,k){var F=this;return(0,s.Z)(function*(){return yield F._originValidation(p),function ys(w){mi().location.href=w}(yield Bt(p,v,C,ut(),k)),new Promise(()=>{})})()}_initialize(p){const v=p._key();if(this.eventManagers[v]){const{manager:k,promise:F}=this.eventManagers[v];return k?Promise.resolve(k):(At(F,"If manager is not set, promise should be"),F)}const C=this.initAndGetManager(p);return this.eventManagers[v]={promise:C},C.catch(()=>{delete this.eventManagers[v]}),C}initAndGetManager(p){var v=this;return(0,s.Z)(function*(){const C=yield function vm(w){return Xn.apply(this,arguments)}(p),k=new wh(p);return C.register("authEvent",F=>(de(F?.authEvent,p,"invalid-auth-event"),{status:k.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[p._key()]={manager:k},v.iframes[p._key()]=C,k})()}_isIframeWebStorageSupported(p,v){this.iframes[p._key()].send(Qs,{type:Qs},k=>{var F;const ee=null===(F=k?.[0])||void 0===F?void 0:F[Qs];void 0!==ee&&v(!!ee),Se(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const v=p._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Eh(w){return Ml.apply(this,arguments)}(p)),this.originValidationPromises[v]}get _shouldInitProactively(){return Gt()||V()||Tt()}};class Mr{constructor(p){this.factorId=p}_process(p,v,C){switch(v.type){case"enroll":return this._finalizeEnroll(p,v.credential,C);case"signin":return this._finalizeSignIn(p,v.credential);default:return rt("unexpected MultiFactorSessionType")}}}class Xr extends Mr{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Xr(p)}_finalizeEnroll(p,v,C){return function Ta(w,p){return ke(w,"POST","/v2/accounts/mfaEnrollment:finalize",se(w,p))}(p,{idToken:v,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,v){return function Gs(w,p){return ke(w,"POST","/v2/accounts/mfaSignIn:finalize",se(w,p))}(p,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Es=(()=>{class w{constructor(){}static assertion(v){return Xr._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var $d="@firebase/auth";class ko{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var v=this;return(0,s.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const v=this.auth.onIdTokenChanged(C=>{p(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,v),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const v=this.internalListeners.get(p);v&&(this.internalListeners.delete(p),v(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bm=(0,$.Pz)("authIdTokenMaxAge")||300;let Cg=null;const Xv=w=>function(){var p=(0,s.Z)(function*(v){const C=v&&(yield v.getIdTokenResult()),k=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(k&&k>bm)return;const F=C?.token;Cg!==F&&(Cg=F,yield fetch(w,{method:F?"POST":"DELETE",headers:F?{Authorization:`Bearer ${F}`}:{}}))});return function(v){return p.apply(this,arguments)}}();function La(w=(0,N.getApp)()){const p=(0,N._getProvider)(w,"auth");if(p.isInitialized())return p.getImmediate();const v=function zi(w,p){const v=(0,N._getProvider)(w,"auth");if(v.isInitialized()){const k=v.getImmediate(),F=v.getOptions();if((0,$.vZ)(F,p??{}))return k;Se(k,"already-initialized")}return v.initialize({options:p})}(w,{popupRedirectResolver:Fa,persistence:[Sd,hc,vr]}),C=(0,$.Pz)("authTokenSyncURL");if(C){const F=Xv(C);(function Ia(w,p,v){(0,$.m9)(w).beforeAuthStateChanged(p,v)})(v,F,()=>F(v.currentUser)),function cc(w,p,v,C){(0,$.m9)(w).onIdTokenChanged(p,v,C)}(v,ee=>F(ee))}const k=(0,$.q4)("auth");return k&&oi(v,`http://${k}`),v}!function wg(w){(0,N._registerComponent)(new ie.wA("auth",(p,{options:v})=>{const C=p.getProvider("app").getImmediate(),k=p.getProvider("heartbeat"),F=p.getProvider("app-check-internal"),{apiKey:ee,authDomain:fe}=C.options;de(ee&&!ee.includes(":"),"invalid-api-key",{appName:C.name});const Ze={apiKey:ee,authDomain:fe,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uo(w)},et=new Un(C,k,F,Ze);return function zo(w,p){const v=p?.persistence||[],C=(Array.isArray(v)?v:[v]).map(ui);p?.errorMap&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(C,p?.popupRedirectResolver)}(et,v),et},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,v,C)=>{p.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new ie.wA("auth-internal",p=>{const v=xn(p.getProvider("auth").getImmediate());return new ko(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)($d,"0.23.2",function Jr(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,N.registerVersion)($d,"0.23.2","esm2017")}("Browser")},2090:(xt,Ae,U)=>{U.d(Ae,{$s:()=>ui,BH:()=>Ne,DV:()=>vi,G6:()=>Do,GJ:()=>Vn,L:()=>xe,LL:()=>Ue,P0:()=>ze,Pz:()=>Te,Sg:()=>Ge,UG:()=>rt,UI:()=>ti,US:()=>ie,Wl:()=>Dt,Yr:()=>Dr,ZB:()=>te,ZR:()=>ke,aH:()=>Se,b$:()=>Kt,cI:()=>pn,dS:()=>Fr,eu:()=>ge,g5:()=>N,gK:()=>fr,gQ:()=>gn,h$:()=>be,hl:()=>he,hu:()=>$,jU:()=>At,m9:()=>pr,ne:()=>Qt,p$:()=>q,pd:()=>hr,q4:()=>Fe,r3:()=>Wn,ru:()=>ut,tV:()=>Y,uI:()=>de,ug:()=>nn,vZ:()=>vt,w1:()=>Vo,w9:()=>_i,xO:()=>li,xb:()=>Nr,z$:()=>Be,zI:()=>ye,zd:()=>tr});const s={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},$=function(W,G){if(!W)throw N(G)},N=function(W){return new Error("Firebase Database ("+s.SDK_VERSION+") INTERNAL ASSERT FAILED: "+W)},ae=function(W){const G=[];let B=0;for(let V=0;V<W.length;V++){let O=W.charCodeAt(V);O<128?G[B++]=O:O<2048?(G[B++]=O>>6|192,G[B++]=63&O|128):55296==(64512&O)&&V+1<W.length&&56320==(64512&W.charCodeAt(V+1))?(O=65536+((1023&O)<<10)+(1023&W.charCodeAt(++V)),G[B++]=O>>18|240,G[B++]=O>>12&63|128,G[B++]=O>>6&63|128,G[B++]=63&O|128):(G[B++]=O>>12|224,G[B++]=O>>6&63|128,G[B++]=63&O|128)}return G},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,G){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let O=0;O<W.length;O+=3){const Q=W[O],Ce=O+1<W.length,ot=Ce?W[O+1]:0,Mt=O+2<W.length,Tt=Mt?W[O+2]:0;let Rn=(15&ot)<<2|Tt>>6,Gt=63&Tt;Mt||(Gt=64,Ce||(Rn=64)),V.push(B[Q>>2],B[(3&Q)<<4|ot>>4],B[Rn],B[Gt])}return V.join("")},encodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(W):this.encodeByteArray(ae(W),G)},decodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(W):function(W){const G=[];let B=0,V=0;for(;B<W.length;){const O=W[B++];if(O<128)G[V++]=String.fromCharCode(O);else if(O>191&&O<224){const Q=W[B++];G[V++]=String.fromCharCode((31&O)<<6|63&Q)}else if(O>239&&O<365){const Mt=((7&O)<<18|(63&W[B++])<<12|(63&W[B++])<<6|63&W[B++])-65536;G[V++]=String.fromCharCode(55296+(Mt>>10)),G[V++]=String.fromCharCode(56320+(1023&Mt))}else{const Q=W[B++],Ce=W[B++];G[V++]=String.fromCharCode((15&O)<<12|(63&Q)<<6|63&Ce)}}return G.join("")}(this.decodeStringToByteArray(W,G))},decodeStringToByteArray(W,G){this.init_();const B=G?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let O=0;O<W.length;){const Q=B[W.charAt(O++)],ot=O<W.length?B[W.charAt(O)]:0;++O;const Tt=O<W.length?B[W.charAt(O)]:64;++O;const Rt=O<W.length?B[W.charAt(O)]:64;if(++O,null==Q||null==ot||null==Tt||null==Rt)throw new Ee;V.push(Q<<2|ot>>4),64!==Tt&&(V.push(ot<<4&240|Tt>>2),64!==Rt&&V.push(Tt<<6&192|Rt))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const be=function(W){const G=ae(W);return ie.encodeByteArray(G,!0)},xe=function(W){return be(W).replace(/\./g,"")},Y=function(W){try{return ie.decodeString(W,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function q(W){return te(void 0,W)}function te(W,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return G}for(const B in G)!G.hasOwnProperty(B)||!$e(B)||(W[B]=te(W[B],G[B]));return W}function $e(W){return"__proto__"!==W}const Oe=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=W&&Y(W[1]);return G&&JSON.parse(G)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},Fe=W=>{var G,B;return null===(B=null===(G=Oe())||void 0===G?void 0:G.emulatorHosts)||void 0===B?void 0:B[W]},ze=W=>{const G=Fe(W);if(!G)return;const B=G.lastIndexOf(":");if(B<=0||B+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const V=parseInt(G.substring(B+1),10);return"["===G[0]?[G.substring(1,B-1),V]:[G.substring(0,B),V]},Se=()=>{var W;return null===(W=Oe())||void 0===W?void 0:W.config},Te=W=>{var G;return null===(G=Oe())||void 0===G?void 0:G[`_${W}`]};class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,B)=>{this.resolve=G,this.reject=B})}wrapCallback(G){return(B,V)=>{B?this.reject(B):this.resolve(V),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(B):G(B,V))}}}function Ge(W,G){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=G||"demo-project",O=W.iat||0,Q=W.sub||W.user_id;if(!Q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ce=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:O,exp:O+3600,auth_time:O,sub:Q,user_id:Q,firebase:{sign_in_provider:"custom",identities:{}}},W);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(Ce)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function rt(){var W;const G=null===(W=Oe())||void 0===W?void 0:W.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function At(){return"object"==typeof self&&self.self===self}function ut(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Vo(){const W=Be();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Dr(){return!0===s.NODE_CLIENT||!0===s.NODE_ADMIN}function Do(){return!rt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){try{return"object"==typeof indexedDB}catch{return!1}}function ge(){return new Promise((W,G)=>{try{let B=!0;const V="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(V);O.onsuccess=()=>{O.result.close(),B||self.indexedDB.deleteDatabase(V),W(!0)},O.onupgradeneeded=()=>{B=!1},O.onerror=()=>{var Q;G((null===(Q=O.error)||void 0===Q?void 0:Q.message)||"")}}catch(B){G(B)}})}function ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ke extends Error{constructor(G,B,V){super(B),this.code=G,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(G,B,V){this.service=G,this.serviceName=B,this.errors=V}create(G,...B){const V=B[0]||{},O=`${this.service}/${G}`,Q=this.errors[G],Ce=Q?function ht(W,G){return W.replace(ft,(B,V)=>{const O=G[V];return null!=O?String(O):`<${V}?>`})}(Q,V):"Error";return new ke(O,`${this.serviceName}: ${Ce} (${O}).`,V)}}const ft=/\{\$([^}]+)}/g;function pn(W){return JSON.parse(W)}function Dt(W){return JSON.stringify(W)}const cn=function(W){let G={},B={},V={},O="";try{const Q=W.split(".");G=pn(Y(Q[0])||""),B=pn(Y(Q[1])||""),O=Q[2],V=B.d||{},delete B.d}catch{}return{header:G,claims:B,data:V,signature:O}},_i=function(W){const B=cn(W).claims;return!!B&&"object"==typeof B&&B.hasOwnProperty("iat")},Vn=function(W){const G=cn(W).claims;return"object"==typeof G&&!0===G.admin};function Wn(W,G){return Object.prototype.hasOwnProperty.call(W,G)}function vi(W,G){if(Object.prototype.hasOwnProperty.call(W,G))return W[G]}function Nr(W){for(const G in W)if(Object.prototype.hasOwnProperty.call(W,G))return!1;return!0}function ti(W,G,B){const V={};for(const O in W)Object.prototype.hasOwnProperty.call(W,O)&&(V[O]=G.call(B,W[O],O,W));return V}function vt(W,G){if(W===G)return!0;const B=Object.keys(W),V=Object.keys(G);for(const O of B){if(!V.includes(O))return!1;const Q=W[O],Ce=G[O];if(ni(Q)&&ni(Ce)){if(!vt(Q,Ce))return!1}else if(Q!==Ce)return!1}for(const O of V)if(!B.includes(O))return!1;return!0}function ni(W){return null!==W&&"object"==typeof W}function li(W){const G=[];for(const[B,V]of Object.entries(W))Array.isArray(V)?V.forEach(O=>{G.push(encodeURIComponent(B)+"="+encodeURIComponent(O))}):G.push(encodeURIComponent(B)+"="+encodeURIComponent(V));return G.length?"&"+G.join("&"):""}function tr(W){const G={};return W.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[O,Q]=V.split("=");G[decodeURIComponent(O)]=decodeURIComponent(Q)}}),G}function hr(W){const G=W.indexOf("?");if(!G)return"";const B=W.indexOf("#",G);return W.substring(G,B>0?B:void 0)}class gn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,B){B||(B=0);const V=this.W_;if("string"==typeof G)for(let Rt=0;Rt<16;Rt++)V[Rt]=G.charCodeAt(B)<<24|G.charCodeAt(B+1)<<16|G.charCodeAt(B+2)<<8|G.charCodeAt(B+3),B+=4;else for(let Rt=0;Rt<16;Rt++)V[Rt]=G[B]<<24|G[B+1]<<16|G[B+2]<<8|G[B+3],B+=4;for(let Rt=16;Rt<80;Rt++){const Rn=V[Rt-3]^V[Rt-8]^V[Rt-14]^V[Rt-16];V[Rt]=4294967295&(Rn<<1|Rn>>>31)}let Tt,Xt,O=this.chain_[0],Q=this.chain_[1],Ce=this.chain_[2],ot=this.chain_[3],Mt=this.chain_[4];for(let Rt=0;Rt<80;Rt++){Rt<40?Rt<20?(Tt=ot^Q&(Ce^ot),Xt=1518500249):(Tt=Q^Ce^ot,Xt=1859775393):Rt<60?(Tt=Q&Ce|ot&(Q|Ce),Xt=2400959708):(Tt=Q^Ce^ot,Xt=3395469782);const Rn=(O<<5|O>>>27)+Tt+Mt+Xt+V[Rt]&4294967295;Mt=ot,ot=Ce,Ce=4294967295&(Q<<30|Q>>>2),Q=O,O=Rn}this.chain_[0]=this.chain_[0]+O&4294967295,this.chain_[1]=this.chain_[1]+Q&4294967295,this.chain_[2]=this.chain_[2]+Ce&4294967295,this.chain_[3]=this.chain_[3]+ot&4294967295,this.chain_[4]=this.chain_[4]+Mt&4294967295}update(G,B){if(null==G)return;void 0===B&&(B=G.length);const V=B-this.blockSize;let O=0;const Q=this.buf_;let Ce=this.inbuf_;for(;O<B;){if(0===Ce)for(;O<=V;)this.compress_(G,O),O+=this.blockSize;if("string"==typeof G){for(;O<B;)if(Q[Ce]=G.charCodeAt(O),++Ce,++O,Ce===this.blockSize){this.compress_(Q),Ce=0;break}}else for(;O<B;)if(Q[Ce]=G[O],++Ce,++O,Ce===this.blockSize){this.compress_(Q),Ce=0;break}}this.inbuf_=Ce,this.total_+=B}digest(){const G=[];let B=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let O=this.blockSize-1;O>=56;O--)this.buf_[O]=255&B,B/=256;this.compress_(this.buf_);let V=0;for(let O=0;O<5;O++)for(let Q=24;Q>=0;Q-=8)G[V]=this.chain_[O]>>Q&255,++V;return G}}function Qt(W,G){const B=new pt(W,G);return B.subscribe.bind(B)}class pt{constructor(G,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{G(this)}).catch(V=>{this.error(V)})}next(G){this.forEachObserver(B=>{B.next(G)})}error(G){this.forEachObserver(B=>{B.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,B,V){let O;if(void 0===G&&void 0===B&&void 0===V)throw new Error("Missing Observer.");O=function ci(W,G){if("object"!=typeof W||null===W)return!1;for(const B of G)if(B in W&&"function"==typeof W[B])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:B,complete:V},void 0===O.next&&(O.next=qi),void 0===O.error&&(O.error=qi),void 0===O.complete&&(O.complete=qi);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),Q}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,G)}sendOne(G,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{B(this.observers[G])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qi(){}function fr(W,G){return`${W} failed: ${G} argument `}const Fr=function(W){const G=[];let B=0;for(let V=0;V<W.length;V++){let O=W.charCodeAt(V);if(O>=55296&&O<=56319){const Q=O-55296;V++,$(V<W.length,"Surrogate pair missing trail surrogate."),O=65536+(Q<<10)+(W.charCodeAt(V)-56320)}O<128?G[B++]=O:O<2048?(G[B++]=O>>6|192,G[B++]=63&O|128):O<65536?(G[B++]=O>>12|224,G[B++]=O>>6&63|128,G[B++]=63&O|128):(G[B++]=O>>18|240,G[B++]=O>>12&63|128,G[B++]=O>>6&63|128,G[B++]=63&O|128)}return G},nn=function(W){let G=0;for(let B=0;B<W.length;B++){const V=W.charCodeAt(B);V<128?G++:V<2048?G+=2:V>=55296&&V<=56319?(G+=4,B++):G+=3}return G},$t=1e3,di=2,qn=144e5,Zi=.5;function ui(W,G=$t,B=di){const V=G*Math.pow(B,W),O=Math.round(Zi*V*(Math.random()-.5)*2);return Math.min(qn,V+O)}function pr(W){return W&&W._delegate?W._delegate:W}},7465:(xt,Ae,U)=>{var s=U(4650);let $=null;function N(){return $}class ue{}const ie=new s.OlP("DocumentToken");let Ee=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function be(){return(0,s.LFG)(Y)}()},providedIn:"platform"}),n})();const xe=new s.OlP("Location Initialized");let Y=(()=>{class n extends Ee{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){q()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){q()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function te(){return new Y((0,s.LFG)(ie))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function $e(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Me(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let dt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Oe)},providedIn:"root"}),n})();const we=new s.OlP("appBaseHref");let Oe=(()=>{class n extends dt{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return $e(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Qe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const l=this.prepareExternalUrl(r+Qe(o));this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,o){const l=this.prepareExternalUrl(r+Qe(o));this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ee),s.LFG(we,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fe=(()=>{class n extends dt{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=$e(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let l=this.prepareExternalUrl(r+Qe(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,o){let l=this.prepareExternalUrl(r+Qe(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ee),s.LFG(we,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Ge(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Me(Ne(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Qe(i))}normalize(e){return n.stripTrailingSlash(function Te(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Ne(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qe(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=$e,n.stripTrailingSlash=Me,n.\u0275fac=function(e){return new(e||n)(s.LFG(dt))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Se(){return new ze((0,s.LFG)(dt))}()},providedIn:"root"}),n})();function Ne(n){return n.replace(/\/index.html$/,"")}function ls(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}class zi{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zo=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new zi(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,l),oi(u,r)}});for(let r=0,o=i.length;r<o;r++){const u=i.get(r).context;u.index=r,u.count=o,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{oi(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function oi(n,t){n.context.$implicit=t.item}let Hi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new qt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Kl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Kl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qt{constructor(){this.$implicit=null,this.ngIf=null}}function Kl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class Wr{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ga=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Ho=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Wr(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(ga,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ei=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:l}=this;this._viewRef=i.createEmbeddedView(r,o,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();class dd{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class sl{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const _a=new sl,ds=new dd;let Br=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return _a;if((0,s.F4k)(e))return ds;throw function qr(n,t){return new s.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Nn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Jf="browser",va="server";function ya(n){return n===va}let Xl=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new tm((0,s.LFG)(ie),window)}),n})();class tm{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ud(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const l=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ms(this.window.history)||ms(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ms(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class $u{}class oh extends ue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cc extends oh{static makeCurrent(){!function ae(n){$||($=n)}(new cc)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function pl(){return Ia=Ia||document.querySelector("base"),Ia?Ia.getAttribute("href"):null}();return null==e?null:function yg(n){Wo=Wo||document.createElement("a"),Wo.setAttribute("href",n);const t=Wo.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ls(document.cookie,t)}}let Wo,Ia=null;const rm=new s.OlP("TRANSITION_ID"),sh=[{provide:s.ip1,useFactory:function dc(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=N(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[rm,ie,s.zs3],multi:!0}];let wd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const gl=new s.OlP("EventManagerPlugins");let uc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const l=r[o];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gl),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ta{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=N().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let ah=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let o=r.get(e)??0;return o+=i,o>0?r.set(e,o):r.delete(e),o}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),vs=(()=>{class n extends ah{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(o=>o.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Us={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Sa=/%COMP%/g,yl=new s.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function hc(n,t){return t.flat(100).map(e=>e.replace(Sa,n))}function Ed(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let vr=(()=>{class n{constructor(e,i,r,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new lh(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof fc?r.applyToHost(e):r instanceof ys&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const l=this.eventManager,u=this.sharedStylesHost,m=this.removeStylesOnCompDestory;switch(i.encapsulation){case s.ifc.Emulated:o=new fc(l,u,i,this.appId,m);break;case s.ifc.ShadowDom:return new mi(l,u,e,i);default:o=new ys(l,u,i,m)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uc),s.LFG(vs),s.LFG(s.AFp),s.LFG(yl))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class lh{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Us[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(ch(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(ch(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Us[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Us[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ed(i)):this.eventManager.addEventListener(t,e,Ed(i))}}function ch(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class mi extends lh{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=hc(r.id,r.styles);for(const l of o){const u=document.createElement("style");u.textContent=l,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ys extends lh{constructor(t,e,i,r,o=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=hc(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class fc extends ys{constructor(t,e,i,r,o){const l=r+"-"+i.id;super(t,e,i,o,l),this.contentAttr=function om(n){return"_ngcontent-%COMP%".replace(Sa,n)}(l),this.hostAttr=function Cd(n){return"_nghost-%COMP%".replace(Sa,n)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let dh=(()=>{class n extends Ta{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const bl=["alt","control","meta","shift"],uh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ii=(()=>{class n extends Ta{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),l=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,o.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let l="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),l="code."),bl.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),l+=_+".")}),l+=o,0!=i.length||0===o.length)return null;const m={};return m.domEventName=r,m.fullKey=l,m}static matchEventFullKeyCode(e,i){let r=uh[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),bl.forEach(l=>{l!==r&&(0,mc[l])(e)&&(o+=l+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const am=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Jf},{provide:s.g9A,useValue:function ka(){cc.makeCurrent()},multi:!0},{provide:ie,useFactory:function Td(){return(0,s.RDi)(document),document},deps:[]}]),Hs=new s.OlP(""),wl=[{provide:s.rWj,useClass:class qo{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,l=!1;const u=function(m){l=l||m,o--,0==o&&i(l)};r.forEach(function(m){m.whenStable(u)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],js=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Id(){return new s.qLn},deps:[]},{provide:gl,useClass:dh,multi:!0,deps:[ie,s.R0b,s.Lbi]},{provide:gl,useClass:Ii,multi:!0,deps:[ie]},{provide:vr,useClass:vr,deps:[uc,vs,s.AFp,yl]},{provide:s.FYo,useExisting:vr},{provide:ah,useExisting:vs},{provide:vs,useClass:vs,deps:[ie]},{provide:uc,useClass:uc,deps:[gl,s.R0b]},{provide:$u,useClass:wd,deps:[]},[]];let $s=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:rm,useExisting:s.AFp},sh]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hs,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...js,...wl],imports:[Nn,s.hGG]}),n})(),lm=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Gs(){return new lm((0,s.LFG)(ie))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Pa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(yc),i},providedIn:"root"}),n})(),yc=(()=>{class n extends Pa{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${s.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${s.JZr})`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Cl(n){return new yc(n.get(ie))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var Kr=U(3269),Zt=U(8996);function qe(...n){const t=(0,Kr.yG)(n);return(0,Zt.D)(n,t)}var Kn=U(9751),Fn=U(5577),Ur=U(576);function Zo(n,t){return(0,Ur.m)(t)?(0,Fn.z)(n,t,1):(0,Fn.z)(n,1)}var Qn=U(4482),si=U(5403);function Cn(n,t){return(0,Qn.e)((e,i)=>{let r=0;e.subscribe((0,si.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var je=U(4004);class ho{}class El{}class yr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),l=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(o=>o.toString()),r.length>0){const o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof yr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new yr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof yr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let l=this.headers.get(e);if(!l)return;l=l.filter(u=>-1===o.indexOf(u)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Oa{encodeKey(t){return bc(t)}encodeValue(t){return bc(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const gh=/%(\d[a-f0-9])/gi,fo={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bc(n){return encodeURIComponent(n).replace(gh,(t,e)=>fo[e]??t)}function wc(n){return`${n}`}class Qr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Oa,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Od(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[l,u]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],m=e.get(l)||[];m.push(u),e.set(l,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(wc):[wc(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Qr({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(wc(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(wc(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class qs{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function _h(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function vh(n){return typeof Blob<"u"&&n instanceof Blob}function Nd(n){return typeof FormData<"u"&&n instanceof FormData}class Dl{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function xc(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new yr),this.context||(this.context=new qs),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+l}}else this.params=new Qr,this.urlWithParams=e}serializeBody(){return null===this.body?null:_h(this.body)||vh(this.body)||Nd(this.body)||function yh(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Nd(this.body)?null:vh(this.body)?this.body.type||null:_h(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let m=t.headers||this.headers,_=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(m=Object.keys(t.setHeaders).reduce((I,R)=>I.set(R,t.setHeaders[R]),m)),t.setParams&&(_=Object.keys(t.setParams).reduce((I,R)=>I.set(R,t.setParams[R]),_)),new Dl(e,i,o,{params:_,headers:m,context:b,reportProgress:u,responseType:r,withCredentials:l})}}var ai=(()=>((ai=ai||{})[ai.Sent=0]="Sent",ai[ai.UploadProgress=1]="UploadProgress",ai[ai.ResponseHeader=2]="ResponseHeader",ai[ai.DownloadProgress=3]="DownloadProgress",ai[ai.Response=4]="Response",ai[ai.User=5]="User",ai))();class Fd{constructor(t,e=200,i="OK"){this.headers=t.headers||new yr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Ld extends Fd{constructor(t={}){super(t),this.type=ai.ResponseHeader}clone(t={}){return new Ld({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Yo extends Fd{constructor(t={}){super(t),this.type=ai.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Yo({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Bd extends Fd{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Vd(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Il=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Dl)o=e;else{let m,_;m=r.headers instanceof yr?r.headers:new yr(r.headers),r.params&&(_=r.params instanceof Qr?r.params:new Qr({fromObject:r.params})),o=new Dl(e,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=qe(o).pipe(Zo(m=>this.handler.handle(m)));if(e instanceof Dl||"events"===r.observe)return l;const u=l.pipe(Cn(m=>m instanceof Yo));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe((0,je.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return u.pipe((0,je.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return u.pipe((0,je.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return u.pipe((0,je.U)(m=>m.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Qr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Vd(r,i))}post(e,i,r={}){return this.request("POST",e,Vd(r,i))}put(e,i,r={}){return this.request("PUT",e,Vd(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ho))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function fm(n,t){return t(n)}function Tl(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const Cc=new s.OlP("HTTP_INTERCEPTORS"),Zs=new s.OlP("HTTP_INTERCEPTOR_FNS");function Sl(){let n=null;return(t,e)=>(null===n&&(n=((0,s.f3M)(Cc,{optional:!0})??[]).reduceRight(Tl,fm)),n(t,e))}let Ud=(()=>{class n extends ho{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Zs)));this.chain=i.reduceRight((r,o)=>function bh(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(r,o,this.injector),fm)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(El),s.LFG(s.lqb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ys=/^\)\]\}',?\n/;let mo=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Kn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((L,j)=>r.setRequestHeader(L,j.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const L=e.detectContentTypeHeader();null!==L&&r.setRequestHeader("Content-Type",L)}if(e.responseType){const L=e.responseType.toLowerCase();r.responseType="json"!==L?L:"text"}const o=e.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const L=r.statusText||"OK",j=new yr(r.getAllResponseHeaders()),Z=function Ec(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return l=new Ld({headers:j,status:r.status,statusText:L,url:Z}),l},m=()=>{let{headers:L,status:j,statusText:Z,url:ne}=u(),Re=null;204!==j&&(Re=typeof r.response>"u"?r.responseText:r.response),0===j&&(j=Re?200:0);let Ke=j>=200&&j<300;if("json"===e.responseType&&"string"==typeof Re){const Je=Re;Re=Re.replace(Ys,"");try{Re=""!==Re?JSON.parse(Re):null}catch(ct){Re=Je,Ke&&(Ke=!1,Re={error:ct,text:Re})}}Ke?(i.next(new Yo({body:Re,headers:L,status:j,statusText:Z,url:ne||void 0})),i.complete()):i.error(new Bd({error:Re,headers:L,status:j,statusText:Z,url:ne||void 0}))},_=L=>{const{url:j}=u(),Z=new Bd({error:L,status:r.status||0,statusText:r.statusText||"Unknown Error",url:j||void 0});i.error(Z)};let b=!1;const I=L=>{b||(i.next(u()),b=!0);let j={type:ai.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(j.total=L.total),"text"===e.responseType&&r.responseText&&(j.partialText=r.responseText),i.next(j)},R=L=>{let j={type:ai.UploadProgress,loaded:L.loaded};L.lengthComputable&&(j.total=L.total),i.next(j)};return r.addEventListener("load",m),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),e.reportProgress&&(r.addEventListener("progress",I),null!==o&&r.upload&&r.upload.addEventListener("progress",R)),r.send(o),i.next({type:ai.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",m),r.removeEventListener("timeout",_),e.reportProgress&&(r.removeEventListener("progress",I),null!==o&&r.upload&&r.upload.removeEventListener("progress",R)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($u))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Na=new s.OlP("XSRF_ENABLED"),Dh=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Hd=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class gm{}let Ih=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ls(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(s.Lbi),s.LFG(Dh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function _m(n,t){const e=n.url.toLowerCase();if(!(0,s.f3M)(Na)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,s.f3M)(gm).getToken(),r=(0,s.f3M)(Hd);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Xn=(()=>((Xn=Xn||{})[Xn.Interceptors=0]="Interceptors",Xn[Xn.LegacyInterceptors=1]="LegacyInterceptors",Xn[Xn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Xn[Xn.NoXsrfProtection=3]="NoXsrfProtection",Xn[Xn.JsonpSupport=4]="JsonpSupport",Xn[Xn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Xn))();function x(n,t){return{\u0275kind:n,\u0275providers:t}}function D(...n){const t=[Il,mo,Ud,{provide:ho,useExisting:Ud},{provide:El,useExisting:mo},{provide:Zs,useValue:_m,multi:!0},{provide:Na,useValue:!0},{provide:gm,useClass:Ih}];for(const e of n)t.push(...e.\u0275providers);return(0,s.MR2)(t)}const z=new s.OlP("LEGACY_INTERCEPTOR_FN");let Ot=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[D(x(Xn.LegacyInterceptors,[{provide:z,useFactory:Sl},{provide:Zs,useExisting:z,multi:!0}]))]}),n})();const{isArray:Xi}=Array,{getPrototypeOf:Qs,prototype:jd,keys:Fa}=Object;function Mr(n){if(1===n.length){const t=n[0];if(Xi(t))return{args:t,keys:null};if(function Xr(n){return n&&"object"==typeof n&&Qs(n)===jd}(t)){const e=Fa(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Es=U(8421);const{isArray:Th}=Array;function Sh(n){return(0,je.U)(t=>function ym(n,t){return Th(t)?n(...t):n(t)}(n,t))}function kl(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function $d(...n){const t=(0,Kr.jO)(n),{args:e,keys:i}=Mr(n),r=new Kn.y(o=>{const{length:l}=e;if(!l)return void o.complete();const u=new Array(l);let m=l,_=l;for(let b=0;b<l;b++){let I=!1;(0,Es.Xf)(e[b]).subscribe((0,si.x)(o,R=>{I||(I=!0,_--),u[b]=R},()=>m--,void 0,()=>{(!m||!I)&&(_||o.next(i?kl(i,u):u),o.complete())}))}});return t?r.pipe(Sh(t)):r}let Ah=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),ko=(()=>{class n extends Ah{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Jr=new s.OlP("NgValueAccessor"),bm={provide:Jr,useExisting:(0,s.Gpc)(()=>La),multi:!0},Xv=new s.OlP("CompositionEventMode");let La=(()=>{class n extends Ah{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Cg(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Xv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([bm]),s.qOj]}),n})();const w=!1;function p(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function v(n){return null!=n&&"number"==typeof n.length}const C=new s.OlP("NgValidators"),k=new s.OlP("NgAsyncValidators"),F=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ee{static min(t){return function fe(n){return t=>{if(p(t.value)||p(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Ze(n){return t=>{if(p(t.value)||p(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return et(t)}static requiredTrue(t){return function wt(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Yt(n){return p(n.value)||F.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function kr(n){return t=>p(t.value)||!v(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Ds(n){return t=>v(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Gd(n){if(!n)return Mh;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(p(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Zd(t)}static composeAsync(t){return Yd(t)}}function et(n){return p(n.value)?{required:!0}:null}function Mh(n){return null}function Rl(n){return null!=n}function wm(n){const t=(0,s.QGY)(n)?(0,Zt.D)(n):n;if(w&&!(0,s.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new s.vHH(-1101,e)}return t}function kh(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Wd(n,t){return t.map(e=>e(n))}function qd(n){return n.map(t=>function xm(n){return!n.validate}(t)?t:e=>t.validate(e))}function Zd(n){if(!n)return null;const t=n.filter(Rl);return 0==t.length?null:function(e){return kh(Wd(e,t))}}function Pl(n){return null!=n?Zd(qd(n)):null}function Yd(n){if(!n)return null;const t=n.filter(Rl);return 0==t.length?null:function(e){return $d(Wd(e,t).map(wm)).pipe((0,je.U)(kh))}}function Dc(n){return null!=n?Yd(qd(n)):null}function Rh(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Eg(n){return n._rawValidators}function Dg(n){return n._rawAsyncValidators}function Kd(n){return n?Array.isArray(n)?n:[n]:[]}function Ig(n,t){return Array.isArray(n)?n.includes(t):n===t}function Jv(n,t){const e=Kd(t);return Kd(n).forEach(r=>{Ig(e,r)||e.push(r)}),e}function Ww(n,t){return Kd(t).filter(e=>!Ig(n,e))}class qw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Pl(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Dc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class po extends qw{get formDirective(){return null}get path(){return null}}class Ba extends qw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ey{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xs=(()=>{class n extends ey{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ba,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),Ph=(()=>{class n extends ey{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(po,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();function Kw(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const Js=!1,Va="VALID",Tg="INVALID",Nh="PENDING",Em="DISABLED";function oy(n){return(Sg(n)?n.validators:n)||null}function sy(n,t){return(Sg(t)?t.asyncValidators:n)||null}function Sg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Xw(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,Js?function rS(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new s.vHH(1001,Js?function oS(n,t){return`Cannot find form control ${Kw(n,t)}`}(t,e):"")}function Jw(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,Js?function sS(n,t){return`Must supply a value for form control ${Kw(n,t)}`}(t,r):"")})}class Ag{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Va}get invalid(){return this.status===Tg}get pending(){return this.status==Nh}get disabled(){return this.status===Em}get enabled(){return this.status!==Em}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Jv(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Jv(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Ww(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Ww(t,this._rawAsyncValidators))}hasValidator(t){return Ig(this._rawValidators,t)}hasAsyncValidator(t){return Ig(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Nh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Em,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Va,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Va||this.status===Nh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Em:Va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Nh,this._hasOwnPendingAsyncValidator=!0;const e=wm(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Em:this.errors?Tg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nh)?Nh:this._anyControlsHaveStatus(Tg)?Tg:Va}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Sg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function aS(n){return Array.isArray(n)?Pl(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Qw(n){return Array.isArray(n)?Dc(n):n||null}(this._rawAsyncValidators)}}class go extends Ag{constructor(t,e,i){super(oy(e),sy(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Jw(this,!0,t),Object.keys(t).forEach(i=>{Xw(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class ay extends go{}const Qd=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ly}),ly="always";function cy(n,t){return[...t.path,n]}function kg(n,t,e=ly){ex(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function cS(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&tx(n,t)})}(n,t),function uS(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function dS(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&tx(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function jF(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Fh(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Dm(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Lh(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ex(n,t){const e=Eg(n);null!==t.validator?n.setValidators(Rh(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Dg(n);null!==t.asyncValidator?n.setAsyncValidators(Rh(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Lh(t._rawValidators,r),Lh(t._rawAsyncValidators,r)}function Dm(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Eg(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(l=>l!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=Dg(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(l=>l!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Lh(t._rawValidators,i),Lh(t._rawAsyncValidators,i),e}function tx(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dy(n,t){ex(n,t)}function my(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const mS={provide:po,useExisting:(0,s.Gpc)(()=>gy)},Bh=(()=>Promise.resolve())();let gy=(()=>{class n extends po{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new go({},Pl(e),Dc(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Bh.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),kg(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Bh.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Bh.then(()=>{const i=this._findContainer(e.path),r=new go({});dy(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Bh.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Bh.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,my(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(C,10),s.Y36(k,10),s.Y36(Qd,8))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([mS]),s.qOj]}),n})();function pS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Vh(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const yi=class extends Ag{constructor(t=null,e,i){super(oy(e),sy(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Vh(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){pS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){pS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Vh(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let _y=(()=>{class n extends po{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return cy(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),Xd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const ox={provide:Jr,useExisting:(0,s.Gpc)(()=>Ol),multi:!0};let Ol=(()=>{class n extends ko{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([ox]),s.qOj]}),n})(),Im=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Fg=new s.OlP("NgModelWithFormControlWarning"),xS={provide:po,useExisting:(0,s.Gpc)(()=>Ua)};let Ua=(()=>{class n extends po{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return kg(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Fh(e.control||null,e,!1),function fS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,my(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Fh(i||null,e),(n=>n instanceof yi)(r)&&(kg(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);dy(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Rg(n,t){return Dm(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ex(this.form,this),this._oldForm&&Dm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(C,10),s.Y36(k,10),s.Y36(Qd,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([xS]),s.qOj,s.TTD]}),n})();const Uh={provide:po,useExisting:(0,s.Gpc)(()=>Lg)};let Lg=(()=>{class n extends _y{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){Vg(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(po,13),s.Y36(C,10),s.Y36(k,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[s._Bn([Uh]),s.qOj]}),n})();const CS={provide:po,useExisting:(0,s.Gpc)(()=>Bg)};let Bg=(()=>{class n extends po{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return cy(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Vg(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(po,13),s.Y36(C,10),s.Y36(k,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[s._Bn([CS]),s.qOj]}),n})();function Vg(n){return!(n instanceof Lg||n instanceof Ua||n instanceof Bg)}const ES={provide:Ba,useExisting:(0,s.Gpc)(()=>Sc)};let Sc=(()=>{class n extends Ba{set isDisabled(e){}constructor(e,i,r,o,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function py(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===La?e=o:function nx(n){return Object.getPrototypeOf(n.constructor)===ko}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){this._added||this._setUpControl(),function fy(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return cy(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(po,13),s.Y36(C,10),s.Y36(k,10),s.Y36(Jr,10),s.Y36(Fg,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([ES]),s.qOj,s.TTD]}),n})();const DS={provide:Jr,useExisting:(0,s.Gpc)(()=>Ug),multi:!0};function wy(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Ug=(()=>{class n extends ko{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=wy(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function ZF(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([DS]),s.qOj]}),n})(),zh=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(wy(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Ug,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const IS={provide:Jr,useExisting:(0,s.Gpc)(()=>zg),multi:!0};function Jd(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let zg=(()=>{class n extends ko{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,l)=>{o._setSelected(r.indexOf(l.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const l=o;for(let u=0;u<l.length;u++){const _=this._getOptionValue(l[u].value);r.push(_)}}else{const l=i.options;for(let u=0;u<l.length;u++){const m=l[u];if(m.selected){const _=this._getOptionValue(m.value);r.push(_)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Tm(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([IS]),s.qOj]}),n})(),lx=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Jd(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Jd(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(zg,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Ac=(()=>{class n{constructor(){this._validator=Mh}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Mh,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const Cy={provide:C,useExisting:(0,s.Gpc)(()=>Am),multi:!0};let Am=(()=>{class n extends Ac{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=e=>et}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([Cy]),s.qOj]}),n})(),_x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Im]}),n})();class Ey extends Ag{constructor(t,e,i){super(oy(e),sy(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Jw(this,!1,t),t.forEach((i,r)=>{Xw(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function vx(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let yx=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return vx(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new go(r,o)}record(e,i=null){const r=this._reduceControls(e);return new ay(r,i)}control(e,i,r){let o={};return this.useNonNullable?(vx(i)?o=i:(o.validators=i,o.asyncValidators=r),new yi(e,{...o,nonNullable:!0})):new yi(e,i,r)}array(e,i,r){const o=e.map(l=>this._createControl(l));return new Ey(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof yi||e instanceof Ag?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mc=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Fg,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Qd,useValue:e.callSetDisabledState??ly}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[_x]}),n})();var st=U(7579);class zr extends st.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const jg=(0,U(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Hh=U(4671),PS=U(9672);function Mm(...n){const t=(0,Kr.yG)(n),e=(0,Kr.jO)(n),{args:i,keys:r}=Mr(n);if(0===i.length)return(0,Zt.D)([],t);const o=new Kn.y(function OS(n,t,e=Hh.y){return i=>{en(t,()=>{const{length:r}=n,o=new Array(r);let l=r,u=r;for(let m=0;m<r;m++)en(t,()=>{const _=(0,Zt.D)(n[m],t);let b=!1;_.subscribe((0,si.x)(i,I=>{o[m]=I,b||(b=!0,u--),u||i.next(e(o.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,t,r?l=>kl(r,l):Hh.y));return e?o.pipe(Sh(e)):o}function en(n,t,e){n?(0,PS.f)(e,n,t):t()}var jh=U(8189);function km(...n){return function bx(){return(0,jh.J)(1)}()((0,Zt.D)(n,(0,Kr.yG)(n)))}function $g(n){return new Kn.y(t=>{(0,Es.Xf)(n()).subscribe(t)})}var NS=U(9635);function kc(n,t){const e=(0,Ur.m)(n)?n:()=>n,i=r=>r.error(e());return new Kn.y(t?r=>t.schedule(i,0,r):i)}var Ha=U(515),Hr=U(727);function Dy(){return(0,Qn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,si.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Iy extends Kn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Qn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Hr.w0;const e=this.getSubject();t.add(this.source.subscribe((0,si.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Hr.w0.EMPTY)}return t}refCount(){return Dy()(this)}}function Hn(n,t){return(0,Qn.e)((e,i)=>{let r=null,o=0,l=!1;const u=()=>l&&!r&&i.complete();e.subscribe((0,si.x)(i,m=>{r?.unsubscribe();let _=0;const b=o++;(0,Es.Xf)(n(m,b)).subscribe(r=(0,si.x)(i,I=>i.next(t?t(m,I,b,_++):I),()=>{r=null,u()}))},()=>{l=!0,u()}))})}function Si(n){return n<=0?()=>Ha.E:(0,Qn.e)((t,e)=>{let i=0;t.subscribe((0,si.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function eo(...n){const t=(0,Kr.yG)(n);return(0,Qn.e)((e,i)=>{(t?km(n,e,t):km(n,e)).subscribe(i)})}function ja(n){return(0,Qn.e)((t,e)=>{let i=!1;t.subscribe((0,si.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function wx(n=Ty){return(0,Qn.e)((t,e)=>{let i=!1;t.subscribe((0,si.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Ty(){return new jg}function ea(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Cn((r,o)=>n(r,o,i)):Hh.y,Si(1),e?ja(t):wx(()=>new jg))}var jn=U(8505);function Rc(n){return(0,Qn.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,si.x)(e,void 0,void 0,l=>{o=(0,Es.Xf)(n(l,Rc(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Gg(n,t){return(0,Qn.e)(function eL(n,t,e,i,r){return(o,l)=>{let u=e,m=t,_=0;o.subscribe((0,si.x)(l,b=>{const I=_++;m=u?n(m,b,I):(u=!0,b),i&&l.next(m)},r&&(()=>{u&&l.next(m),l.complete()})))}}(n,t,arguments.length>=2,!0))}function Sy(n){return n<=0?()=>Ha.E:(0,Qn.e)((t,e)=>{let i=[];t.subscribe((0,si.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Ay(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Cn((r,o)=>n(r,o,i)):Hh.y,Sy(1),e?ja(t):wx(()=>new jg))}function My(n){return(0,je.U)(()=>n)}function Fl(n){return(0,Qn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const an="primary",$h=Symbol("RouteTitle");class Wg{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gh(n){return new Wg(n)}function xx(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const l=i[o],u=n[o];if(l.startsWith(":"))r[l.substring(1)]=u;else if(l!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function $a(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Cx(n[r],t[r]))return!1;return!0}function Cx(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Ex(n){return Array.prototype.concat.apply([],n)}function Dx(n){return n.length>0?n[n.length-1]:null}function jr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ll(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Zt.D)(Promise.resolve(n)):qe(n)}const Rm=!1,ky={exact:function US(n,t,e){if(!Bl(n.segments,t.segments)||!Pm(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!US(n.children[i],t.children[i],e))return!1;return!0},subset:Ry},BS={exact:function VS(n,t){return $a(n,t)},subset:function Wh(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Cx(n[e],t[e]))},ignored:()=>!0};function qg(n,t,e){return ky[e.paths](n.root,t.root,e.matrixParams)&&BS[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Ry(n,t,e){return Ix(n,t,t.segments,e)}function Ix(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Bl(r,e)||t.hasChildren()||!Pm(r,e,i))}if(n.segments.length===e.length){if(!Bl(n.segments,e)||!Pm(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Ry(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Bl(n.segments,r)&&Pm(n.segments,r,i)&&n.children[an])&&Ix(n.children[an],t,o,i)}}function Pm(n,t,e){return t.every((i,r)=>BS[e](n[r].parameters,i.parameters))}class Pc{constructor(t=new mn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gh(this.queryParams)),this._queryParamMap}toString(){return Tx.serialize(this)}}class mn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,jr(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yh(this)}}class Oc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gh(this.parameters)),this._parameterMap}toString(){return Sx(this)}}function Bl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let tu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new Zh},providedIn:"root"}),n})();class Zh{parse(t){const e=new Fy(t);return new Pc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${nu(t.root,!0)}`,i=function Mx(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Nm(e)}=${Nm(r)}`).join("&"):`${Nm(e)}=${Nm(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Py(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Tx=new Zh;function Yh(n){return n.segments.map(t=>Sx(t)).join("/")}function nu(n,t){if(!n.hasChildren())return Yh(n);if(t){const e=n.children[an]?nu(n.children[an],!1):"",i=[];return jr(n.children,(r,o)=>{o!==an&&i.push(`${o}:${nu(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Om(n,t){let e=[];return jr(n.children,(i,r)=>{r===an&&(e=e.concat(t(i,r)))}),jr(n.children,(i,r)=>{r!==an&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===an?[nu(n.children[an],!1)]:[`${r}:${nu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[an]?`${Yh(n)}/${e[0]}`:`${Yh(n)}/(${e.join("//")})`}}function Zg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nm(n){return Zg(n).replace(/%3B/gi,";")}function Oy(n){return Zg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yg(n){return decodeURIComponent(n)}function Ny(n){return Yg(n.replace(/\+/g,"%20"))}function Sx(n){return`${Oy(n.path)}${function Ax(n){return Object.keys(n).map(t=>`;${Oy(t)}=${Oy(n[t])}`).join("")}(n.parameters)}`}const zS=/^[^\/()?;=#]+/;function Kg(n){const t=n.match(zS);return t?t[0]:""}const Ko=/^[^=?&#]+/,jS=/^[^&#]+/;class Fy{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[an]=new mn(t,e)),i}parseSegment(){const t=Kg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,Rm);return this.capture(t),new Oc(Yg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Kg(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Kg(this.remaining);r&&(i=r,this.capture(i))}t[Yg(e)]=Yg(i)}parseQueryParam(t){const e=function HS(n){const t=n.match(Ko);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const l=function nL(n){const t=n.match(jS);return t?t[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=Ny(e),o=Ny(i);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Kg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,Rm);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=an);const l=this.parseChildren();e[o]=1===Object.keys(l).length?l[an]:new mn([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,Rm)}}function Qg(n){return n.segments.length>0?new mn([],{[an]:n}):n}function Xg(n){const t={};for(const i of Object.keys(n.children)){const o=Xg(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function $S(n){if(1===n.numberOfChildren&&n.children[an]){const t=n.children[an];return new mn(n.segments.concat(t.segments),t.children)}return n}(new mn(n.segments,t))}function iu(n){return n instanceof Pc}const Jg=!1;function GS(n,t,e,i,r){if(0===e.length)return Kh(t.root,t.root,t.root,i,r);const o=function t_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ta(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const u={};return jr(o.outlets,(m,_)=>{u[_]="string"==typeof m?m.split("/"):m}),[...r,{outlets:u}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===l?(o.split("/").forEach((u,m)=>{0==m&&"."===u||(0==m&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,o]},[]);return new ta(e,t,i)}(e);return o.toRoot()?Kh(t.root,t.root,new mn([],{}),i,r):function l(m){const _=function Px(n,t,e,i){if(n.isAbsolute)return new Qh(t.root,!0,0);if(-1===i)return new Qh(e,e===t.root,0);return function Ox(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,Jg&&"Invalid number of '../'");r=i.segments.length}return new Qh(i,!1,r-o)}(e,i+(Fm(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,m),b=_.processChildren?Nc(_.segmentGroup,_.index,o.commands):Ly(_.segmentGroup,_.index,o.commands);return Kh(t.root,_.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function Fm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lm(n){return"object"==typeof n&&null!=n&&n.outlets}function Kh(n,t,e,i,r){let l,o={};i&&jr(i,(m,_)=>{o[_]=Array.isArray(m)?m.map(b=>`${b}`):`${m}`}),l=n===t?e:Rx(n,t,e);const u=Qg(Xg(l));return new Pc(u,o,r)}function Rx(n,t,e){const i={};return jr(n.children,(r,o)=>{i[o]=r===t?e:Rx(r,t,e)}),new mn(n.segments,i)}class ta{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Fm(i[0]))throw new s.vHH(4003,Jg&&"Root segment cannot have matrix parameters");const r=i.find(Lm);if(r&&r!==Dx(i))throw new s.vHH(4004,Jg&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qh{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Ly(n,t,e){if(n||(n=new mn([],{})),0===n.segments.length&&n.hasChildren())return Nc(n,t,e);const i=function ZS(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const l=n.segments[r],u=e[i];if(Lm(u))break;const m=`${u}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===m)break;if(m&&_&&"object"==typeof _&&void 0===_.outlets){if(!Vm(m,_,l))return o;i+=2}else{if(!Vm(m,{},l))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new mn(n.segments.slice(0,i.pathIndex),{});return o.children[an]=new mn(n.segments.slice(i.pathIndex),n.children),Nc(o,0,r)}return i.match&&0===r.length?new mn(n.segments,{}):i.match&&!n.hasChildren()?By(n,t,e):i.match?Nc(n,0,r):By(n,t,e)}function Nc(n,t,e){if(0===e.length)return new mn(n.segments,{});{const i=function qS(n){return Lm(n[0])?n[0].outlets:{[an]:n}}(e),r={};if(!i[an]&&n.children[an]&&1===n.numberOfChildren&&0===n.children[an].segments.length){const o=Nc(n.children[an],t,e);return new mn(n.segments,o.children)}return jr(i,(o,l)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[l]=Ly(n.children[l],t,o))}),jr(n.children,(o,l)=>{void 0===i[l]&&(r[l]=o)}),new mn(n.segments,r)}}function By(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Lm(o)){const m=n_(o.outlets);return new mn(i,m)}if(0===r&&Fm(e[0])){i.push(new Oc(n.segments[t].path,Bm(e[0]))),r++;continue}const l=Lm(o)?o.outlets[an]:`${o}`,u=r<e.length-1?e[r+1]:null;l&&u&&Fm(u)?(i.push(new Oc(l,Bm(u))),r+=2):(i.push(new Oc(l,{})),r++)}return new mn(i,{})}function n_(n){const t={};return jr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=By(new mn([],{}),0,e))}),t}function Bm(n){const t={};return jr(n,(e,i)=>t[i]=`${e}`),t}function Vm(n,t,e){return n==e.path&&$a(t,e.parameters)}const i_="imperative";class Is{constructor(t,e){this.id=t,this.url=e}}class Nx extends Is{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fc extends Is{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Um extends Is{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zm extends Is{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class r_ extends Is{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vy extends Is{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vl extends Is{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o_ extends Is{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class s_ extends Is{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hm extends Is{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YS{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fx{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lx{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KS{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QS{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jm{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bx{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let JS=(()=>{class n{createUrlTree(e,i,r,o,l,u){return GS(e||i.root,r,o,l,u)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),tA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){return JS.\u0275fac(t)},providedIn:"root"}),n})();class Vx{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Uy(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Uy(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=zy(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return zy(t,this._root).map(e=>e.value)}}function Uy(n,t){if(n===t.value)return t;for(const e of t.children){const i=Uy(n,e);if(i)return i}return null}function zy(n,t){if(n===t.value)return[t];for(const e of t.children){const i=zy(n,e);if(i.length)return i.unshift(t),i}return[]}class Ga{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Lc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Ux extends Vx{constructor(t,e){super(t),this.snapshot=e,Hy(this,t)}toString(){return this.snapshot.toString()}}function a_(n,t){const e=function nA(n,t){const l=new l_([],{},{},"",{},an,t,null,n.root,-1,{});return new Hx("",new Ga(l,[]))}(n,t),i=new zr([new Oc("",{})]),r=new zr({}),o=new zr({}),l=new zr({}),u=new zr(""),m=new Wa(i,r,l,u,o,an,t,e.root);return m.snapshot=e.root,new Ux(new Ga(m,[]),e)}class Wa{constructor(t,e,i,r,o,l,u,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=l,this.component=u,this.title=this.data?.pipe((0,je.U)(_=>_[$h]))??qe(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,je.U)(t=>Gh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,je.U)(t=>Gh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zx(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function iA(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class l_{get title(){return this.data?.[$h]}constructor(t,e,i,r,o,l,u,m,_,b,I){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=l,this.component=u,this.routeConfig=m,this._urlSegment=_,this._lastPathIndex=b,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hx extends Vx{constructor(t,e){super(e),this.url=t,Hy(this,e)}toString(){return jy(this._root)}}function Hy(n,t){t.value._routerState=n,t.children.forEach(e=>Hy(n,e))}function jy(n){const t=n.children.length>0?` { ${n.children.map(jy).join(", ")} } `:"";return`${n.value}${t}`}function c_(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,$a(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),$a(t.params,e.params)||n.params.next(e.params),function FS(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!$a(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),$a(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function $y(n,t){const e=$a(n.params,t.params)&&function qh(n,t){return Bl(n,t)&&n.every((e,i)=>$a(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||$y(n.parent,t.parent))}function Xh(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function sL(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Xh(n,i,r);return Xh(n,i)})}(n,t,e);return new Ga(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(u=>Xh(n,u)),l}}const i=function d_(n){return new Wa(new zr(n.url),new zr(n.params),new zr(n.queryParams),new zr(n.fragment),new zr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Xh(n,o));return new Ga(i,r)}}const Gy="ngNavigationCancelingError";function jx(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=iu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=u_(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function u_(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Gy]=!0,i.cancellationCode=t,e&&(i.url=e),i}function $x(n){return na(n)&&iu(n.url)}function na(n){return n&&n[Gy]}class $m{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new sr,this.attachRef=null}}let sr=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new $m,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qa=!1;let Jh=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=an,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(sr),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,qa);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,qa);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,qa);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,qa);this._activatedRoute=e;const r=this.location,l=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,m=new Ts(e,u,r.injector);if(i&&function Wy(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(l);this.activated=r.createComponent(_,r.length,m)}else this.activated=r.createComponent(l,{index:r.length,injector:m,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class Ts{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Wa?this.route:t===sr?this.childContexts:this.parent.get(t,e)}}let Bc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[Jh],encapsulation:2}),n})();function ru(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function h_(n){const t=n.children&&n.children.map(h_),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==an&&(e.component=Bc),e}function Qo(n){return n.outlet||an}function qy(n,t){const e=n.filter(i=>Qo(i)===t);return e.push(...n.filter(i=>Qo(i)!==t)),e}function nf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class qx{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),c_(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Lc(e);t.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,r[l],i),delete r[l]}),jr(r,(o,l)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Lc(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);if(i&&i.outlet){const l=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Lc(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Lc(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new jm(o.value.snapshot))}),t.children.length&&this.forwardEvent(new KS(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(c_(r),r===o)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(u.contexts),l.attachRef=u.componentRef,l.route=u.route.value,l.outlet&&l.outlet.attach(u.componentRef,u.route.value),c_(u.route.value),this.activateChildRoutes(t,null,l.children)}else{const u=nf(r.snapshot),m=u?.get(s._Vd)??null;l.attachRef=null,l.route=r,l.resolver=m,l.injector=u,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,i)}}class Zy{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ym{constructor(t,e){this.component=t,this.route=e}}function rA(n,t,e){const i=n._root;return Km(i,t?t._root:null,e,[i.value])}function ou(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function Km(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Lc(t);return n.children.forEach(l=>{(function Zx(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,l=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const m=function Yy(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Bl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Bl(n.url,t.url)||!$a(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$y(n,t)||!$a(n.queryParams,t.queryParams);default:return!$y(n,t)}}(l,o,o.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new Zy(i)):(o.data=l.data,o._resolvedData=l._resolvedData),Km(n,t,o.component?u?u.children:null:e,i,r),m&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new Ym(u.outlet.component,l))}else l&&su(t,u,r),r.canActivateChecks.push(new Zy(i)),Km(n,null,o.component?u?u.children:null:e,i,r)})(l,o[l.value.outlet],e,i.concat([l.value]),r),delete o[l.value.outlet]}),jr(o,(l,u)=>su(l,e.getContext(u),r)),r}function su(n,t,e){const i=Lc(n),r=n.value;jr(i,(o,l)=>{su(o,r.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new Ym(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Qm(n){return"function"==typeof n}function Xm(n){return n instanceof jg||"EmptyError"===n?.name}const Jm=Symbol("INITIAL_VALUE");function au(){return Hn(n=>Mm(n.map(t=>t.pipe(Si(1),eo(Jm)))).pipe((0,je.U)(t=>{for(const e of t)if(!0!==e){if(e===Jm)return Jm;if(!1===e||e instanceof Pc)return e}return!0}),Cn(t=>t!==Jm),Si(1)))}function Jy(n){return(0,NS.z)((0,jn.b)(t=>{if(iu(t))throw jx(0,t)}),(0,je.U)(t=>!0===t))}const ep={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eb(n,t,e,i,r){const o=__(n,t,e);return o.matched?function nC(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?qe(r.map(l=>{const u=ou(l,n);return Ll(function g_(n){return n&&Qm(n.canMatch)}(u)?u.canMatch(t,e):n.runInContext(()=>u(t,e)))})).pipe(au(),Jy()):qe(!0)}(i=ru(t,i),t,e).pipe((0,je.U)(l=>!0===l?o:{...ep})):qe(o)}function __(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...ep}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||xx)(e,n,t);if(!r)return{...ep};const o={};jr(r.posParams,(u,m)=>{o[m]=u.path});const l=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function tp(n,t,e,i){if(e.length>0&&function oC(n,t,e){return e.some(i=>np(n,t,i)&&Qo(i)!==an)}(n,e,i)){const o=new mn(t,function rC(n,t,e,i){const r={};r[an]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Qo(o)!==an){const l=new mn([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,r[Qo(o)]=l}return r}(n,t,i,new mn(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function sC(n,t,e){return e.some(i=>np(n,t,i))}(n,e,i)){const o=new mn(n.segments,function iC(n,t,e,i,r){const o={};for(const l of i)if(np(n,e,l)&&!r[Qo(l)]){const u=new mn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,o[Qo(l)]=u}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new mn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function np(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function ip(n,t,e,i){return!!(Qo(n)===i||i!==an&&np(t,e,n))&&("**"===n.path||__(t,n,e).matched)}function Ul(n,t,e){return 0===t.length&&!n.children[e]}const v_=!1;class y_{constructor(t){this.segmentGroup=t||null}}class b_{constructor(t){this.urlTree=t}}function ia(n){return kc(new y_(n))}function w_(n){return kc(new b_(n))}class lL{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=tp(this.urlTree.root,[],[],this.config).segmentGroup,e=new mn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,an).pipe((0,je.U)(o=>this.createUrlTree(Xg(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Rc(o=>{if(o instanceof b_)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof y_?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,an).pipe((0,je.U)(r=>this.createUrlTree(Xg(r),t.queryParams,t.fragment))).pipe(Rc(r=>{throw r instanceof y_?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,v_)}createUrlTree(t,e,i){const r=Qg(t);return new Pc(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,je.U)(o=>new mn([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Zt.D)(r).pipe(Zo(o=>{const l=i.children[o],u=qy(e,o);return this.expandSegmentGroup(t,u,l,o).pipe((0,je.U)(m=>({segment:m,outlet:o})))}),Gg((o,l)=>(o[l.outlet]=l.segment,o),{}),Ay())}expandSegment(t,e,i,r,o,l){return(0,Zt.D)(i).pipe(Zo(u=>this.expandSegmentAgainstRoute(t,e,i,u,r,o,l).pipe(Rc(_=>{if(_ instanceof y_)return qe(null);throw _}))),ea(u=>!!u),Rc((u,m)=>{if(Xm(u))return Ul(e,r,o)?qe(new mn([],{})):ia(e);throw u}))}expandSegmentAgainstRoute(t,e,i,r,o,l,u){return ip(r,e,o,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,l):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l):ia(e):ia(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?w_(o):this.lineralizeSegments(i,o).pipe((0,Fn.z)(l=>{const u=new mn(l,{});return this.expandSegment(t,u,e,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l){const{matched:u,consumedSegments:m,remainingSegments:_,positionalParamSegments:b}=__(e,r,o);if(!u)return ia(e);const I=this.applyRedirectCommands(m,r.redirectTo,b);return r.redirectTo.startsWith("/")?w_(I):this.lineralizeSegments(r,I).pipe((0,Fn.z)(R=>this.expandSegment(t,e,i,R.concat(_),l,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=ru(i,t),i.loadChildren?(i._loadedRoutes?qe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,je.U)(u=>(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,new mn(r,{})))):qe(new mn(r,{}))):eb(e,i,r,t).pipe(Hn(({matched:l,consumedSegments:u,remainingSegments:m})=>l?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Fn.z)(b=>{const I=b.injector??t,R=b.routes,{segmentGroup:L,slicedSegments:j}=tp(e,u,m,R),Z=new mn(L.segments,L.children);if(0===j.length&&Z.hasChildren())return this.expandChildren(I,R,Z).pipe((0,je.U)(Je=>new mn(u,Je)));if(0===R.length&&0===j.length)return qe(new mn(u,{}));const ne=Qo(i)===o;return this.expandSegment(I,Z,R,j,ne?an:o,!0).pipe((0,je.U)(Ke=>new mn(u.concat(Ke.segments),Ke.children)))})):ia(e)))}getChildConfig(t,e,i){return e.children?qe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?qe({routes:e._loadedRoutes,injector:e._loadedInjector}):function tC(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?qe(!0):qe(r.map(l=>{const u=ou(l,n);return Ll(function m_(n){return n&&Qm(n.canLoad)}(u)?u.canLoad(t,e):n.runInContext(()=>u(t,e)))})).pipe(au(),Jy())}(t,e,i).pipe((0,Fn.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,jn.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function tb(n){return kc(u_(v_,3))}())):qe({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return qe(i);if(r.numberOfChildren>1||!r.children[an])return t.redirectTo,kc(new s.vHH(4e3,v_));r=r.children[an]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Pc(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return jr(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[o]=e[u]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let l={};return jr(e.children,(u,m)=>{l[m]=this.createSegmentGroup(t,u,i,r)}),new mn(o,l)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,v_);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class lC{}class cC{constructor(t,e,i,r,o,l,u){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.urlSerializer=u}recognize(){const t=tp(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,an).pipe((0,je.U)(e=>{if(null===e)return null;const i=new l_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},an,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ga(i,e),o=new Hx(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=zx(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Zt.D)(Object.keys(i.children)).pipe(Zo(r=>{const o=i.children[r],l=qy(e,r);return this.processSegmentGroup(t,l,o,r)}),Gg((r,o)=>r&&o?(r.push(...o),r):null),function tL(n,t=!1){return(0,Qn.e)((e,i)=>{let r=0;e.subscribe((0,si.x)(i,o=>{const l=n(o,r++);(l||t)&&i.next(o),!l&&i.complete()}))})}(r=>null!==r),ja(null),Ay(),(0,je.U)(r=>{if(null===r)return null;const o=uC(r);return function hA(n){n.sort((t,e)=>t.value.outlet===an?-1:e.value.outlet===an?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,Zt.D)(e).pipe(Zo(l=>this.processSegmentAgainstRoute(l._injector??t,l,i,r,o)),ea(l=>!!l),Rc(l=>{if(Xm(l))return Ul(i,r,o)?qe([]):qe(null);throw l}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!ip(e,i,r,o))return qe(null);let l;if("**"===e.path){const u=r.length>0?Dx(r).parameters:{},m=lu(i)+r.length;l=qe({snapshot:new l_(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fC(e),Qo(e),e.component??e._loadedComponent??null,e,nb(i),m,ib(e)),consumedSegments:[],remainingSegments:[]})}else l=eb(i,e,r,t).pipe((0,je.U)(({matched:u,consumedSegments:m,remainingSegments:_,parameters:b})=>{if(!u)return null;const I=lu(i)+m.length;return{snapshot:new l_(m,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fC(e),Qo(e),e.component??e._loadedComponent??null,e,nb(i),I,ib(e)),consumedSegments:m,remainingSegments:_}}));return l.pipe(Hn(u=>{if(null===u)return qe(null);const{snapshot:m,consumedSegments:_,remainingSegments:b}=u;t=e._injector??t;const I=e._loadedInjector??t,R=function fA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:L,slicedSegments:j}=tp(i,_,b,R.filter(ne=>void 0===ne.redirectTo));if(0===j.length&&L.hasChildren())return this.processChildren(I,R,L).pipe((0,je.U)(ne=>null===ne?null:[new Ga(m,ne)]));if(0===R.length&&0===j.length)return qe([new Ga(m,[])]);const Z=Qo(e)===o;return this.processSegment(I,R,L,j,Z?an:o).pipe((0,je.U)(ne=>null===ne?null:[new Ga(m,ne)]))}))}}function dC(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function uC(n){const t=[],e=new Set;for(const i of n){if(!dC(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=uC(i.children);t.push(new Ga(i.value,r))}return t.filter(i=>!e.has(i))}function nb(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function lu(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function fC(n){return n.data||{}}function ib(n){return n.resolve||{}}function pC(n){return"string"==typeof n.title||null===n.title}function sb(n){return Hn(t=>{const e=n(t);return e?(0,Zt.D)(e).pipe((0,je.U)(()=>t)):qe(t)})}const to=new s.OlP("ROUTES");let Xo=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.f3M)(s.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return qe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Ll(e.loadComponent()).pipe((0,je.U)(ab),(0,jn.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Fl(()=>{this.componentLoaders.delete(e)})),r=new Iy(i,()=>new st.x).pipe(Dy());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return qe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,je.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let m,_,b=!1;Array.isArray(u)?_=u:(m=u.create(e).injector,_=Ex(m.get(to,[],s.XFs.Self|s.XFs.Optional)));return{routes:_.map(h_),injector:m}}),Fl(()=>{this.childrenLoaders.delete(i)})),l=new Iy(o,()=>new st.x).pipe(Dy());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(e){return Ll(e()).pipe((0,je.U)(ab),(0,Fn.z)(i=>i instanceof s.YKP||Array.isArray(i)?qe(i):(0,Zt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ab(n){return function gC(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let C_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new st.x,this.configLoader=(0,s.f3M)(Xo),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(tu),this.rootContexts=(0,s.f3M)(sr),this.navigationId=0,this.afterPreactivation=()=>qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Fx(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new YS(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new zr({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:i_,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Cn(i=>0!==i.id),(0,je.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Hn(i=>{let r=!1,o=!1;return qe(i).pipe((0,jn.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Hn(l=>{const u=e.browserUrlTree.toString(),m=!e.navigated||l.extractedUrl.toString()!==u||u!==e.currentUrlTree.toString();if(!m&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const b="";return this.events.next(new zm(l.id,e.serializeUrl(i.rawUrl),b,0)),e.rawUrlTree=l.rawUrl,l.resolve(null),Ha.E}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return _C(l.source)&&(e.browserUrlTree=l.extractedUrl),qe(l).pipe(Hn(b=>{const I=this.transitions?.getValue();return this.events.next(new Nx(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),I!==this.transitions?.getValue()?Ha.E:Promise.resolve(b)}),function dA(n,t,e,i){return Hn(r=>function aL(n,t,e,i,r){return new lL(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,je.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,jn.b)(b=>{this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},i.urlAfterRedirects=b.urlAfterRedirects}),function mA(n,t,e,i,r){return(0,Fn.z)(o=>function br(n,t,e,i,r,o,l="emptyOnly"){return new cC(n,t,e,i,r,l,o).recognize().pipe(Hn(u=>null===u?function uA(n){return new Kn.y(t=>t.error(n))}(new lC):qe(u)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,je.U)(l=>({...o,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,jn.b)(b=>{if(i.targetSnapshot=b.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!b.extras.skipLocationChange){const R=e.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);e.setBrowserUrl(R,b)}e.browserUrlTree=b.urlAfterRedirects}const I=new Vy(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(I)}));if(m&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:b,extractedUrl:I,source:R,restoredState:L,extras:j}=l,Z=new Nx(b,this.urlSerializer.serialize(I),R,L);this.events.next(Z);const ne=a_(I,this.rootComponentType).snapshot;return qe(i={...l,targetSnapshot:ne,urlAfterRedirects:I,extras:{...j,skipLocationChange:!1,replaceUrl:!1}})}{const b="";return this.events.next(new zm(l.id,e.serializeUrl(i.extractedUrl),b,1)),e.rawUrlTree=l.rawUrl,l.resolve(null),Ha.E}}),(0,jn.b)(l=>{const u=new Vl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),(0,je.U)(l=>i={...l,guards:rA(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function Qy(n,t){return(0,Fn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return 0===l.length&&0===o.length?qe({...e,guardsResult:!0}):function Xy(n,t,e,i){return(0,Zt.D)(n).pipe((0,Fn.z)(r=>function lA(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?qe(o.map(u=>{const m=nf(t)??r,_=ou(u,m);return Ll(function p_(n){return n&&Qm(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):m.runInContext(()=>_(n,t,e,i))).pipe(ea())})).pipe(au()):qe(!0)}(r.component,r.route,e,t,i)),ea(r=>!0!==r,!0))}(l,i,r,n).pipe((0,Fn.z)(u=>u&&function f_(n){return"boolean"==typeof n}(u)?function aA(n,t,e,i){return(0,Zt.D)(t).pipe(Zo(r=>km(function Xx(n,t){return null!==n&&t&&t(new Lx(n)),qe(!0)}(r.route.parent,i),function Qx(n,t){return null!==n&&t&&t(new QS(n)),qe(!0)}(r.route,i),function eC(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(l=>function oA(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>$g(()=>qe(l.guards.map(m=>{const _=nf(l.node)??e,b=ou(m,_);return Ll(function sA(n){return n&&Qm(n.canActivateChild)}(b)?b.canActivateChild(i,n):_.runInContext(()=>b(i,n))).pipe(ea())})).pipe(au())));return qe(o).pipe(au())}(n,r.path,e),function Jx(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return qe(!0);const r=i.map(o=>$g(()=>{const l=nf(t)??e,u=ou(o,l);return Ll(function Ky(n){return n&&Qm(n.canActivate)}(u)?u.canActivate(t,n):l.runInContext(()=>u(t,n))).pipe(ea())}));return qe(r).pipe(au())}(n,r.route,e))),ea(r=>!0!==r,!0))}(i,o,n,t):qe(u)),(0,je.U)(u=>({...e,guardsResult:u})))})}(this.environmentInjector,l=>this.events.next(l)),(0,jn.b)(l=>{if(i.guardsResult=l.guardsResult,iu(l.guardsResult))throw jx(0,l.guardsResult);const u=new o_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Cn(l=>!!l.guardsResult||(e.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),sb(l=>{if(l.guards.canActivateChecks.length)return qe(l).pipe((0,jn.b)(u=>{const m=new s_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}),Hn(u=>{let m=!1;return qe(u).pipe(function mC(n,t){return(0,Fn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return qe(e);let o=0;return(0,Zt.D)(r).pipe(Zo(l=>function dL(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!pC(r)&&(o[$h]=r.title),function rb(n,t,e,i){const r=function ob(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return qe({});const o={};return(0,Zt.D)(r).pipe((0,Fn.z)(l=>function Za(n,t,e,i){const r=nf(t)??i,o=ou(n,r);return Ll(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[l],t,e,i).pipe(ea(),(0,jn.b)(u=>{o[l]=u}))),Sy(1),My(o),Rc(l=>Xm(l)?Ha.E:kc(l)))}(o,n,t,i).pipe((0,je.U)(l=>(n._resolvedData=l,n.data=zx(n,e).resolve,r&&pC(r)&&(n.data[$h]=r.title),null)))}(l.route,i,n,t)),(0,jn.b)(()=>o++),Sy(1),(0,Fn.z)(l=>o===r.length?qe(e):Ha.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,jn.b)({next:()=>m=!0,complete:()=>{m||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),(0,jn.b)(u=>{const m=new Hm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}))}),sb(l=>{const u=m=>{const _=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,jn.b)(b=>{m.component=b}),(0,je.U)(()=>{})));for(const b of m.children)_.push(...u(b));return _};return Mm(u(l.targetSnapshot.root)).pipe(ja(),Si(1))}),sb(()=>this.afterPreactivation()),(0,je.U)(l=>{const u=function oL(n,t,e){const i=Xh(n,t._root,e?e._root:void 0);return new Ux(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:u}}),(0,jn.b)(l=>{e.currentUrlTree=l.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),e.routerState=l.targetRouterState,"deferred"===e.urlUpdateStrategy&&(l.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,l),e.browserUrlTree=l.urlAfterRedirects)}),((n,t,e)=>(0,je.U)(i=>(new qx(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l)),Si(1),(0,jn.b)({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Fc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),Fl(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Rc(l=>{if(o=!0,na(l)){$x(l)||(e.navigated=!0,e.restoreHistory(i,!0));const u=new Um(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode);if(this.events.next(u),$x(l)){const m=e.urlHandlingStrategy.merge(l.url,e.rawUrlTree),_={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||_C(i.source)};e.scheduleNavigation(m,i_,null,_,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const u=new r_(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);this.events.next(u);try{i.resolve(e.errorHandler(l))}catch(m){i.reject(m)}}return Ha.E}))}))}cancelNavigationTransition(e,i,r){const o=new Um(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _C(n){return n!==i_}let vC=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===an);return i}getResolvedTitleForRoute(e){return e.data[$h]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(lb)},providedIn:"root"}),n})(),lb=(()=>{class n extends vC{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(yC)},providedIn:"root"}),n})();class pA{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let yC=(()=>{class n extends pA{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const E_=new s.OlP("",{providedIn:"root",factory:()=>({})});let bC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(wC)},providedIn:"root"}),n})(),wC=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _A(n){throw n}function xC(n,t,e){return t.parse("/")}const CC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)(E_,{optional:!0})||{},this.errorHandler=this.options.errorHandler||_A,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||xC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(bC),this.routeReuseStrategy=(0,s.f3M)(rp),this.urlCreationStrategy=(0,s.f3M)(tA),this.titleStrategy=(0,s.f3M)(vC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ex((0,s.f3M)(to,{optional:!0})??[]),this.navigationTransitions=(0,s.f3M)(C_),this.urlSerializer=(0,s.f3M)(tu),this.location=(0,s.f3M)(ze),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=a_(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),i_,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const m={...r};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const u=this.parseUrl(e);this.scheduleNavigation(u,i,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(h_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:l,queryParamsHandling:u,preserveFragment:m}=i,_=m?this.currentUrlTree.fragment:l;let b=null;switch(u){case"merge":b={...this.currentUrlTree.queryParams,...o};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=o||null}return null!==b&&(b=this.removeEmptyProps(b)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,b,_??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=iu(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,i_,null,i)}navigate(e,i={skipLocationChange:!1}){return function db(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...CC}:!1===i?{...cb}:i,iu(e))return qg(this.currentUrlTree,e,r);const o=this.parseUrl(e);return qg(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,l){if(this.disposed)return Promise.resolve(!1);let u,m,_,b;return l?(u=l.resolve,m=l.reject,_=l.promise):_=new Promise((I,R)=>{u=I,m=R}),b="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:b,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:u,reject:m,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(I=>Promise.reject(I))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cu=(()=>{class n{constructor(e,i,r,o,l,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=l,this.locationStrategy=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new st.x;const m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=e.events.subscribe(_=>{_ instanceof Fc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rr),s.Y36(Wa),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(dt))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class ub{}let IC=(()=>{class n{constructor(e,i,r,o,l){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Cn(e=>e instanceof Fc),Zo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const l=o._injector??e,u=o._loadedInjector??l;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(l,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(u,o.children??o._loadedRoutes))}return(0,Zt.D)(r).pipe((0,jh.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):qe(null);const o=r.pipe((0,Fn.z)(l=>null===l?qe(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,Zt.D)([o,l]).pipe((0,jh.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Rr),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(ub),s.LFG(Xo))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hb=new s.OlP("");let TC=(()=>{class n{constructor(e,i,r,o,l={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Nx?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Fc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Bx&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Bx(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();var Jo=(()=>((Jo=Jo||{})[Jo.COMPLETE=0]="COMPLETE",Jo[Jo.FAILED=1]="FAILED",Jo[Jo.REDIRECTING=2]="REDIRECTING",Jo))();const sf=!1;function Uc(n,t){return{\u0275kind:n,\u0275providers:t}}const fb=new s.OlP("",{providedIn:"root",factory:()=>!1});function AC(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(Rr),r=n.get(MC);1===n.get(mb)&&i.initialNavigation(),n.get(pb,null,s.XFs.Optional)?.setUpPreloading(),n.get(hb,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const MC=new s.OlP(sf?"bootstrap done indicator":"",{factory:()=>new st.x}),mb=new s.OlP(sf?"initial navigation":"",{providedIn:"root",factory:()=>1});function EA(){let n=[];return n=sf?[{provide:s.Xts,multi:!0,useFactory:()=>{const t=(0,s.f3M)(Rr);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function rL(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],Uc(1,n)}const pb=new s.OlP(sf?"router preloader":"");function kC(n){return Uc(0,[{provide:pb,useExisting:IC},{provide:ub,useExisting:n}])}const af=!1,gb=new s.OlP(af?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),RC=[ze,{provide:tu,useClass:Zh},Rr,sr,{provide:Wa,useFactory:function SC(n){return n.routerState.root},deps:[Rr]},Xo,af?{provide:fb,useValue:!0}:[]];function _b(){return new s.PXZ("Router",Rr)}let zc=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[RC,af&&i?.enableTracing?EA().\u0275providers:[],{provide:to,multi:!0,useValue:e},{provide:gb,useFactory:lf,deps:[[Rr,new s.FiY,new s.tp0]]},{provide:E_,useValue:i||{}},i?.useHash?{provide:dt,useClass:Fe}:{provide:dt,useClass:Oe},{provide:hb,useFactory:()=>{const n=(0,s.f3M)(Xl),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)(E_),i=(0,s.f3M)(C_),r=(0,s.f3M)(tu);return e.scrollOffset&&n.setOffset(e.scrollOffset),new TC(r,i,n,t,e)}},i?.preloadingStrategy?kC(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:_b},i?.initialNavigation?mL(i):[],[{provide:D_,useFactory:AC},{provide:s.tb,multi:!0,useExisting:D_}]]}}static forChild(e){return{ngModule:n,providers:[{provide:to,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gb,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bc]}),n})();function lf(n){if(af&&n)throw new s.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function mL(n){return["disabled"===n.initialNavigation?Uc(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(Rr);return()=>{t.setUpLocationChangeListener()}}},{provide:mb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Uc(2,[{provide:mb,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(xe,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Rr),o=t.get(MC);(function bA(n,t){n.events.pipe(Cn(e=>e instanceof Fc||e instanceof Um||e instanceof r_||e instanceof zm),(0,je.U)(e=>e instanceof Fc||e instanceof zm?Jo.COMPLETE:e instanceof Um&&(0===e.code||1===e.code)?Jo.REDIRECTING:Jo.FAILED),Cn(e=>e!==Jo.REDIRECTING),Si(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(C_).afterPreactivation=()=>(i(!0),o.closed?qe(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const D_=new s.OlP(af?"Router Initializer":"");let I_;try{I_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{I_=!1}let cf,ar=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function fs(n){return n===Jf}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!I_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PC=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function OC(){if(cf)return cf;if("object"!=typeof document||!document)return cf=new Set(PC),cf;let n=document.createElement("input");return cf=new Set(PC.filter(t=>(n.setAttribute("type",t),n.type===t))),cf}let Ya,uu,$n,T_;function Ss(n){return function RA(){if(null==Ya&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ya=!0}))}finally{Ya=Ya||!1}return Ya}()?n:!!n.capture}function PA(){if(null==$n){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return $n=!1,$n;if("scrollBehavior"in document.documentElement.style)$n=!0;else{const n=Element.prototype.scrollTo;$n=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return $n}function df(){if("object"!=typeof document||!document)return 0;if(null==uu){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),uu=0,0===n.scrollLeft&&(n.scrollLeft=1,uu=0===n.scrollLeft?1:2),n.remove()}return uu}function S_(n){if(function OA(){if(null==T_){const n=typeof document<"u"?document.head:null;T_=!(!n||!n.createShadowRoot&&!n.attachShadow)}return T_}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function op(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function es(n){return n.composedPath?n.composedPath()[0]:n.target}function A_(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function uf(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var dp=U(4986);function O_(n,t=dp.z){return(0,Qn.e)((e,i)=>{let r=null,o=null,l=null;const u=()=>{if(r){r.unsubscribe(),r=null;const _=o;o=null,i.next(_)}};function m(){const _=l+n,b=t.now();if(b<_)return r=this.schedule(void 0,_-b),void i.add(r);u()}e.subscribe((0,si.x)(i,_=>{o=_,l=t.now(),r||(r=t.schedule(m,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{o=r=null}))})}function YC(n){return Cn((t,e)=>n<=e)}function Hc(n,t=Hh.y){return n=n??KC,(0,Qn.e)((e,i)=>{let r,o=!0;e.subscribe((0,si.x)(i,l=>{const u=t(l);(o||!n(r,u))&&(o=!1,r=u,i.next(l))}))})}function KC(n,t){return n===t}var QC=U(5032);function Ln(n){return(0,Qn.e)((t,e)=>{(0,Es.Xf)(n).subscribe((0,si.x)(e,()=>e.complete(),QC.Z)),!e.closed&&t.subscribe(e)})}function Ht(n){return null!=n&&"false"!=`${n}`}function oa(n,t=0){return function XC(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function up(n){return Array.isArray(n)?n:[n]}function wr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ai(n){return n instanceof s.SBq?n.nativeElement:n}let JC=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vM=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ai(e);return new Kn.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new st.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(JC))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eE=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=Ht(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=oa(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(O_(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vM),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),jc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[JC]}),n})();const N_=new Set;let _o,yM=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):hp}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function F_(n){if(!N_.has(n))try{_o||(_o=document.createElement("style"),_o.setAttribute("type","text/css"),document.head.appendChild(_o)),_o.sheet&&(_o.sheet.insertRule(`@media ${n} {body{ }}`,0),N_.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ar))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hp(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let bM=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new st.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return tE(up(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Mm(tE(up(e)).map(l=>this._registerQuery(l).observable));return o=km(o.pipe(Si(1)),o.pipe(YC(1),O_(0))),o.pipe((0,je.U)(l=>{const u={matches:!1,breakpoints:{}};return l.forEach(({matches:m,query:_})=>{u.matches=u.matches||m,u.breakpoints[_]=m}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Kn.y(l=>{const u=m=>this._zone.run(()=>l.next(m));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(eo(i),(0,je.U)(({matches:l})=>({query:e,matches:l})),Ln(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yM),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tE(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class bb{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new st.x,this._typeaheadSubscription=Hr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new st.x,this.change=new st.x,t instanceof s.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,jn.b)(e=>this._pressedLetters.push(e)),O_(t),Cn(()=>this._pressedLetters.length>0),(0,je.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,l=i[o];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(o<l?o:l-1,-1);break}return;default:return void((r||uf(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class cE extends bb{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let mp=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function dE(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function CM(n){try{return n.frameElement}catch{return null}}(function _E(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===xb(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=xb(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function gE(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function EM(n){return!function uE(n){return function fE(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function wb(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function hE(n){return function mE(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||pE(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ar))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pE(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function xb(n){if(!pE(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class vE{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Si(1)).subscribe(t)}}let Pr=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new vE(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(mp),s.LFG(s.R0b),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gp(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function hu(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const IM=new s.OlP("cdk-input-modality-detector-options"),Cb={ignoreKeys:[18,17,224,91,16]},fu=Ss({passive:!0,capture:!0});let TM=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new zr(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(u=>u===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=es(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(gp(l)?"keyboard":"mouse"),this._mostRecentTarget=es(l))},this._onTouchstart=l=>{hu(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=es(l))},this._options={...Cb,...o},this.modalityDetected=this._modality.pipe(YC(1)),this.modalityChanged=this.modalityDetected.pipe(Hc()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,fu),r.addEventListener("mousedown",this._onMousedown,fu),r.addEventListener("touchstart",this._onTouchstart,fu)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,fu),document.removeEventListener("mousedown",this._onMousedown,fu),document.removeEventListener("touchstart",this._onTouchstart,fu))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ar),s.LFG(s.R0b),s.LFG(ie),s.LFG(IM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Db=new s.OlP("cdk-focus-monitor-default-options"),Ib=Ss({passive:!0,capture:!0});let $c=(()=>{class n{constructor(e,i,r,o,l){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new st.x,this._rootNodeFocusAndBlurListener=u=>{for(let _=es(u);_;_=_.parentElement)"focus"===u.type?this._onFocus(u,_):this._onBlur(u,_)},this._document=o,this._detectionMode=l?.detectionMode||0}monitor(e,i=!1){const r=Ai(e);if(!this._platform.isBrowser||1!==r.nodeType)return qe(null);const o=S_(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const u={checkChildren:i,subject:new st.x,rootNode:o};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const i=Ai(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Ai(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([u,m])=>this._originChanged(u,i,m)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=es(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ib),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ib)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ln(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ib),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ib),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let l=0;l<o.length;l++)if(o[l].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(ar),s.LFG(TM),s.LFG(ie,8),s.LFG(Db,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tb="cdk-high-contrast-black-on-white",mu="cdk-high-contrast-white-on-black",Sb="cdk-high-contrast-active";let Ab=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(bM).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Sb,Tb,mu),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Sb,Tb):2===i&&e.add(Sb,mu)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ar),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L_=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ab))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[jc]}),n})();const D2=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function kM(){return(0,s.f3M)(ie)}}),I2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let sa=(()=>{class n{constructor(e){this.value="ltr",this.change=new s.vpe,e&&(this.value=function RM(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?I2.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(D2,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const UM=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function VM(){return!0}});let Mn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!A_()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ab),s.LFG(UM,8),s.LFG(ie))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hf,hf]}),n})();function R2(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Ht(t)}constructor(...t){super(...t),this._disabled=!1}}}function wE(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function HM(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ht(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function jM(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?oa(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function P2(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let ZM=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class V2{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const YM=Ss({passive:!0,capture:!0});class U2{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=es(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const l=o.get(i);l?l.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,YM)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,YM)))}}const CE={enterDuration:225,exitDuration:150},EE=Ss({passive:!0,capture:!0}),QM=["mousedown","touchstart"],DE=["mouseup","mouseleave","touchend","touchcancel"];class pu{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ai(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...CE,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const l=i.radius||function IE(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),u=t-r.left,m=e-r.top,_=o.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=u-l+"px",b.style.top=m-l+"px",b.style.height=2*l+"px",b.style.width=2*l+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);const I=window.getComputedStyle(b),L=I.transitionDuration,j="none"===I.transitionProperty||"0s"===L||"0s, 0s"===L||0===r.width&&0===r.height,Z=new V2(this,b,i,j);b.style.transform="scale3d(1, 1, 1)",Z.state=0,i.persistent||(this._mostRecentTransientRipple=Z);let ne=null;return!j&&(_||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Re=()=>this._finishRippleTransition(Z),Ke=()=>this._destroyRipple(Z);b.addEventListener("transitionend",Re),b.addEventListener("transitioncancel",Ke),ne={onTransitionEnd:Re,onTransitionCancel:Ke}}),this._activeRipples.set(Z,ne),(j||!_)&&this._finishRippleTransition(Z),Z}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...CE,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ai(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,QM.forEach(i=>{pu._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{DE.forEach(e=>{this._triggerElement.addEventListener(e,this,EE)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=gp(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!hu(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(QM.forEach(e=>pu._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&DE.forEach(e=>t.removeEventListener(e,this,EE)))}}pu._eventManager=new U2;const TE=new s.OlP("mat-ripple-global-options");let ts=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new pu(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(ar),s.Y36(TE,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),_p=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Mn]}),n})(),AE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})(),Ob=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[_p,Nn,Mn,AE]}),n})();const RE=["*",[["mat-toolbar-row"]]],nk=["*","mat-toolbar-row"],Nb=wE(class{constructor(n){this._elementRef=n}});let zl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Wc=(()=>{class n extends Nb{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ar),s.Y36(ie))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,zl,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:nk,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(RE),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Fb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Mn]}),n})();const PE=["mat-button",""],rk=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],G2=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Lb=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],OE=wE(R2(HM(class{constructor(n){this._elementRef=n}})));let NE=(()=>{class n extends OE{constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,s.f3M)($c),this._isFab=!1;const l=e.nativeElement.classList;for(const u of Lb)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(m=>{l.add(m)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(ts,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},features:[s.qOj]}),n})(),ff=(()=>{class n extends NE{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ar),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:PE,ngContentSelectors:G2,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(s.F$t(rk),s._UZ(0,"span",0),s.Hsn(1),s.TgZ(2,"span",1),s.Hsn(3,1),s.qZA(),s.Hsn(4,2),s._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(s.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),s.xp6(6),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[ts],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),B_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,_p,Mn]}),n})();var nB=U(1144);const iB=["addListener","removeListener"],rB=["addEventListener","removeEventListener"],oB=["on","off"];function vp(n,t,e,i){if((0,Ur.m)(e)&&(i=e,e=void 0),i)return vp(n,t,e).pipe(Sh(i));const[r,o]=function LE(n){return(0,Ur.m)(n.addEventListener)&&(0,Ur.m)(n.removeEventListener)}(n)?rB.map(l=>u=>n[l](t,u,e)):function fk(n){return(0,Ur.m)(n.addListener)&&(0,Ur.m)(n.removeListener)}(n)?iB.map(yp(n,t)):function mk(n){return(0,Ur.m)(n.on)&&(0,Ur.m)(n.off)}(n)?oB.map(yp(n,t)):[];if(!r&&(0,nB.z)(n))return(0,Fn.z)(l=>vp(l,t,e))((0,Es.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Kn.y(l=>{const u=(...m)=>l.next(1<m.length?m:m[0]);return r(u),()=>o(u)})}function yp(n,t){return e=>i=>n[e](t,i)}var qc=U(4408);const mf={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=mf;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Hr.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=mf;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=mf;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var V_=U(7565);const U_=new class pk extends V_.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Vb extends qc.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=mf.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(mf.cancelAnimationFrame(e),t._scheduled=void 0)}});let VE,z_=1;const Ub={};function gk(n){return n in Ub&&(delete Ub[n],!0)}const sB={setImmediate(n){const t=z_++;return Ub[t]=!0,VE||(VE=Promise.resolve()),VE.then(()=>gk(t)&&n()),t},clearImmediate(n){gk(n)}},{setImmediate:vk,clearImmediate:yk}=sB,H_={setImmediate(...n){const{delegate:t}=H_;return(t?.setImmediate||vk)(...n)},clearImmediate(n){const{delegate:t}=H_;return(t?.clearImmediate||yk)(n)},delegate:void 0},zE=new class UE extends V_.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class bk extends qc.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=H_.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(H_.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var Ck=U(3532);function j_(n=0,t,e=dp.P){let i=-1;return null!=t&&((0,Ck.K)(t)?e=t:i=t),new Kn.y(r=>{let o=function HE(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let l=0;return e.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function jE(n,t=dp.z){return function xk(n){return(0,Qn.e)((t,e)=>{let i=!1,r=null,o=null,l=!1;const u=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const _=r;r=null,e.next(_)}l&&e.complete()},m=()=>{o=null,l&&e.complete()};t.subscribe((0,si.x)(e,_=>{i=!0,r=_,o||(0,Es.Xf)(n(_)).subscribe(o=(0,si.x)(e,u,m))},()=>{l=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>j_(n,t))}const $E=["contentWrapper"],zb=["*"],Ek=new s.OlP("VIRTUAL_SCROLL_STRATEGY");let gu=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new st.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Kn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(jE(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Cn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ai(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>vp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(ar),s.LFG(ie,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_u=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new st.x,this._elementScrolled=new Kn.y(l=>this.ngZone.runOutsideAngular(()=>vp(this.elementRef.nativeElement,"scroll").pipe(Ln(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=df()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==df()?e.left=e.right:1==df()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;PA()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==e?e=l?r:i:"end"==e&&(e=l?i:r),l&&2==df()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:l&&1==df()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(gu),s.Y36(s.R0b),s.Y36(sa,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),bp=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new st.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(jE(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ar),s.LFG(s.R0b),s.LFG(ie,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ik=new s.OlP("VIRTUAL_SCROLLABLE");let cB=(()=>{class n extends _u{constructor(e,i,r,o){super(e,i,r,o)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(gu),s.Y36(s.R0b),s.Y36(sa,8))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const dB=typeof requestAnimationFrame<"u"?U_:zE;let uB=(()=>{class n extends cB{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Ht(e)}constructor(e,i,r,o,l,u,m,_){super(e,u,r,l),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=_,this._platform=(0,s.f3M)(ar),this._detachedSubject=new st.x,this._renderedRangeSubject=new st.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Kn.y(b=>this._scrollStrategy.scrolledIndexChange.subscribe(I=>Promise.resolve().then(()=>this.ngZone.run(()=>b.next(I))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Hr.w0.EMPTY,this._viewportChanges=m.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(eo(null),jE(0,dB)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Ln(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function Tk(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const o="horizontal"==this.orientation,l=o?"X":"Y";let m=`translate${l}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(m+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=m&&(this._renderedContentTransform=m,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",o="right",l="rtl"==this.dir?.value;i="start"==e?l?o:r:"end"==e?l?r:o:e||("horizontal"===this.orientation?"left":"top");const u=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-u}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Ek,8),s.Y36(sa,8),s.Y36(gu),s.Y36(bp),s.Y36(Ik,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&s.Gf($E,7),2&e){let r;s.iGM(r=s.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[s._Bn([{provide:_u,useFactory:(t,e)=>t||e,deps:[[new s.FiY,new s.tBr(Ik)],n]}]),s.qOj,s.jDz],ngContentSelectors:zb,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(3),s.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),a=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),c=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hf,a,uB,hf,a]}),n})();var d=U(6451);class h{}class f{}const g="*";function y(n,t){return{type:7,name:n,definitions:t,options:{}}}function E(n,t=null){return{type:4,styles:t,timings:n}}function S(n,t=null){return{type:2,steps:n,options:t}}function P(n){return{type:6,styles:n,offset:null}}function H(n,t,e){return{type:0,name:n,styles:t,options:e}}function oe(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Le(n){Promise.resolve().then(n)}class zt{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Le(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class pi{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?Le(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==o&&this._onFinish()}),l.onDestroy(()=>{++i==o&&this._onDestroy()}),l.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,u)=>Math.max(l,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Mi="!",Hb=["*"],JG=["content"];function e5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function t5(n,t){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const n5=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],r5=["mat-drawer","mat-drawer-content","*"];function o5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function s5(n,t){1&n&&(s.TgZ(0,"mat-sidenav-content"),s.Hsn(1,2),s.qZA())}const a5=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],l5=["mat-sidenav","mat-sidenav-content","*"],hB={transformDrawer:y("transform",[H("open, open-instant",P({transform:"none",visibility:"visible"})),H("void",P({"box-shadow":"none",visibility:"hidden"})),oe("void => open-instant",E("0ms")),oe("void <=> open, open-instant => void",E("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},d5=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function u5(){return!1}}),Sk=new s.OlP("MAT_DRAWER_CONTAINER");let GE=(()=>{class n extends _u{constructor(e,i,r,o,l){super(r,o,l),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>mB)),s.Y36(s.SBq),s.Y36(gu),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:_u,useExisting:n}]),s.qOj],ngContentSelectors:Hb,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),fB=(()=>{class n{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Ht(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Ht(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Ht(e))}constructor(e,i,r,o,l,u,m,_){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=l,this._interactivityChecker=u,this._doc=m,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new st.x,this._animationEnd=new st.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(Cn(b=>b),(0,je.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Cn(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),My(void 0)),this._closedStream=this.openedChange.pipe(Cn(b=>!b),(0,je.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Cn(b=>b.fromState!==b.toState&&"void"===b.toState),My(void 0)),this._destroyed=new st.x,this.onPositionChanged=new s.vpe,this._modeChanged=new st.x,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{vp(this._elementRef.nativeElement,"keydown").pipe(Cn(b=>27===b.keyCode&&!this.disableClose&&!uf(b)),Ln(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe(Hc((b,I)=>b.fromState===I.fromState&&b.toState===I.toState)).subscribe(b=>{const{fromState:I,toState:R}=b;(0===R.indexOf("open")&&"void"===I||"void"===R&&0===I.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Si(1)).subscribe(l=>o(l?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Pr),s.Y36($c),s.Y36(ar),s.Y36(s.R0b),s.Y36(mp),s.Y36(ie,8),s.Y36(Sk,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&s.Gf(JG,5),2&e){let r;s.iGM(r=s.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&s.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(s.uIk("align",null),s.d8E("@transform",i._animationState),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Hb,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[_u],encapsulation:2,data:{animation:[hB.transformDrawer]},changeDetection:0}),n})(),mB=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Ht(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Ht(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,o,l,u=!1,m){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=m,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new st.x,this._doCheckSubject=new st.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new st.x,e&&e.change.pipe(Ln(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),l.change().pipe(Ln(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=u}ngAfterContentInit(){this._allDrawers.changes.pipe(eo(this._allDrawers),Ln(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(eo(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(O_(10),Ln(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Cn(i=>i.fromState!==i.toState),Ln(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Ln(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Ln(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Si(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Ln((0,d.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(sa,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(bp),s.Y36(d5),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,GE,5),s.Suo(r,fB,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(GE,5),2&e){let r;s.iGM(r=s.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:Sk,useExisting:n}])],ngContentSelectors:r5,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(n5),s.YNc(0,e5,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,t5,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[Hi,GE],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),Ak=(()=>{class n extends GE{constructor(e,i,r,o,l){super(e,i,r,o,l)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>pB)),s.Y36(s.SBq),s.Y36(gu),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:_u,useExisting:n}]),s.qOj],ngContentSelectors:Hb,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),h5=(()=>{class n extends fB{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Ht(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=oa(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=oa(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(s.uIk("align",null),s.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[s.qOj],ngContentSelectors:Hb,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[_u],encapsulation:2,data:{animation:[hB.transformDrawer]},changeDetection:0}),n})(),pB=(()=>{class n extends mB{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Ak,5),s.Suo(r,h5,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[s._Bn([{provide:Sk,useExisting:n}]),s.qOj],ngContentSelectors:l5,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(a5),s.YNc(0,o5,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,s5,2,0,"mat-sidenav-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[Hi,Ak],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),f5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Nn,Mn,a,a,Mn]}),n})();const m5=["*"];let p5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-navigation"]],ngContentSelectors:m5,decls:15,vars:3,consts:[[1,"bg-cadetblue","text-ghostwhite"],[1,"d-flex-center"],[1,"font-family"],["mat-button","",1,"mx-2",3,"routerLink"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"mat-toolbar",0)(1,"div",1)(2,"div",2)(3,"span"),s._uU(4,"StrefaDwuboju"),s.qZA()()(),s.TgZ(5,"div")(6,"button",3),s._uU(7," Treningi "),s.qZA(),s.TgZ(8,"button",3),s._uU(9," Podopieczni"),s.qZA(),s.TgZ(10,"button",3),s._uU(11,"Login"),s.qZA()()(),s.TgZ(12,"mat-sidenav-container")(13,"mat-sidenav-content"),s.Hsn(14),s.qZA()()),2&e&&(s.xp6(6),s.Q6J("routerLink","/training-plans"),s.xp6(2),s.Q6J("routerLink","/users-list"),s.xp6(2),s.Q6J("routerLink","/login"))},dependencies:[Wc,cu,ff,pB,Ak],encapsulation:2,changeDetection:0}),n})(),g5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"app-navigation"),s._UZ(1,"router-outlet"),s.qZA())},dependencies:[Jh,p5]}),n})();var In=U(4976);function Mk(){return(0,Qn.e)((n,t)=>{let e,i=!1;n.subscribe((0,si.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var lt,Hl=U(2011),_5=(U(9568),U(3942)),De=U(5861),ns=U(6881),jb=U(4859),Zc=U(1877),re=U(2090),v5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jl={},kk=kk||{},ln=v5||self;function WE(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function $b(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Rk="closure_uid_"+(1e9*Math.random()>>>0),b5=0;function w5(n,t,e){return n.call.apply(n.bind,arguments)}function x5(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Ro(n,t,e){return(Ro=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w5:x5).apply(null,arguments)}function qE(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function no(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var l=Array(arguments.length-2),u=2;u<arguments.length;u++)l[u-2]=arguments[u];return t.prototype[r].apply(i,l)}}function pf(){this.s=this.s,this.o=this.o}pf.prototype.s=!1,pf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function y5(n){Object.prototype.hasOwnProperty.call(n,Rk)&&n[Rk]||(n[Rk]=++b5)}(this)},pf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gB=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function Pk(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function _B(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(WE(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let l=0;l<o;l++)n[r+l]=i[l]}else n.push(i)}}function Po(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Po.prototype.h=function(){this.defaultPrevented=!0};var E5=function(){if(!ln.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ln.addEventListener("test",()=>{},t),ln.removeEventListener("test",()=>{},t)}catch{}return n}();function Gb(n){return/^[\s\xa0]*$/.test(n)}function ZE(){var n=ln.navigator;return n&&(n=n.userAgent)?n:""}function Yc(n){return-1!=ZE().indexOf(n)}function Ok(n){return Ok[" "](n),n}Ok[" "]=function(){};var Fk,n,I5=Yc("Opera"),$_=Yc("Trident")||Yc("MSIE"),vB=Yc("Edge"),Nk=vB||$_,yB=Yc("Gecko")&&!(-1!=ZE().toLowerCase().indexOf("webkit")&&!Yc("Edge"))&&!(Yc("Trident")||Yc("MSIE"))&&!Yc("Edge"),T5=-1!=ZE().toLowerCase().indexOf("webkit")&&!Yc("Edge");function bB(){var n=ln.document;return n?n.documentMode:void 0}e:{var Lk="",Bk=(n=ZE(),yB?/rv:([^\);]+)(\)|;)/.exec(n):vB?/Edge\/([\d\.]+)/.exec(n):$_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):T5?/WebKit\/(\S+)/.exec(n):I5?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Bk&&(Lk=Bk?Bk[1]:""),$_){var Vk=bB();if(null!=Vk&&Vk>parseFloat(Lk)){Fk=String(Vk);break e}}Fk=Lk}var S5=ln.document&&$_&&(bB()||parseInt(Fk,10))||void 0;function Wb(n,t){if(Po.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(yB){e:{try{Ok(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:A5[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wb.$.h.call(this)}}no(Wb,Po);var A5={2:"touch",3:"pen",4:"mouse"};Wb.prototype.h=function(){Wb.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qb="closure_listenable_"+(1e6*Math.random()|0),M5=0;function k5(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++M5,this.fa=this.ia=!1}function YE(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function zk(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function xB(n){const t={};for(const e in n)t[e]=n[e];return t}const CB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function EB(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<CB.length;o++)e=CB[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function KE(n){this.src=n,this.g={},this.h=0}function Hk(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=gB(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(YE(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function jk(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}KE.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var l=jk(n,t,i,r);return-1<l?(t=n[l],e||(t.ia=!1)):((t=new k5(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var $k="closure_lm_"+(1e6*Math.random()|0),Gk={};function DB(n,t,e,i,r){if(i&&i.once)return TB(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)DB(n,t[o],e,i,r);return null}return e=Yk(e),n&&n[qb]?n.O(t,e,$b(i)?!!i.capture:!!i,r):IB(n,t,e,!1,i,r)}function IB(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var l=$b(r)?!!r.capture:!!r,u=qk(n);if(u||(n[$k]=u=new KE(n)),(e=u.add(t,e,i,l,o)).proxy)return e;if(i=function P5(){const t=O5;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)E5||(r=l),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(AB(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function TB(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)TB(n,t[o],e,i,r);return null}return e=Yk(e),n&&n[qb]?n.P(t,e,$b(i)?!!i.capture:!!i,r):IB(n,t,e,!0,i,r)}function SB(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)SB(n,t[o],e,i,r);else i=$b(i)?!!i.capture:!!i,e=Yk(e),n&&n[qb]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=jk(o=n.g[t],e,i,r))&&(YE(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=qk(n))&&(t=n.g[t.toString()],n=-1,t&&(n=jk(t,e,i,r)),(e=-1<n?t[n]:null)&&Wk(e))}function Wk(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[qb])Hk(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(AB(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=qk(t))?(Hk(e,n),0==e.h&&(e.src=null,t[$k]=null)):YE(n)}}}function AB(n){return n in Gk?Gk[n]:Gk[n]="on"+n}function O5(n,t){if(n.fa)n=!0;else{t=new Wb(t,this);var e=n.listener,i=n.la||n.src;n.ia&&Wk(n),n=e.call(i,t)}return n}function qk(n){return(n=n[$k])instanceof KE?n:null}var Zk="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yk(n){return"function"==typeof n?n:(n[Zk]||(n[Zk]=function(t){return n.handleEvent(t)}),n[Zk])}function io(){pf.call(this),this.i=new KE(this),this.S=this,this.J=null}function vo(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Po(t,n);else if(t instanceof Po)t.target=t.target||n;else{var r=t;EB(t=new Po(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var l=t.g=e[o];r=QE(l,i,!0,t)&&r}if(r=QE(l=t.g=n,i,!0,t)&&r,r=QE(l,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=QE(l=t.g=e[o],i,!1,t)&&r}function QE(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var l=t[o];if(l&&!l.fa&&l.capture==e){var u=l.listener,m=l.la||l.src;l.ia&&Hk(n.i,l),r=!1!==u.call(m,i)&&r}}return r&&!i.defaultPrevented}no(io,pf),io.prototype[qb]=!0,io.prototype.removeEventListener=function(n,t,e,i){SB(this,n,t,e,i)},io.prototype.N=function(){if(io.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)YE(e[i]);delete n.g[t],n.h--}}this.J=null},io.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},io.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Kk=ln.JSON.stringify;function F5(){var n=Qk;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var MB=new class N5{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new B5,n=>n.reset());class B5{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function V5(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function U5(n){ln.setTimeout(()=>{throw n},0)}let Zb,Yb=!1,Qk=new class L5{constructor(){this.h=this.g=null}add(t,e){const i=MB.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},kB=()=>{const n=ln.Promise.resolve(void 0);Zb=()=>{n.then(z5)}};var z5=()=>{for(var n;n=F5();){try{n.h.call(n.g)}catch(e){U5(e)}var t=MB;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Yb=!1};function XE(n,t){io.call(this),this.h=n||1,this.g=t||ln,this.j=Ro(this.qb,this),this.l=Date.now()}function Xk(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Jk(n,t,e){if("function"==typeof n)e&&(n=Ro(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ro(n.handleEvent,n)}return 2147483647<Number(t)?-1:ln.setTimeout(n,t||0)}function RB(n){n.g=Jk(()=>{n.g=null,n.i&&(n.i=!1,RB(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}no(XE,io),(lt=XE.prototype).ga=!1,lt.T=null,lt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vo(this,"tick"),this.ga&&(Xk(this),this.start()))}},lt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.N=function(){XE.$.N.call(this),Xk(this),delete this.g};class H5 extends pf{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:RB(this)}N(){super.N(),this.g&&(ln.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kb(n){pf.call(this),this.h=n,this.g={}}no(Kb,pf);var PB=[];function OB(n,t,e,i){Array.isArray(e)||(e&&(PB[0]=e.toString()),e=PB);for(var r=0;r<e.length;r++){var o=DB(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function NB(n){zk(n.g,function(t,e){this.g.hasOwnProperty(e)&&Wk(t)},n),n.g={}}function JE(){this.g=!0}function G_(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function W5(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var l=1;l<r.length;l++)r[l]=""}}}return Kk(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Kb.prototype.N=function(){Kb.$.N.call(this),NB(this)},Kb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},JE.prototype.Ea=function(){this.g=!1},JE.prototype.info=function(){};var wp={},FB=null;function eD(){return FB=FB||new io}function LB(n){Po.call(this,wp.Ta,n)}function Qb(n){const t=eD();vo(t,new LB(t))}function BB(n,t){Po.call(this,wp.STAT_EVENT,n),this.stat=t}function is(n){const t=eD();vo(t,new BB(t,n))}function VB(n,t){Po.call(this,wp.Ua,n),this.size=t}function Xb(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ln.setTimeout(function(){n()},t)}wp.Ta="serverreachability",no(LB,Po),wp.STAT_EVENT="statevent",no(BB,Po),wp.Ua="timingevent",no(VB,Po);var tD={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},UB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function eR(){}function HB(){}eR.prototype.h=null;var iR,Jb={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tR(){Po.call(this,"d")}function nR(){Po.call(this,"c")}function nD(){}function e0(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Kb(this),this.P=q5,this.V=new XE(n=Nk?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new jB}function jB(){this.i=null,this.g="",this.h=!1}no(tR,Po),no(nR,Po),no(nD,eR),nD.prototype.g=function(){return new XMLHttpRequest},nD.prototype.i=function(){return{}},iR=new nD;var q5=45e3,rR={},iD={};function oR(n,t,e){n.L=1,n.v=aD(vu(t)),n.s=e,n.S=!0,$B(n,null)}function $B(n,t){n.G=Date.now(),t0(n),n.A=vu(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),eV(e.i,"t",i),n.C=0,e=n.l.J,n.h=new jB,n.g=EV(n.l,e?t:null,!n.s),0<n.O&&(n.M=new H5(Ro(n.Pa,n,n.g),n.O)),OB(n.U,n.g,"readystatechange",n.nb),t=n.I?xB(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Qb(),function j5(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var l="",u=o.split("&"),m=0;m<u.length;m++){var _=u[m].split("=");if(1<_.length){var b=_[0];_=_[1];var I=b.split("_");l=2<=I.length&&"type"==I[1]?l+(b+"=")+_+"&":l+(b+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function GB(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function WB(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=Z5(n,e),r==iD){4==t&&(n.o=4,is(14),i=!1),G_(n.j,n.m,null,"[Incomplete Response]");break}if(r==rR){n.o=4,is(15),G_(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}G_(n.j,n.m,r,null),sR(n,r)}GB(n)&&r!=iD&&r!=rR&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,is(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),fR(t),t.M=!0,is(11))):(G_(n.j,n.m,e,"[Invalid Chunked Response]"),xp(n),n0(n))}function Z5(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?iD:(e=Number(t.substring(e,i)),isNaN(e)?rR:(i+=1)+e>t.length?iD:(t=t.slice(i,i+e),n.C=i+e,t))}function t0(n){n.Y=Date.now()+n.P,qB(n,n.P)}function qB(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Xb(Ro(n.lb,n),t)}function rD(n){n.B&&(ln.clearTimeout(n.B),n.B=null)}function n0(n){0==n.l.H||n.J||bV(n.l,n)}function xp(n){rD(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,Xk(n.V),NB(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function sR(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||aR(e.i,n)))if(!n.K&&aR(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;fD(e),uD(e)}hR(e),is(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Xb(Ro(e.ib,e),6e3));if(1>=iV(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Ep(e,11)}else if((n.K||e.g==n)&&fD(e),!Gb(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.V=_[0],_=_[1],2==e.H)if("c"==_[0]){e.K=_[1],e.pa=_[2];const b=_[3];null!=b&&(e.ra=b,e.l.info("VER="+e.ra));const I=_[4];null!=I&&(e.Ga=I,e.l.info("SVER="+e.Ga));const R=_[5];null!=R&&"number"==typeof R&&0<R&&(e.L=i=1.5*R,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const L=n.g;if(L){const j=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var o=i.i;o.g||-1==j.indexOf("spdy")&&-1==j.indexOf("quic")&&-1==j.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(lR(o,o.h),o.h=null))}if(i.F){const Z=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;Z&&(i.Da=Z,ki(i.I,i.F,Z))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var l=n;if((i=e).wa=CV(i,i.J?i.pa:null,i.Y),l.K){rV(i.i,l);var u=l,m=i.L;m&&u.setTimeout(m),u.B&&(rD(u),t0(u)),i.g=l}else vV(i);0<e.j.length&&hD(e)}else"stop"!=_[0]&&"close"!=_[0]||Ep(e,7);else 3==e.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Ep(e,7):uR(e):"noop"!=_[0]&&e.h&&e.h.Aa(_),e.A=0)}Qb()}catch{}}function ZB(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(WE(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function K5(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(WE(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function Y5(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(WE(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(lt=e0.prototype).setTimeout=function(n){this.P=n},lt.nb=function(n){n=n.target;const t=this.M;t&&3==Kc(n)?t.l():this.Pa(n)},lt.Pa=function(n){try{if(n==this.g)e:{const b=Kc(this.g);var t=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||Nk||this.g&&(this.h.h||this.g.ja()||hV(this.g)))){this.J||4!=b||7==t||Qb(),rD(this);var e=this.g.da();this.ca=e;t:if(GB(this)){var i=hV(this.g);n="";var r=i.length,o=4==Kc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xp(this),n0(this);var l="";break t}this.h.i=new ln.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==e,function $5(n,t,e,i,r,o,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+l})}(this.j,this.u,this.A,this.m,this.W,b,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,m=this.g;if((u=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gb(u)){var _=u;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,is(12),xp(this),n0(this);break e}G_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sR(this,e)}this.S?(WB(this,b,l),Nk&&this.i&&3==b&&(OB(this.U,this.V,"tick",this.mb),this.V.start())):(G_(this.j,this.m,l,null),sR(this,l)),4==b&&xp(this),this.i&&!this.J&&(4==b?bV(this.l,this):(this.i=!1,t0(this)))}else(function mW(n){const t={};n=(n.g&&2<=Kc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Gb(n[i]))continue;var e=V5(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function R5(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<l.indexOf("Unknown SID")?(this.o=3,is(12)):(this.o=0,is(13)),xp(this),n0(this)}}}catch{}},lt.mb=function(){if(this.g){var n=Kc(this.g),t=this.g.ja();this.C<t.length&&(rD(this),WB(this,n,t),this.i&&4!=n&&t0(this))}},lt.cancel=function(){this.J=!0,xp(this)},lt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function G5(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Qb(),is(17)),xp(this),this.o=2,n0(this)):qB(this,this.Y-n)};var YB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cp(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Cp){this.h=n.h,oD(this,n.j),this.s=n.s,this.g=n.g,sD(this,n.m),this.l=n.l;var t=n.i,e=new s0;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),KB(this,e),this.o=n.o}else n&&(t=String(n).match(YB))?(this.h=!1,oD(this,t[1]||"",!0),this.s=r0(t[2]||""),this.g=r0(t[3]||"",!0),sD(this,t[4]),this.l=r0(t[5]||"",!0),KB(this,t[6]||"",!0),this.o=r0(t[7]||"")):(this.h=!1,this.i=new s0(null,this.h))}function vu(n){return new Cp(n)}function oD(n,t,e){n.j=e?r0(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function sD(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function KB(n,t,e){t instanceof s0?(n.i=t,function iW(n,t){t&&!n.j&&(gf(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(XB(this,i),eV(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=o0(t,tW)),n.i=new s0(t,n.h))}function ki(n,t,e){n.i.set(t,e)}function aD(n){return ki(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function r0(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function o0(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,X5),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function X5(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Cp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(o0(t,QB,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(o0(t,QB,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(o0(e,"/"==e.charAt(0)?eW:J5,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",o0(e,nW)),n.join("")};var QB=/[#\/\?@]/g,J5=/[#\?:]/g,eW=/[#\?]/g,tW=/[#\?@]/g,nW=/#/g;function s0(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function gf(n){n.g||(n.g=new Map,n.h=0,n.i&&function Q5(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function XB(n,t){gf(n),t=W_(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function JB(n,t){return gf(n),t=W_(n,t),n.g.has(t)}function eV(n,t,e){XB(n,t),0<e.length&&(n.i=null,n.g.set(W_(n,t),Pk(e)),n.h+=e.length)}function W_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function tV(n){this.l=n||oW,n=ln.PerformanceNavigationTiming?0<(n=ln.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ln.g&&ln.g.Ka&&ln.g.Ka()&&ln.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=s0.prototype).add=function(n,t){gf(this),this.i=null,n=W_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},lt.forEach=function(n,t){gf(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},lt.ta=function(){gf(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},lt.Z=function(n){gf(this);let t=[];if("string"==typeof n)JB(this,n)&&(t=t.concat(this.g.get(W_(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},lt.set=function(n,t){return gf(this),this.i=null,JB(this,n=W_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},lt.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=o;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var oW=10;function nV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function iV(n){return n.h?1:n.g?n.g.size:0}function aR(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function lR(n,t){n.g?n.g.add(t):n.h=t}function rV(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function oV(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return Pk(n.i)}tV.prototype.cancel=function(){if(this.i=oV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var sW=class{stringify(n){return ln.JSON.stringify(n,void 0)}parse(n){return ln.JSON.parse(n,void 0)}};function aW(){this.g=new sW}function lW(n,t,e){const i=e||"";try{ZB(n,function(r,o){let l=r;$b(r)&&(l=Kk(r)),t.push(i+o+"="+encodeURIComponent(l))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function lD(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function a0(n){this.l=n.fc||null,this.j=n.ob||!1}function cD(n,t){io.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=cR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}no(a0,eR),a0.prototype.g=function(){return new cD(this.l,this.j)},a0.prototype.i=function(n){return function(){return n}}({}),no(cD,io);var cR=0;function sV(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function l0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,c0(n)}function c0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=cD.prototype).open=function(n,t){if(this.readyState!=cR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,c0(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||ln).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,l0(this)),this.readyState=cR},lt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,c0(this)),this.g&&(this.readyState=3,c0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ln.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sV(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},lt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?l0(this):c0(this),3==this.readyState&&sV(this)}},lt.Za=function(n){this.g&&(this.response=this.responseText=n,l0(this))},lt.Ya=function(n){this.g&&(this.response=n,l0(this))},lt.ka=function(){this.g&&l0(this)},lt.setRequestHeader=function(n,t){this.v.append(n,t)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(cD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var dW=ln.JSON.parse;function lr(n){io.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=aV,this.L=this.M=!1}no(lr,io);var aV="",uW=/^https?$/i,hW=["POST","PUT"];function lV(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,cV(n),dD(n)}function cV(n){n.F||(n.F=!0,vo(n,"complete"),vo(n,"error"))}function dV(n){if(n.h&&typeof kk<"u"&&(!n.C[1]||4!=Kc(n)||2!=n.da()))if(n.v&&4==Kc(n))Jk(n.La,0,n);else if(vo(n,"readystatechange"),4==Kc(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===l){var r=String(n.I).match(YB)[1]||null;!r&&ln.self&&ln.self.location&&(r=ln.self.location.protocol.slice(0,-1)),i=!uW.test(r?r.toLowerCase():"")}e=i}if(e)vo(n,"complete"),vo(n,"success");else{n.m=6;try{var o=2<Kc(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",cV(n)}}finally{dD(n)}}}function dD(n,t){if(n.g){uV(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||vo(n,"ready");try{e.onreadystatechange=i}catch{}}}function uV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ln.clearTimeout(n.A),n.A=null)}function Kc(n){return n.g?n.g.readyState:0}function hV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case aV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function fV(n){let t="";return zk(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function dR(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=fV(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ki(n,t,e))}function d0(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function mV(n){this.Ga=0,this.j=[],this.l=new JE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=d0("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=d0("baseRetryDelayMs",5e3,n),this.hb=d0("retryDelaySeedMs",1e4,n),this.eb=d0("forwardChannelMaxRetries",2,n),this.xa=d0("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new tV(n&&n.concurrentRequestLimit),this.Ja=new aW,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function uR(n){if(pV(n),3==n.H){var t=n.W++,e=vu(n.I);if(ki(e,"SID",n.K),ki(e,"RID",t),ki(e,"TYPE","terminate"),u0(n,e),(t=new e0(n,n.l,t)).L=2,t.v=aD(vu(e)),e=!1,ln.navigator&&ln.navigator.sendBeacon)try{e=ln.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&ln.Image&&((new Image).src=t.v,e=!0),e||(t.g=EV(t.l,null),t.g.ha(t.v)),t.G=Date.now(),t0(t)}xV(n)}function uD(n){n.g&&(fR(n),n.g.cancel(),n.g=null)}function pV(n){uD(n),n.u&&(ln.clearTimeout(n.u),n.u=null),fD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ln.clearTimeout(n.m),n.m=null)}function hD(n){if(!nV(n.i)&&!n.m){n.m=!0;var t=n.Na;Zb||kB(),Yb||(Zb(),Yb=!0),Qk.add(t,n),n.C=0}}function gV(n,t){var e;e=t?t.m:n.W++;const i=vu(n.I);ki(i,"SID",n.K),ki(i,"RID",e),ki(i,"AID",n.V),u0(n,i),n.o&&n.s&&dR(i,n.o,n.s),e=new e0(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=_V(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),lR(n.i,e),oR(e,i,t)}function u0(n,t){n.na&&zk(n.na,function(e,i){ki(t,i,e)}),n.h&&ZB({},function(e,i){ki(t,i,e)})}function _V(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Ro(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const l=["count="+e];-1==o?0<e?(o=r[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let u=!0;for(let m=0;m<e;m++){let _=r[m].g;const b=r[m].map;if(_-=o,0>_)o=Math.max(0,r[m].g-100),u=!1;else try{lW(b,l,"req"+_+"_")}catch{i&&i(b)}}if(u){i=l.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function vV(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Zb||kB(),Yb||(Zb(),Yb=!0),Qk.add(t,n),n.A=0}}function hR(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Xb(Ro(n.Ma,n),wV(n,n.A)),n.A++,0))}function fR(n){null!=n.B&&(ln.clearTimeout(n.B),n.B=null)}function yV(n){n.g=new e0(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=vu(n.wa);ki(t,"RID","rpc"),ki(t,"SID",n.K),ki(t,"AID",n.V),ki(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&ki(t,"TO",n.qa),ki(t,"TYPE","xmlhttp"),u0(n,t),n.o&&n.s&&dR(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=aD(vu(t)),e.s=null,e.S=!0,$B(e,n)}function fD(n){null!=n.v&&(ln.clearTimeout(n.v),n.v=null)}function bV(n,t){var e=null;if(n.g==t){fD(n),fR(n),n.g=null;var i=2}else{if(!aR(n.i,t))return;e=t.F,rV(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;vo(i=eD(),new VB(i,e)),hD(n)}else vV(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function pW(n,t){return!(iV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Xb(Ro(n.Na,n,t),wV(n,n.C)),n.C++,0)))}(n,t)||2==i&&hR(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Ep(n,5);break;case 4:Ep(n,10);break;case 3:Ep(n,6);break;default:Ep(n,2)}}function wV(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Ep(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Ro(n.pb,n);e||(e=new Cp("//www.google.com/images/cleardot.gif"),ln.location&&"http"==ln.location.protocol||oD(e,"https"),aD(e)),function cW(n,t){const e=new JE;if(ln.Image){const i=new Image;i.onload=qE(lD,e,i,"TestLoadImage: loaded",!0,t),i.onerror=qE(lD,e,i,"TestLoadImage: error",!1,t),i.onabort=qE(lD,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=qE(lD,e,i,"TestLoadImage: timeout",!1,t),ln.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else is(2);n.H=0,n.h&&n.h.za(t),xV(n),pV(n)}function xV(n){if(n.H=0,n.ma=[],n.h){const t=oV(n.i);(0!=t.length||0!=n.j.length)&&(_B(n.ma,t),_B(n.ma,n.j),n.i.i.length=0,Pk(n.j),n.j.length=0),n.h.ya()}}function CV(n,t,e){var i=e instanceof Cp?vu(e):new Cp(e);if(""!=i.g)t&&(i.g=t+"."+i.g),sD(i,i.m);else{var r=ln.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Cp(null);i&&oD(o,i),t&&(o.g=t),r&&sD(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&ki(i,e,t),ki(i,"VER",n.ra),u0(n,i),i}function EV(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new lr(e&&n.Ha&&!n.va?new a0({ob:!0}):n.va)).Oa(n.J),t}function DV(){}function mD(){if($_&&!(10<=Number(S5)))throw Error("Environmental error: no available transport.")}function la(n,t){io.call(this),this.g=new mV(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Gb(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Gb(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new q_(this)}function IV(n){tR.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function TV(){nR.call(this),this.status=1}function q_(n){this.g=n}function $l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function mR(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],l=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;l=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(l<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((o=(t=e+((l=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=o+((l=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Jn(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(lt=lr.prototype).Oa=function(n){this.M=n},lt.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():iR.g(),this.C=function zB(n){return n.h||(n.h=n.i())}(this.u?this.u:iR),this.g.onreadystatechange=Ro(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void lV(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=ln.FormData&&n instanceof ln.FormData,!(0<=gB(hW,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of e)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uV(this),0<this.B&&((this.L=function fW(n){return $_&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ro(this.ua,this)):this.A=Jk(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){lV(this,o)}},lt.ua=function(){typeof kk<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vo(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,vo(this,"complete"),vo(this,"abort"),dD(this))},lt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dD(this,!0)),lr.$.N.call(this)},lt.La=function(){this.s||(this.G||this.v||this.l?dV(this):this.kb())},lt.kb=function(){dV(this)},lt.isActive=function(){return!!this.g},lt.da=function(){try{return 2<Kc(this)?this.g.status:-1}catch{return-1}},lt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},lt.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),dW(t)}},lt.Ia=function(){return this.m},lt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=mV.prototype).ra=8,lt.H=1,lt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new e0(this,this.l,n);let o=this.s;if(this.U&&(o?(o=xB(o),EB(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=_V(this,r,t),ki(e=vu(this.I),"RID",n),ki(e,"CVER",22),this.F&&ki(e,"X-HTTP-Session-Id",this.F),u0(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(fV(o)))+"&"+t:this.o&&dR(e,this.o,o)),lR(this.i,r),this.bb&&ki(e,"TYPE","init"),this.P?(ki(e,"$req",t),ki(e,"SID","null"),r.aa=!0,oR(r,e,null)):oR(r,e,t),this.H=2}}else 3==this.H&&(n?gV(this,n):0==this.j.length||nV(this.i)||gV(this))},lt.Ma=function(){if(this.u=null,yV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Xb(Ro(this.jb,this),n)}},lt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,is(10),uD(this),yV(this))},lt.ib=function(){null!=this.v&&(this.v=null,uD(this),hR(this),is(19))},lt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),is(2)):(this.l.info("Failed to ping google.com"),is(1))},lt.isActive=function(){return!!this.h&&this.h.isActive(this)},(lt=DV.prototype).Ba=function(){},lt.Aa=function(){},lt.za=function(){},lt.ya=function(){},lt.isActive=function(){return!0},lt.Va=function(){},mD.prototype.g=function(n,t){return new la(n,t)},no(la,io),la.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;is(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=CV(n,null,n.Y),hD(n)},la.prototype.close=function(){uR(this.g)},la.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Kk(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&hD(t)},la.prototype.N=function(){this.g.h=null,delete this.j,uR(this.g),delete this.g,la.$.N.call(this)},no(IV,tR),no(TV,nR),no(q_,DV),q_.prototype.Ba=function(){vo(this.g,"a")},q_.prototype.Aa=function(n){vo(this.g,new IV(n))},q_.prototype.za=function(n){vo(this.g,new TV)},q_.prototype.ya=function(){vo(this.g,"b")},no($l,function gW(){this.blockSize=-1}),$l.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$l.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)mR(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){mR(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){mR(this,i),r=0;break}}this.h=r,this.i+=t},$l.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var _W={};function pR(n){return-128<=n&&128>n?function D5(n,t){var e=_W;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Jn([0|t],0>t?-1:0)}):new Jn([0|n],0>n?-1:0)}function Qc(n){if(isNaN(n)||!isFinite(n))return Z_;if(0>n)return yo(Qc(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=gR;return new Jn(t,0)}var gR=4294967296,Z_=pR(0),_R=pR(1),AV=pR(16777216);function yu(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Ka(n){return-1==n.h}function yo(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Jn(e,~n.h).add(_R)}function pD(n,t){return n.add(yo(t))}function gD(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function h0(n,t){this.g=n,this.h=t}function _D(n,t){if(yu(t))throw Error("division by zero");if(yu(n))return new h0(Z_,Z_);if(Ka(n))return t=_D(yo(n),t),new h0(yo(t.g),yo(t.h));if(Ka(t))return t=_D(n,yo(t)),new h0(yo(t.g),t.h);if(30<n.g.length){if(Ka(n)||Ka(t))throw Error("slowDivide_ only works with positive integers.");for(var e=_R,i=t;0>=i.X(n);)e=MV(e),i=MV(i);var r=Y_(e,1),o=Y_(i,1);for(i=Y_(i,2),e=Y_(e,2);!yu(i);){var l=o.add(i);0>=l.X(n)&&(r=r.add(e),o=l),i=Y_(i,1),e=Y_(e,1)}return t=pD(n,r.R(t)),new h0(r,t)}for(r=Z_;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),l=(o=Qc(e)).R(t);Ka(l)||0<l.X(n);)l=(o=Qc(e-=i)).R(t);yu(o)&&(o=_R),r=r.add(o),n=pD(n,l)}return new h0(r,n)}function MV(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Jn(e,n.h)}function Y_(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new Jn(r,n.h)}(lt=Jn.prototype).ea=function(){if(Ka(this))return-yo(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:gR+i)*t,t*=gR}return n},lt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(yu(this))return"0";if(Ka(this))return"-"+yo(this).toString(n);for(var t=Qc(Math.pow(n,6)),e=this,i="";;){var r=_D(e,t).g,o=((0<(e=pD(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(yu(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},lt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},lt.X=function(n){return Ka(n=pD(this,n))?-1:yu(n)?0:1},lt.abs=function(){return Ka(this)?yo(this):this},lt.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),l=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,e[r]=(l&=65535)<<16|(o&=65535)}return new Jn(e,-2147483648&e[e.length-1]?-1:0)},lt.R=function(n){if(yu(this)||yu(n))return Z_;if(Ka(this))return Ka(n)?yo(this).R(yo(n)):yo(yo(this).R(n));if(Ka(n))return yo(this.R(yo(n)));if(0>this.X(AV)&&0>n.X(AV))return Qc(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,l=65535&this.D(i),u=n.D(r)>>>16,m=65535&n.D(r);e[2*i+2*r]+=l*m,gD(e,2*i+2*r),e[2*i+2*r+1]+=o*m,gD(e,2*i+2*r+1),e[2*i+2*r+1]+=l*u,gD(e,2*i+2*r+1),e[2*i+2*r+2]+=o*u,gD(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Jn(e,0)},lt.gb=function(n){return _D(this,n).h},lt.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Jn(e,this.h&n.h)},lt.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Jn(e,this.h|n.h)},lt.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Jn(e,this.h^n.h)},mD.prototype.createWebChannel=mD.prototype.g,la.prototype.send=la.prototype.u,la.prototype.open=la.prototype.m,la.prototype.close=la.prototype.close,tD.NO_ERROR=0,tD.TIMEOUT=8,tD.HTTP_ERROR=6,UB.COMPLETE="complete",HB.EventType=Jb,Jb.OPEN="a",Jb.CLOSE="b",Jb.ERROR="c",Jb.MESSAGE="d",io.prototype.listen=io.prototype.O,lr.prototype.listenOnce=lr.prototype.P,lr.prototype.getLastError=lr.prototype.Sa,lr.prototype.getLastErrorCode=lr.prototype.Ia,lr.prototype.getStatus=lr.prototype.da,lr.prototype.getResponseJson=lr.prototype.Wa,lr.prototype.getResponseText=lr.prototype.ja,lr.prototype.send=lr.prototype.ha,lr.prototype.setWithCredentials=lr.prototype.Oa,$l.prototype.digest=$l.prototype.l,$l.prototype.reset=$l.prototype.reset,$l.prototype.update=$l.prototype.j,Jn.prototype.add=Jn.prototype.add,Jn.prototype.multiply=Jn.prototype.R,Jn.prototype.modulo=Jn.prototype.gb,Jn.prototype.compare=Jn.prototype.X,Jn.prototype.toNumber=Jn.prototype.ea,Jn.prototype.toString=Jn.prototype.toString,Jn.prototype.getBits=Jn.prototype.D,Jn.fromNumber=Qc,Jn.fromString=function SV(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return yo(SV(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Qc(Math.pow(t,8)),i=Z_,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+o),t);8>o?(o=Qc(Math.pow(t,o)),i=i.R(o).add(Qc(l))):i=(i=i.R(e)).add(Qc(l))}return i};var vW=jl.createWebChannelTransport=function(){return new mD},yW=jl.getStatEventTarget=function(){return eD()},vR=jl.ErrorCode=tD,bW=jl.EventType=UB,wW=jl.Event=wp,kV=jl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xW=jl.FetchXmlHttpFactory=a0,vD=jl.WebChannel=HB,CW=jl.XhrIo=lr,EW=jl.Md5=$l,K_=jl.Integer=Jn;const RV="@firebase/firestore";class ro{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ro.UNAUTHENTICATED=new ro(null),ro.GOOGLE_CREDENTIALS=new ro("google-credentials-uid"),ro.FIRST_PARTY=new ro("first-party-uid"),ro.MOCK_USER=new ro("mock-user");let Q_="9.23.0";const _f=new Zc.Yd("@firebase/firestore");function yR(){return _f.logLevel}function He(n,...t){if(_f.logLevel<=Zc.in.DEBUG){const e=t.map(bR);_f.debug(`Firestore (${Q_}): ${n}`,...e)}}function xr(n,...t){if(_f.logLevel<=Zc.in.ERROR){const e=t.map(bR);_f.error(`Firestore (${Q_}): ${n}`,...e)}}function Qa(n,...t){if(_f.logLevel<=Zc.in.WARN){const e=t.map(bR);_f.warn(`Firestore (${Q_}): ${n}`,...e)}}function bR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function _t(n="Unexpected state"){const t=`FIRESTORE (${Q_}) INTERNAL ASSERTION FAILED: `+n;throw xr(t),new Error(t)}function It(n,t){n||_t()}function at(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends re.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class PV{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class TW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ro.UNAUTHENTICATED))}shutdown(){}}class SW{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class AW{constructor(t){this.t=t,this.currentUser=ro.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let l=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new $r,t.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const _=l;t.enqueueRetryable((0,De.Z)(function*(){yield _.promise,yield o(i.currentUser)}))},m=_=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(_=>m(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new $r)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(It("string"==typeof i.accessToken),new PV(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return It(null===t||"string"==typeof t),new ro(t)}}class MW{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=ro.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class kW{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new MW(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(ro.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OV{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RW{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=o=>{null!=o.error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.T;return this.T=o.token,He("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(It("string"==typeof e.token),this.T=e.token,new OV(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function PW(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class NV{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=PW(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function on(n,t){return n<t?-1:n>t?1:0}function X_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function FV(n){return n+"\0"}class $i{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Pe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Pe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Pe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return $i.fromMillis(Date.now())}static fromDate(t){return $i.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new $i(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?on(this.nanoseconds,t.nanoseconds):on(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(t){this.timestamp=t}static fromTimestamp(t){return new St(t)}static min(){return new St(new $i(0,0))}static max(){return new St(new $i(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class f0{constructor(t,e,i){void 0===e?e=0:e>t.length&&_t(),void 0===i?i=t.length-e:i>t.length-e&&_t(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===f0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof f0?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),l=e.get(r);if(o<l)return-1;if(o>l)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Tn extends f0{construct(t,e,i){return new Tn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Pe(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Tn(e)}static emptyPath(){return new Tn([])}}const OW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends f0{construct(t,e,i){return new cr(t,e,i)}static isValidIdentifier(t){return OW.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Pe(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if("\\"===u){if(r+1===t.length)throw new Pe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Pe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,r+=2}else"`"===u?(l=!l,r++):"."!==u||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new Pe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new cr(e)}static emptyPath(){return new cr([])}}class nt{constructor(t){this.path=t}static fromPath(t){return new nt(Tn.fromString(t))}static fromName(t){return new nt(Tn.fromString(t).popFirst(5))}static empty(){return new nt(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Tn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Tn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new nt(new Tn(t.slice()))}}class yD{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function wR(n){return n.fields.find(t=>2===t.kind)}function Dp(n){return n.fields.filter(t=>2!==t.kind)}yD.UNKNOWN_ID=-1;class bD{constructor(t,e){this.fieldPath=t,this.kind=e}}class m0{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new m0(0,ca.min())}}function LV(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(1e9===i?new $i(e+1,0):new $i(e,i));return new ca(r,nt.empty(),t)}function BV(n){return new ca(n.readTime,n.key,-1)}class ca{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ca(St.min(),nt.empty(),-1)}static max(){return new ca(St.max(),nt.empty(),-1)}}function xR(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=nt.comparator(n.documentKey,t.documentKey),0!==e?e:on(n.largestBatchId,t.largestBatchId))}const VV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function vf(n){return CR.apply(this,arguments)}function CR(){return CR=(0,De.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==VV)throw n;He("LocalStore","Unexpectedly lost primary lease")}),CR.apply(this,arguments)}class ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ce((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ce?e:ce.resolve(e)}catch(e){return ce.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ce.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ce.reject(e)}static resolve(t){return new ce((e,i)=>{e(t)})}static reject(t){return new ce((e,i)=>{i(t)})}static waitFor(t){return new ce((e,i)=>{let r=0,o=0,l=!1;t.forEach(u=>{++r,u.next(()=>{++o,l&&o===r&&e()},m=>i(m))}),l=!0,o===r&&e()})}static or(t){let e=ce.resolve(!1);for(const i of t)e=e.next(r=>r?ce.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ce((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let m=0;m<o;m++){const _=m;e(t[_]).next(b=>{l[_]=b,++u,u===o&&i(l)},b=>r(b))}})}static doWhile(t,e){return new ce((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class wD{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new $r,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new p0(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=ER(i.target.error);this.v.reject(new p0(t,r))}}static open(t,e,i,r){try{return new wD(e,t.transaction(r,i))}catch(o){throw new p0(e,o)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(He("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new BW(e)}}class Gl{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===Gl.S((0,re.z$)())&&xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return He("SimpleDb","Removing database:",t),Ip(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,re.hl)())return!1;if(Gl.C())return!0;const t=(0,re.z$)(),e=Gl.S(t),i=0<e&&e<10,r=Gl.N(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,De.Z)(function*(){return e.db||(He("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=l=>{i(l.target.result)},o.onblocked=()=>{r(new p0(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=l=>{const u=l.target.error;r("VersionError"===u.name?new Pe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new Pe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new p0(t,u))},o.onupgradeneeded=l=>{He("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',l.oldVersion),e.V.O(l.target.result,o.transaction,l.oldVersion,e.version).next(()=>{He("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,De.Z)(function*(){const l="readonly"===e;let u=0;for(;;){++u;try{o.db=yield o.$(t);const m=wD.open(o.db,t,l?"readonly":"readwrite",i),_=r(m).next(b=>(m.P(),b)).catch(b=>(m.abort(b),ce.reject(b))).toPromise();return _.catch(()=>{}),yield m.R,_}catch(m){const _=m,b="FirebaseError"!==_.name&&u<3;if(He("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),o.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class LW{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Ip(this.L.delete())}}class p0 extends Pe{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function yf(n){return"IndexedDbTransactionError"===n.name}class BW{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(He("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Ip(i)}add(t){return He("SimpleDb","ADD",this.store.name,t,t),Ip(this.store.add(t))}get(t){return Ip(this.store.get(t)).next(e=>(void 0===e&&(e=null),He("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return He("SimpleDb","DELETE",this.store.name,t),Ip(this.store.delete(t))}count(){return He("SimpleDb","COUNT",this.store.name),Ip(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(l,u)=>{o.push(u)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ce((o,l)=>{r.onerror=u=>{l(u.target.error)},r.onsuccess=u=>{o(u.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ce((r,o)=>{i.onerror=l=>{o(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(t,e){He("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,l,u)=>u.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new ce((i,r)=>{e.onerror=o=>{const l=ER(o.target.error);r(l)},e.onsuccess=o=>{const l=o.target.result;l?t(l.primaryKey,l.value).next(u=>{u?l.continue():i()}):i()}})}W(t,e){const i=[];return new ce((r,o)=>{t.onerror=l=>{o(l.target.error)},t.onsuccess=l=>{const u=l.target.result;if(!u)return void r();const m=new LW(u),_=e(u.primaryKey,u.value,m);if(_ instanceof ce){const b=_.catch(I=>(m.done(),ce.reject(I)));i.push(b)}m.isDone?r():null===m.K?u.continue():u.continue(m.K)}}).next(()=>ce.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Ip(n){return new ce((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=ER(i.target.error);e(r)}})}let zV=!1;function ER(n){const t=Gl.S((0,re.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zV||(zV=!0,setTimeout(()=>{throw i},0)),i}}return n}class VW{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;He("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,De.Z)(function*(){e.task=null;try{He("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){yf(i)?He("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield vf(i)}yield e.et(6e4)}))}}class UW{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,De.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,o=!0;return ce.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(l=>{if(null!==l&&!i.has(l))return He("IndexBackiller",`Processing collection: ${l}`),this.it(t,l,r).next(u=>{r-=u,i.add(l)});o=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(t,l).next(()=>this.rt(r,o)).next(u=>(He("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(t,e,u))).next(()=>l.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,o)=>{const l=BV(o);xR(l,i)>0&&(i=l)}),new ca(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let da=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function g0(n){return null==n}function _0(n){return 0===n&&1/n==-1/0}function HV(n){return"number"==typeof n&&Number.isInteger(n)&&!_0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Oo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=jV(t)),t=zW(n.get(e),t);return jV(t)}function zW(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function jV(n){return n+"\x01\x01"}function Xc(n){const t=n.length;if(It(t>=2),2===t)return It("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const l=n.indexOf("\x01",o);switch((l<0||l>e)&&_t(),n.charAt(l+1)){case"\x01":const u=n.substring(o,l);let m;0===r.length?m=u:(r+=u,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(o,l),r+="\0";break;case"\x11":r+=n.substring(o,l+1);break;default:_t()}o=l+2}return new Tn(i)}const $V=["userId","batchId"];function xD(n,t){return[n,Oo(t)]}function GV(n,t,e){return[n,Oo(t),e]}const HW={},jW=["prefixPath","collectionGroup","readTime","documentId"],$W=["prefixPath","collectionGroup","documentId"],GW=["collectionGroup","readTime","prefixPath","documentId"],WW=["canonicalId","targetId"],qW=["targetId","path"],ZW=["path","targetId"],YW=["collectionId","parent"],KW=["indexId","uid"],QW=["uid","sequenceNumber"],XW=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],JW=["indexId","uid","orderedDocumentKey"],e8=["userId","collectionPath","documentId"],t8=["userId","collectionPath","largestBatchId"],n8=["userId","collectionGroup","largestBatchId"],WV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],r8=[...WV,"documentOverlays"],qV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZV=qV,o8=[...ZV,"indexConfiguration","indexState","indexEntries"];class DR extends UV{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function oo(n,t){const e=at(n);return Gl.M(e.ht,t)}function YV(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function bf(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function KV(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class bi{constructor(t,e){this.comparator=t,this.root=e||bo.EMPTY}insert(t,e){return new bi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,bo.BLACK,null,null))}remove(t){return new bi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new CD(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new CD(this.root,t,this.comparator,!1)}getReverseIterator(){return new CD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new CD(this.root,t,this.comparator,!0)}}class CD{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class bo{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??bo.RED,this.left=r??bo.EMPTY,this.right=o??bo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new bo(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return bo.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,bo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,bo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}bo.EMPTY=null,bo.RED=!0,bo.BLACK=!1,bo.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(n,t,e,i,r){return this}insert(n,t,e){return new bo(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ri{constructor(t){this.comparator=t,this.data=new bi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new QV(this.data.getIterator())}getIteratorFrom(t){return new QV(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ri)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ri(this.comparator);return e.data=t,e}}class QV{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function J_(n){return n.hasNext()?n.getNext():void 0}class As{constructor(t){this.fields=t,t.sort(cr.comparator)}static empty(){return new As([])}unionWith(t){let e=new Ri(cr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new As(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return X_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class XV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new XV("Invalid base64 string: "+r):r}}(t);return new Gr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Gr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return on(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Gr.EMPTY_BYTE_STRING=new Gr("");const a8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wf(n){if(It(!!n),"string"==typeof n){let t=0;const e=a8.exec(n);if(It(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:dr(n.seconds),nanos:dr(n.nanos)}}function dr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bu(n){return"string"==typeof n?Gr.fromBase64String(n):Gr.fromUint8Array(n)}function ED(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function DD(n){const t=n.mapValue.fields.__previous_value__;return ED(t)?DD(t):t}function v0(n){const t=wf(n.mapValue.fields.__local_write_time__.timestampValue);return new $i(t.seconds,t.nanos)}class l8{constructor(t,e,i,r,o,l,u,m,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=m,this.useFetchStreams=_}}class xf{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new xf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof xf&&t.projectId===this.projectId&&t.database===this.database}}const Cf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ID={nullValue:"NULL_VALUE"};function Ef(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ED(n)?4:nU(n)?9007199254740991:10:_t()}function Jc(n,t){if(n===t)return!0;const e=Ef(n);if(e!==Ef(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return v0(n).isEqual(v0(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=wf(i.timestampValue),l=wf(r.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,bu(n.bytesValue).isEqual(bu(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return dr(i.geoPointValue.latitude)===dr(r.geoPointValue.latitude)&&dr(i.geoPointValue.longitude)===dr(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return dr(i.integerValue)===dr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=dr(i.doubleValue),l=dr(r.doubleValue);return o===l?_0(o)===_0(l):isNaN(o)&&isNaN(l)}return!1}(n,t);case 9:return X_(n.arrayValue.values||[],t.arrayValue.values||[],Jc);case 10:return function(i,r){const o=i.mapValue.fields||{},l=r.mapValue.fields||{};if(YV(o)!==YV(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===l[u]||!Jc(o[u],l[u])))return!1;return!0}(n,t);default:return _t()}var r}function y0(n,t){return void 0!==(n.values||[]).find(e=>Jc(e,t))}function Df(n,t){if(n===t)return 0;const e=Ef(n),i=Ef(t);if(e!==i)return on(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return on(n.booleanValue,t.booleanValue);case 2:return function(r,o){const l=dr(r.integerValue||r.doubleValue),u=dr(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(n,t);case 3:return JV(n.timestampValue,t.timestampValue);case 4:return JV(v0(n),v0(t));case 5:return on(n.stringValue,t.stringValue);case 6:return function(r,o){const l=bu(r),u=bu(o);return l.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const l=r.split("/"),u=o.split("/");for(let m=0;m<l.length&&m<u.length;m++){const _=on(l[m],u[m]);if(0!==_)return _}return on(l.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const l=on(dr(r.latitude),dr(o.latitude));return 0!==l?l:on(dr(r.longitude),dr(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const l=r.values||[],u=o.values||[];for(let m=0;m<l.length&&m<u.length;++m){const _=Df(l[m],u[m]);if(_)return _}return on(l.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Cf.mapValue&&o===Cf.mapValue)return 0;if(r===Cf.mapValue)return 1;if(o===Cf.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),m=o.fields||{},_=Object.keys(m);u.sort(),_.sort();for(let b=0;b<u.length&&b<_.length;++b){const I=on(u[b],_[b]);if(0!==I)return I;const R=Df(l[u[b]],m[_[b]]);if(0!==R)return R}return on(u.length,_.length)}(n.mapValue,t.mapValue);default:throw _t()}}function JV(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return on(n,t);const e=wf(n),i=wf(t),r=on(e.seconds,i.seconds);return 0!==r?r:on(e.nanos,i.nanos)}function ev(n){return IR(n)}function IR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=wf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bu(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const l of i.values||[])o?o=!1:r+=",",r+=IR(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",l=!0;for(const u of r)l?l=!1:o+=",",o+=`${u}:${IR(i.fields[u])}`;return o+"}"}(n.mapValue):_t();var t}function Tp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function TR(n){return!!n&&"integerValue"in n}function b0(n){return!!n&&"arrayValue"in n}function eU(n){return!!n&&"nullValue"in n}function tU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function SD(n){return!!n&&"mapValue"in n}function w0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return bf(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=w0(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=w0(n.arrayValue.values[e]);return t}return Object.assign({},n)}function nU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function c8(n){return"nullValue"in n?ID:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Tp(xf.empty(),nt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_t()}function d8(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Tp(xf.empty(),nt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Cf:_t()}function iU(n,t){const e=Df(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function rU(n,t){const e=Df(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class wo{constructor(t){this.value=t}static empty(){return new wo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!SD(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=w0(e)}setAll(t){let e=cr.emptyPath(),i={},r=[];t.forEach((l,u)=>{if(!e.isImmediateParentOf(u)){const m=this.getFieldsMap(e);this.applyChanges(m,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=w0(l):r.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());SD(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Jc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];SD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){bf(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new wo(w0(this.value))}}function oU(n){const t=[];return bf(n.fields,(e,i)=>{const r=new cr([e]);if(SD(i)){const o=oU(i.mapValue).fields;if(0===o.length)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)}),new As(t)}class Pi{constructor(t,e,i,r,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Pi(t,0,St.min(),St.min(),St.min(),wo.empty(),0)}static newFoundDocument(t,e,i,r){return new Pi(t,1,e,St.min(),i,r,0)}static newNoDocument(t,e){return new Pi(t,2,e,St.min(),St.min(),wo.empty(),0)}static newUnknownDocument(t,e){return new Pi(t,3,e,St.min(),St.min(),wo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Pi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class If{constructor(t,e){this.position=t,this.inclusive=e}}function sU(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(i=o.field.isKeyField()?nt.comparator(nt.fromName(l.referenceValue),e.key):Df(l,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function aU(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Jc(n.position[e],t.position[e]))return!1;return!0}class tv{constructor(t,e="asc"){this.field=t,this.dir=e}}function u8(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class lU{}class En extends lU{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new h8(t,e,i):"array-contains"===e?new p8(t,i):"in"===e?new mU(t,i):"not-in"===e?new g8(t,i):"array-contains-any"===e?new _8(t,i):new En(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new f8(t,i):new m8(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Df(e,this.value)):null!==e&&Ef(this.value)===Ef(e)&&this.matchesComparison(Df(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ei extends lU{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new ei(t,e)}matches(t){return nv(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function nv(n){return"and"===n.op}function SR(n){return"or"===n.op}function AR(n){return cU(n)&&nv(n)}function cU(n){for(const t of n.filters)if(t instanceof ei)return!1;return!0}function MR(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+ev(n.value);if(AR(n))return n.filters.map(t=>MR(t)).join(",");{const t=n.filters.map(e=>MR(e)).join(",");return`${n.op}(${t})`}}function dU(n,t){return n instanceof En?(e=n,(i=t)instanceof En&&e.op===i.op&&e.field.isEqual(i.field)&&Jc(e.value,i.value)):n instanceof ei?function(e,i){return i instanceof ei&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,l)=>r&&dU(o,i.filters[l]),!0)}(n,t):void _t();var e,i}function uU(n,t){const e=n.filters.concat(t);return ei.create(e,n.op)}function hU(n){return n instanceof En?`${(t=n).field.canonicalString()} ${t.op} ${ev(t.value)}`:n instanceof ei?function(t){return t.op.toString()+" {"+t.getFilters().map(hU).join(" ,")+"}"}(n):"Filter";var t}class h8 extends En{constructor(t,e,i){super(t,e,i),this.key=nt.fromName(i.referenceValue)}matches(t){const e=nt.comparator(t.key,this.key);return this.matchesComparison(e)}}class f8 extends En{constructor(t,e){super(t,"in",e),this.keys=fU(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class m8 extends En{constructor(t,e){super(t,"not-in",e),this.keys=fU(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function fU(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>nt.fromName(i.referenceValue))}class p8 extends En{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return b0(e)&&y0(e.arrayValue,this.value)}}class mU extends En{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&y0(this.value.arrayValue,e)}}class g8 extends En{constructor(t,e){super(t,"not-in",e)}matches(t){if(y0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!y0(this.value.arrayValue,e)}}class _8 extends En{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!b0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>y0(this.value.arrayValue,i))}}class v8{constructor(t,e=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.dt=null}}function kR(n,t=null,e=[],i=[],r=null,o=null,l=null){return new v8(n,t,e,i,r,o,l)}function Sp(n){const t=at(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>MR(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),g0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ev(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ev(i)).join(",")),t.dt=e}return t.dt}function x0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!u8(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!dU(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!aU(n.startAt,t.startAt)&&aU(n.endAt,t.endAt)}function AD(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function MD(n,t){return n.filters.filter(e=>e instanceof En&&e.field.isEqual(t))}function pU(n,t,e){let i=ID,r=!0;for(const o of MD(n,t)){let l=ID,u=!0;switch(o.op){case"<":case"<=":l=c8(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,u=!1;break;case"!=":case"not-in":l=ID}iU({value:i,inclusive:r},{value:l,inclusive:u})<0&&(i=l,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const l=e.position[o];iU({value:i,inclusive:r},{value:l,inclusive:e.inclusive})<0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}function gU(n,t,e){let i=Cf,r=!0;for(const o of MD(n,t)){let l=Cf,u=!0;switch(o.op){case">=":case">":l=d8(o.value),u=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,u=!1;break;case"!=":case"not-in":l=Cf}rU({value:i,inclusive:r},{value:l,inclusive:u})>0&&(i=l,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const l=e.position[o];rU({value:i,inclusive:r},{value:l,inclusive:e.inclusive})>0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}class wu{constructor(t,e=null,i=[],r=[],o=null,l="F",u=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=m,this.wt=null,this._t=null}}function _U(n,t,e,i,r,o,l,u){return new wu(n,t,e,i,r,o,l,u)}function iv(n){return new wu(n)}function vU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function RR(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function kD(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function PR(n){return null!==n.collectionGroup}function Ap(n){const t=at(n);if(null===t.wt){t.wt=[];const e=kD(t),i=RR(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new tv(e)),t.wt.push(new tv(cr.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new tv(cr.keyField(),o))}}}return t.wt}function rs(n){const t=at(n);if(!t._t)if("F"===t.limitType)t._t=kR(t.path,t.collectionGroup,Ap(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Ap(t))e.push(new tv(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new If(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new If(t.startAt.position,t.startAt.inclusive):null;t._t=kR(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function OR(n,t){t.getFirstInequalityField(),kD(n);const e=n.filters.concat([t]);return new wu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function RD(n,t,e){return new wu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function C0(n,t){return x0(rs(n),rs(t))&&n.limitType===t.limitType}function yU(n){return`${Sp(rs(n))}|lt:${n.limitType}`}function NR(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>hU(i)).join(", ")}]`),g0(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ev(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ev(i)).join(",")),`Target(${e})`}(rs(n))}; limitType=${n.limitType})`}function E0(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):nt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Ap(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,l){const u=sU(r,o,l);return r.inclusive?u<=0:u<0}(e.startAt,Ap(e),i)||e.endAt&&!function(r,o,l){const u=sU(r,o,l);return r.inclusive?u>=0:u>0}(e.endAt,Ap(e),i)));var e,i}function bU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wU(n){return(t,e)=>{let i=!1;for(const r of Ap(n)){const o=y8(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function y8(n,t,e){const i=n.field.isKeyField()?nt.comparator(t.key,e.key):function(r,o,l){const u=o.data.field(r),m=l.data.field(r);return null!==u&&null!==m?Df(u,m):_t()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return _t()}}class xu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){bf(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return KV(this.inner)}size(){return this.innerSize}}const b8=new bi(nt.comparator);function Ms(){return b8}const xU=new bi(nt.comparator);function D0(...n){let t=xU;for(const e of n)t=t.insert(e.key,e);return t}function CU(n){let t=xU;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ed(){return I0()}function EU(){return I0()}function I0(){return new xu(n=>n.toString(),(n,t)=>n.isEqual(t))}const w8=new bi(nt.comparator),x8=new Ri(nt.comparator);function hn(...n){let t=x8;for(const e of n)t=t.add(e);return t}const C8=new Ri(on);function FR(){return C8}function DU(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_0(t)?"-0":t}}function IU(n){return{integerValue:""+n}}function TU(n,t){return HV(t)?IU(t):DU(n,t)}class PD{constructor(){this._=void 0}}function E8(n,t,e){return n instanceof rv?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&ED(r)&&(r=DD(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Mp?AU(n,t):n instanceof kp?MU(n,t):function(i,r){const o=SU(i,r),l=kU(o)+kU(i.gt);return TR(o)&&TR(i.gt)?IU(l):DU(i.serializer,l)}(n,t)}function D8(n,t,e){return n instanceof Mp?AU(n,t):n instanceof kp?MU(n,t):e}function SU(n,t){return n instanceof ov?TR(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class rv extends PD{}class Mp extends PD{constructor(t){super(),this.elements=t}}function AU(n,t){const e=RU(t);for(const i of n.elements)e.some(r=>Jc(r,i))||e.push(i);return{arrayValue:{values:e}}}class kp extends PD{constructor(t){super(),this.elements=t}}function MU(n,t){let e=RU(t);for(const i of n.elements)e=e.filter(r=>!Jc(r,i));return{arrayValue:{values:e}}}class ov extends PD{constructor(t,e){super(),this.serializer=t,this.gt=e}}function kU(n){return dr(n.integerValue||n.doubleValue)}function RU(n){return b0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class T0{constructor(t,e){this.field=t,this.transform=e}}class T8{constructor(t,e){this.version=t,this.transformResults=e}}class Gi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Gi}static exists(t){return new Gi(void 0,t)}static updateTime(t){return new Gi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function OD(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class ND{}function PU(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new av(n.key,Gi.none()):new sv(n.key,n.data,Gi.none());{const e=n.data,i=wo.empty();let r=new Ri(cr.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);null===l&&o.length>1&&(o=o.popLast(),l=e.field(o)),null===l?i.delete(o):i.set(o,l),r=r.add(o)}return new Cu(n.key,i,new As(r.toArray()),Gi.none())}}function S8(n,t,e){n instanceof sv?function(i,r,o){const l=i.value.clone(),u=FU(i.fieldTransforms,r,o.transformResults);l.setAll(u),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):n instanceof Cu?function(i,r,o){if(!OD(i.precondition,r))return void r.convertToUnknownDocument(o.version);const l=FU(i.fieldTransforms,r,o.transformResults),u=r.data;u.setAll(NU(i)),u.setAll(l),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function S0(n,t,e,i){return n instanceof sv?function(r,o,l,u){if(!OD(r.precondition,o))return l;const m=r.value.clone(),_=LU(r.fieldTransforms,u,o);return m.setAll(_),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null}(n,t,e,i):n instanceof Cu?function(r,o,l,u){if(!OD(r.precondition,o))return l;const m=LU(r.fieldTransforms,u,o),_=o.data;return _.setAll(NU(r)),_.setAll(m),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,t,e,i):(l=e,OD(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l);var o,l}function A8(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=SU(i.transform,r||null);null!=o&&(null===e&&(e=wo.empty()),e.set(i.field,o))}return e||null}function OU(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&X_(e,i,(r,o)=>function I8(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Mp&&i instanceof Mp||e instanceof kp&&i instanceof kp?X_(e.elements,i.elements,Jc):e instanceof ov&&i instanceof ov?Jc(e.gt,i.gt):e instanceof rv&&i instanceof rv);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class sv extends ND{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cu extends ND{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function NU(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function FU(n,t,e){const i=new Map;It(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,D8(l,u,e[r]))}return i}function LU(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,E8(o,l,t))}return i}class av extends ND{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LR extends ND{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BR{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&S8(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=S0(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=S0(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=EU();return this.mutations.forEach(r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(r.key)?null:u;const m=PU(l,u);null!==m&&i.set(r.key,m),l.isValidDocument()||l.convertToNoDocument(St.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),hn())}isEqual(t){return this.batchId===t.batchId&&X_(this.mutations,t.mutations,(e,i)=>OU(e,i))&&X_(this.baseMutations,t.baseMutations,(e,i)=>OU(e,i))}}class VR{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){It(t.mutations.length===i.length);let r=w8;const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new VR(t,e,i,r)}}class UR{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class k8{constructor(t,e){this.count=t,this.unchangedNames=e}}var Or,Sn;function BU(n){switch(n){default:return _t();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function VU(n){if(void 0===n)return xr("GRPC error has no .code"),me.UNKNOWN;switch(n){case Or.OK:return me.OK;case Or.CANCELLED:return me.CANCELLED;case Or.UNKNOWN:return me.UNKNOWN;case Or.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Or.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Or.INTERNAL:return me.INTERNAL;case Or.UNAVAILABLE:return me.UNAVAILABLE;case Or.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Or.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Or.NOT_FOUND:return me.NOT_FOUND;case Or.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Or.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Or.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Or.ABORTED:return me.ABORTED;case Or.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Or.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Or.DATA_LOSS:return me.DATA_LOSS;default:return _t()}}(Sn=Or||(Or={}))[Sn.OK=0]="OK",Sn[Sn.CANCELLED=1]="CANCELLED",Sn[Sn.UNKNOWN=2]="UNKNOWN",Sn[Sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sn[Sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sn[Sn.NOT_FOUND=5]="NOT_FOUND",Sn[Sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sn[Sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sn[Sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sn[Sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sn[Sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sn[Sn.ABORTED=10]="ABORTED",Sn[Sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sn[Sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sn[Sn.INTERNAL=13]="INTERNAL",Sn[Sn.UNAVAILABLE=14]="UNAVAILABLE",Sn[Sn.DATA_LOSS=15]="DATA_LOSS";class zR{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return FD}static getOrCreateInstance(){return null===FD&&(FD=new zR),FD}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let FD=null;function UU(){return new TextEncoder}const R8=new K_([4294967295,4294967295],0);function zU(n){const t=UU().encode(n),e=new EW;return e.update(t),new Uint8Array(e.digest())}function HU(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new K_([e,i],0),new K_([r,o],0)]}class HR{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new A0(`Invalid padding: ${e}`);if(i<0)throw new A0(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new A0(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new A0(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=K_.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(K_.fromNumber(i)));return 1===r.compare(R8)&&(r=new K_([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=zU(t),[i,r]=HU(e);for(let o=0;o<this.hashCount;o++){const l=this.Et(i,r,o);if(!this.At(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new HR(o,r,e);return i.forEach(u=>l.insert(u)),l}insert(t){if(0===this.It)return;const e=zU(t),[i,r]=HU(e);for(let o=0;o<this.hashCount;o++){const l=this.Et(i,r,o);this.Rt(l)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class A0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class M0{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,k0.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new M0(St.min(),r,new bi(on),Ms(),hn())}}class k0{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new k0(i,e,hn(),hn(),hn())}}class LD{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class jU{constructor(t,e){this.targetId=t,this.Vt=e}}class $U{constructor(t,e,i=Gr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class GU{constructor(){this.St=0,this.Dt=qU(),this.Ct=Gr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=hn(),e=hn(),i=hn();return this.Dt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:_t()}}),new k0(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=qU()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class P8{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Ms(),this.zt=WU(),this.Wt=new bi(on)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:_t()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,o=this.se(i);if(o){const l=o.target;if(AD(l))if(0===r){const u=new nt(l.path);this.Yt(i,u,Pi.newNoDocument(u,St.min()))}else It(1===r);else{const u=this.ie(i);if(u!==r){const m=this.re(t,u);0!==m&&(this.ee(i),this.Wt=this.Wt.insert(i,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=zR.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(_,b,I){var R,L,j,Z,ne,Re;const Ke={localCacheCount:b,existenceFilterCount:I.count},Je=I.unchangedNames;return Je&&(Ke.bloomFilter={applied:0===_,hashCount:null!==(R=Je?.hashCount)&&void 0!==R?R:0,bitmapLength:null!==(Z=null===(j=null===(L=Je?.bits)||void 0===L?void 0:L.bitmap)||void 0===j?void 0:j.length)&&void 0!==Z?Z:0,padding:null!==(Re=null===(ne=Je?.bits)||void 0===ne?void 0:ne.padding)&&void 0!==Re?Re:0}),Ke}(m,u,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:l=0},hashCount:u=0}=i;let m,_;try{m=bu(o).toUint8Array()}catch(b){if(b instanceof XV)return Qa("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{_=new HR(m,l,u)}catch(b){return Qa(b instanceof A0?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===_.It?1:r!==e-this.oe(t.targetId,_)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const l=this.Gt.ue(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.vt(u)||(this.Yt(t,o,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((o,l)=>{const u=this.se(l);if(u){if(o.current&&AD(u.target)){const m=new nt(u.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,Pi.newNoDocument(m,t))}o.Mt&&(e.set(l,o.Ot()),o.Ft())}});let i=hn();this.zt.forEach((o,l)=>{let u=!0;l.forEachWhile(m=>{const _=this.se(m);return!_||"TargetPurposeLimboResolution"===_.purpose||(u=!1,!1)}),u&&(i=i.add(o))}),this.jt.forEach((o,l)=>l.setReadTime(t));const r=new M0(t,e,this.Wt,this.jt,i);return this.jt=Ms(),this.zt=WU(),this.Wt=new bi(on),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new GU,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Ri(on),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||He("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new GU),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function WU(){return new bi(nt.comparator)}function qU(){return new bi(nt.comparator)}const O8={asc:"ASCENDING",desc:"DESCENDING"},N8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F8={and:"AND",or:"OR"};class L8{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function jR(n,t){return n.useProto3Json||g0(t)?t:{value:t}}function lv(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ZU(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function B8(n,t){return lv(n,t.toTimestamp())}function Cr(n){return It(!!n),St.fromTimestamp(function(t){const e=wf(t);return new $i(e.seconds,e.nanos)}(n))}function $R(n,t){return(e=n,new Tn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function YU(n){const t=Tn.fromString(n);return It(rz(t)),t}function R0(n,t){return $R(n.databaseId,t.path)}function td(n,t){const e=YU(t);if(e.get(1)!==n.databaseId.projectId)throw new Pe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Pe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new nt(QU(e))}function GR(n,t){return $R(n.databaseId,t)}function KU(n){const t=YU(n);return 4===t.length?Tn.emptyPath():QU(t)}function P0(n){return new Tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QU(n){return It(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function XU(n,t,e){return{name:R0(n,t),fields:e.value.mapValue.fields}}function JU(n,t,e){const i=td(n,t.name),r=Cr(t.updateTime),o=t.createTime?Cr(t.createTime):St.min(),l=new wo({mapValue:{fields:t.fields}}),u=Pi.newFoundDocument(i,r,o,l);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function O0(n,t){let e;if(t instanceof sv)e={update:XU(n,t.key,t.value)};else if(t instanceof av)e={delete:R0(n,t.key)};else if(t instanceof Cu)e={update:XU(n,t.key,t.data),updateMask:W8(t.fieldMask)};else{if(!(t instanceof LR))return _t();e={verify:R0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const l=o.transform;if(l instanceof rv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Mp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof kp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ov)return{fieldPath:o.field.canonicalString(),increment:l.gt};throw _t()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:B8(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:_t()),e;var r}function WR(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Gi.updateTime(Cr(r.updateTime)):void 0!==r.exists?Gi.exists(r.exists):Gi.none():Gi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,l){let u=null;"setToServerValue"in l?(It("REQUEST_TIME"===l.setToServerValue),u=new rv):"appendMissingElements"in l?u=new Mp(l.appendMissingElements.values||[]):"removeAllFromArray"in l?u=new kp(l.removeAllFromArray.values||[]):"increment"in l?u=new ov(o,l.increment):_t();const m=cr.fromServerFormat(l.fieldPath);return new T0(m,u)}(n,r)):[];var r;if(t.update){const r=td(n,t.update.name),o=new wo({mapValue:{fields:t.update.fields}});if(t.updateMask){const l=new As((t.updateMask.fieldPaths||[]).map(_=>cr.fromServerFormat(_)));return new Cu(r,o,l,e,i)}return new sv(r,o,e,i)}if(t.delete){const r=td(n,t.delete);return new av(r,e)}if(t.verify){const r=td(n,t.verify);return new LR(r,e)}return _t()}function ez(n,t){return{documents:[GR(n,t.path)]}}function qR(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=GR(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=GR(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0!==m.length)return iz(ei.create(m,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(m){if(0!==m.length)return m.map(_=>{return{field:Tf((b=_).field),direction:j8(b.dir)};var b})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const l=jR(n,t.limit);var u,m;return null!==l&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt={before:!(m=t.endAt).inclusive,values:m.position}),e}function tz(n){let t=KU(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){It(1===i);const b=e.from[0];b.allDescendants?r=b.collectionId:t=t.child(b.collectionId)}let o=[];e.where&&(o=function(b){const I=nz(b);return I instanceof ei&&AR(I)?I.getFilters():[I]}(e.where));let l=[];e.orderBy&&(l=e.orderBy.map(b=>{return new tv(cv((I=b).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let u=null;e.limit&&(u=function(b){let I;return I="object"==typeof b?b.value:b,g0(I)?null:I}(e.limit));let m=null;var b;e.startAt&&(m=new If((b=e.startAt).values||[],!!b.before));let _=null;return e.endAt&&(_=function(b){return new If(b.values||[],!b.before)}(e.endAt)),_U(t,r,l,o,u,"F",m,_)}function nz(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=cv(t.unaryFilter.field);return En.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=cv(t.unaryFilter.field);return En.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=cv(t.unaryFilter.field);return En.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cv(t.unaryFilter.field);return En.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(n):void 0!==n.fieldFilter?En.create(cv((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return ei.create(t.compositeFilter.filters.map(e=>nz(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return _t()}}(t.compositeFilter.op))}(n):_t();var t}function j8(n){return O8[n]}function $8(n){return N8[n]}function G8(n){return F8[n]}function Tf(n){return{fieldPath:n.canonicalString()}}function cv(n){return cr.fromServerFormat(n.fieldPath)}function iz(n){return n instanceof En?function(t){if("=="===t.op){if(tU(t.value))return{unaryFilter:{field:Tf(t.field),op:"IS_NAN"}};if(eU(t.value))return{unaryFilter:{field:Tf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(tU(t.value))return{unaryFilter:{field:Tf(t.field),op:"IS_NOT_NAN"}};if(eU(t.value))return{unaryFilter:{field:Tf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tf(t.field),op:$8(t.op),value:t.value}}}(n):n instanceof ei?function(t){const e=t.getFilters().map(i=>iz(i));return 1===e.length?e[0]:{compositeFilter:{op:G8(t.op),filters:e}}}(n):_t()}function W8(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function rz(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Eu{constructor(t,e,i,r,o=St.min(),l=St.min(),u=Gr.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=m}withSequenceNumber(t){return new Eu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Eu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class oz{constructor(t){this.fe=t}}function sz(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:BD(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:R0(r=n.fe,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:lv(r,o.version.toTimestamp()),createTime:lv(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Rp(t.version)};else{if(!t.isUnknownDocument())return _t();i.unknownDocument={path:e.path.toArray(),version:Rp(t.version)}}var r,o;return i}function BD(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Rp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Pp(n){const t=new $i(n.seconds,n.nanoseconds);return St.fromTimestamp(t)}function Op(n,t){const e=(t.baseMutations||[]).map(o=>WR(n.fe,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>WR(n.fe,o)),r=$i.fromMillis(t.localWriteTimeMs);return new BR(t.batchId,r,e,i)}function N0(n){const t=Pp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Pp(n.lastLimboFreeSnapshotVersion):St.min();let i;var r;return void 0!==n.query.documents?(It(1===(r=n.query).documents.length),i=rs(iv(KU(r.documents[0])))):i=rs(tz(n.query)),new Eu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Gr.fromBase64String(n.resumeToken))}function az(n,t){const e=Rp(t.snapshotVersion),i=Rp(t.lastLimboFreeSnapshotVersion);let r;r=AD(t.target)?ez(n.fe,t.target):qR(n.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Sp(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function ZR(n){const t=tz({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?RD(t,t.limit,"L"):t}function YR(n,t){return new UR(t.largestBatchId,WR(n.fe,t.overlayMutation))}function lz(n,t){const e=t.path.lastSegment();return[n,Oo(t.path.popLast()),e]}function cz(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Rp(i.readTime),documentKey:Oo(i.documentKey.path),largestBatchId:i.largestBatchId}}class Z8{getBundleMetadata(t,e){return dz(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Pp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return dz(t).put({bundleId:(i=e).id,createTime:Rp(Cr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return uz(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:ZR(r.bundledQuery),readTime:Pp(r.readTime)};var r})}saveNamedQuery(t,e){return uz(t).put({name:(i=e).name,readTime:Rp(Cr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function dz(n){return oo(n,"bundles")}function uz(n){return oo(n,"namedQueries")}class VD{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new VD(t,e.uid||"")}getOverlay(t,e){return F0(t).get(lz(this.userId,e)).next(i=>i?YR(this.serializer,i):null)}getOverlays(t,e){const i=ed();return ce.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,l)=>{const u=new UR(e,l);r.push(this.we(t,u))}),ce.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(l=>r.add(Oo(l.getCollectionPath())));const o=[];return r.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);o.push(F0(t).J("collectionPathOverlayIndex",u))}),ce.waitFor(o)}getOverlaysForCollection(t,e,i){const r=ed(),o=Oo(e),l=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return F0(t).j("collectionPathOverlayIndex",l).next(u=>{for(const m of u){const _=YR(this.serializer,m);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=ed();let l;const u=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return F0(t).X({index:"collectionGroupOverlayIndex",range:u},(m,_,b)=>{const I=YR(this.serializer,_);o.size()<r||I.largestBatchId===l?(o.set(I.getKey(),I),l=I.largestBatchId):b.done()}).next(()=>o)}we(t,e){return F0(t).put(function(i,r,o){const[l,u,m]=lz(r,o.mutation.key);return{userId:r,collectionPath:u,documentId:m,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:O0(i.fe,o.mutation)}}(this.serializer,this.userId,e))}}function F0(n){return oo(n,"documentOverlays")}class Np{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(dr(t.integerValue));else if("doubleValue"in t){const i=dr(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),_0(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(bu(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?nU(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):_t()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),nt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function Y8(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function hz(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=Y8(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Np.Ve=new Np;class K8{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=hz(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=hz(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Q8{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class X8{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class L0{constructor(){this.je=new K8,this.ze=new Q8(this.je),this.We=new X8(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Fp{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Fp(this.indexId,this.documentKey,this.arrayValue,i)}}function Sf(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=fz(n.arrayValue,t.arrayValue),0!==e?e:(e=fz(n.directionalValue,t.directionalValue),0!==e?e:nt.comparator(n.documentKey,t.documentKey)))}function fz(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class J8{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){It(t.collectionGroup===this.collectionId);const e=wR(t);if(void 0!==e&&!this.en(e))return!1;const i=Dp(t);let r=new Set,o=0,l=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const u=i[o];if(!this.nn(this.Ze,u)||!this.sn(this.Ye[l++],u))return!1}++o}for(;o<i.length;++o)if(l>=this.Ye.length||!this.sn(this.Ye[l++],i[o]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function mz(n){var t,e;if(It(n instanceof En||n instanceof ei),n instanceof En){if(n instanceof mU){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>En.create(n.field,"==",o)))||[];return ei.create(r,"or")}return n}const i=n.filters.map(r=>mz(r));return ei.create(i,n.op)}function eq(n){if(0===n.getFilters().length)return[];const t=XR(mz(n));return It(pz(t)),KR(t)||QR(t)?[t]:t.getFilters()}function KR(n){return n instanceof En}function QR(n){return n instanceof ei&&AR(n)}function pz(n){return KR(n)||QR(n)||function(t){if(t instanceof ei&&SR(t)){for(const e of t.getFilters())if(!KR(e)&&!QR(e))return!1;return!0}return!1}(n)}function XR(n){if(It(n instanceof En||n instanceof ei),n instanceof En)return n;if(1===n.filters.length)return XR(n.filters[0]);const t=n.filters.map(i=>XR(i));let e=ei.create(t,n.op);return e=UD(e),pz(e)?e:(It(e instanceof ei),It(nv(e)),It(e.filters.length>1),e.filters.reduce((i,r)=>JR(i,r)))}function JR(n,t){let e;return It(n instanceof En||n instanceof ei),It(t instanceof En||t instanceof ei),e=n instanceof En?t instanceof En?ei.create([n,t],"and"):gz(n,t):t instanceof En?gz(t,n):function(i,r){if(It(i.filters.length>0&&r.filters.length>0),nv(i)&&nv(r))return uU(i,r.getFilters());const o=SR(i)?i:r,l=SR(i)?r:i,u=o.filters.map(m=>JR(m,l));return ei.create(u,"or")}(n,t),UD(e)}function gz(n,t){if(nv(t))return uU(t,n.getFilters());{const e=t.filters.map(i=>JR(n,i));return ei.create(e,"or")}}function UD(n){if(It(n instanceof En||n instanceof ei),n instanceof En)return n;const t=n.getFilters();if(1===t.length)return UD(t[0]);if(cU(n))return n;const e=t.map(r=>UD(r)),i=[];return e.forEach(r=>{r instanceof En?i.push(r):r instanceof ei&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:ei.create(i,n.op)}class tq{constructor(){this.rn=new e1}addToCollectionParentIndex(t,e){return this.rn.add(e),ce.resolve()}getCollectionParents(t,e){return ce.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return ce.resolve()}deleteFieldIndex(t,e){return ce.resolve()}getDocumentsMatchingTarget(t,e){return ce.resolve(null)}getIndexType(t,e){return ce.resolve(0)}getFieldIndexes(t,e){return ce.resolve([])}getNextCollectionGroupToUpdate(t){return ce.resolve(null)}getMinOffset(t,e){return ce.resolve(ca.min())}getMinOffsetFromCollectionGroup(t,e){return ce.resolve(ca.min())}updateCollectionGroup(t,e,i){return ce.resolve()}updateIndexEntries(t,e){return ce.resolve()}}class e1{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ri(Tn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ri(Tn.comparator)).toArray()}}const zD=new Uint8Array(0);class nq{constructor(t,e){this.user=t,this.databaseId=e,this.on=new e1,this.un=new xu(i=>Sp(i),(i,r)=>x0(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const o={collectionId:i,parent:Oo(r)};return _z(t).put(o)}return ce.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[FV(e),""],!1,!0);return _z(t).j(r).next(o=>{for(const l of o){if(l.collectionId!==e)break;i.push(Xc(l.parent))}return i})}addFieldIndex(t,e){const i=HD(t),r={indexId:(l=e).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var l;delete r.indexId;const o=i.add(r);if(e.indexState){const l=V0(t);return o.next(u=>{l.put(cz(u,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=HD(t),r=V0(t),o=B0(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=B0(t);let r=!0;const o=new Map;return ce.forEach(this.cn(e),l=>this.an(t,l).next(u=>{r&&(r=!!u),o.set(l,u)})).next(()=>{if(r){let l=hn();const u=[];return ce.forEach(o,(m,_)=>{var b;He("IndexedDbIndexManager",`Using index ${b=m,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Je=>`${Je.fieldPath}:${Je.kind}`).join(",")}`} to execute ${Sp(e)}`);const I=function(Je,ct){const jt=wR(ct);if(void 0===jt)return null;for(const sn of MD(Je,jt.fieldPath))switch(sn.op){case"array-contains-any":return sn.value.arrayValue.values||[];case"array-contains":return[sn.value]}return null}(_,m),R=function(Je,ct){const jt=new Map;for(const sn of Dp(ct))for(const On of MD(Je,sn.fieldPath))switch(On.op){case"==":case"in":jt.set(sn.fieldPath.canonicalString(),On.value);break;case"not-in":case"!=":return jt.set(sn.fieldPath.canonicalString(),On.value),Array.from(jt.values())}return null}(_,m),L=function(Je,ct){const jt=[];let sn=!0;for(const On of Dp(ct)){const Eo=0===On.kind?pU(Je,On.fieldPath,Je.startAt):gU(Je,On.fieldPath,Je.startAt);jt.push(Eo.value),sn&&(sn=Eo.inclusive)}return new If(jt,sn)}(_,m),j=function(Je,ct){const jt=[];let sn=!0;for(const On of Dp(ct)){const Eo=0===On.kind?gU(Je,On.fieldPath,Je.endAt):pU(Je,On.fieldPath,Je.endAt);jt.push(Eo.value),sn&&(sn=Eo.inclusive)}return new If(jt,sn)}(_,m),Z=this.hn(m,_,L),ne=this.hn(m,_,j),Re=this.ln(m,_,R),Ke=this.fn(m.indexId,I,Z,L.inclusive,ne,j.inclusive,Re);return ce.forEach(Ke,Je=>i.H(Je,e.limit).next(ct=>{ct.forEach(jt=>{const sn=nt.fromSegments(jt.documentKey);l.has(sn)||(l=l.add(sn),u.push(sn))})}))}).next(()=>u)}return ce.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:eq(ei.create(t.filters,"and")).map(i=>kR(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,o,l,u){const m=(null!=e?e.length:1)*Math.max(i.length,o.length),_=m/(null!=e?e.length:1),b=[];for(let I=0;I<m;++I){const R=e?this.dn(e[I/_]):zD,L=this.wn(t,R,i[I%_],r),j=this._n(t,R,o[I%_],l),Z=u.map(ne=>this.wn(t,R,ne,!0));b.push(...this.createRange(L,j,Z))}return b}wn(t,e,i,r){const o=new Fp(t,nt.empty(),e,i);return r?o:o.Je()}_n(t,e,i,r){const o=new Fp(t,nt.empty(),e,i);return r?o.Je():o}an(t,e){const i=new J8(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let l=null;for(const u of o)i.tn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(t,e){let i=2;const r=this.cn(e);return ce.forEach(r,o=>this.an(t,o).next(l=>{l?0!==i&&l.fields.length<function(u){let m=new Ri(cr.comparator),_=!1;for(const b of u.filters)for(const I of b.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?_=!0:m=m.add(I.field));for(const b of u.orderBy)b.field.isKeyField()||(m=m.add(b.field));return m.size+(_?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new L0;for(const r of Dp(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const l=i.He(r.kind);Np.Ve._e(o,l)}return i.Qe()}dn(t){const e=new L0;return Np.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new L0;return Np.Ve._e(Tp(this.databaseId,e),i.He(function(r){const o=Dp(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new L0);let o=0;for(const l of Dp(t)){const u=i[o++];for(const m of r)if(this.yn(e,l.fieldPath)&&b0(u))r=this.pn(r,l,u);else{const _=m.He(l.kind);Np.Ve._e(u,_)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],o=[];for(const l of i.arrayValue.values||[])for(const u of r){const m=new L0;m.seed(u.Qe()),Np.Ve._e(l,m.He(e.kind)),o.push(m)}return o}yn(t,e){return!!t.filters.find(i=>i instanceof En&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=HD(t),r=V0(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(o=>{const l=[];return ce.forEach(o,u=>r.get([u.indexId,this.uid]).next(m=>{l.push(function(_,b){const I=b?new m0(b.sequenceNumber,new ca(Pp(b.readTime),new nt(Xc(b.documentKey)),b.largestBatchId)):m0.empty(),R=_.fields.map(([L,j])=>new bD(cr.fromServerFormat(L),j));return new yD(_.indexId,_.collectionGroup,R,I)}(u,m))})).next(()=>l)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:on(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=HD(t),o=V0(t);return this.Tn(t).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(u=>ce.forEach(u,m=>o.put(cz(m.indexId,this.user,l,i)))))}updateIndexEntries(t,e){const i=new Map;return ce.forEach(e,(r,o)=>{const l=i.get(r.collectionGroup);return(l?ce.resolve(l):this.getFieldIndexes(t,r.collectionGroup)).next(u=>(i.set(r.collectionGroup,u),ce.forEach(u,m=>this.En(t,r,m).next(_=>{const b=this.An(o,m);return _.isEqual(b)?ce.resolve():this.vn(t,o,m,_,b)}))))})}Rn(t,e,i,r){return B0(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return B0(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=B0(t);let o=new Ri(Sf);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(l,u)=>{o=o.add(new Fp(i.indexId,e,u.arrayValue,u.directionalValue))}).next(()=>o)}An(t,e){let i=new Ri(Sf);const r=this.mn(e,t);if(null==r)return i;const o=wR(e);if(null!=o){const l=t.data.field(o.fieldPath);if(b0(l))for(const u of l.arrayValue.values||[])i=i.add(new Fp(e.indexId,t.key,this.dn(u),r))}else i=i.add(new Fp(e.indexId,t.key,zD,r));return i}vn(t,e,i,r,o){He("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const l=[];return function(u,m,_,b,I){const R=u.getIterator(),L=m.getIterator();let j=J_(R),Z=J_(L);for(;j||Z;){let ne=!1,Re=!1;if(j&&Z){const Ke=_(j,Z);Ke<0?Re=!0:Ke>0&&(ne=!0)}else null!=j?Re=!0:ne=!0;ne?(b(Z),Z=J_(L)):Re?(I(j),j=J_(R)):(j=J_(R),Z=J_(L))}}(r,o,Sf,u=>{l.push(this.Rn(t,e,i,u))},u=>{l.push(this.Pn(t,e,i,u))}),ce.waitFor(l)}Tn(t){let e=1;return V0(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((l,u)=>Sf(l,u)).filter((l,u,m)=>!u||0!==Sf(l,m[u-1]));const r=[];r.push(t);for(const l of i){const u=Sf(l,t),m=Sf(l,e);if(0===u)r[0]=t.Je();else if(u>0&&m<0)r.push(l),r.push(l.Je());else if(m>0)break}r.push(e);const o=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];o.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,zD,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,zD,[]]))}return o}bn(t,e){return Sf(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(vz)}getMinOffset(t,e){return ce.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||_t())).next(vz)}}function _z(n){return oo(n,"collectionParents")}function B0(n){return oo(n,"indexEntries")}function HD(n){return oo(n,"indexConfiguration")}function V0(n){return oo(n,"indexState")}function vz(n){It(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;xR(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ca(t.readTime,t.documentKey,e)}const yz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class No{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new No(t,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bz(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],l=IDBKeyRange.only(e.batchId);let u=0;const m=i.X({range:l},(b,I,R)=>(u++,R.delete()));o.push(m.next(()=>{It(1===u)}));const _=[];for(const b of e.mutations){const I=GV(t,b.key.path,e.batchId);o.push(r.delete(I)),_.push(b.key)}return ce.waitFor(o).next(()=>_)}function jD(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw _t();t=n.noDocument}return JSON.stringify(t).length}No.DEFAULT_COLLECTION_PERCENTILE=10,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,No.DEFAULT=new No(41943040,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),No.DISABLED=new No(-1,0,0);class $D{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){It(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new $D(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Af(t).X({index:"userMutationsIndex",range:i},(r,o,l)=>{e=!1,l.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=dv(t),l=Af(t);return l.add({}).next(u=>{It("number"==typeof u);const m=new BR(u,e,i,r),_=function(R,L,j){const Z=j.baseMutations.map(Re=>O0(R.fe,Re)),ne=j.mutations.map(Re=>O0(R.fe,Re));return{userId:L,batchId:j.batchId,localWriteTimeMs:j.localWriteTime.toMillis(),baseMutations:Z,mutations:ne}}(this.serializer,this.userId,m),b=[];let I=new Ri((R,L)=>on(R.canonicalString(),L.canonicalString()));for(const R of r){const L=GV(this.userId,R.key.path,u);I=I.add(R.key.path.popLast()),b.push(l.put(_)),b.push(o.put(L,HW))}return I.forEach(R=>{b.push(this.indexManager.addToCollectionParentIndex(t,R))}),t.addOnCommittedListener(()=>{this.Vn[u]=m.keys()}),ce.waitFor(b).next(()=>m)})}lookupMutationBatch(t,e){return Af(t).get(e).next(i=>i?(It(i.userId===this.userId),Op(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?ce.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Af(t).X({index:"userMutationsIndex",range:r},(l,u,m)=>{u.userId===this.userId&&(It(u.batchId>=i),o=Op(this.serializer,u)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Af(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,o,l)=>{i=o.batchId,l.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Af(t).j("userMutationsIndex",e).next(i=>i.map(r=>Op(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=xD(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return dv(t).X({range:r},(l,u,m)=>{const[_,b,I]=l,R=Xc(b);if(_===this.userId&&e.path.isEqual(R))return Af(t).get(I).next(L=>{if(!L)throw _t();It(L.userId===this.userId),o.push(Op(this.serializer,L))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ri(on);const r=[];return e.forEach(o=>{const l=xD(this.userId,o.path),u=IDBKeyRange.lowerBound(l),m=dv(t).X({range:u},(_,b,I)=>{const[R,L,j]=_,Z=Xc(L);R===this.userId&&o.path.isEqual(Z)?i=i.add(j):I.done()});r.push(m)}),ce.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=xD(this.userId,i),l=IDBKeyRange.lowerBound(o);let u=new Ri(on);return dv(t).X({range:l},(m,_,b)=>{const[I,R,L]=m,j=Xc(R);I===this.userId&&i.isPrefixOf(j)?j.length===r&&(u=u.add(L)):b.done()}).next(()=>this.Dn(t,u))}Dn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Af(t).get(o).next(l=>{if(null===l)throw _t();It(l.userId===this.userId),i.push(Op(this.serializer,l))}))}),ce.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return bz(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return dv(t).X({range:i},(o,l,u)=>{if(o[0]===this.userId){const m=Xc(o[1]);r.push(m)}else u.done()}).next(()=>{It(0===r.length)})})}containsKey(t,e){return wz(t,this.userId,e)}xn(t){return xz(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wz(n,t,e){const i=xD(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let l=!1;return dv(n).X({range:o,Y:!0},(u,m,_)=>{const[b,I,R]=u;b===t&&I===r&&(l=!0),_.done()}).next(()=>l)}function Af(n){return oo(n,"mutations")}function dv(n){return oo(n,"documentMutations")}function xz(n){return oo(n,"mutationQueues")}class Lp{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Lp(0)}static Mn(){return new Lp(-1)}}class iq{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new Lp(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>St.fromTimestamp(new $i(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>uv(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(It(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return uv(t).X((l,u)=>{const m=N0(u);m.sequenceNumber<=e&&null===i.get(m.targetId)&&(r++,o.push(this.removeTargetData(t,m)))}).next(()=>ce.waitFor(o)).next(()=>r)}forEachTarget(t,e){return uv(t).X((i,r)=>{const o=N0(r);e(o)})}$n(t){return Cz(t).get("targetGlobalKey").next(e=>(It(null!==e),e))}On(t,e){return Cz(t).put("targetGlobalKey",e)}Fn(t,e){return uv(t).put(az(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Sp(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return uv(t).X({range:r,index:"queryTargetsIndex"},(l,u,m)=>{const _=N0(u);x0(e,_.target)&&(o=_,m.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Mf(t);return e.forEach(l=>{const u=Oo(l.path);r.push(o.put({targetId:i,path:u})),r.push(this.referenceDelegate.addReference(t,i,l))}),ce.waitFor(r)}removeMatchingKeys(t,e,i){const r=Mf(t);return ce.forEach(e,o=>{const l=Oo(o.path);return ce.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Mf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Mf(t);let o=hn();return r.X({range:i,Y:!0},(l,u,m)=>{const _=Xc(l[1]),b=new nt(_);o=o.add(b)}).next(()=>o)}containsKey(t,e){const i=Oo(e.path),r=IDBKeyRange.bound([i],[FV(i)],!1,!0);let o=0;return Mf(t).X({index:"documentTargetsIndex",Y:!0,range:r},([l,u],m,_)=>{0!==l&&(o++,_.done())}).next(()=>o>0)}le(t,e){return uv(t).get(e).next(i=>i?N0(i):null)}}function uv(n){return oo(n,"targets")}function Cz(n){return oo(n,"targetGlobal")}function Mf(n){return oo(n,"targetDocuments")}function Ez([n,t],[e,i]){const r=on(n,e);return 0===r?on(t,i):r}class rq{constructor(t){this.Ln=t,this.buffer=new Ri(Ez),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Ez(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Dz{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;He("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,De.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){yf(i)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield vf(i)}yield e.Qn(3e5)}))}}class oq{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ce.resolve(da.ct);const i=new rq(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(yz)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yz):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,o,l,u,m,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,l=Date.now(),this.nthSequenceNumber(t,r))).next(I=>(i=I,u=Date.now(),this.removeTargets(t,i,e))).next(I=>(o=I,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(I=>(_=Date.now(),yR()<=Zc.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-b}ms\n\tDetermined least recently used ${r} in `+(u-l)+`ms\n\tRemoved ${o} targets in `+(m-u)+`ms\n\tRemoved ${I} documents in `+(_-m)+`ms\nTotal Duration: ${_-b}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:I})))}}class sq{constructor(t,e){this.db=t,this.garbageCollector=function Iz(n,t){return new oq(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return GD(t,i)}removeReference(t,e,i){return GD(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return GD(t,e)}Xn(t,e){return function(i,r){let o=!1;return xz(i).Z(l=>wz(i,l,r).next(u=>(u&&(o=!0),ce.resolve(!u)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(t,(l,u)=>{if(u<=e){const m=this.Xn(t,l).next(_=>{if(!_)return o++,i.getEntry(t,l).next(()=>(i.removeEntry(l,St.min()),Mf(t).delete([0,Oo(l.path)])))});r.push(m)}}).next(()=>ce.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return GD(t,e)}Yn(t,e){const i=Mf(t);let r,o=da.ct;return i.X({index:"documentTargetsIndex"},([l,u],{path:m,sequenceNumber:_})=>{0===l?(o!==da.ct&&e(new nt(Xc(r)),o),o=_,r=m):o=da.ct}).next(()=>{o!==da.ct&&e(new nt(Xc(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function GD(n,t){return Mf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Oo(t.path),sequenceNumber:i}));var i}class Tz{constructor(){this.changes=new xu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Pi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ce.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class aq{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Bp(t).put(i)}removeEntry(t,e,i){return Bp(t).delete(function(r,o){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],BD(o),l[l.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=Pi.newInvalidDocument(e);return Bp(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(U0(e))},(r,o)=>{i=this.ts(e,o)}).next(()=>i)}es(t,e){let i={size:0,document:Pi.newInvalidDocument(e)};return Bp(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(U0(e))},(r,o)=>{i={document:this.ts(e,o),size:jD(o)}}).next(()=>i)}getEntries(t,e){let i=Ms();return this.ns(t,e,(r,o)=>{const l=this.ts(r,o);i=i.insert(r,l)}).next(()=>i)}ss(t,e){let i=Ms(),r=new bi(nt.comparator);return this.ns(t,e,(o,l)=>{const u=this.ts(o,l);i=i.insert(o,u),r=r.insert(o,jD(l))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return ce.resolve();let r=new Ri(kz);e.forEach(m=>r=r.add(m));const o=IDBKeyRange.bound(U0(r.first()),U0(r.last())),l=r.getIterator();let u=l.getNext();return Bp(t).X({index:"documentKeyIndex",range:o},(m,_,b)=>{const I=nt.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;u&&kz(u,I)<0;)i(u,null),u=l.getNext();u&&u.isEqual(I)&&(i(u,_),u=l.hasNext()?l.getNext():null),u?b.G(U0(u)):b.done()}).next(()=>{for(;u;)i(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,l=[o.popLast().toArray(),o.lastSegment(),BD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bp(t).j(IDBKeyRange.bound(l,u,!0)).next(m=>{let _=Ms();for(const b of m){const I=this.ts(nt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);I.isFoundDocument()&&(E0(e,I)||r.has(I.key))&&(_=_.insert(I.key,I))}return _})}getAllFromCollectionGroup(t,e,i,r){let o=Ms();const l=Mz(e,i),u=Mz(e,ca.max());return Bp(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,u,!0)},(m,_,b)=>{const I=this.ts(nt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);o=o.insert(I.key,I),o.size===r&&b.done()}).next(()=>o)}newChangeBuffer(t){return new lq(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Az(t).get("remoteDocumentGlobalKey").next(e=>(It(!!e),e))}Zn(t,e){return Az(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function q8(n,t){let e;if(t.document)e=JU(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=nt.fromSegments(t.noDocument.path),r=Pp(t.noDocument.readTime);e=Pi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return _t();{const i=nt.fromSegments(t.unknownDocument.path),r=Pp(t.unknownDocument.version);e=Pi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new $i(i[0],i[1]);return St.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(St.min()))return i}return Pi.newInvalidDocument(t)}}function Sz(n){return new aq(n)}class lq extends Tz{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new xu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Ri((o,l)=>on(o.canonicalString(),l.canonicalString()));return this.changes.forEach((o,l)=>{const u=this.us.get(o);if(e.push(this.os.removeEntry(t,o,u.readTime)),l.isValidDocument()){const m=sz(this.os.serializer,l);r=r.add(o.path.popLast());const _=jD(m);i+=_-u.size,e.push(this.os.addEntry(t,o,m))}else if(i-=u.size,this.trackRemovals){const m=sz(this.os.serializer,l.convertToNoDocument(St.min()));e.push(this.os.addEntry(t,o,m))}}),r.forEach(o=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.os.updateMetadata(t,i)),ce.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((o,l)=>{this.us.set(o,{size:l,readTime:i.get(o).readTime})}),i))}}function Az(n){return oo(n,"remoteDocumentGlobal")}function Bp(n){return oo(n,"remoteDocumentsV14")}function U0(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Mz(n,t){const e=t.documentKey.path.toArray();return[n,BD(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function kz(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=on(e[o],i[o]),r)return r;return r=on(e.length,i.length),r||(r=on(e[e.length-2],i[i.length-2]),r||on(e[e.length-1],i[i.length-1]))}class cq{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Rz{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&S0(i.mutation,r,As.empty(),$i.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,hn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=hn()){const r=ed();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let l=D0();return o.forEach((u,m)=>{l=l.insert(u,m.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=ed();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,hn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((l,u)=>{e.set(l,u)})})}computeViews(t,e,i,r){let o=Ms();const l=I0(),u=I0();return e.forEach((m,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof Cu)?o=o.insert(_.key,_):void 0!==b?(l.set(_.key,b.mutation.getFieldMask()),S0(b.mutation,_,b.mutation.getFieldMask(),$i.now())):l.set(_.key,As.empty())}),this.recalculateAndSaveOverlays(t,o).next(m=>(m.forEach((_,b)=>l.set(_,b)),e.forEach((_,b)=>{var I;return u.set(_,new cq(b,null!==(I=l.get(_))&&void 0!==I?I:null))}),u))}recalculateAndSaveOverlays(t,e){const i=I0();let r=new bi((l,u)=>l-u),o=hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const u of l)u.keys().forEach(m=>{const _=e.get(m);if(null===_)return;let b=i.get(m)||As.empty();b=u.applyToLocalView(_,b),i.set(m,b);const I=(r.get(u.batchId)||hn()).add(m);r=r.insert(u.batchId,I)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const m=u.getNext(),_=m.key,b=m.value,I=EU();b.forEach(R=>{if(!o.has(R)){const L=PU(e.get(R),i.get(R));null!==L&&I.set(R,L),o=o.add(R)}}),l.push(this.documentOverlayCache.saveOverlays(t,_,I))}return ce.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return nt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):PR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ce.resolve(ed());let u=-1,m=o;return l.next(_=>ce.forEach(_,(b,I)=>(u<I.largestBatchId&&(u=I.largestBatchId),o.get(b)?ce.resolve():this.remoteDocumentCache.getEntry(t,b).next(R=>{m=m.insert(b,R)}))).next(()=>this.populateOverlays(t,_,o)).next(()=>this.computeViews(t,m,_,hn())).next(b=>({batchId:u,changes:CU(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new nt(e)).next(i=>{let r=D0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=D0();return this.indexManager.getCollectionParents(t,r).next(l=>ce.forEach(l,u=>{const m=(_=e,b=u.child(r),new wu(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(t,m,i).next(_=>{_.forEach((b,I)=>{o=o.insert(b,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((u,m)=>{const _=m.getKey();null===o.get(_)&&(o=o.insert(_,Pi.newInvalidDocument(_)))});let l=D0();return o.forEach((u,m)=>{const _=r.get(u);void 0!==_&&S0(_.mutation,m,As.empty(),$i.now()),E0(e,m)&&(l=l.insert(u,m))}),l})}}class dq{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return ce.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:Cr(i.createTime)}),ce.resolve()}getNamedQuery(t,e){return ce.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:ZR(i.bundledQuery),readTime:Cr(i.readTime)}),ce.resolve();var i}}class uq{constructor(){this.overlays=new bi(nt.comparator),this.ls=new Map}getOverlay(t,e){return ce.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ed();return ce.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.we(t,e,o)}),ce.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),ce.resolve()}getOverlaysForCollection(t,e,i){const r=ed(),o=e.length+1,l=new nt(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const m=u.getNext().value,_=m.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===o&&m.largestBatchId>i&&r.set(m.getKey(),m)}return ce.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new bi((_,b)=>_-b);const l=this.overlays.getIterator();for(;l.hasNext();){const _=l.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let b=o.get(_.largestBatchId);null===b&&(b=ed(),o=o.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const u=ed(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((_,b)=>u.set(_,b)),!(u.size()>=r)););return ce.resolve(u)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new UR(e,i));let o=this.ls.get(e);void 0===o&&(o=hn(),this.ls.set(e,o)),this.ls.set(e,o.add(i.key))}}class t1{constructor(){this.fs=new Ri(so.ds),this.ws=new Ri(so._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new so(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new so(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new nt(new Tn([])),i=new so(e,t),r=new so(e,t+1),o=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),o.push(l.key)}),o}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new nt(new Tn([])),i=new so(e,t),r=new so(e,t+1);let o=hn();return this.ws.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(t){const e=new so(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class so{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return nt.comparator(t.key,e.key)||on(t.As,e.As)}static _s(t,e){return on(t.As,e.As)||nt.comparator(t.key,e.key)}}class hq{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Ri(so.ds)}checkEmpty(t){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.vs;this.vs++;const l=new BR(o,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Rs=this.Rs.add(new so(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ce.resolve(l)}lookupMutationBatch(t,e){return ce.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),o=r<0?0:r;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new so(e,0),r=new so(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],l=>{const u=this.Ps(l.As);o.push(u)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ri(on);return e.forEach(r=>{const o=new so(r,0),l=new so(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,l],u=>{i=i.add(u.As)})}),ce.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;nt.isDocumentKey(o)||(o=o.child(""));const l=new so(new nt(o),0);let u=new Ri(on);return this.Rs.forEachWhile(m=>{const _=m.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(u=u.add(m.As)),!0)},l),ce.resolve(this.Vs(u))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){It(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ce.forEach(e.mutations,r=>{const o=new so(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new so(e,0),r=this.Rs.firstAfterOrEqual(i);return ce.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ce.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class fq{constructor(t){this.Ds=t,this.docs=new bi(nt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ce.resolve(i?i.document.mutableCopy():Pi.newInvalidDocument(e))}getEntries(t,e){let i=Ms();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Pi.newInvalidDocument(r))}),ce.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Ms();const l=e.path,u=new nt(l.child("")),m=this.docs.getIteratorFrom(u);for(;m.hasNext();){const{key:_,value:{document:b}}=m.getNext();if(!l.isPrefixOf(_.path))break;_.path.length>l.length+1||xR(BV(b),i)<=0||(r.has(b.key)||E0(e,b))&&(o=o.insert(b.key,b.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(t,e,i,r){_t()}Cs(t,e){return ce.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new mq(this)}getSize(t){return ce.resolve(this.size)}}class mq extends Tz{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),ce.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class pq{constructor(t){this.persistence=t,this.xs=new xu(e=>Sp(e),x0),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Ns=0,this.ks=new t1,this.targetCount=0,this.Ms=Lp.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),ce.resolve()}getLastRemoteSnapshotVersion(t){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ce.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),ce.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new Lp(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,ce.resolve()}updateTargetData(t,e){return this.Fn(e),ce.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,ce.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.xs.forEach((l,u)=>{u.sequenceNumber<=e&&null===i.get(u.targetId)&&(this.xs.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),ce.waitFor(o).next(()=>r)}getTargetCount(t){return ce.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return ce.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),ce.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(l=>{o.push(r.markPotentiallyOrphaned(t,l))}),ce.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),ce.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return ce.resolve(i)}containsKey(t,e){return ce.resolve(this.ks.containsKey(e))}}class n1{constructor(t,e){this.$s={},this.overlays={},this.Os=new da(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new pq(this),this.indexManager=new tq,this.remoteDocumentCache=new fq(i=>this.referenceDelegate.Ls(i)),this.serializer=new oz(e),this.qs=new dq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new uq,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new hq(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){He("MemoryPersistence","Starting transaction:",t);const r=new gq(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(t,e){return ce.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class gq extends UV{constructor(t){super(),this.currentSequenceNumber=t}}class WD{constructor(t){this.persistence=t,this.Qs=new t1,this.js=null}static zs(t){return new WD(t)}get Ws(){if(this.js)return this.js;throw _t()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),ce.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),ce.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ws,i=>{const r=nt.fromPath(i);return this.Hs(t,r).next(o=>{o||e.removeEntry(r,St.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return ce.or([()=>ce.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class _q{constructor(t){this.serializer=t}O(t,e,i,r){const o=new wD("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$V,{unique:!0}),u.createObjectStore("documentMutations"),Pz(t),function(u){u.createObjectStore("remoteDocuments")}(t));let l=ce.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),Pz(t)),l=l.next(()=>function(u){const m=u.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",_)}(o))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(u,m){return m.store("mutations").j().next(_=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$V,{unique:!0});const b=m.store("mutations"),I=_.map(R=>b.put(R));return ce.waitFor(I)})}(t,o))),l=l.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(o))),i<6&&r>=6&&(l=l.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(o)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(o))),i<8&&r>=8&&(l=l.next(()=>this.ti(t,o))),i<9&&r>=9&&(l=l.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(l=l.next(()=>this.ei(o))),i<11&&r>=11&&(l=l.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(l=l.next(()=>{!function(u){const m=u.createObjectStore("documentOverlays",{keyPath:e8});m.createIndex("collectionPathOverlayIndex",t8,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",n8,{unique:!1})}(t)})),i<13&&r>=13&&(l=l.next(()=>function(u){const m=u.createObjectStore("remoteDocumentsV14",{keyPath:jW});m.createIndex("documentKeyIndex",$W),m.createIndex("collectionGroupIndex",GW)}(t)).next(()=>this.ni(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(t,o))),i<15&&r>=15&&(l=l.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:KW}).createIndex("sequenceNumberIndex",QW,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:XW}).createIndex("documentKeyIndex",JW,{unique:!1})}(t))),l}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=jD(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>ce.forEach(r,o=>{const l=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(u=>ce.forEach(u,m=>{It(m.userId===o.userId);const _=Op(this.serializer,m);return bz(t,o.userId,_).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((l,u)=>{const m=new Tn(l),_=[0,Oo(m)];o.push(e.get(_).next(b=>b?ce.resolve():e.put({targetId:0,path:Oo(m),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ce.waitFor(o))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:YW});const i=e.store("collectionParents"),r=new e1,o=l=>{if(r.add(l)){const u=l.lastSegment(),m=l.popLast();return i.put({collectionId:u,parent:Oo(m)})}};return e.store("remoteDocuments").X({Y:!0},(l,u)=>{const m=new Tn(l);return o(m.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([l,u,m],_)=>{const b=Xc(u);return o(b.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const o=N0(r),l=az(this.serializer,o);return e.put(l)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((o,l)=>{const u=e.store("remoteDocumentsV14"),m=(_=l,_.document?new nt(Tn.fromString(_.document.name).popFirst(5)):_.noDocument?nt.fromSegments(_.noDocument.path):_.unknownDocument?nt.fromSegments(_.unknownDocument.path):_t()).path.toArray();var _;const b={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(u.put(b))}).next(()=>ce.waitFor(r))}si(t,e){const i=e.store("mutations"),r=Sz(this.serializer),o=new n1(WD.zs,this.serializer.fe);return i.j().next(l=>{const u=new Map;return l.forEach(m=>{var _;let b=null!==(_=u.get(m.userId))&&void 0!==_?_:hn();Op(this.serializer,m).keys().forEach(I=>b=b.add(I)),u.set(m.userId,b)}),ce.forEach(u,(m,_)=>{const b=new ro(_),I=VD.de(this.serializer,b),R=o.getIndexManager(b),L=$D.de(b,this.serializer,R,o.referenceDelegate);return new Rz(r,L,I,R).recalculateAndSaveOverlaysForDocumentKeys(new DR(e,da.ct),m).next()})})}}function Pz(n){n.createObjectStore("targetDocuments",{keyPath:qW}).createIndex("documentTargetsIndex",ZW,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",WW,{unique:!0}),n.createObjectStore("targetGlobal")}const r1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class o1{constructor(t,e,i,r,o,l,u,m,_,b,I=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=o,this.window=l,this.document=u,this.ri=_,this.oi=b,this.ui=I,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=R=>Promise.resolve(),!o1.D())throw new Pe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sq(this,r),this.di=e+"main",this.serializer=new oz(m),this.wi=new Gl(this.di,this.ui,new _q(this.serializer)),this.Bs=new iq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Sz(this.serializer),this.qs=new Z8,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(me.FAILED_PRECONDITION,r1);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new da(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,De.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,De.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,De.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ZD(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(yf(t))return He("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return z0(t).get("owner").next(e=>ce.resolve(this.Ri(e)))}Pi(t){return ZD(t).delete(this.clientId)}bi(){var t=this;return(0,De.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=oo(i,"clientMetadata");return r.j().next(o=>{const l=t.Si(o,18e5),u=o.filter(m=>-1===l.indexOf(m));return ce.forEach(u,m=>r.delete(m.clientId)).next(()=>u)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?ce.resolve(!0):z0(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Pe(me.FAILED_PRECONDITION,r1);return!1}}return!(!this.networkEnabled||!this.inForeground)||ZD(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&He("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,De.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new DR(e,da.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>ZD(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return $D.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new nq(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return VD.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){He("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(l=this.ui)?o8:14===l?ZV:13===l?qV:12===l?r8:11===l?WV:void _t();var l;let u;return this.wi.runTransaction(t,r,o,m=>(u=new DR(m,this.Os?this.Os.next():da.ct),"readwrite-primary"===e?this.Ti(u).next(_=>!!_||this.Ei(u)).next(_=>{if(!_)throw xr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Pe(me.FAILED_PRECONDITION,VV);return i(u)}).next(_=>this.vi(u).next(()=>_)):this.Oi(u).next(()=>i(u)))).then(m=>(u.raiseOnCommittedEvent(),m))}Oi(t){return z0(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Pe(me.FAILED_PRECONDITION,r1)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return z0(t).put("owner",e)}static D(){return Gl.D()}Ai(t){const e=z0(t);return e.get("owner").next(i=>this.Ri(i)?(He("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ce.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(xr(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,re.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return He("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return xr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){xr("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function z0(n){return oo(n,"owner")}function ZD(n){return oo(n,"clientMetadata")}function s1(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class a1{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=hn(),r=hn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new a1(t,e.fromCache,i,r)}}class Oz{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(o=>o||this.Gi(t,e,r,i)).next(o=>o||this.Qi(t,e))}Ki(t,e){if(vU(e))return ce.resolve(null);let i=rs(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=RD(e,null,"F"),i=rs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const l=hn(...o);return this.Ui.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(m=>{const _=this.ji(e,u);return this.zi(e,_,l,m.readTime)?this.Ki(t,RD(e,null,"F")):this.Wi(t,_,e,m)}))})))}Gi(t,e,i,r){return vU(e)||r.isEqual(St.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(o=>{const l=this.ji(e,o);return this.zi(e,l,i,r)?this.Qi(t,e):(yR()<=Zc.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),NR(e)),this.Wi(t,l,e,LV(r,-1)))})}ji(t,e){let i=new Ri(wU(t));return e.forEach((r,o)=>{E0(t,o)&&(i=i.add(o))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(t,e){return yR()<=Zc.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",NR(e)),this.Ui.getDocumentsMatchingQuery(t,e,ca.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(l=>{o=o.insert(l.key,l)}),o))}}class vq{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new bi(on),this.Yi=new xu(o=>Sp(o),x0),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Rz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function Nz(n,t,e,i){return new vq(n,t,e,i)}function Fz(n,t){return l1.apply(this,arguments)}function l1(){return l1=(0,De.Z)(function*(n,t){const e=at(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],u=[];let m=hn();for(const _ of r){l.push(_.batchId);for(const b of _.mutations)m=m.add(b.key)}for(const _ of o){u.push(_.batchId);for(const b of _.mutations)m=m.add(b.key)}return e.localDocuments.getDocuments(i,m).next(_=>({er:_,removedBatchIds:l,addedBatchIds:u}))})})}),l1.apply(this,arguments)}function Lz(n){const t=at(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function Bz(n,t,e){let i=hn(),r=hn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let l=Ms();return e.forEach((u,m)=>{const _=o.get(u);m.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(u)),m.isNoDocument()&&m.version.isEqual(St.min())?(t.removeEntry(u,m.readTime),l=l.insert(u,m)):!_.isValidDocument()||m.version.compareTo(_.version)>0||0===m.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(m),l=l.insert(u,m)):He("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",m.version)}),{nr:l,sr:r}})}function wq(n,t){const e=at(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function hv(n,t){const e=at(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(o=>o?(r=o,ce.resolve(r)):e.Bs.allocateTargetId(i).next(l=>(r=new Eu(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function fv(n,t,e){return c1.apply(this,arguments)}function c1(){return c1=(0,De.Z)(function*(n,t,e){const i=at(n),r=i.Ji.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!yf(l))throw l;He("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),c1.apply(this,arguments)}function YD(n,t,e){const i=at(n);let r=St.min(),o=hn();return i.persistence.runTransaction("Execute query","readonly",l=>function(u,m,_){const b=at(u),I=b.Yi.get(_);return void 0!==I?ce.resolve(b.Ji.get(I)):b.Bs.getTargetData(m,_)}(i,l,rs(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,u.targetId).next(m=>{o=m})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,t,e?r:St.min(),e?o:hn())).next(u=>(zz(i,bU(t),u),{documents:u,ir:o})))}function Vz(n,t){const e=at(n),i=at(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.le(o,t).next(l=>l?l.target:null))}function Uz(n,t){const e=at(n),i=e.Xi.get(t)||St.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,LV(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(zz(e,t,r),r))}function zz(n,t,e){let i=n.Xi.get(t)||St.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(t,i)}function d1(){return d1=(0,De.Z)(function*(n,t,e,i){const r=at(n);let o=hn(),l=Ms();for(const _ of e){const b=t.rr(_.metadata.name);_.document&&(o=o.add(b));const I=t.ur(_);I.setReadTime(t.cr(_.metadata.readTime)),l=l.insert(b,I)}const u=r.Zi.newChangeBuffer({trackRemovals:!0}),m=yield hv(r,(_=i,rs(iv(Tn.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>Bz(_,u,l).next(b=>(u.apply(_),b)).next(b=>r.Bs.removeMatchingKeysForTargetId(_,m.targetId).next(()=>r.Bs.addMatchingKeys(_,o,m.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,b.nr,b.sr)).next(()=>b.nr)))}),d1.apply(this,arguments)}function Cq(n,t){return u1.apply(this,arguments)}function u1(){return u1=(0,De.Z)(function*(n,t,e=hn()){const i=yield hv(n,rs(ZR(t.bundledQuery))),r=at(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const l=Cr(t.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(o,t);const u=i.withResumeToken(Gr.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(u.targetId,u),r.Bs.updateTargetData(o,u).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,e,i.targetId)).next(()=>r.qs.saveNamedQuery(o,t))})}),u1.apply(this,arguments)}function Hz(n,t){return`firestore_clients_${n}_${t}`}function jz(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function h1(n,t){return`firestore_targets_${n}_${t}`}class KD{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let o,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Pe(r.error.code,r.error.message))),l?new KD(t,e,r.state,o):(xr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class H0{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Pe(i.error.code,i.error.message))),o?new H0(t,i.state,r):(xr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class QD{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=FR();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=HV(i.activeTargetIds[l]),o=o.add(i.activeTargetIds[l]);return r?new QD(t,o):(xr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class f1{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new f1(e.clientId,e.onlineState):(xr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class m1{constructor(){this.activeTargetIds=FR()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class p1{constructor(t,e,i,r,o){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new bi(on),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=Hz(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new m1),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,De.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const o=t.getItem(Hz(t.persistenceKey,r));if(o){const l=QD.ar(r,o);l&&(t.gr=t.gr.insert(l.clientId,l))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(h1(this.persistenceKey,t));if(i){const r=H0.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(h1(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return He("SharedClientState","READ",t,e),e}setItem(t,e){He("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){He("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(He("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,De.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(o){let l=da.ct;if(null!=o)try{const u=JSON.parse(o);It("number"==typeof u),l=u}catch(u){xr("SharedClientState","Failed to read sequence number from WebStorage",u)}return l}(i.newValue);r!==da.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Qr(o)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new KD(this.currentUser,t,e,i),o=jz(this.persistenceKey,this.currentUser,t);this.setItem(o,r.hr())}Cr(t){const e=jz(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=h1(this.persistenceKey,t),o=new H0(t,e,i);this.setItem(r,o.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return QD.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return KD.ar(new ro(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return H0.ar(r,e)}br(t){return f1.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,De.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);He("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),o=this.Sr(i),l=[],u=[];return o.forEach(m=>{r.has(m)||l.push(m)}),r.forEach(m=>{o.has(m)||u.push(m)}),this.syncEngine.Wr(l,u).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=FR();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class $z{constructor(){this.Hr=new m1,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new m1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Eq{Yr(t){}shutdown(){}}class Gz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let XD=null;function g1(){return null===XD?XD=268435456+Math.round(2147483648*Math.random()):XD++,"0x"+XD.toString(16)}const Dq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Iq{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Fo="WebChannelConnection";class Tq extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,o){const l=g1(),u=this.To(t,e);He("RestConnection",`Sending RPC '${t}' ${l}:`,u,i);const m={};return this.Eo(m,r,o),this.Ao(t,u,m,i).then(_=>(He("RestConnection",`Received RPC '${t}' ${l}: `,_),_),_=>{throw Qa("RestConnection",`RPC '${t}' ${l} failed with error: `,_,"url: ",u,"request:",i),_})}vo(t,e,i,r,o,l){return this.Io(t,e,i,r,o)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Q_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}To(t,e){return`${this.mo}/v1/${e}:${Dq[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const o=g1();return new Promise((l,u)=>{const m=new CW;m.setWithCredentials(!0),m.listenOnce(bW.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case vR.NO_ERROR:const b=m.getResponseJson();He(Fo,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(b)),l(b);break;case vR.TIMEOUT:He(Fo,`RPC '${t}' ${o} timed out`),u(new Pe(me.DEADLINE_EXCEEDED,"Request time out"));break;case vR.HTTP_ERROR:const I=m.getStatus();if(He(Fo,`RPC '${t}' ${o} failed with status:`,I,"response text:",m.getResponseText()),I>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const L=R?.error;if(L&&L.status&&L.message){const j=function(Z){const ne=Z.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(ne)>=0?ne:me.UNKNOWN}(L.status);u(new Pe(j,L.message))}else u(new Pe(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else u(new Pe(me.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{He(Fo,`RPC '${t}' ${o} completed.`)}});const _=JSON.stringify(r);He(Fo,`RPC '${t}' ${o} sending request:`,r),m.send(e,"POST",_,i,15)})}Ro(t,e,i){const r=g1(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=vW(),u=yW(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;void 0!==_&&(m.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(m.xmlHttpFactory=new xW({})),this.Eo(m.initMessageHeaders,e,i),m.encodeInitMessageHeaders=!0;const b=o.join("");He(Fo,`Creating RPC '${t}' stream ${r}: ${b}`,m);const I=l.createWebChannel(b,m);let R=!1,L=!1;const j=new Iq({ro:ne=>{L?He(Fo,`Not sending because RPC '${t}' stream ${r} is closed:`,ne):(R||(He(Fo,`Opening RPC '${t}' stream ${r} transport.`),I.open(),R=!0),He(Fo,`RPC '${t}' stream ${r} sending:`,ne),I.send(ne))},oo:()=>I.close()}),Z=(ne,Re,Ke)=>{ne.listen(Re,Je=>{try{Ke(Je)}catch(ct){setTimeout(()=>{throw ct},0)}})};return Z(I,vD.EventType.OPEN,()=>{L||He(Fo,`RPC '${t}' stream ${r} transport opened.`)}),Z(I,vD.EventType.CLOSE,()=>{L||(L=!0,He(Fo,`RPC '${t}' stream ${r} transport closed`),j.wo())}),Z(I,vD.EventType.ERROR,ne=>{L||(L=!0,Qa(Fo,`RPC '${t}' stream ${r} transport errored:`,ne),j.wo(new Pe(me.UNAVAILABLE,"The operation could not be completed")))}),Z(I,vD.EventType.MESSAGE,ne=>{var Re;if(!L){const Ke=ne.data[0];It(!!Ke);const ct=Ke.error||(null===(Re=Ke[0])||void 0===Re?void 0:Re.error);if(ct){He(Fo,`RPC '${t}' stream ${r} received error:`,ct);const jt=ct.status;let sn=function(Eo){const il=Or[Eo];if(void 0!==il)return VU(il)}(jt),On=ct.message;void 0===sn&&(sn=me.INTERNAL,On="Unknown error status: "+jt+" with message "+ct.message),L=!0,j.wo(new Pe(sn,On)),I.close()}else He(Fo,`RPC '${t}' stream ${r} received:`,Ke),j._o(Ke)}}),Z(u,wW.STAT_EVENT,ne=>{ne.stat===kV.PROXY?He(Fo,`RPC '${t}' stream ${r} detected buffering proxy`):ne.stat===kV.NOPROXY&&He(Fo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{j.fo()},0),j}}function Wz(){return typeof window<"u"?window:null}function JD(){return typeof document<"u"?document:null}function j0(n){return new L8(n,!0)}class _1{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&He("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class qz{constructor(t,e,i,r,o,l,u,m){this.ii=t,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new _1(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,De.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,De.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,De.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(xr(e.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new Pe(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,De.Z)(function*(){t.state=0,t.start()}))}tu(t){return He("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sq extends qz{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function U8(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:_t(),r=t.targetChange.targetIds||[],o=function(m,_){return m.useProto3Json?(It(void 0===_||"string"==typeof _),Gr.fromBase64String(_||"")):(It(void 0===_||_ instanceof Uint8Array),Gr.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(m){const _=void 0===m.code?me.UNKNOWN:VU(m.code);return new Pe(_,m.message||"")}(l);e=new $U(i,r,o,u||null)}else if("documentChange"in t){const i=t.documentChange,r=td(n,i.document.name),o=Cr(i.document.updateTime),l=i.document.createTime?Cr(i.document.createTime):St.min(),u=new wo({mapValue:{fields:i.document.fields}}),m=Pi.newFoundDocument(r,o,l,u);e=new LD(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const i=t.documentDelete,r=td(n,i.document),o=i.readTime?Cr(i.readTime):St.min(),l=Pi.newNoDocument(r,o);e=new LD([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in t){const i=t.documentRemove,r=td(n,i.document);e=new LD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return _t();{const i=t.filter,{count:r=0,unchangedNames:o}=i,l=new k8(r,o);e=new jU(i.targetId,l)}}var m;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return St.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?St.min():o.readTime?Cr(o.readTime):St.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=P0(this.serializer),e.addTarget=function(r,o){let l;const u=o.target;if(l=AD(u)?{documents:ez(r,u)}:{query:qR(r,u)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=ZU(r,o.resumeToken);const m=jR(r,o.expectedCount);null!==m&&(l.expectedCount=m)}else if(o.snapshotVersion.compareTo(St.min())>0){l.readTime=lv(r,o.snapshotVersion.toTimestamp());const m=jR(r,o.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,t);const i=function H8(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=P0(this.serializer),e.removeTarget=t,this.Wo(e)}}class Aq extends qz{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(It(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function z8(n,t){return n&&n.length>0?(It(void 0!==t),n.map(e=>function(i,r){let o=Cr(i.updateTime?i.updateTime:r);return o.isEqual(St.min())&&(o=Cr(r)),new T8(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Cr(t.commitTime);return this.listener.cu(i,e)}return It(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=P0(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>O0(this.serializer,i))};this.Wo(e)}}class Mq extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Pe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Pe(me.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(t,e,i,o,l,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(me.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class Rq{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(xr(e),this.mu=!1):He("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Pq{constructor(t,e,i,r,o){var l=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(u=>{i.enqueueAndForget((0,De.Z)(function*(){var m;kf(l)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,De.Z)(function*(_){const b=at(_);b.vu.add(4),yield mv(b),b.bu.set("Unknown"),b.vu.delete(4),yield $0(b)}),function(_){return m.apply(this,arguments)})(l))}))}),this.bu=new Rq(i,r)}}function $0(n){return y1.apply(this,arguments)}function y1(){return y1=(0,De.Z)(function*(n){if(kf(n))for(const t of n.Ru)yield t(!0)}),y1.apply(this,arguments)}function mv(n){return b1.apply(this,arguments)}function b1(){return b1=(0,De.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),b1.apply(this,arguments)}function eI(n,t){const e=at(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),C1(e)?x1(e):gv(e).Ko()&&w1(e,t))}function G0(n,t){const e=at(n),i=gv(e);e.Au.delete(t),i.Ko()&&Zz(e,t),0===e.Au.size&&(i.Ko()?i.jo():kf(e)&&e.bu.set("Unknown"))}function w1(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}gv(n).su(t)}function Zz(n,t){n.Vu.qt(t),gv(n).iu(t)}function x1(n){n.Vu=new P8({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),gv(n).start(),n.bu.gu()}function C1(n){return kf(n)&&!gv(n).Uo()&&n.Au.size>0}function kf(n){return 0===at(n).vu.size}function Yz(n){n.Vu=void 0}function Oq(n){return E1.apply(this,arguments)}function E1(){return E1=(0,De.Z)(function*(n){n.Au.forEach((t,e)=>{w1(n,t)})}),E1.apply(this,arguments)}function Nq(n,t){return D1.apply(this,arguments)}function D1(){return D1=(0,De.Z)(function*(n,t){Yz(n),C1(n)?(n.bu.Iu(t),x1(n)):n.bu.set("Unknown")}),D1.apply(this,arguments)}function Fq(n,t,e){return I1.apply(this,arguments)}function I1(){return I1=(0,De.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof $U&&2===t.state&&t.cause)try{yield(i=(0,De.Z)(function*(r,o){const l=o.cause;for(const u of o.targetIds)r.Au.has(u)&&(yield r.remoteSyncer.rejectListen(u,l),r.Au.delete(u),r.Vu.removeTarget(u))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){He("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield tI(n,i)}else if(t instanceof LD?n.Vu.Ht(t):t instanceof jU?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(St.min()))try{const i=yield Lz(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const l=r.Vu.ce(o);return l.targetChanges.forEach((u,m)=>{if(u.resumeToken.approximateByteSize()>0){const _=r.Au.get(m);_&&r.Au.set(m,_.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,m)=>{const _=r.Au.get(u);if(!_)return;r.Au.set(u,_.withResumeToken(Gr.EMPTY_BYTE_STRING,_.snapshotVersion)),Zz(r,u);const b=new Eu(_.target,u,m,_.sequenceNumber);w1(r,b)}),r.remoteSyncer.applyRemoteEvent(l)}(n,e))}catch(i){He("RemoteStore","Failed to raise snapshot:",i),yield tI(n,i)}var i}),I1.apply(this,arguments)}function tI(n,t,e){return T1.apply(this,arguments)}function T1(){return T1=(0,De.Z)(function*(n,t,e){if(!yf(t))throw t;n.vu.add(1),yield mv(n),n.bu.set("Offline"),e||(e=()=>Lz(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield $0(n)}))}),T1.apply(this,arguments)}function Kz(n,t){return t().catch(e=>tI(n,e,t))}function pv(n){return S1.apply(this,arguments)}function S1(){return S1=(0,De.Z)(function*(n){const t=at(n),e=Rf(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Lq(t);)try{const r=yield wq(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,Bq(t,r)}catch(r){yield tI(t,r)}Qz(t)&&Xz(t)}),S1.apply(this,arguments)}function Lq(n){return kf(n)&&n.Eu.length<10}function Bq(n,t){n.Eu.push(t);const e=Rf(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function Qz(n){return kf(n)&&!Rf(n).Uo()&&n.Eu.length>0}function Xz(n){Rf(n).start()}function Vq(n){return A1.apply(this,arguments)}function A1(){return A1=(0,De.Z)(function*(n){Rf(n).hu()}),A1.apply(this,arguments)}function Uq(n){return M1.apply(this,arguments)}function M1(){return M1=(0,De.Z)(function*(n){const t=Rf(n);for(const e of n.Eu)t.uu(e.mutations)}),M1.apply(this,arguments)}function zq(n,t,e){return k1.apply(this,arguments)}function k1(){return k1=(0,De.Z)(function*(n,t,e){const i=n.Eu.shift(),r=VR.from(i,t,e);yield Kz(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield pv(n)}),k1.apply(this,arguments)}function Hq(n,t){return R1.apply(this,arguments)}function R1(){return R1=(0,De.Z)(function*(n,t){var e;t&&Rf(n).ou&&(yield(e=(0,De.Z)(function*(i,r){if(BU(o=r.code)&&o!==me.ABORTED){const l=i.Eu.shift();Rf(i).Qo(),yield Kz(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield pv(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),Qz(n)&&Xz(n)}),R1.apply(this,arguments)}function Jz(n,t){return P1.apply(this,arguments)}function P1(){return P1=(0,De.Z)(function*(n,t){const e=at(n);e.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const i=kf(e);e.vu.add(3),yield mv(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield $0(e)}),P1.apply(this,arguments)}function O1(n,t){return N1.apply(this,arguments)}function N1(){return N1=(0,De.Z)(function*(n,t){const e=at(n);t?(e.vu.delete(2),yield $0(e)):t||(e.vu.add(2),yield mv(e),e.bu.set("Unknown"))}),N1.apply(this,arguments)}function gv(n){return n.Su||(n.Su=function(t,e,i){const r=at(t);return r.fu(),new Sq(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Oq.bind(null,n),ao:Nq.bind(null,n),nu:Fq.bind(null,n)}),n.Ru.push(function(){var t=(0,De.Z)(function*(e){e?(n.Su.Qo(),C1(n)?x1(n):n.bu.set("Unknown")):(yield n.Su.stop(),Yz(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Rf(n){return n.Du||(n.Du=function(t,e,i){const r=at(t);return r.fu(),new Aq(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Vq.bind(null,n),ao:Hq.bind(null,n),au:Uq.bind(null,n),cu:zq.bind(null,n)}),n.Ru.push(function(){var t=(0,De.Z)(function*(e){e?(n.Du.Qo(),yield pv(n)):(yield n.Du.stop(),n.Eu.length>0&&(He("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class F1{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,u=new F1(t,e,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _v(n,t){if(xr("AsyncQueue",`${t}: ${n}`),yf(n))return new Pe(me.UNAVAILABLE,`${t}: ${n}`);throw n}class vv{constructor(t){this.comparator=t?(e,i)=>t(e,i)||nt.comparator(e.key,i.key):(e,i)=>nt.comparator(e.key,i.key),this.keyedMap=D0(),this.sortedSet=new bi(this.comparator)}static emptySet(t){return new vv(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof vv)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new vv;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class eH{constructor(){this.Cu=new bi(nt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):_t():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class yv{constructor(t,e,i,r,o,l,u,m,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=m,this.hasCachedResults=_}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new yv(t,e,vv.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&C0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class jq{constructor(){this.Nu=void 0,this.listeners=[]}}class $q{constructor(){this.queries=new xu(t=>yU(t),C0),this.onlineState="Unknown",this.ku=new Set}}function L1(n,t){return B1.apply(this,arguments)}function B1(){return B1=(0,De.Z)(function*(n,t){const e=at(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new jq),r)try{o.Nu=yield e.onListen(i)}catch(l){const u=_v(l,`Initialization of query '${NR(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,o),o.listeners.push(t),t.Mu(e.onlineState),o.Nu&&t.$u(o.Nu)&&z1(e)}),B1.apply(this,arguments)}function V1(n,t){return U1.apply(this,arguments)}function U1(){return U1=(0,De.Z)(function*(n,t){const e=at(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const l=o.listeners.indexOf(t);l>=0&&(o.listeners.splice(l,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),U1.apply(this,arguments)}function Gq(n,t){const e=at(n);let i=!1;for(const r of t){const l=e.queries.get(r.query);if(l){for(const u of l.listeners)u.$u(r)&&(i=!0);l.Nu=r}}i&&z1(e)}function Wq(n,t,e){const i=at(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function z1(n){n.ku.forEach(t=>{t.next()})}class H1{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new yv(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=yv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class qq{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class tH{constructor(t){this.serializer=t}rr(t){return td(this.serializer,t)}ur(t){return t.metadata.exists?JU(this.serializer,t.document,!1):Pi.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return Cr(t)}}class Zq{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nH(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=Tn.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new tH(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const l of r.metadata.queries){const u=(e.get(l)||hn()).add(o);e.set(l,u)}}return e}complete(){var t=this;return(0,De.Z)(function*(){const e=yield function xq(n,t,e,i){return d1.apply(this,arguments)}(t.localStore,new tH(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield Cq(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function nH(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class iH{constructor(t){this.key=t}}class rH{constructor(t){this.key=t}}class oH{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=hn(),this.mutatedKeys=hn(),this.tc=wU(t),this.ec=new vv(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new eH,r=e?e.ec:this.ec;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((b,I)=>{const R=r.get(b),L=E0(this.query,I)?I:null,j=!!R&&this.mutatedKeys.has(R.key),Z=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let ne=!1;R&&L?R.data.isEqual(L.data)?j!==Z&&(i.track({type:3,doc:L}),ne=!0):this.rc(R,L)||(i.track({type:2,doc:L}),ne=!0,(m&&this.tc(L,m)>0||_&&this.tc(L,_)<0)&&(u=!0)):!R&&L?(i.track({type:0,doc:L}),ne=!0):R&&!L&&(i.track({type:1,doc:R}),ne=!0,(m||_)&&(u=!0)),ne&&(L?(l=l.add(L),o=Z?o.add(b):o.delete(b)):(l=l.delete(b),o=o.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),o=o.delete(b.key),i.track({type:1,doc:b})}return{ec:l,ic:i,zi:u,mutatedKeys:o}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const o=t.ic.xu();o.sort((_,b)=>function(I,R){const L=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return L(I)-L(R)}(_.type,b.type)||this.tc(_.doc,b.doc)),this.oc(i);const l=e?this.uc():[],u=0===this.Zu.size&&this.current?1:0,m=u!==this.Xu;return this.Xu=u,0!==o.length||m?{snapshot:new yv(this.query,t.ec,r,o,t.mutatedKeys,0===u,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new eH,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=hn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new rH(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new iH(i))}),e}hc(t){this.Yu=t.ir,this.Zu=hn();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return yv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Yq{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Kq{constructor(t){this.key=t,this.fc=!1}}class Qq{constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new xu(u=>yU(u),C0),this._c=new Map,this.mc=new Set,this.gc=new bi(nt.comparator),this.yc=new Map,this.Ic=new t1,this.Tc={},this.Ec=new Map,this.Ac=Lp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Xq(n,t){return j1.apply(this,arguments)}function j1(){return j1=(0,De.Z)(function*(n,t){const e=hP(n);let i,r;const o=e.wc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const l=yield hv(e.localStore,rs(t)),u=e.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield $1(e,t,i,"current"===u,l.resumeToken),e.isPrimaryClient&&eI(e.remoteStore,l)}return r}),j1.apply(this,arguments)}function $1(n,t,e,i,r){return G1.apply(this,arguments)}function G1(){return G1=(0,De.Z)(function*(n,t,e,i,r){n.Rc=(I,R,L)=>{return(j=(0,De.Z)(function*(Z,ne,Re,Ke){let Je=ne.view.sc(Re);Je.zi&&(Je=yield YD(Z.localStore,ne.query,!1).then(({documents:sn})=>ne.view.sc(sn,Je)));const ct=Ke&&Ke.targetChanges.get(ne.targetId),jt=ne.view.applyChanges(Je,Z.isPrimaryClient,ct);return tP(Z,ne.targetId,jt.cc),jt.snapshot}),function(Z,ne,Re,Ke){return j.apply(this,arguments)})(n,I,R,L);var j};const o=yield YD(n.localStore,t,!0),l=new oH(t,o.ir),u=l.sc(o.documents),m=k0.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),_=l.applyChanges(u,n.isPrimaryClient,m);tP(n,e,_.cc);const b=new Yq(t,e,l);return n.wc.set(t,b),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),_.snapshot}),G1.apply(this,arguments)}function Jq(n,t){return W1.apply(this,arguments)}function W1(){return W1=(0,De.Z)(function*(n,t){const e=at(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(o=>!C0(o,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fv(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),G0(e.remoteStore,i.targetId),bv(e,i.targetId)}).catch(vf))):(bv(e,i.targetId),yield fv(e.localStore,i.targetId,!0))}),W1.apply(this,arguments)}function q1(){return q1=(0,De.Z)(function*(n,t,e){const i=fP(n);try{const r=yield function(o,l){const u=at(o),m=$i.now(),_=l.reduce((R,L)=>R.add(L.key),hn());let b,I;return u.persistence.runTransaction("Locally write mutations","readwrite",R=>{let L=Ms(),j=hn();return u.Zi.getEntries(R,_).next(Z=>{L=Z,L.forEach((ne,Re)=>{Re.isValidDocument()||(j=j.add(ne))})}).next(()=>u.localDocuments.getOverlayedDocuments(R,L)).next(Z=>{b=Z;const ne=[];for(const Re of l){const Ke=A8(Re,b.get(Re.key).overlayedDocument);null!=Ke&&ne.push(new Cu(Re.key,Ke,oU(Ke.value.mapValue),Gi.exists(!0)))}return u.mutationQueue.addMutationBatch(R,m,ne,l)}).next(Z=>{I=Z;const ne=Z.applyToLocalDocumentSet(b,j);return u.documentOverlayCache.saveOverlays(R,Z.batchId,ne)})}).then(()=>({batchId:I.batchId,changes:CU(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,l,u){let m=o.Tc[o.currentUser.toKey()];m||(m=new bi(on)),m=m.insert(l,u),o.Tc[o.currentUser.toKey()]=m}(i,r.batchId,e),yield Du(i,r.changes),yield pv(i.remoteStore)}catch(r){const o=_v(r,"Failed to persist write");e.reject(o)}}),q1.apply(this,arguments)}function sH(n,t){return Z1.apply(this,arguments)}function Z1(){return Z1=(0,De.Z)(function*(n,t){const e=at(n);try{const i=yield function bq(n,t){const e=at(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const u=[];t.targetChanges.forEach((b,I)=>{const R=r.get(I);if(!R)return;u.push(e.Bs.removeMatchingKeys(o,b.removedDocuments,I).next(()=>e.Bs.addMatchingKeys(o,b.addedDocuments,I)));let L=R.withSequenceNumber(o.currentSequenceNumber);var j,Z,ne;null!==t.targetMismatches.get(I)?L=L.withResumeToken(Gr.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):b.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(b.resumeToken,i)),r=r.insert(I,L),Z=L,ne=b,(0===(j=R).resumeToken.approximateByteSize()||Z.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&u.push(e.Bs.updateTargetData(o,L))});let m=Ms(),_=hn();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,b))}),u.push(Bz(o,l,t.documentUpdates).next(b=>{m=b.nr,_=b.sr})),!i.isEqual(St.min())){const b=e.Bs.getLastRemoteSnapshotVersion(o).next(I=>e.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(b)}return ce.waitFor(u).next(()=>l.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,m,_)).next(()=>m)}).then(o=>(e.Ji=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const l=e.yc.get(o);l&&(It(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?It(l.fc):r.removedDocuments.size>0&&(It(l.fc),l.fc=!1))}),yield Du(e,i,t)}catch(i){yield vf(i)}}),Z1.apply(this,arguments)}function aH(n,t,e){const i=at(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((o,l)=>{const u=l.view.Mu(t);u.snapshot&&r.push(u.snapshot)}),function(o,l){const u=at(o);u.onlineState=l;let m=!1;u.queries.forEach((_,b)=>{for(const I of b.listeners)I.Mu(l)&&(m=!0)}),m&&z1(u)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function t7(n,t,e){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,De.Z)(function*(n,t,e){const i=at(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),o=r&&r.key;if(o){let l=new bi(nt.comparator);l=l.insert(o,Pi.newNoDocument(o,St.min()));const u=hn().add(o),m=new M0(St.min(),new Map,new bi(on),l,u);yield sH(i,m),i.gc=i.gc.remove(o),i.yc.delete(t),nP(i)}else yield fv(i.localStore,t,!1).then(()=>bv(i,t,e)).catch(vf)}),Y1.apply(this,arguments)}function n7(n,t){return K1.apply(this,arguments)}function K1(){return K1=(0,De.Z)(function*(n,t){const e=at(n),i=t.batch.batchId;try{const r=yield function yq(n,t){const e=at(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Zi.newChangeBuffer({trackRemovals:!0});return function(l,u,m,_){const b=m.batch,I=b.keys();let R=ce.resolve();return I.forEach(L=>{R=R.next(()=>_.getEntry(u,L)).next(j=>{const Z=m.docVersions.get(L);It(null!==Z),j.version.compareTo(Z)<0&&(b.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),_.addEntry(j)))})}),R.next(()=>l.mutationQueue.removeMutationBatch(u,b))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=hn();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(u=u.add(l.batch.mutations[m].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);eP(e,i,null),J1(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Du(e,r)}catch(r){yield vf(r)}}),K1.apply(this,arguments)}function r7(n,t,e){return Q1.apply(this,arguments)}function Q1(){return Q1=(0,De.Z)(function*(n,t,e){const i=at(n);try{const r=yield function(o,l){const u=at(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return u.mutationQueue.lookupMutationBatch(m,l).next(b=>(It(null!==b),_=b.keys(),u.mutationQueue.removeMutationBatch(m,b))).next(()=>u.mutationQueue.performConsistencyCheck(m)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(m,_,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>u.localDocuments.getDocuments(m,_))})}(i.localStore,t);eP(i,t,e),J1(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Du(i,r)}catch(r){yield vf(r)}}),Q1.apply(this,arguments)}function X1(){return X1=(0,De.Z)(function*(n,t){const e=at(n);kf(e.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const l=at(o);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>l.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=_v(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),X1.apply(this,arguments)}function J1(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function eP(n,t,e){const i=at(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function bv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||lH(n,i)})}function lH(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(G0(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),nP(n))}function tP(n,t,e){for(const i of e)i instanceof iH?(n.Ic.addReference(i.key,t),s7(n,i)):i instanceof rH?(He("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||lH(n,i.key)):_t()}function s7(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(He("SyncEngine","New document in limbo: "+e),n.mc.add(i),nP(n))}function nP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new nt(Tn.fromString(t)),i=n.Ac.next();n.yc.set(i,new Kq(e)),n.gc=n.gc.insert(e,i),eI(n.remoteStore,new Eu(rs(iv(e.path)),i,"TargetPurposeLimboResolution",da.ct))}}function Du(n,t,e){return iP.apply(this,arguments)}function iP(){return iP=(0,De.Z)(function*(n,t,e){const i=at(n),r=[],o=[],l=[];var u;i.wc.isEmpty()||(i.wc.forEach((u,m)=>{l.push(i.Rc(m,t,e).then(_=>{if((_||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,_?.fromCache?"not-current":"current"),_){r.push(_);const b=a1.Li(m.targetId,_);o.push(b)}}))}),yield Promise.all(l),i.dc.nu(r),yield(u=(0,De.Z)(function*(m,_){const b=at(m);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ce.forEach(_,R=>ce.forEach(R.Fi,L=>b.persistence.referenceDelegate.addReference(I,R.targetId,L)).next(()=>ce.forEach(R.Bi,L=>b.persistence.referenceDelegate.removeReference(I,R.targetId,L)))))}catch(I){if(!yf(I))throw I;He("LocalStore","Failed to update sequence numbers: "+I)}for(const I of _){const R=I.targetId;if(!I.fromCache){const L=b.Ji.get(R),Z=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);b.Ji=b.Ji.insert(R,Z)}}}),function(m,_){return u.apply(this,arguments)})(i.localStore,o))}),iP.apply(this,arguments)}function a7(n,t){return rP.apply(this,arguments)}function rP(){return rP=(0,De.Z)(function*(n,t){const e=at(n);if(!e.currentUser.isEqual(t)){He("SyncEngine","User change. New user:",t.toKey());const i=yield Fz(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(l=>{l.forEach(u=>{u.reject(new Pe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Du(e,i.er)}var r}),rP.apply(this,arguments)}function l7(n,t){const e=at(n),i=e.yc.get(t);if(i&&i.fc)return hn().add(i.key);{let r=hn();const o=e._c.get(t);if(!o)return r;for(const l of o){const u=e.wc.get(l);r=r.unionWith(u.view.nc)}return r}}function c7(n,t){return oP.apply(this,arguments)}function oP(){return oP=(0,De.Z)(function*(n,t){const e=at(n),i=yield YD(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&tP(e,t.targetId,r.cc),r}),oP.apply(this,arguments)}function d7(n,t){return sP.apply(this,arguments)}function sP(){return sP=(0,De.Z)(function*(n,t){const e=at(n);return Uz(e.localStore,t).then(i=>Du(e,i))}),sP.apply(this,arguments)}function u7(n,t,e,i){return aP.apply(this,arguments)}function aP(){return aP=(0,De.Z)(function*(n,t,e,i){const r=at(n),o=yield function(l,u){const m=at(l),_=at(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Sn(b,u).next(I=>I?m.localDocuments.getDocuments(b,I):ce.resolve(null)))}(r.localStore,t);var u;null!==o?("pending"===e?yield pv(r.remoteStore):"acknowledged"===e||"rejected"===e?(eP(r,t,i||null),J1(r,t),u=t,at(at(r.localStore).mutationQueue).Cn(u)):_t(),yield Du(r,o)):He("SyncEngine","Cannot apply mutation batch with id: "+t)}),aP.apply(this,arguments)}function lP(){return lP=(0,De.Z)(function*(n,t){const e=at(n);if(hP(e),fP(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield cH(e,i.toArray());e.vc=!0,yield O1(e.remoteStore,!0);for(const o of r)eI(e.remoteStore,o)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((o,l)=>{e.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(bv(e,l),fv(e.localStore,l,!0))),G0(e.remoteStore,l)}),yield r,yield cH(e,i),function(o){const l=at(o);l.yc.forEach((u,m)=>{G0(l.remoteStore,m)}),l.Ic.Ts(),l.yc=new Map,l.gc=new bi(nt.comparator)}(e),e.vc=!1,yield O1(e.remoteStore,!1)}}),lP.apply(this,arguments)}function cH(n,t,e){return cP.apply(this,arguments)}function cP(){return cP=(0,De.Z)(function*(n,t,e){const i=at(n),r=[],o=[];for(const l of t){let u;const m=i._c.get(l);if(m&&0!==m.length){u=yield hv(i.localStore,rs(m[0]));for(const _ of m){const b=i.wc.get(_),I=yield c7(i,b);I.snapshot&&o.push(I.snapshot)}}else{const _=yield Vz(i.localStore,l);u=yield hv(i.localStore,_),yield $1(i,dH(_),l,!1,u.resumeToken)}r.push(u)}return i.dc.nu(o),r}),cP.apply(this,arguments)}function dH(n){return _U(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function f7(n){const t=at(n);return at(at(t.localStore).persistence).$i()}function m7(n,t,e,i){return dP.apply(this,arguments)}function dP(){return dP=(0,De.Z)(function*(n,t,e,i){const r=at(n);if(r.vc)return void He("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const l=yield Uz(r.localStore,bU(o[0])),u=M0.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Gr.EMPTY_BYTE_STRING);yield Du(r,l,u);break}case"rejected":yield fv(r.localStore,t,!0),bv(r,t,i);break;default:_t()}}),dP.apply(this,arguments)}function p7(n,t,e){return uP.apply(this,arguments)}function uP(){return uP=(0,De.Z)(function*(n,t,e){const i=hP(n);if(i.vc){for(const r of t){if(i._c.has(r)){He("SyncEngine","Adding an already active target "+r);continue}const o=yield Vz(i.localStore,r),l=yield hv(i.localStore,o);yield $1(i,dH(o),l.targetId,!1,l.resumeToken),eI(i.remoteStore,l)}for(const r of e)i._c.has(r)&&(yield fv(i.localStore,r,!1).then(()=>{G0(i.remoteStore,r),bv(i,r)}).catch(vf))}}),uP.apply(this,arguments)}function hP(n){const t=at(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=sH.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=l7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=t7.bind(null,t),t.dc.nu=Gq.bind(null,t.eventManager),t.dc.Pc=Wq.bind(null,t.eventManager),t}function fP(n){const t=at(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=n7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=r7.bind(null,t),t}class W0{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,De.Z)(function*(){e.serializer=j0(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return Nz(this.persistence,new Oz,t.initialUser,this.serializer)}createPersistence(t){return new n1(WD.zs,this.serializer)}createSharedClientState(t){return new $z}terminate(){var t=this;return(0,De.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class mP extends W0{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,De.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield fP(i.Vc.syncEngine),yield pv(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return Nz(this.persistence,new Oz,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new Dz(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new UW(e,this.persistence);return new VW(t.asyncQueue,i)}createPersistence(t){const e=s1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?No.withCacheSize(this.cacheSizeBytes):No.DEFAULT;return new o1(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,Wz(),JD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new $z}}class uH extends mP{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,De.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof p1&&(i.sharedClientState.syncEngine={jr:u7.bind(null,r),zr:m7.bind(null,r),Wr:p7.bind(null,r),$i:f7.bind(null,r),Qr:d7.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var o=(0,De.Z)(function*(l){yield function h7(n,t){return lP.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=Wz();if(!p1.D(e))throw new Pe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=s1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new p1(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class wv{initialize(t,e){var i=this;return(0,De.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>aH(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=a7.bind(null,i.syncEngine),yield O1(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new $q}createDatastore(t){const e=j0(t.databaseInfo.databaseId),i=new Tq(t.databaseInfo);return new Mq(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=u=>aH(this.syncEngine,u,0),l=Gz.D()?new Gz:new Eq,new Pq(e,i,r,o,l);var e,i,r,o,l}createSyncEngine(t,e){return function(i,r,o,l,u,m,_){const b=new Qq(i,r,o,l,u,m);return _&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,De.Z)(function*(e){const i=at(e);He("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield mv(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function hH(n,t=10240){let e=0;return{read:()=>(0,De.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class nI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):xr("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class v7{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new $r,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,De.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,De.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,De.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const o=yield t.$c(r);return new qq(JSON.parse(o),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,De.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,De.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,De.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class y7{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Pe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,De.Z)(function*(o,l){const u=at(o),m=P0(u.serializer)+"/documents",_={documents:l.map(L=>R0(u.serializer,L))},b=yield u.vo("BatchGetDocuments",m,_,l.length),I=new Map;b.forEach(L=>{const j=function V8(n,t){return"found"in t?function(e,i){It(!!i.found);const r=td(e,i.found.name),o=Cr(i.found.updateTime),l=i.found.createTime?Cr(i.found.createTime):St.min(),u=new wo({mapValue:{fields:i.found.fields}});return Pi.newFoundDocument(r,o,l,u)}(n,t):"missing"in t?function(e,i){It(!!i.missing),It(!!i.readTime);const r=td(e,i.missing),o=Cr(i.readTime);return Pi.newNoDocument(r,o)}(n,t):_t()}(u.serializer,L);I.set(j.key.toString(),j)});const R=[];return l.forEach(L=>{const j=I.get(L.toString());It(!!j),R.push(j)}),R}),function(o,l){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new av(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=nt.fromPath(r);t.mutations.push(new LR(o,t.precondition(o)))}),yield(i=(0,De.Z)(function*(r,o){const l=at(r),u=P0(l.serializer)+"/documents",m={writes:o.map(_=>O0(l.serializer,_))};yield l.Io("Commit",u,m)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw _t();e=St.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Pe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(St.min())?Gi.exists(!1):Gi.updateTime(e):Gi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(St.min()))throw new Pe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gi.updateTime(e)}return Gi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class b7{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new _1(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,De.Z)(function*(){const e=new y7(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Uc(o)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!g0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!BU(e)}return!1}}class w7{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ro.UNAUTHENTICATED,this.clientId=NV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,De.Z)(function*(u){He("FirestoreClient","Received user=",u.uid),yield o.authCredentialListener(u),o.user=u});return function(u){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(He("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var t=this;return(0,De.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=_v(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function iI(n,t){return pP.apply(this,arguments)}function pP(){return pP=(0,De.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,De.Z)(function*(o){i.isEqual(o)||(yield Fz(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),pP.apply(this,arguments)}function gP(n,t){return _P.apply(this,arguments)}function _P(){return _P=(0,De.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield vP(n);He("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>Jz(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Jz(t.remoteStore,o)),n._onlineComponents=t}),_P.apply(this,arguments)}function fH(n){return"FirebaseError"===n.name?n.code===me.FAILED_PRECONDITION||n.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function vP(n){return yP.apply(this,arguments)}function yP(){return yP=(0,De.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){He("FirestoreClient","Using user provided OfflineComponentProvider");try{yield iI(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!fH(e))throw e;Qa("Error using user provided cache. Falling back to memory cache: "+e),yield iI(n,new W0)}}else He("FirestoreClient","Using default OfflineComponentProvider"),yield iI(n,new W0);return n._offlineComponents}),yP.apply(this,arguments)}function rI(n){return bP.apply(this,arguments)}function bP(){return bP=(0,De.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(He("FirestoreClient","Using user provided OnlineComponentProvider"),yield gP(n,n._uninitializedComponentsProvider._online)):(He("FirestoreClient","Using default OnlineComponentProvider"),yield gP(n,new wv))),n._onlineComponents}),bP.apply(this,arguments)}function mH(n){return vP(n).then(t=>t.persistence)}function oI(n){return vP(n).then(t=>t.localStore)}function pH(n){return rI(n).then(t=>t.remoteStore)}function wP(n){return rI(n).then(t=>t.syncEngine)}function xv(n){return xP.apply(this,arguments)}function xP(){return xP=(0,De.Z)(function*(n){const t=yield rI(n),e=t.eventManager;return e.onListen=Xq.bind(null,t.syncEngine),e.onUnlisten=Jq.bind(null,t.syncEngine),e}),xP.apply(this,arguments)}function _H(n,t,e={}){const i=new $r;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(r,o,l,u,m){const _=new nI({next:I=>{o.enqueueAndForget(()=>V1(r,b));const R=I.docs.has(l);!R&&I.fromCache?m.reject(new Pe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&I.fromCache&&u&&"server"===u.source?m.reject(new Pe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),b=new H1(iv(l.path),_,{includeMetadataChanges:!0,Ku:!0});return L1(r,b)}(yield xv(n),n.asyncQueue,t,e,i)})),i.promise}function vH(n,t,e={}){const i=new $r;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(r,o,l,u,m){const _=new nI({next:I=>{o.enqueueAndForget(()=>V1(r,b)),I.fromCache&&"server"===u.source?m.reject(new Pe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),b=new H1(l,_,{includeMetadataChanges:!0,Ku:!0});return L1(r,b)}(yield xv(n),n.asyncQueue,t,e,i)})),i.promise}function yH(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const bH=new Map;function CP(n,t,e){if(!e)throw new Pe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function wH(n,t,e,i){if(!0===t&&!0===i)throw new Pe(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function xH(n){if(!nt.isDocumentKey(n))throw new Pe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CH(n){if(nt.isDocumentKey(n))throw new Pe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":_t()}function Dn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Pe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=sI(n);throw new Pe(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function EH(n,t){if(t<=0)throw new Pe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class DH{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Pe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Pe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=yH(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class q0{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Pe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DH(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new TW;switch(e.type){case"firstParty":return new kW(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Pe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=bH.get(t);e&&(He("ComponentProvider","Removing Datastore"),bH.delete(t),e.terminate())}(this),Promise.resolve()}}function IH(n,t,e,i={}){var r;const o=(n=Dn(n,q0))._getSettings(),l=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==l&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let u,m;if("string"==typeof i.mockUserToken)u=i.mockUserToken,m=ro.MOCK_USER;else{u=(0,re.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Pe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ro(_)}n._authCredentials=new SW(new PV(u,m))}}class Oi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oi(this.firestore,t,this._key)}}class xo{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new xo(this.firestore,t,this._query)}}class nd extends xo{constructor(t,e,i){super(t,e,iv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oi(this.firestore,null,new nt(t))}withConverter(t){return new nd(this.firestore,t,this._path)}}function TH(n,t,...e){if(n=(0,re.m9)(n),CP("collection","path",t),n instanceof q0){const i=Tn.fromString(t,...e);return CH(i),new nd(n,null,i)}{if(!(n instanceof Oi||n instanceof nd))throw new Pe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tn.fromString(t,...e));return CH(i),new nd(n.firestore,null,i)}}function aI(n,t,...e){if(n=(0,re.m9)(n),1===arguments.length&&(t=NV.A()),CP("doc","path",t),n instanceof q0){const i=Tn.fromString(t,...e);return xH(i),new Oi(n,null,new nt(i))}{if(!(n instanceof Oi||n instanceof nd))throw new Pe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tn.fromString(t,...e));return xH(i),new Oi(n.firestore,n instanceof nd?n.converter:null,new nt(i))}}function SH(n,t){return n=(0,re.m9)(n),t=(0,re.m9)(t),(n instanceof Oi||n instanceof nd)&&(t instanceof Oi||t instanceof nd)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function EP(n,t){return n=(0,re.m9)(n),t=(0,re.m9)(t),n instanceof xo&&t instanceof xo&&n.firestore===t.firestore&&C0(n._query,t._query)&&n.converter===t.converter}class k7{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new _1(this,"async_queue_retry"),this.Xc=()=>{const e=JD();e&&He("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=JD();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=JD();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new $r;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,De.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!yf(e))throw e;He("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,xr("INTERNAL UNHANDLED ERROR: ",function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=F1.createAndSchedule(this,t,e,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&_t()}verifyOperationInProgress(){}sa(){var t=this;return(0,De.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function DP(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class R7{constructor(){this._progressObserver={},this._taskCompletionResolver=new $r,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ni extends q0{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new k7,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||AH(this),this._firestoreClient.terminate()}}function O7(n,t){const e="object"==typeof n?n:(0,ns.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,ns._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,re.P0)("firestore");o&&IH(r,...o)}return r}function Er(n){return n._firestoreClient||AH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function AH(n){var t,e,i;const r=n._freezeSettings(),o=(u=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new l8(n._databaseId,u,n._persistenceKey,(_=r).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,yH(_.experimentalLongPollingOptions),_.useFetchStreams));var u,_;n._firestoreClient=new w7(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function MH(n,t,e){const i=new $r;return n.asyncQueue.enqueue((0,De.Z)(function*(){try{yield iI(n,e),yield gP(n,t),i.resolve()}catch(r){const o=r;if(!fH(o))throw o;Qa("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function kH(n){if(n._initialized||n._terminated)throw new Pe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class id{constructor(t){this._byteString=t}static fromBase64String(t){try{return new id(Gr.fromBase64String(t))}catch(e){throw new Pe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new id(Gr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Iu{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Pe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Vp{constructor(t){this._methodName=t}}class lI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Pe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Pe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return on(this._lat,t._lat)||on(this._long,t._long)}}const $7=/^__.*__$/;class G7{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Cu(t,this.data,this.fieldMask,e,this.fieldTransforms):new sv(t,this.data,e,this.fieldTransforms)}}class RH{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Cu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function PH(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class cI{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new cI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return hI(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(PH(this.ca)&&$7.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class W7{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||j0(t)}ya(t,e,i,r=!1){return new cI({ca:t,methodName:e,ga:i,path:cr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Up(n){const t=n._freezeSettings(),e=j0(n._databaseId);return new W7(n._databaseId,!!t.ignoreUndefinedProperties,e)}function dI(n,t,e,i,r,o={}){const l=n.ya(o.merge||o.mergeFields?2:0,t,e,r);AP("Data must be an object, but it was:",l,i);const u=FH(i,l);let m,_;if(o.merge)m=new As(l.fieldMask),_=l.fieldTransforms;else if(o.mergeFields){const b=[];for(const I of o.mergeFields){const R=K0(t,I,e);if(!l.contains(R))throw new Pe(me.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);BH(b,R)||b.push(R)}m=new As(b),_=l.fieldTransforms.filter(I=>m.covers(I.field))}else m=null,_=l.fieldTransforms;return new G7(new wo(u),m,_)}class Y0 extends Vp{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Y0}}function OH(n,t,e){return new cI({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class IP extends Vp{_toFieldTransform(t){return new T0(t.path,new rv)}isEqual(t){return t instanceof IP}}class q7 extends Vp{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=OH(this,t,!0),i=this.pa.map(o=>zp(o,e)),r=new Mp(i);return new T0(t.path,r)}isEqual(t){return this===t}}class Z7 extends Vp{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=OH(this,t,!0),i=this.pa.map(o=>zp(o,e)),r=new kp(i);return new T0(t.path,r)}isEqual(t){return this===t}}class Y7 extends Vp{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new ov(t.serializer,TU(t.serializer,this.Ia));return new T0(t.path,e)}isEqual(t){return this===t}}function TP(n,t,e,i){const r=n.ya(1,t,e);AP("Data must be an object, but it was:",r,i);const o=[],l=wo.empty();bf(i,(m,_)=>{const b=uI(t,m,e);_=(0,re.m9)(_);const I=r.da(b);if(_ instanceof Y0)o.push(b);else{const R=zp(_,I);null!=R&&(o.push(b),l.set(b,R))}});const u=new As(o);return new RH(l,u,r.fieldTransforms)}function SP(n,t,e,i,r,o){const l=n.ya(1,t,e),u=[K0(t,i,e)],m=[r];if(o.length%2!=0)throw new Pe(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<o.length;R+=2)u.push(K0(t,o[R])),m.push(o[R+1]);const _=[],b=wo.empty();for(let R=u.length-1;R>=0;--R)if(!BH(_,u[R])){const L=u[R];let j=m[R];j=(0,re.m9)(j);const Z=l.da(L);if(j instanceof Y0)_.push(L);else{const ne=zp(j,Z);null!=ne&&(_.push(L),b.set(L,ne))}}const I=new As(_);return new RH(b,I,l.fieldTransforms)}function NH(n,t,e,i=!1){return zp(e,n.ya(i?4:3,t))}function zp(n,t){if(LH(n=(0,re.m9)(n)))return AP("Unsupported field value:",t,n),FH(n,t);if(n instanceof Vp)return function(e,i){if(!PH(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const l of e){let u=zp(l,i.wa(o));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,re.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return TU(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=$i.fromDate(e);return{timestampValue:lv(i.serializer,r)}}if(e instanceof $i){const r=new $i(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:lv(i.serializer,r)}}if(e instanceof lI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof id)return{bytesValue:ZU(i.serializer,e._byteString)};if(e instanceof Oi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:$R(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${sI(e)}`)}(n,t)}function FH(n,t){const e={};return KV(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bf(n,(i,r)=>{const o=zp(r,t.ha(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function LH(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $i||n instanceof lI||n instanceof id||n instanceof Oi||n instanceof Vp)}function AP(n,t,e){if(!LH(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=sI(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function K0(n,t,e){if((t=(0,re.m9)(t))instanceof Iu)return t._internalPath;if("string"==typeof t)return uI(n,t);throw hI("Field path arguments must be of type string or ",n,!1,void 0,e)}const K7=new RegExp("[~\\*/\\[\\]]");function uI(n,t,e){if(t.search(K7)>=0)throw hI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Iu(...t.split("."))._internalPath}catch{throw hI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function hI(n,t,e,i,r){const o=i&&!i.isEmpty(),l=void 0!==r;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let m="";return(o||l)&&(m+=" (found",o&&(m+=` in field ${i}`),l&&(m+=` in document ${r}`),m+=")"),new Pe(me.INVALID_ARGUMENT,u+n+m)}function BH(n,t){return n.some(e=>e.isEqual(t))}class Q0{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Oi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Q7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(fI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Q7 extends Q0{data(){return super.data()}}function fI(n,t){return"string"==typeof t?uI(n,t):t instanceof Iu?t._internalPath:t._delegate._internalPath}function VH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Pe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MP{}class X0 extends MP{}function Pf(n,t,...e){let i=[];t instanceof MP&&i.push(t),i=i.concat(e),function(r){const o=r.filter(u=>u instanceof Cv).length,l=r.filter(u=>u instanceof J0).length;if(o>1||o>0&&l>0)throw new Pe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class J0 extends X0{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new J0(t,e,i)}_apply(t){const e=this._parse(t);return jH(t._query,e),new xo(t.firestore,t.converter,OR(t._query,e))}_parse(t){const e=Up(t.firestore);return function(r,o,l,u,m,_,b){let I;if(m.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Pe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){HH(b,_);const R=[];for(const L of b)R.push(zH(u,r,L));I={arrayValue:{values:R}}}else I=zH(u,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||HH(b,_),I=NH(l,"where",b,"in"===_||"not-in"===_);return En.create(m,_,I)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Cv extends MP{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Cv(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:ei.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const l=r.getFlattenedFilters();for(const u of l)jH(o,u),o=OR(o,u)}(t._query,e),new xo(t.firestore,t.converter,OR(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class kP extends X0{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new kP(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Pe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Pe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new tv(r,o);return function(u,m){if(null===RR(u)){const _=kD(u);null!==_&&$H(0,_,m.field)}}(i,l),l}(t._query,this._field,this._direction);return new xo(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new wu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class mI extends X0{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new mI(t,e,i)}_apply(t){return new xo(t.firestore,t.converter,RD(t._query,this._limit,this._limitType))}}class pI extends X0{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new pI(t,e,i)}_apply(t){const e=UH(t,this.type,this._docOrFields,this._inclusive);return new xo(t.firestore,t.converter,(r=e,new wu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class gI extends X0{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new gI(t,e,i)}_apply(t){const e=UH(t,this.type,this._docOrFields,this._inclusive);return new xo(t.firestore,t.converter,(r=e,new wu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function UH(n,t,e,i){if(e[0]=(0,re.m9)(e[0]),e[0]instanceof Q0)return function(r,o,l,u,m){if(!u)throw new Pe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const _=[];for(const b of Ap(r))if(b.field.isKeyField())_.push(Tp(o,u.key));else{const I=u.data.field(b.field);if(ED(I))throw new Pe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const R=b.field.canonicalString();throw new Pe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}_.push(I)}return new If(_,m)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Up(n.firestore);return function(o,l,u,m,_,b){const I=o.explicitOrderBy;if(_.length>I.length)throw new Pe(me.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let L=0;L<_.length;L++){const j=_[L];if(I[L].field.isKeyField()){if("string"!=typeof j)throw new Pe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof j}`);if(!PR(o)&&-1!==j.indexOf("/"))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${j}' contains a slash.`);const Z=o.path.child(Tn.fromString(j));if(!nt.isDocumentKey(Z))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Z}' is not because it contains an odd number of segments.`);const ne=new nt(Z);R.push(Tp(l,ne))}else{const Z=NH(u,m,j);R.push(Z)}}return new If(R,b)}(n._query,n.firestore._databaseId,r,t,e,i)}}function zH(n,t,e){if("string"==typeof(e=(0,re.m9)(e))){if(""===e)throw new Pe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PR(t)&&-1!==e.indexOf("/"))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Tn.fromString(e));if(!nt.isDocumentKey(i))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Tp(n,new nt(i))}if(e instanceof Oi)return Tp(n,e._key);throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sI(e)}.`)}function HH(n,t){if(!Array.isArray(n)||0===n.length)throw new Pe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jH(n,t){if(t.isInequality()){const i=kD(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=RR(n);null!==o&&$H(0,r,o)}const e=function(i,r){for(const o of i)for(const l of o.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Pe(me.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function $H(n,t,e){if(!e.isEqual(t))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class RP{convertValue(t,e="none"){switch(Ef(t)){case 0:return null;case 1:return t.booleanValue;case 2:return dr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(bu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw _t()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return bf(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new lI(dr(t.latitude),dr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=DD(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(v0(t));default:return null}}convertTimestamp(t){const e=wf(t);return new $i(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Tn.fromString(t);It(rz(i));const r=new xf(i.get(1),i.get(3)),o=new nt(i.popFirst(5));return r.isEqual(e)||xr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function _I(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class sZ extends RP{constructor(t){super(),this.firestore=t}convertBytes(t){return new id(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Oi(this.firestore,null,e)}}class Hp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Tu extends Q0{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ew(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(fI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class ew extends Tu{data(t={}){return super.data(t)}}class Of{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Hp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new ew(this._firestore,this._userDataWriter,i.key,i,new Hp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Pe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new ew(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Hp(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const u=new ew(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Hp(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,_=-1;return 0!==l.type&&(m=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),1!==l.type&&(o=o.add(l.doc),_=o.indexOf(l.doc.key)),{type:lZ(l.type),doc:u,oldIndex:m,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function lZ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function WH(n,t){return n instanceof Tu&&t instanceof Tu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Of&&t instanceof Of&&n._firestore===t._firestore&&EP(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Nf extends RP{constructor(t){super(),this.firestore=t}convertBytes(t){return new id(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Oi(this.firestore,null,e)}}function qH(n,t,e){n=Dn(n,Oi);const i=Dn(n.firestore,Ni),r=_I(n.converter,t,e);return Ev(i,[dI(Up(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Gi.none())])}function ZH(n,t,e,...i){n=Dn(n,Oi);const r=Dn(n.firestore,Ni),o=Up(r);let l;return l="string"==typeof(t=(0,re.m9)(t))||t instanceof Iu?SP(o,"updateDoc",n._key,t,e,i):TP(o,"updateDoc",n._key,t),Ev(r,[l.toMutation(n._key,Gi.exists(!0))])}function YH(n,...t){var e,i,r;n=(0,re.m9)(n);let o={includeMetadataChanges:!1},l=0;"object"!=typeof t[l]||DP(t[l])||(o=t[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges};if(DP(t[l])){const I=t[l];t[l]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[l+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),t[l+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let m,_,b;if(n instanceof Oi)_=Dn(n.firestore,Ni),b=iv(n._key.path),m={next:I=>{t[l]&&t[l](PP(_,n,I))},error:t[l+1],complete:t[l+2]};else{const I=Dn(n,xo);_=Dn(I.firestore,Ni),b=I._query;const R=new Nf(_);m={next:L=>{t[l]&&t[l](new Of(_,R,I,L))},error:t[l+1],complete:t[l+2]},VH(n._query)}return function(I,R,L,j){const Z=new nI(j),ne=new H1(R,Z,L);return I.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return L1(yield xv(I),ne)})),()=>{Z.Dc(),I.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return V1(yield xv(I),ne)}))}}(Er(_),b,u,m)}function Ev(n,t){return function(e,i){const r=new $r;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function e7(n,t,e){return q1.apply(this,arguments)}(yield wP(e),i,r)})),r.promise}(Er(n),t)}function PP(n,t,e){const i=e.docs.get(t._key),r=new Nf(n);return new Tu(n,r,t._key,i,new Hp(e.hasPendingWrites,e.fromCache),t.converter)}const IZ={maxAttempts:5};class KH{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Up(t)}set(t,e,i){this._verifyNotCommitted();const r=Ff(t,this._firestore),o=_I(r.converter,e,i),l=dI(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,Gi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Ff(t,this._firestore);let l;return l="string"==typeof(e=(0,re.m9)(e))||e instanceof Iu?SP(this._dataReader,"WriteBatch.update",o._key,e,i,r):TP(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(l.toMutation(o._key,Gi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ff(t,this._firestore);return this._mutations=this._mutations.concat(new av(e._key,Gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ff(n,t){if((n=(0,re.m9)(n)).firestore!==t)throw new Pe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class TZ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Up(t)}get(t){const e=Ff(t,this._firestore),i=new sZ(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return _t();const o=r[0];if(o.isFoundDocument())return new Q0(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Q0(this._firestore,i,e._key,null,e.converter);throw _t()})}set(t,e,i){const r=Ff(t,this._firestore),o=_I(r.converter,e,i),l=dI(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(t,e,i,...r){const o=Ff(t,this._firestore);let l;return l="string"==typeof(e=(0,re.m9)(e))||e instanceof Iu?SP(this._dataReader,"Transaction.update",o._key,e,i,r):TP(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,l),this}delete(t){const e=Ff(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Ff(t,this._firestore),i=new Nf(this._firestore);return super.get(t).then(r=>new Tu(this._firestore,i,e._key,r._document,new Hp(!1,!1),e.converter))}}!function(n,t=!0){Q_=ns.SDK_VERSION,(0,ns._registerComponent)(new jb.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),l=new Ni(new AW(e.getProvider("auth-internal")),new RW(e.getProvider("app-check-internal")),function(u,m){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Pe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xf(u.options.projectId,m)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,ns.registerVersion)(RV,"3.13.0",n),(0,ns.registerVersion)(RV,"3.13.0","esm2017")}();function OP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function XH(){if(typeof Uint8Array>"u")throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function JH(){if(!function s8(){return typeof atob<"u"}())throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class tw{constructor(t){this._delegate=t}static fromBase64String(t){return JH(),new tw(id.fromBase64String(t))}static fromUint8Array(t){return XH(),new tw(id.fromUint8Array(t))}toBase64(){return JH(),this._delegate.toBase64()}toUint8Array(){return XH(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function NP(n){return function FZ(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class LZ{enableIndexedDbPersistence(t,e){return function N7(n,t){kH(n=Dn(n,Ni));const e=Er(n);if(e._uninitializedComponentsProvider)throw new Pe(me.FAILED_PRECONDITION,"SDK cache is already specified.");Qa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new wv;return MH(e,r,new mP(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function F7(n){kH(n=Dn(n,Ni));const t=Er(n);if(t._uninitializedComponentsProvider)throw new Pe(me.FAILED_PRECONDITION,"SDK cache is already specified.");Qa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new wv;return MH(t,i,new uH(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function L7(n){if(n._initialized&&!n._terminated)throw new Pe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new $r;return n._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(e=(0,De.Z)(function*(i){if(!Gl.D())return Promise.resolve();const r=i+"main";yield Gl.delete(r)}),function(i){return e.apply(this,arguments)})(s1(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class ej{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof xf||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Qa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){IH(this._delegate,t,e,i)}enableNetwork(){return function V7(n){return function x7(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const t=yield mH(n),e=yield pH(n);return t.setNetworkEnabled(!0),function(i){const r=at(i);return r.vu.delete(0),$0(r)}(e)}))}(Er(n=Dn(n,Ni)))}(this._delegate)}disableNetwork(){return function U7(n){return function C7(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const t=yield mH(n),e=yield pH(n);return t.setNetworkEnabled(!1),(i=(0,De.Z)(function*(r){const o=at(r);o.vu.add(0),yield mv(o),o.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Er(n=Dn(n,Ni)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,wH("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function B7(n){return function(t){const e=new $r;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function o7(n,t){return X1.apply(this,arguments)}(yield wP(t),e)})),e.promise}(Er(n=Dn(n,Ni)))}(this._delegate)}onSnapshotsInSync(t){return function _Z(n,t){return function I7(n,t){const e=new nI(t);return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return i=yield xv(n),r=e,at(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return i=yield xv(n),r=e,void at(i).ku.delete(r);var i,r}))}}(Er(n=Dn(n,Ni)),DP(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Dv(this,TH(this._delegate,t))}catch(e){throw os(e,"collection()","Firestore.collection()")}}doc(t){try{return new Xa(this,aI(this._delegate,t))}catch(e){throw os(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ss(this,function M7(n,t){if(n=Dn(n,q0),CP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Pe(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xo(n,null,(e=t,new wu(Tn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw os(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function SZ(n,t,e){n=Dn(n,Ni);const i=Object.assign(Object.assign({},IZ),e);return function(r){if(r.maxAttempts<1)throw new Pe(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,l){const u=new $r;return r.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const m=yield function gH(n){return rI(n).then(t=>t.datastore)}(r);new b7(r.asyncQueue,m,l,o,u).run()})),u.promise}(Er(n),r=>t(new TZ(n,r)),i)}(this._delegate,e=>t(new tj(this,e)))}batch(){return Er(this._delegate),new nj(new KH(this._delegate,t=>Ev(this._delegate,t)))}loadBundle(t){return function z7(n,t){const e=Er(n=Dn(n,Ni)),i=new R7;return function T7(n,t,e,i){const r=function(o,l){let u;return u="string"==typeof o?UU().encode(o):o,m=function(m,_){if(m instanceof Uint8Array)return hH(m,_);if(m instanceof ArrayBuffer)return hH(new Uint8Array(m),_);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new v7(m,l);var m}(e,j0(t));n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function g7(n,t,e){const i=at(n);var r;(r=(0,De.Z)(function*(o,l,u){try{const m=yield l.getMetadata();if(yield function(R,L){const j=at(R),Z=Cr(L.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",ne=>j.qs.getBundleMetadata(ne,L.id)).then(ne=>!!ne&&ne.createTime.compareTo(Z)>=0)}(o.localStore,m))return yield l.close(),u._completeWith({taskState:"Success",documentsLoaded:(R=m).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);u._updateProgress(nH(m));const _=new Zq(m,o.localStore,l.serializer);let b=yield l.bc();for(;b;){const R=yield _.zu(b);R&&u._updateProgress(R),b=yield l.bc()}const I=yield _.complete();return yield Du(o,I.Ju,void 0),yield function(R,L){const j=at(R);return j.persistence.runTransaction("Save bundle","readwrite",Z=>j.qs.saveBundleMetadata(Z,L))}(o.localStore,m),u._completeWith(I.progress),Promise.resolve(I.Hu)}catch(m){return Qa("SyncEngine",`Loading bundle failed with ${m}`),u._failWith(m),Promise.resolve(new Set)}var R}),function(o,l,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield wP(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function H7(n,t){return function S7(n,t){return n.asyncQueue.enqueue((0,De.Z)(function*(){return function(e,i){const r=at(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(yield oI(n),t)}))}(Er(n=Dn(n,Ni)),t).then(e=>e?new xo(n,null,e.query):null)}(this._delegate,t).then(e=>e?new ss(this,e):null)}}class vI extends RP{constructor(t){super(),this.firestore=t}convertBytes(t){return new tw(new id(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Xa.forKey(e,this.firestore,null)}}class tj{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new vI(t)}get(t){const e=$p(t);return this._delegate.get(e).then(i=>new nw(this._firestore,new Tu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=$p(t);return i?(OP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=$p(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=$p(t);return this._delegate.delete(e),this}}class nj{constructor(t){this._delegate=t}set(t,e,i){const r=$p(t);return i?(OP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=$p(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=$p(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class jp{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new ew(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new iw(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=jp.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new jp(t,new vI(t),e),r.set(e,o)),o}}jp.INSTANCES=new WeakMap;class Xa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new vI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Xa(e,new Oi(e._delegate,i,new nt(t)))}static forKey(t,e,i){return new Xa(e,new Oi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Dv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Dv(this.firestore,TH(this._delegate,t))}catch(e){throw os(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,re.m9)(t))instanceof Oi&&SH(this._delegate,t)}set(t,e){e=OP("DocumentReference.set",e);try{return e?qH(this._delegate,t,e):qH(this._delegate,t)}catch(i){throw os(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?ZH(this._delegate,t):ZH(this._delegate,t,e,...i)}catch(r){throw os(r,"updateDoc()","DocumentReference.update()")}}delete(){return function pZ(n){return Ev(Dn(n.firestore,Ni),[new av(n._key,Gi.none())])}(this._delegate)}onSnapshot(...t){const e=ij(t),i=rj(t,r=>new nw(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return YH(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function dZ(n){n=Dn(n,Oi);const t=Dn(n.firestore,Ni),e=Er(t),i=new Nf(t);return function E7(n,t){const e=new $r;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(i=(0,De.Z)(function*(r,o,l){try{const u=yield function(m,_){const b=at(m);return b.persistence.runTransaction("read document","readonly",I=>b.localDocuments.getDocument(I,_))}(r,o);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new Pe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const m=_v(u,`Failed to get document '${o} from cache`);l.reject(m)}}),function(r,o,l){return i.apply(this,arguments)})(yield oI(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Tu(t,i,n._key,r,new Hp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function uZ(n){n=Dn(n,Oi);const t=Dn(n.firestore,Ni);return _H(Er(t),n._key,{source:"server"}).then(e=>PP(t,n,e))}(this._delegate):function cZ(n){n=Dn(n,Oi);const t=Dn(n.firestore,Ni);return _H(Er(t),n._key).then(e=>PP(t,n,e))}(this._delegate),e.then(i=>new nw(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Xa(this.firestore,this._delegate.withConverter(t?jp.getInstance(this.firestore,t):null))}}function os(n,t,e){return n.message=n.message.replace(t,e),n}function ij(n){for(const t of n)if("object"==typeof t&&!NP(t))return t;return{}}function rj(n,t){var e,i;let r;return r=NP(n[0])?n[0]:NP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class nw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return WH(this._delegate,t._delegate)}}class iw extends nw{data(t){const e=this._delegate.data(t);return function IW(n,t){n||_t()}(void 0!==e),e}}class ss{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new vI(t)}where(t,e,i){try{return new ss(this.firestore,Pf(this._delegate,function X7(n,t,e){const i=t,r=fI("where",n);return J0._create(r,i,e)}(t,e,i)))}catch(r){throw os(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new ss(this.firestore,Pf(this._delegate,function J7(n,t="asc"){const e=t,i=fI("orderBy",n);return kP._create(i,e)}(t,e)))}catch(i){throw os(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ss(this.firestore,Pf(this._delegate,function eZ(n){return EH("limit",n),mI._create("limit",n,"F")}(t)))}catch(e){throw os(e,"limit()","Query.limit()")}}limitToLast(t){try{return new ss(this.firestore,Pf(this._delegate,function tZ(n){return EH("limitToLast",n),mI._create("limitToLast",n,"L")}(t)))}catch(e){throw os(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ss(this.firestore,Pf(this._delegate,function nZ(...n){return pI._create("startAt",n,!0)}(...t)))}catch(e){throw os(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ss(this.firestore,Pf(this._delegate,function iZ(...n){return pI._create("startAfter",n,!1)}(...t)))}catch(e){throw os(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ss(this.firestore,Pf(this._delegate,function rZ(...n){return gI._create("endBefore",n,!1)}(...t)))}catch(e){throw os(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ss(this.firestore,Pf(this._delegate,function oZ(...n){return gI._create("endAt",n,!0)}(...t)))}catch(e){throw os(e,"endAt()","Query.endAt()")}}isEqual(t){return EP(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function fZ(n){n=Dn(n,xo);const t=Dn(n.firestore,Ni),e=Er(t),i=new Nf(t);return function D7(n,t){const e=new $r;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(i=(0,De.Z)(function*(r,o,l){try{const u=yield YD(r,o,!0),m=new oH(o,u.ir),_=m.sc(u.documents),b=m.applyChanges(_,!1);l.resolve(b.snapshot)}catch(u){const m=_v(u,`Failed to execute query '${o} against cache`);l.reject(m)}}),function(r,o,l){return i.apply(this,arguments)})(yield oI(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Of(t,i,n,r))}(this._delegate):"server"===t?.source?function mZ(n){n=Dn(n,xo);const t=Dn(n.firestore,Ni),e=Er(t),i=new Nf(t);return vH(e,n._query,{source:"server"}).then(r=>new Of(t,i,n,r))}(this._delegate):function hZ(n){n=Dn(n,xo);const t=Dn(n.firestore,Ni),e=Er(t),i=new Nf(t);return VH(n._query),vH(e,n._query).then(r=>new Of(t,i,n,r))}(this._delegate),e.then(i=>new FP(this.firestore,new Of(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=ij(t),i=rj(t,r=>new FP(this.firestore,new Of(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return YH(this._delegate,e,i)}withConverter(t){return new ss(this.firestore,this._delegate.withConverter(t?jp.getInstance(this.firestore,t):null))}}class VZ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new iw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class FP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ss(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new iw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new VZ(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new iw(this._firestore,i))})}isEqual(t){return WH(this._delegate,t._delegate)}}class Dv extends ss{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Xa(this.firestore,t):null}doc(t){try{return new Xa(this.firestore,void 0===t?aI(this._delegate):aI(this._delegate,t))}catch(e){throw os(e,"doc()","CollectionReference.doc()")}}add(t){return function gZ(n,t){const e=Dn(n.firestore,Ni),i=aI(n),r=_I(n.converter,t);return Ev(e,[dI(Up(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Gi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Xa(this.firestore,e))}isEqual(t){return SH(this._delegate,t._delegate)}withConverter(t){return new Dv(this.firestore,this._delegate.withConverter(t?jp.getInstance(this.firestore,t):null))}}function $p(n){return Dn(n,Oi)}class LP{constructor(...t){this._delegate=new Iu(...t)}static documentId(){return new LP(cr.keyField().canonicalString())}isEqual(t){return(t=(0,re.m9)(t))instanceof Iu&&this._delegate._internalPath.isEqual(t._internalPath)}}class Gp{constructor(t){this._delegate=t}static serverTimestamp(){const t=function MZ(){return new IP("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Gp(t)}static delete(){const t=function AZ(){return new Y0("deleteField")}();return t._methodName="FieldValue.delete",new Gp(t)}static arrayUnion(...t){const e=function kZ(...n){return new q7("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Gp(e)}static arrayRemove(...t){const e=function RZ(...n){return new Z7("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Gp(e)}static increment(t){const e=function PZ(n){return new Y7("increment",n)}(t);return e._methodName="FieldValue.increment",new Gp(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const UZ={Firestore:ej,GeoPoint:lI,Timestamp:$i,Blob:tw,Transaction:tj,WriteBatch:nj,DocumentReference:Xa,DocumentSnapshot:nw,Query:ss,QueryDocumentSnapshot:iw,QuerySnapshot:FP,CollectionReference:Dv,FieldPath:LP,FieldValue:Gp,setLogLevel:function BZ(n){!function DW(n){_f.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function HZ(n){(function zZ(n,t){n.INTERNAL.registerComponent(new jb.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},UZ)))})(n,(t,e)=>new ej(t,e,new LZ)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(_5.Z);var yI=U(5363),jZ=U(6063);class $Z extends st.x{constructor(t=1/0,e=1/0,i=jZ.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:l}=this;e||(i.push(t),!r&&i.push(o.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let l=0;l<o.length&&!t.closed;l+=i?1:2)t.next(o[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const l=e.now();let u=0;for(let m=1;m<i.length&&i[m]<=l;m+=2)u=m;u&&i.splice(0,u+1)}}}var oj=U(3099);function rw(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,oj.B)({connector:()=>new $Z(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function sj(n,t){return(0,Ur.m)(t)?Hn(()=>n,t):Hn(()=>n)}var BP=U(9468),Su=U(259);class Wp{constructor(t){return t}}class bI{constructor(){return(0,Su.C6)()}}const VP=new s.OlP("angularfire2._apps"),WZ={provide:Wp,useFactory:function GZ(n){return n&&1===n.length?n[0]:new Wp((0,Su.Mq)())},deps:[[new s.FiY,VP]]},qZ={provide:bI,deps:[[new s.FiY,VP]]};function ZZ(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Wp(i)}}let YZ=(()=>{class n{constructor(e){(0,Su.KN)("angularfire",In.q4.full,"core"),(0,Su.KN)("angularfire",In.q4.full,"app"),(0,Su.KN)("angular",s.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[WZ,qZ]}),n})();function KZ(n,...t){return{ngModule:YZ,providers:[{provide:VP,useFactory:ZZ(n),multi:!0,deps:[s.R0b,s.zs3,In.HU,...t]}]}}const QZ=(0,In.u3)(Su.ZF,!0),UP=new Map,aj={activated:!1,tokenObservers:[]},XZ={initialized:!1,enabled:!1};function ur(n){return UP.get(n)||Object.assign({},aj)}function wI(){return XZ}const zP="https://content-firebaseappcheck.googleapis.com/v1",n9="exchangeDebugToken",lj={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class r9{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,De.Z)(function*(){e.stop();try{e.pending=new re.BH,yield function o9(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new re.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Co=new re.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function HP(n){if(!ur(n).activated)throw Co.create("use-before-activation",{appName:n.name})}function EI(n,t){return $P.apply(this,arguments)}function $P(){return $P=(0,De.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const o={method:"POST",body:JSON.stringify(t),headers:i};let l,u;try{l=yield fetch(n,o)}catch(I){throw Co.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==l.status)throw Co.create("fetch-status-error",{httpStatus:l.status});try{u=yield l.json()}catch(I){throw Co.create("fetch-parse-error",{originalErrorMessage:I?.message})}const m=u.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Co.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const _=1e3*Number(m[1]),b=Date.now();return{token:u.token,expireTimeMillis:b+_,issuedAtTimeMillis:b}}),$P.apply(this,arguments)}function cj(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${zP}/projects/${e}/apps/${i}:${n9}?key=${r}`,body:{debug_token:t}}}const c9="firebase-app-check-database",d9=1,ow="firebase-app-check-store";let DI=null;function GP(){return GP=(0,De.Z)(function*(n,t){const i=(yield function uj(){return DI||(DI=new Promise((n,t)=>{try{const e=indexedDB.open(c9,d9);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Co.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ow,{keyPath:"compositeKey"})}}catch(e){t(Co.create("storage-open",{originalErrorMessage:e?.message}))}}),DI)}()).transaction(ow,"readwrite"),o=i.objectStore(ow).put({compositeKey:n,value:t});return new Promise((l,u)=>{o.onsuccess=m=>{l()},i.onerror=m=>{var _;u(Co.create("storage-set",{originalErrorMessage:null===(_=m.target.error)||void 0===_?void 0:_.message}))}})}),GP.apply(this,arguments)}const sw=new Zc.Yd("@firebase/app-check");function ZP(n,t){return(0,re.hl)()?function h9(n,t){return function hj(n,t){return GP.apply(this,arguments)}(function mj(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{sw.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function KP(){return wI().enabled}function QP(){return XP.apply(this,arguments)}function XP(){return XP=(0,De.Z)(function*(){const n=wI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),XP.apply(this,arguments)}const v9={error:"UNKNOWN_ERROR"};function y9(n){return re.US.encodeString(JSON.stringify(n),!1)}function II(n){return JP.apply(this,arguments)}function JP(){return JP=(0,De.Z)(function*(n,t=!1){const e=n.app;HP(e);const i=ur(e);let o,r=i.token;if(r&&!Iv(r)&&(i.token=void 0,r=void 0),!r){const m=yield i.cachedTokenPromise;m&&(Iv(m)?r=m:yield ZP(e,void 0))}if(!t&&r&&Iv(r))return{token:r.token};let u,l=!1;if(KP()){i.exchangeTokenPromise||(i.exchangeTokenPromise=EI(cj(e,yield QP()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const m=yield i.exchangeTokenPromise;return yield ZP(e,m),i.token=m,{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield ur(e).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?sw.warn(m.message):sw.error(m),o=m}return r?o?u=Iv(r)?{token:r.token,internalError:o}:vj(o):(u={token:r.token},i.token=r,yield ZP(e,r)):u=vj(o),l&&function _j(n,t){const e=ur(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,u),u}),JP.apply(this,arguments)}function eO(){return eO=(0,De.Z)(function*(n){const t=n.app;HP(t);const{provider:e}=ur(t);if(KP()){const i=yield QP(),{token:r}=yield EI(cj(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}}),eO.apply(this,arguments)}function nO(n,t){const e=ur(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function gj(n){const{app:t}=n,e=ur(t);let i=e.tokenRefresher;i||(i=function b9(n){const{app:t}=n;return new r9((0,De.Z)(function*(){let i;if(i=ur(t).token?yield II(n,!0):yield II(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=ur(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},lj.RETRIAL_MIN_WAIT,lj.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Iv(n){return n.expireTimeMillis-Date.now()>0}function vj(n){return{token:y9(v9),error:n}}class w9{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ur(this.app);for(const e of t)nO(this.app,e.next);return Promise.resolve()}}const Ij="app-check-internal";!function N9(){(0,ns._registerComponent)(new jb.wA("app-check",n=>function x9(n,t){return new w9(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Ij).initialize()})),(0,ns._registerComponent)(new jb.wA(Ij,n=>function C9(n){return{getToken:t=>II(n,t),getLimitedUseToken:()=>function pj(n){return eO.apply(this,arguments)}(n),addTokenListener:t=>function tO(n,t,e,i){const{app:r}=n,o=ur(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&Iv(o.token)){const u=o.token;Promise.resolve().then(()=>{e({token:u.token}),gj(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>gj(n))}(n,"INTERNAL",t),removeTokenListener:t=>nO(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ns.registerVersion)("@firebase/app-check","0.8.0")}();class Tv{constructor(){return(0,In.vb)("app-check")}}typeof window<"u"&&window,U(9260);const Sj=new s.OlP("angularfire2.auth.use-emulator"),Aj=new s.OlP("angularfire2.auth.settings"),Mj=new s.OlP("angularfire2.auth.tenant-id"),kj=new s.OlP("angularfire2.auth.langugage-code"),Rj=new s.OlP("angularfire2.auth.use-device-language"),Pj=new s.OlP("angularfire.auth.persistence"),Oj=(n,t,e,i,r,o,l,u)=>(0,Hl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),i&&(m.tenantId=i),m.languageCode=r,o&&m.useDeviceLanguage(),l)for(const[_,b]of Object.entries(l))m.settings[_]=b;return u&&m.setPersistence(u),m},[e,i,r,o,l,u]);let aO=(()=>{class n{constructor(e,i,r,o,l,u,m,_,b,I,R,L){const j=new st.x,Z=qe(void 0).pipe((0,yI.Q)(l.outsideAngular),Hn(()=>o.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,9568)))),(0,je.U)(()=>(0,Hl.on)(e,o,i)),(0,je.U)(ne=>Oj(ne,o,u,_,b,I,m,R)),rw({bufferSize:1,refCount:!1}));if(ya(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=qe(null);else{Z.pipe(ea()).subscribe();const Re=Z.pipe(Hn(ct=>ct.getRedirectResult().then(jt=>jt,()=>null)),In.iC,rw({bufferSize:1,refCount:!1})),Ke=Z.pipe(Hn(ct=>new Kn.y(jt=>({unsubscribe:o.runOutsideAngular(()=>ct.onAuthStateChanged(sn=>jt.next(sn),sn=>jt.error(sn),()=>jt.complete()))})))),Je=Z.pipe(Hn(ct=>new Kn.y(jt=>({unsubscribe:o.runOutsideAngular(()=>ct.onIdTokenChanged(sn=>jt.next(sn),sn=>jt.error(sn),()=>jt.complete()))}))));this.authState=Re.pipe(sj(Ke),(0,BP.R)(l.outsideAngular),(0,yI.Q)(l.insideAngular)),this.user=Re.pipe(sj(Je),(0,BP.R)(l.outsideAngular),(0,yI.Q)(l.insideAngular)),this.idToken=this.user.pipe(Hn(ct=>ct?(0,Zt.D)(ct.getIdToken()):qe(null))),this.idTokenResult=this.user.pipe(Hn(ct=>ct?(0,Zt.D)(ct.getIdTokenResult()):qe(null))),this.credential=(0,d.T)(Re,j,this.authState.pipe(Cn(ct=>!ct))).pipe((0,je.U)(ct=>ct?.user?ct:null),(0,BP.R)(l.outsideAngular),(0,yI.Q)(l.insideAngular))}return(0,Hl.pX)(this,Z,o,{spy:{apply:(ne,Re,Ke)=>{(ne.startsWith("signIn")||ne.startsWith("createUser"))&&Ke.then(Je=>j.next(Je))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hl.Dh),s.LFG(Hl.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(In.HU),s.LFG(Sj,8),s.LFG(Aj,8),s.LFG(Mj,8),s.LFG(kj,8),s.LFG(Rj,8),s.LFG(Pj,8),s.LFG(Tv,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Nj(n,t){return function z9(n,t=dp.z){return new Kn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function lO(n,t){return Nj(n,t).pipe((0,je.U)(e=>({payload:e,type:"query"})))}function SI(n,t){return lO(n,t).pipe(eo(void 0),Mk(),(0,je.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(l=>({type:l.type,payload:l}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,u)=>{const m=r.find(b=>b.doc.ref.isEqual(l.ref)),_=e?.payload.docs.find(b=>b.ref.isEqual(l.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(l.metadata)||!m&&_&&JSON.stringify(_.metadata)===JSON.stringify(l.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:l}})}),o}))}function Fj(n,t,e){return SI(n,e).pipe(Gg((i,r)=>function j9(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function $9(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return cO(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return cO(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return cO(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Hc(),(0,je.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function cO(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function Lj(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Bj{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=SI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,je.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(eo(void 0),Mk(),Cn(([i,r])=>r.length>0||!i),(0,je.U)(([i,r])=>r),In.iC)}auditTrail(t){return this.stateChanges(t).pipe(Gg((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Lj(t);return Fj(this.query,e,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(t={}){return lO(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),In.iC)}get(t){return(0,Zt.D)(this.query.get(t)).pipe(In.iC)}add(t){return this.ref.add(t)}doc(t){return new Vj(this.ref.doc(t),this.afs)}}class Vj{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=Uj(i,e);return new Bj(r,o,this.afs)}snapshotChanges(){return function H9(n,t){return Nj(n,t).pipe(eo(void 0),Mk(),(0,je.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,je.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Zt.D)(this.ref.get(t)).pipe(In.iC)}}class G9{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?SI(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Cn(e=>e.length>0),In.iC):SI(this.query,this.afs.schedulers.outsideAngular).pipe(In.iC)}auditTrail(t){return this.stateChanges(t).pipe(Gg((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Lj(t);return Fj(this.query,e,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(t={}){return lO(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),In.iC)}get(t){return(0,Zt.D)(this.query.get(t)).pipe(In.iC)}}const W9=new s.OlP("angularfire2.enableFirestorePersistence"),q9=new s.OlP("angularfire2.firestore.persistenceSettings"),Z9=new s.OlP("angularfire2.firestore.settings"),Y9=new s.OlP("angularfire2.firestore.use-emulator");function Uj(n,t=(e=>e)){return{query:t(n),ref:n}}let zj=(()=>{class n{constructor(e,i,r,o,l,u,m,_,b,I,R,L,j,Z,ne,Re,Ke){this.schedulers=m;const Je=(0,Hl.on)(e,u,i),ct=b;I&&Oj(Je,u,R,j,Z,ne,L,Re),[this.firestore,this.persistenceEnabled$]=(0,Hl.cc)(`${Je.name}.firestore`,"AngularFirestore",Je.name,()=>{const jt=u.runOutsideAngular(()=>Je.firestore());if(o&&jt.settings(o),ct&&jt.useEmulator(...ct),r&&!ya(l)){const sn=()=>{try{return(0,Zt.D)(jt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(On){return typeof console<"u"&&console.warn(On),qe(!1)}};return[jt,u.runOutsideAngular(sn)]}return[jt,qe(!1)]},[o,ct,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:l}=Uj(r,i),u=this.schedulers.ngZone.run(()=>o);return new Bj(u,l,this)}collectionGroup(e,i){const r=i||(l=>l),o=this.firestore.collectionGroup(e);return new G9(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new Vj(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hl.Dh),s.LFG(Hl.xv,8),s.LFG(W9,8),s.LFG(Z9,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(In.HU),s.LFG(q9,8),s.LFG(Y9,8),s.LFG(aO,8),s.LFG(Sj,8),s.LFG(Aj,8),s.LFG(Mj,8),s.LFG(kj,8),s.LFG(Rj,8),s.LFG(Pj,8),s.LFG(Tv,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),AI=(()=>{class n{constructor(e){this._client=e,this._traningSubject=new zr(JSON.parse(localStorage.getItem("trainingContext"))||{isEdit:!1,trainingElements:[],trainingWeek:0,isDone:!1}),this.traning$=this._traningSubject.asObservable(),this._isEdit=new zr({isEdit:!1,index:null}),this.isEdit$=this._isEdit.asObservable()}addTraining(e){const i={...this._traningSubject.value,isDone:!0};return(0,Zt.D)(this._client.collection("plans").add({...i,authId:e,createAt:(new Date).getTime(),raitingCommentTraining:"",raitingValueTraining:0})).pipe((0,jn.b)(()=>localStorage.removeItem("trainingContext")),(0,je.U)(()=>{this._traningSubject.value&&this._traningSubject.next({...this._traningSubject.value,trainingElements:[]})}))}getOneTraining(e){return this._client.collection("plans").valueChanges({idField:"id"}).pipe((0,je.U)(i=>i.filter(r=>r.id===e).shift()))}setTraining(e){return(0,Zt.D)(this._client.doc("plans/"+e).update(this._traningSubject.value)).pipe((0,jn.b)(()=>localStorage.removeItem("trainingContext")),(0,je.U)(()=>{}))}addTrainingElementToContext(e){if(this._traningSubject.value){const i={...this._traningSubject.value,trainingElements:[...this._traningSubject.value.trainingElements,{...e,index:this._traningSubject.value.trainingElements.length+1}]};this._traningSubject.next(i),localStorage.setItem("trainingContext",JSON.stringify(i))}return qe(void 0)}addTrainingElementsToContext(e){const i={isEdit:!0,trainingElements:e.trainingElements,trainingWeek:e.trainingWeek,isDone:e.isDone};return this._traningSubject.next(i),localStorage.setItem("trainingContext",JSON.stringify(i)),qe(void 0)}getAllPlans(){return this._client.collection("plans",e=>e.orderBy("createAt","desc")).valueChanges({idField:"id"})}editForm(e,i){return this._isEdit.next({isEdit:e,index:i}),qe(void 0)}editSubmit(e,i,r){if(this._traningSubject.value){const o=this._traningSubject.value.trainingElements,l={...o[e]};l.comment=i.comment,l.exercise=i.exercise,l.quantity=r,this._isEdit.next({isEdit:!1,index:0}),o[e]=l;const u={trainingWeek:this._traningSubject.value.trainingWeek,isEdit:this._traningSubject.value.isEdit,trainingElements:o,isDone:this._traningSubject.value.isDone};this._traningSubject.next(u),localStorage.setItem("trainingContext",JSON.stringify(u))}return qe(void 0)}setRaiting(e,i,r,o,l){if("training"===l)return(0,Zt.D)(this._client.doc("plans/"+e).update({raitingCommentTraining:r,raitingValueTraining:o}));if("exercise"===l){const u=this._client.collection("plans").doc(e);return u.get().pipe(Hn(m=>{if(m.exists){const _=m.data();if(_.trainingElement&&_.trainingElement.length>i)return _.trainingElement[i].raitingCommentExercise=r,_.trainingElement[i].raitingValueExercise=o,(0,Zt.D)(u.update({trainingElement:_.trainingElement}));throw new Error(`Element o indeksie ${i} nie istnieje.`)}throw new Error(`Dokument o ID ${e} nie istnieje.`)}))}return qe(void 0)}destroyTrainingContext(){return this._traningSubject.next({isEdit:!1,trainingElements:[],trainingWeek:0,isDone:!1}),qe(void 0)}setTrainingWeekOnSubject(e){if(this._traningSubject.value?.trainingWeek===e)return console.log("void"),qe(void 0);if(this._traningSubject.value){console.log("setSubject",e);const i={...this._traningSubject.value,trainingWeek:e};this._traningSubject.next(i),localStorage.setItem("trainingContext",JSON.stringify(i))}return qe(void 0)}deleteExercise(e){if(this._traningSubject.value){this._traningSubject.value.trainingElements.splice(e,1);const i=this._traningSubject.value.trainingElements.map((o,l)=>({...o,index:1+l++})),r={...this._traningSubject.value,trainingElements:i};this._traningSubject.next(r),localStorage.setItem("trainingContext",JSON.stringify(r))}return qe(void 0)}removeTraining(e){return(0,Zt.D)(this._client.doc("plans/"+e).delete()).pipe((0,je.U)(()=>{}))}onDragTrainingElement(e){if(this._traningSubject.value){const i={...this._traningSubject.value,trainingElements:e.map((r,o)=>({...r,index:o+1}))};this._traningSubject.next(i),localStorage.setItem("trainingContext",JSON.stringify(i))}return qe(void 0)}isNotEdit(){if(this._traningSubject.value?.isEdit){const e={...this._traningSubject.value,isEdit:!1};this._traningSubject.next(e),localStorage.setItem("trainingContext",JSON.stringify(e))}return qe(void 0)}isEdit(){if(!this._traningSubject.value?.isEdit){const e={...this._traningSubject.value,isEdit:!0};this._traningSubject.next(e),localStorage.setItem("trainingContext",JSON.stringify(e))}return qe(void 0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zj))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sv=(()=>{class n{constructor(e){this._angularFirestore=e}addUser(e){return(0,Zt.D)(this._angularFirestore.collection("users").add({...e,paidTraining:0,trainingWeeks:[]})).pipe((0,je.U)(()=>{}))}getAllUsers(){return this._angularFirestore.collection("users").valueChanges({idField:"id"}).pipe(rw(1))}getOneUser(e){return this._angularFirestore.collection("users").valueChanges({idField:"id"}).pipe((0,je.U)(i=>i.filter(r=>r.id===e).shift()),rw(1))}getOneUserByAuth(e){return this._angularFirestore.collection("users",i=>i.where("authId","==",e)).valueChanges({idField:"id"}).pipe(Hn(i=>i?qe(i[0]):kc(new Error("Item does not exist in firebase"))),rw(1))}setTraining(e,i){return console.log("serwis ",i),(0,Zt.D)(this._angularFirestore.doc("users/"+e).update({trainingWeeks:i})).pipe((0,je.U)(()=>{}))}setPaidTraining(e,i){return(0,Zt.D)(this._angularFirestore.doc("users/"+e.id).update({paidTraining:i})).pipe((0,je.U)(()=>{}))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zj))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hj=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Ht(e)}get inset(){return this._inset}set inset(e){this._inset=Ht(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),MI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Mn]}),n})();const K9=["*"];let kI;function aw(n){return function Q9(){if(void 0===kI&&(kI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(kI=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return kI}()?.createHTML(n)||n}function jj(n){return Error(`Unable to find icon with the name "${n}"`)}function $j(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Gj(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class qp{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let RI=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new qp(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const l=this._sanitizer.sanitize(s.q3G.HTML,r);if(!l)throw Gj(r);const u=aw(l);return this._addSvgIconConfig(e,i,new qp("",u,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new qp(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw Gj(i);const l=aw(o);return this._addSvgIconSetConfig(e,new qp("",l,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw $j(e);const r=this._cachedIconsByUrl.get(i);return r?qe(PI(r)):this._loadSvgIconFromConfig(new qp(e,null)).pipe((0,jn.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,je.U)(o=>PI(o)))}getNamedSvgIcon(e,i=""){const r=Wj(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(e,l):kc(jj(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?qe(PI(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,je.U)(i=>PI(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?qe(r):$d(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(Rc(u=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,l.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(_)),qe(null)})))).pipe((0,je.U)(()=>{const l=this._extractIconWithNameFromAnySet(e,i);if(!l)throw jj(e);return l}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(o),u=this._extractSvgIconFromSet(l,e,o.options);if(u)return u}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,jn.b)(i=>e.svgText=i),(0,je.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?qe(null):this._fetchIcon(e).pipe((0,jn.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const l=o.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const u=this._svgElementFromString(aw("<svg></svg>"));return u.appendChild(l),this._setSvgAttributes(u,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(aw("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:l,value:u}=r[o];"id"!==l&&i.setAttribute(l,u)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function X9(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!l)throw $j(i);const u=this._inProgressUrlFetches.get(l);if(u)return u;const m=this._httpClient.get(l,{responseType:"text",withCredentials:o}).pipe((0,je.U)(_=>aw(_)),Fl(()=>this._inProgressUrlFetches.delete(l)),(0,oj.B)());return this._inProgressUrlFetches.set(l,m),m}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(Wj(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return eY(o)?new qp(o.url,null,o.options):new qp(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Il,8),s.LFG(Pa),s.LFG(ie,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PI(n){return n.cloneNode(!0)}function Wj(n,t){return n+":"+t}function eY(n){return!(!n.url||!n.options)}const tY=wE(class{constructor(n){this._elementRef=n}}),nY=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),iY=new s.OlP("mat-icon-location",{providedIn:"root",factory:function rY(){const n=(0,s.f3M)(ie),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),qj=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],oY=qj.map(n=>`[${n}]`).join(", "),sY=/^url\(['"]?#(.*?)['"]?\)$/;let Zj=(()=>{class n extends tY{get inline(){return this._inline}set inline(e){this._inline=Ht(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,l,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Hr.w0.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(l=>{o.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(oY),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)qj.forEach(l=>{const u=i[o],m=u.getAttribute(l),_=m?m.match(sY):null;if(_){let b=r.get(u);b||(b=[],r.set(u,b)),b.push({name:l,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Si(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(RI),s.$8M("aria-hidden"),s.Y36(iY),s.Y36(s.qLn),s.Y36(nY,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:K9,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Yj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Mn]}),n})();function dO(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function Av(n,t){const e=t?"":"none";dO(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function Kj(n,t,e){dO(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function OI(n,t){return t&&"none"!=t?n+" "+t:n}function Qj(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function uO(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function hO(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function fO(n,t,e){const{top:i,bottom:r,left:o,right:l}=n;return e>=i&&e<=r&&t>=o&&t<=l}function lw(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function Xj(n,t,e,i){const{top:r,right:o,bottom:l,left:u,width:m,height:_}=n,b=m*t,I=_*t;return i>r-I&&i<l+I&&e>u-b&&e<o+b}class Jj{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:hO(e)})})}handleScroll(t){const e=es(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let o,l;if(e===this._document){const _=this.getViewportScrollPosition();o=_.top,l=_.left}else o=e.scrollTop,l=e.scrollLeft;const u=r.top-o,m=r.left-l;return this.positions.forEach((_,b)=>{_.clientRect&&e!==b&&e.contains(b)&&lw(_.clientRect,u,m)}),r.top=o,r.left=l,{top:u,left:m}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function e3(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?r3(n,t):("input"===i||"select"===i||"textarea"===i)&&n3(n,t),t3("canvas",n,t,r3),t3("input, textarea, select",n,t,n3),t}function t3(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const o=e.querySelectorAll(n);for(let l=0;l<r.length;l++)i(r[l],o[l])}}let cY=0;function n3(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${cY++}`)}function r3(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const o3=Ss({passive:!0}),NI=Ss({passive:!1}),mO=new Set(["position"]);class uY{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Ht(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Av(i,e)))}constructor(t,e,i,r,o,l){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=l,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new st.x,this._pointerMoveSubscription=Hr.w0.EMPTY,this._pointerUpSubscription=Hr.w0.EMPTY,this._scrollSubscription=Hr.w0.EMPTY,this._resizeSubscription=Hr.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new st.x,this.started=new st.x,this.released=new st.x,this.ended=new st.x,this.entered=new st.x,this.exited=new st.x,this.dropped=new st.x,this.moved=this._moveEvents,this._pointerDown=u=>{if(this.beforeStarted.next(),this._handles.length){const m=this._getTargetHandle(u);m&&!this._disabledHandles.has(m)&&!this.disabled&&this._initializeDragSequence(m,u)}else this.disabled||this._initializeDragSequence(this._rootElement,u)},this._pointerMove=u=>{const m=this._getPointerPositionOnPage(u);if(!this._hasStartedDragging){if(Math.abs(m.x-this._pickupPositionOnPage.x)+Math.abs(m.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const L=Date.now()>=this._dragStartTime+this._getDragStartDelay(u),j=this._dropContainer;if(!L)return void this._endDragSequence(u);(!j||!j.isDragging()&&!j.isReceiving())&&(u.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(u)))}return}u.preventDefault();const _=this._getConstrainedPointerPosition(m);if(this._hasMoved=!0,this._lastKnownPointerPosition=m,this._updatePointerDirectionDelta(_),this._dropContainer)this._updateActiveDropContainer(_,m);else{const b=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,I=this._activeTransform;I.x=_.x-b.x+this._passiveTransform.x,I.y=_.y-b.y+this._passiveTransform.y,this._applyRootElementTransform(I.x,I.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:_,event:u,distance:this._getDragDistance(_),delta:this._pointerDirectionDelta})})},this._pointerUp=u=>{this._endDragSequence(u)},this._nativeDragStart=u=>{if(this._handles.length){const m=this._getTargetHandle(u);m&&!this._disabledHandles.has(m)&&!this.disabled&&u.preventDefault()}else this.disabled||u.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new Jj(i),l.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Ai(i)),this._handles.forEach(i=>Av(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Ai(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,NI),e.addEventListener("touchstart",this._pointerDown,o3),e.addEventListener("dragstart",this._nativeDragStart,NI)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Ai(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Av(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Av(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){cw(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),l=this._anchor=this._anchor||this._document.createComment(""),u=this._getShadowRoot();r.insertBefore(l,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),Kj(i,!1,mO),this._document.body.appendChild(r.replaceChild(o,i)),this._getPreviewInsertionPoint(r,u).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=cw(e),o=!r&&0!==e.button,l=this._rootElement,u=es(e),m=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),_=r?hu(e):gp(e);if(u&&u.draggable&&"mousedown"===e.type&&e.preventDefault(),i||o||m||_)return;if(this._handles.length){const R=l.style;this._rootElementTapHighlight=R.webkitTapHighlightColor||"",R.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(R=>this._updateOnScroll(R)),this._boundaryElement&&(this._boundaryRect=hO(this._boundaryElement));const b=this._previewTemplate;this._pickupPositionInElement=b&&b.template&&!b.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const I=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:I.x,y:I.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){Kj(this._rootElement,!0,mO),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),l=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:l,distance:o,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,l,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const o=t.matchSize?this._initialClientRect:null,l=t.viewContainer.createEmbeddedView(i,t.context);l.detectChanges(),r=a3(l,this._document),this._previewRef=l,t.matchSize?l3(r,o):r.style.transform=FI(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=e3(this._rootElement),l3(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return dO(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},mO),Av(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function lY(n){const t=getComputedStyle(n),e=uO(t,"transition-property"),i=e.find(u=>"transform"===u||"all"===u);if(!i)return 0;const r=e.indexOf(i),o=uO(t,"transition-duration"),l=uO(t,"transition-delay");return Qj(o[r])+Qj(l[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=l=>{(!l||es(l)===this._preview&&"transform"===l.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(o))},o=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=a3(this._placeholderRef,this._document)):i=e3(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,l=cw(i)?i.targetTouches[0]:i,u=this._getViewportScrollPosition();return{x:o.left-t.left+(l.pageX-o.left-u.left),y:o.top-t.top+(l.pageY-o.top-u.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=cw(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){const l=this._ownerSVGElement.getScreenCTM();if(l){const u=this._ownerSVGElement.createSVGPoint();return u.x=r,u.y=o,u.matrixTransform(l.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:l}=this._pickupPositionInElement,u=this._boundaryRect,{width:m,height:_}=this._getPreviewRect(),b=u.top+l,I=u.bottom-(_-l);i=s3(i,u.left+o,u.right-(m-o)),r=s3(r,b,I)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,l=Math.abs(e-o.x),u=Math.abs(i-o.y);return l>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),u>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Av(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,NI),t.removeEventListener("touchstart",this._pointerDown,o3),t.removeEventListener("dragstart",this._nativeDragStart,NI)}_applyRootElementTransform(t,e){const i=FI(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=OI(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=FI(t,e);this._preview.style.transform=OI(r,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,l=i.right-r.right,u=r.top-i.top,m=i.bottom-r.bottom;r.width>i.width?(o>0&&(t+=o),l>0&&(t-=l)):t=0,r.height>i.height?(u>0&&(e+=u),m>0&&(e-=m)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:cw(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=es(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&lw(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=S_(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Ai(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function FI(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function s3(n,t,e){return Math.max(t,Math.min(e,n))}function cw(n){return"t"===n.type[0]}function a3(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function l3(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=FI(t.left,t.top)}function dw(n,t){return Math.max(0,Math.min(t,n))}class fY{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const o=this._itemPositions,l=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===l&&o.length>0)return null;const u="horizontal"===this.orientation,m=o.findIndex(ne=>ne.drag===t),_=o[l],I=_.clientRect,R=m>l?1:-1,L=this._getItemOffsetPx(o[m].clientRect,I,R),j=this._getSiblingOffsetPx(m,o,R),Z=o.slice();return function hY(n,t,e){const i=dw(t,n.length-1),r=dw(e,n.length-1);if(i===r)return;const o=n[i],l=r<i?-1:1;for(let u=i;u!==r;u+=l)n[u]=n[u+l];n[r]=o}(o,m,l),o.forEach((ne,Re)=>{if(Z[Re]===ne)return;const Ke=ne.drag===t,Je=Ke?L:j,ct=Ke?t.getPlaceholderElement():ne.drag.getRootElement();ne.offset+=Je,u?(ct.style.transform=OI(`translate3d(${Math.round(ne.offset)}px, 0, 0)`,ne.initialTransform),lw(ne.clientRect,0,Je)):(ct.style.transform=OI(`translate3d(0, ${Math.round(ne.offset)}px, 0)`,ne.initialTransform),lw(ne.clientRect,Je,0))}),this._previousSwap.overlaps=fO(I,e,i),this._previousSwap.drag=_.drag,this._previousSwap.delta=u?r.x:r.y,{previousIndex:m,currentIndex:l}}enter(t,e,i,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,l=this._activeDraggables,u=l.indexOf(t),m=t.getPlaceholderElement();let _=l[o];if(_===t&&(_=l[o+1]),!_&&(null==o||-1===o||o<l.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(_=l[0]),u>-1&&l.splice(u,1),_&&!this._dragDropRegistry.isDragging(_)){const b=_.getRootElement();b.parentElement.insertBefore(m,b),l.splice(o,0,t)}else Ai(this._element).appendChild(m),l.push(t);m.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{lw(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:hO(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let o=r?e.left-t.left:e.top-t.top;return-1===i&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,o=e[t].clientRect,l=e[t+-1*i];let u=o[r?"width":"height"]*i;if(l){const m=r?"left":"top",_=r?"right":"bottom";-1===i?u-=l.clientRect[m]-o[_]:u+=o[m]-l.clientRect[_]}return u}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const l=i[i.length-1].clientRect;return r?t>=l.right:e>=l.bottom}{const l=i[0].clientRect;return r?t<=l.left:e<=l.top}}_getItemIndexFromPointerPosition(t,e,i,r){const o="horizontal"===this.orientation,l=this._itemPositions.findIndex(({drag:u,clientRect:m})=>u!==t&&((!r||u!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?r.x:r.y)!==this._previousSwap.delta)&&(o?e>=Math.floor(m.left)&&e<Math.floor(m.right):i>=Math.floor(m.top)&&i<Math.floor(m.bottom))));return-1!==l&&this._sortPredicate(l,t)?l:-1}}const d3=.05;class mY{constructor(t,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new st.x,this.entered=new st.x,this.exited=new st.x,this.dropped=new st.x,this.sorted=new st.x,this.receivingStarted=new st.x,this.receivingStopped=new st.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Hr.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new st.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function aY(n=0,t=dp.z){return n<0&&(n=0),j_(n,n,t)}(0,U_).pipe(Ln(this._stopScrollTimers)).subscribe(()=>{const l=this._scrollNode,u=this.autoScrollStep;1===this._verticalScrollDirection?l.scrollBy(0,-u):2===this._verticalScrollDirection&&l.scrollBy(0,u),1===this._horizontalScrollDirection?l.scrollBy(-u,0):2===this._horizontalScrollDirection&&l.scrollBy(u,0)})},this.element=Ai(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new Jj(i),this._sortStrategy=new fY(this.element,e),this._sortStrategy.withSortPredicate((l,u)=>this.sortPredicate(l,u,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,o,l,u,m={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:l,dropPoint:u,event:m})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Ai(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!Xj(this._clientRect,.05,e,i))return;const o=this._sortStrategy.sort(t,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,o=0;if(this._parentPositions.positions.forEach((l,u)=>{u===this._document||!l.clientRect||i||Xj(l.clientRect,.05,t,e)&&([r,o]=function pY(n,t,e,i){const r=u3(t,i),o=h3(t,e);let l=0,u=0;if(r){const m=n.scrollTop;1===r?m>0&&(l=1):n.scrollHeight-m>n.clientHeight&&(l=2)}if(o){const m=n.scrollLeft;1===o?m>0&&(u=1):n.scrollWidth-m>n.clientWidth&&(u=2)}return[l,u]}(u,l.clientRect,t,e),(r||o)&&(i=u))}),!r&&!o){const{width:l,height:u}=this._viewportRuler.getViewportSize(),m={width:l,height:u,top:0,right:l,bottom:u,left:0};r=u3(m,e),o=h3(m,t),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Ai(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Ai(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Ai(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&fO(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!fO(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const o=Ai(this.element);return r===o||o.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=S_(Ai(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function u3(n,t){const{top:e,bottom:i,height:r}=n,o=r*d3;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}function h3(n,t){const{left:e,right:i,width:r}=n,o=r*d3;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}const LI=Ss({passive:!1,capture:!0});let gY=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new st.x,this.pointerUp=new st.x,this.scroll=new st.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,LI)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,LI)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:LI}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:LI}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,l)=>{this._document.addEventListener(l,o.handler,o.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Kn.y(r=>this._ngZone.runOutsideAngular(()=>{const l=u=>{this._activeDragInstances.length&&r.next(u)};return e.addEventListener("scroll",l,!0),()=>{e.removeEventListener("scroll",l,!0)}}))),(0,d.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _Y={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let pO=(()=>{class n{constructor(e,i,r,o){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(e,i=_Y){return new uY(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new mY(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(s.R0b),s.LFG(bp),s.LFG(gY))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gO=new s.OlP("CDK_DRAG_PARENT"),_O=new s.OlP("CdkDropListGroup"),f3=new s.OlP("CDK_DRAG_CONFIG");let yY=0;const m3=new s.OlP("CdkDropList");let p3=(()=>{class n{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=Ht(e)}constructor(e,i,r,o,l,u,m){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=o,this._dir=l,this._group=u,this._destroyed=new st.x,this.connectedTo=[],this.id="cdk-drop-list-"+yY++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.sorted=new s.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,m&&this._assignDefaults(m),this._dropListRef.enterPredicate=(_,b)=>this.enterPredicate(_.data,b.data),this._dropListRef.sortPredicate=(_,b,I)=>this.sortPredicate(_,b.data,I.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),u&&u._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(eo(this._dir.value),Ln(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=up(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(l=>l.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Ht(this.sortingDisabled),e.autoScrollDisabled=Ht(this.autoScrollDisabled),e.autoScrollStep=oa(this.autoScrollStep,2),e.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),(0,d.T)(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){const{lockAxis:i,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:l,listOrientation:u}=e;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=l??!1,this.orientation=u||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n._dropLists=[],n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(pO),s.Y36(s.sBO),s.Y36(gu),s.Y36(sa,8),s.Y36(_O,12),s.Y36(f3,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id),s.ekj("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[s._Bn([{provide:_O,useValue:void 0},{provide:m3,useExisting:n}])]}),n})();const vO=new s.OlP("CdkDragHandle"),g3=new s.OlP("CdkDragPlaceholder"),_3=new s.OlP("CdkDragPreview");let v3=(()=>{class n{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=Ht(e),this._dragRef.disabled=this._disabled}constructor(e,i,r,o,l,u,m,_,b,I,R){this.element=e,this.dropContainer=i,this._ngZone=o,this._viewContainerRef=l,this._dir=m,this._changeDetectorRef=b,this._selfHandle=I,this._parentDrag=R,this._destroyed=new st.x,this.started=new s.vpe,this.released=new s.vpe,this.ended=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.dropped=new s.vpe,this.moved=new Kn.y(L=>{const j=this._dragRef.moved.pipe((0,je.U)(Z=>({source:this,pointerPosition:Z.pointerPosition,event:Z.event,delta:Z.delta,distance:Z.distance}))).subscribe(L);return()=>{j.unsubscribe()}}),this._dragRef=_.createDrag(e,{dragStartThreshold:u&&null!=u.dragStartThreshold?u.dragStartThreshold:5,pointerDirectionChangeThreshold:u&&null!=u.pointerDirectionChangeThreshold?u.pointerDirectionChangeThreshold:5,zIndex:u?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),u&&this._assignDefaults(u),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Si(1),Ln(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):Ai(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,l=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:oa(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(l).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(Si(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:l,boundaryElement:u,draggingDisabled:m,rootElementSelector:_,previewContainer:b}=e;this.disabled=m??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),o&&(this.constrainPosition=o),l&&(this.previewClass=l),u&&(this.boundaryElement=u),_&&(this.rootElementSelector=_),b&&(this.previewContainer=b)}_setupHandlesListener(){this._handles.changes.pipe(eo(this._handles),(0,jn.b)(e=>{const i=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Hn(e=>(0,d.T)(...e.map(i=>i._stateChanges.pipe(eo(i))))),Ln(this._destroyed)).subscribe(e=>{const i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(m3,12),s.Y36(ie),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(f3,8),s.Y36(sa,8),s.Y36(pO),s.Y36(s.sBO),s.Y36(vO,10),s.Y36(gO,12))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,_3,5),s.Suo(r,g3,5),s.Suo(r,vO,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._previewTemplate=o.first),s.iGM(o=s.CRH())&&(i._placeholderTemplate=o.first),s.iGM(o=s.CRH())&&(i._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[s._Bn([{provide:gO,useExisting:n}]),s.TTD]}),n})(),y3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[pO],imports:[a]}),n})();function EY(n,t){if(1&n&&(s.TgZ(0,"option",26),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" Tydzie\u0144 ",e," ")}}function DY(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",27)(2,"div",28),s._UZ(3,"input",29),s.qZA(),s.TgZ(4,"div",28),s._UZ(5,"input",30),s.qZA(),s.TgZ(6,"div",28),s._UZ(7,"input",31),s.qZA(),s.TgZ(8,"div",28)(9,"button",6),s.NdJ("click",function(){const o=s.CHM(e).index,l=s.oxw(2);return s.KtG(l.deleteQuantity(o))}),s._uU(10," - "),s.qZA()()(),s.BQk()}if(2&n){const e=t.index;s.xp6(1),s.Q6J("formGroupName",e)}}function IY(n,t){if(1&n&&(s.TgZ(0,"div",44)(1,"div",45)(2,"div",46)(3,"span")(4,"b"),s._uU(5,"Serie: "),s.qZA()()(),s.TgZ(6,"div",47),s._uU(7),s.qZA()(),s.TgZ(8,"div",45)(9,"div",46)(10,"span")(11,"b"),s._uU(12,"Powt\xf3rzenia: "),s.qZA()()(),s.TgZ(13,"div",47),s._uU(14),s.qZA()(),s.TgZ(15,"div",45)(16,"div",46)(17,"span")(18,"b"),s._uU(19,"Ci\u0119zar: "),s.qZA()()(),s.TgZ(20,"div",47),s._uU(21),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(7),s.Oqu(e.set),s.xp6(7),s.hij(" ",e.rep," "),s.xp6(7),s.Oqu(e.value)}}function TY(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",37)(2,"div",38),s._uU(3),s.qZA(),s.TgZ(4,"div",39)(5,"div",37)(6,"span",40)(7,"b"),s._uU(8,"\u0106wiczenie"),s.qZA()(),s._uU(9),s.qZA(),s.TgZ(10,"div",37)(11,"span",40)(12,"b"),s._uU(13,"Komentarz"),s.qZA()(),s._uU(14),s.qZA()(),s.TgZ(15,"div",41),s.YNc(16,IY,22,3,"div",42),s.qZA(),s.TgZ(17,"div",38)(18,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2),o=r.index,l=r.$implicit,u=s.oxw(2);return s.KtG(u.onEditForms(o,l))}),s._uU(19," Edytuj "),s.qZA()(),s.TgZ(20,"div",38)(21,"button",43),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2).index,o=s.oxw(2);return s.KtG(o.deleteExercise(r))}),s.TgZ(22,"mat-icon"),s._uU(23,"delete_outline"),s.qZA()()()(),s.BQk()}if(2&n){const e=s.oxw(2).$implicit;s.xp6(3),s.Oqu(e.index),s.xp6(6),s.hij(" ",e.exercise," "),s.xp6(5),s.hij(" ",e.comment," "),s.xp6(2),s.Q6J("ngForOf",e.quantity)}}function SY(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",52)(2,"div",47)(3,"div",45)(4,"div",53)(5,"span")(6,"b"),s._uU(7,"Serie: "),s.qZA()()(),s.TgZ(8,"div",47),s._UZ(9,"input",54),s.qZA()(),s.TgZ(10,"div",45)(11,"div",53)(12,"span")(13,"b"),s._uU(14,"Podej\u015bcia: "),s.qZA()()(),s.TgZ(15,"div",47),s._UZ(16,"input",55),s.qZA()(),s.TgZ(17,"div",45)(18,"div",53)(19,"span")(20,"b"),s._uU(21,"Ci\u0119zar: "),s.qZA()()(),s.TgZ(22,"div",47),s._UZ(23,"input",56),s.qZA()()(),s.TgZ(24,"div",57)(25,"button",6),s.NdJ("click",function(){const o=s.CHM(e).index,l=s.oxw(5);return s.KtG(l.deleteQuantityEdit(o))}),s._uU(26," - "),s.qZA()()(),s.BQk()}if(2&n){const e=t.index;s.xp6(1),s.Q6J("formGroupName",e)}}function AY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",37)(1,"div",38),s._uU(2),s.qZA(),s.TgZ(3,"div",48)(4,"div",37)(5,"span",40)(6,"b"),s._uU(7,"Exercise"),s.qZA()(),s._UZ(8,"textarea",13),s.qZA(),s.TgZ(9,"div",37)(10,"span",40)(11,"b"),s._uU(12,"Comment"),s.qZA()(),s._UZ(13,"textarea",14),s.qZA()(),s.TgZ(14,"div",47),s.ynx(15,16),s.YNc(16,SY,27,1,"ng-container",17),s.BQk(),s.qZA(),s.TgZ(17,"div",49)(18,"div",37)(19,"div",50)(20,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(4);return s.KtG(r.addQuantity("edit"))}),s._uU(21," + "),s.qZA()(),s.TgZ(22,"div",51)(23,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2).index,o=s.oxw(2);return s.KtG(o.editSubmit(o.editForm,r))}),s._uU(24," Zatwierd\u017a "),s.qZA()()()()()}if(2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.xp6(2),s.Oqu(e.index),s.xp6(14),s.Q6J("ngForOf",i.quantityExerciseEdit.controls)}}function MY(n,t){if(1&n&&(s.ynx(0),s.YNc(1,TY,24,4,"ng-container",35),s.YNc(2,AY,25,2,"ng-template",null,36,s.W1O),s.BQk()),2&n){const e=t.ngIf,i=s.MAs(3),r=s.oxw().index;s.xp6(1),s.Q6J("ngIf",!e.isEdit||e.index!==r)("ngIfElse",i)}}function kY(n,t){if(1&n&&(s.TgZ(0,"div",32),s.YNc(1,MY,4,2,"ng-container",33),s.ALo(2,"async"),s.TgZ(3,"span",34),s._UZ(4,"mat-divider"),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",s.lcZ(2,1,e.isEditForm$))}}function RY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),s._uU(4," Dodaj \u0106wiczenie do Treningu "),s.qZA()(),s.TgZ(5,"div",5)(6,"button",6),s.NdJ("click",function(){const o=s.CHM(e).ngIf,l=s.oxw();return s.KtG(l.back(o.userId))}),s._uU(7," Wr\xf3\u0107 "),s.qZA()()(),s.TgZ(8,"form",7)(9,"div",2)(10,"div",8)(11,"select",9),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.setTrainingWeek(r))}),s.YNc(12,EY,2,2,"option",10),s.qZA()(),s.TgZ(13,"div",11)(14,"button",6),s.NdJ("click",function(){const o=s.CHM(e).ngIf,l=s.oxw();return s.KtG(l.addWeeksToConception(o,1))}),s._uU(15," Dodaj nowy tydzie\u0144 "),s.qZA()()(),s.TgZ(16,"div",2)(17,"div",12),s._UZ(18,"textarea",13),s.qZA()(),s.TgZ(19,"div",2)(20,"div",12),s._UZ(21,"textarea",14),s.qZA()(),s.TgZ(22,"div",2)(23,"div",15),s.ynx(24,16),s.YNc(25,DY,11,1,"ng-container",17),s.BQk(),s.qZA(),s.TgZ(26,"div",18)(27,"div",19)(28,"div",20)(29,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addQuantity("add"))}),s._uU(30," + "),s.qZA()(),s.TgZ(31,"div",20)(32,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addTrainingExercise(r.planForm))}),s._uU(33," Dodaj "),s.qZA()()()()()(),s.TgZ(34,"div",21)(35,"div",22)(36,"button",6),s.NdJ("click",function(){const o=s.CHM(e).ngIf,l=s.oxw();return s.KtG(l.onPlanFormSubmitted(o.userId,o.isEdit,o.isDone))}),s._uU(37," Zatwierd\u017a "),s.qZA()()(),s.TgZ(38,"div",23)(39,"form",7)(40,"div",24),s.NdJ("cdkDropListDropped",function(r){const l=s.CHM(e).ngIf,u=s.oxw();return s.KtG(u.onDrop(r,l.trainingElements))}),s.YNc(41,kY,5,3,"div",25),s.qZA()()()()}if(2&n){const e=t.ngIf,i=s.oxw();s.xp6(8),s.Q6J("formGroup",i.planForm),s.xp6(4),s.Q6J("ngForOf",e.trainingWeeks),s.xp6(13),s.Q6J("ngForOf",i.quantityExercise.controls),s.xp6(14),s.Q6J("formGroup",i.editForm),s.xp6(2),s.Q6J("ngForOf",e.trainingElements)}}let b3=(()=>{class n{constructor(e,i,r,o,l){this._fb=e,this._trainingService=i,this._activatedRoute=r,this._router=o,this._userService=l,this.planForm=new go({trainingWeek:new yi,exercise:new yi(""),comment:new yi(""),quantityExercise:new Ey([new go({set:new yi(""),rep:new yi(""),value:new yi("")})])}),this.editForm=new go({exercise:new yi(""),comment:new yi(""),quantityExercise:new Ey([])}),this.trainingExercises$=this._trainingService.traning$,this.isEditForm$=this._trainingService.isEdit$,this.user$=Mm([this._activatedRoute.params,this.trainingExercises$]).pipe((0,jn.b)(()=>{}),Hn(([u,m])=>(console.log(m.isEdit),this._userService.getOneUserByAuth(u.authId).pipe((0,je.U)(_=>(m.isEdit?(console.log("isEdit",m.trainingWeek),this.planForm.get("trainingWeek")?.patchValue(m.trainingWeek),this._trainingService.setTrainingWeekOnSubject(m.trainingWeek),this.planForm.get("trainingWeek")?.patchValue(m.trainingWeek),this._trainingService.setTrainingWeekOnSubject(m.trainingWeek)):(console.log("isNotEdit"),this.planForm.get("trainingWeek")?.patchValue(_.trainingWeeks.length),this._trainingService.setTrainingWeekOnSubject(_.trainingWeeks.length).pipe()),{userId:_.id,trainingWeeks:_.trainingWeeks.reverse(),isEdit:m.isEdit,trainingWeek:m.trainingWeek,trainingElements:m.trainingElements,isDone:m.isDone}))))))}ngOnDestroy(){this._trainingService.destroyTrainingContext().subscribe(),console.log("kkk")}onPlanFormSubmitted(e,i,r){this._activatedRoute.params.pipe(Hn(o=>i&&r?this._trainingService.setTraining(o.trainingId).pipe((0,jn.b)(()=>this._router.navigate(["user/"+e]))):this._trainingService.addTraining(o.authId))).subscribe({next:()=>{}})}get quantityExercise(){return this.planForm.controls.quantityExercise}get quantityExerciseEdit(){return this.editForm.controls.quantityExercise}addQuantityEdit(e){const i=this._fb.group(e);this.quantityExerciseEdit.push(i)}addQuantity(e){const i=this._fb.group({set:[],rep:[],value:[]});"add"===e?this.quantityExercise.push(i):"edit"===e&&this.quantityExerciseEdit.push(i)}deleteQuantity(e){this.quantityExercise.removeAt(e)}deleteQuantityEdit(e){this.quantityExerciseEdit.removeAt(e)}addTrainingExercise(e){this._trainingService.addTrainingElementToContext({exercise:e.get("exercise")?.value,comment:e.get("comment")?.value,quantity:e.get("quantityExercise")?.value,raitingCommentExercise:"",raitingValueExercise:0}).subscribe(()=>{e.get("exercise")?.reset(),e.get("comment")?.reset(),this.quantityExercise.clear();const i=this._fb.group({set:[],rep:[],value:[]});this.quantityExercise.push(i)})}onEditForms(e,i){this.editForm.patchValue(i),i.quantity.forEach(r=>this.addQuantityEdit(r)),this._trainingService.editForm(!0,e).subscribe()}editSubmit(e,i){this._trainingService.editSubmit(i,e.value,this.editForm.get("quantityExercise")?.value).subscribe(),this.editForm.controls.quantityExercise.clear(),this.editForm.reset()}back(e){this._router.navigate([`/user/${e}`])}addWeeksToConception(e,i){if(e.trainingWeeks.length){const r=e.trainingWeeks.reverse(),o=r[r.length-1],l=Array.from({length:i},(m,_)=>o+_+1),u=[...r,...l];this.planForm.get("trainingWeek")?.patchValue(l),this._userService.setTraining(e.userId,u)}else{const r=Array.from({length:i},(o,l)=>l+1);this.planForm.get("trainingWeek")?.patchValue(r),this._userService.setTraining(e.userId,r)}this._trainingService.isNotEdit().subscribe()}setTrainingWeek(e){this._trainingService.isEdit();const i=parseInt(e.target.value);console.log(i),this.planForm.get("trainingWeek")?.patchValue(i),this._trainingService.setTrainingWeekOnSubject(i).subscribe()}deleteExercise(e){this._trainingService.deleteExercise(e).subscribe()}onDrop(e,i){const r=i,o=r[e.previousIndex];r.splice(e.previousIndex,1),r.splice(e.currentIndex,0,o),this._trainingService.onDragTrainingElement(r)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(yx),s.Y36(AI),s.Y36(Wa),s.Y36(Rr),s.Y36(Sv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-create-plan"]],decls:3,vars:3,consts:[["class","container mt-5",4,"ngIf"],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-7"],[1,"text-center","text-ghostwhite","ms-md-5","ps-md-5"],[1,"col-md-2","text-end"],["type","button",1,"btn","btn-block","bg-cadetblue","text-ghostwhite",3,"click"],[3,"formGroup"],[1,"col-md-6"],["formControlName","trainingWeek",1,"form-control","mb-3",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3","text-end"],[1,"col-md-9"],["placeholder","\u0106wiczenie","id","exerciseName","formControlName","exercise","rows","2",1,"form-control"],["placeholder","Komentarz","id","comment","rows","4","formControlName","comment",1,"form-control","mt-3"],[1,"col-7"],["formArrayName","quantityExercise"],[4,"ngFor","ngForOf"],[1,"col","col-md-2","d-flex","align-items-start"],[1,"row","mt-3","justify-content-center"],[1,"col","d-inline-flex","justify-content-center"],[1,"row","mt-5"],[1,"col","d-inline-flex","justify-content-end"],[1,"mt-2","card","p-2"],["cdkDropList","",1,"container-cdk",3,"cdkDropListDropped"],["class","container hover bg-white item","cdkDrag","",4,"ngFor","ngForOf"],[3,"value"],[1,"row","mt-3","justify-content-center",3,"formGroupName"],[1,"col-md-3"],["type","text","id","sets","placeholder","Serie","formControlName","set",1,"form-control"],["type","text","id","repetitions","placeholder","Powt\xf3rzenia","formControlName","rep",1,"form-control"],["type","text","id","value","placeholder","Obci\u0105\u017cenie","formControlName","value",1,"form-control"],["cdkDrag","",1,"container","hover","bg-white","item"],[4,"ngIf"],[1,"px-3"],[4,"ngIf","ngIfElse"],["isEditForm",""],[1,"row"],[1,"col-1"],[1,"col-4","text-start"],[1,"my-2"],[1,"col","text-start"],["class","mb-3 row justify-content-start",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-block","d-flex","align-items-center","bg-danger","text-ghostwhite",3,"click"],[1,"mb-3","row","justify-content-start"],[1,"row","mb-1"],[1,"col-4"],[1,"col"],[1,"col-5","text-start"],[1,"col-3"],[1,"col-2","justify-content-center"],[1,"col","justify-content-center"],[1,"row","mb-3",3,"formGroupName"],[1,"col","d-flex","align-items-center"],["size","1","type","text","id","sets","formControlName","set",1,"form-control"],["type","text","id","rep","formControlName","rep",1,"form-control"],["type","text","id","load","formControlName","value",1,"form-control"],[1,"col-2"]],template:function(e,i){1&e&&(s.ynx(0),s.YNc(1,RY,42,5,"div",0),s.ALo(2,"async"),s.BQk()),2&e&&(s.xp6(1),s.Q6J("ngIf",s.lcZ(2,1,i.user$)))},dependencies:[Xd,zh,lx,La,Ug,Xs,Ph,Ua,Sc,Lg,Bg,zo,Hi,Hj,Zj,p3,v3,Br],encapsulation:2,changeDetection:0}),n})(),w3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-create-plan-users-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-create-plan")},dependencies:[b3],encapsulation:2,changeDetection:0}),n})(),BI=(()=>{class n{constructor(e){this._client=e,this._userContextSubject=new st.x,this.userContext$=this._userContextSubject.asObservable()}login(e){return(0,Zt.D)(this._client.signInWithEmailAndPassword(e.email,e.password)).pipe((0,je.U)(()=>{}))}register(e){return(0,Zt.D)(this._client.createUserWithEmailAndPassword(e.email,e.password)).pipe(Si(1),(0,je.U)(i=>i.user.uid))}getOne(){return this._client.authState}load(){return this.getOne().pipe((0,je.U)(e=>{if(null===e&&null==e)return;const i={id:e.uid,email:e.email,isVerified:e.emailVerified};return this._userContextSubject.next(i),i}))}logOut(){return(0,Zt.D)(this._client.signOut()).pipe((0,je.U)(()=>{}))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(aO))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PY=["matFormFieldNotchedOutline",""],OY=["*"],NY=["textField"],FY=["iconPrefixContainer"],LY=["textPrefixContainer"];function BY(n,t){1&n&&s._UZ(0,"span",19)}function VY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",17),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r._refreshOutlineNotchWidth())}),s.Hsn(1,1),s.YNc(2,BY,1,0,"span",18),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function UY(n,t){if(1&n&&s.YNc(0,VY,3,6,"label",16),2&n){const e=s.oxw();s.Q6J("ngIf",e._hasFloatingLabel())}}function zY(n,t){1&n&&s._UZ(0,"div",20)}function HY(n,t){}function jY(n,t){if(1&n&&s.YNc(0,HY,0,0,"ng-template",22),2&n){s.oxw(2);const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function $Y(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,jY,1,1,"ng-template",9),s.qZA()),2&n){const e=s.oxw();s.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),s.xp6(1),s.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function GY(n,t){1&n&&(s.TgZ(0,"div",23,24),s.Hsn(2,2),s.qZA())}function WY(n,t){1&n&&(s.TgZ(0,"div",25,26),s.Hsn(2,3),s.qZA())}function qY(n,t){}function ZY(n,t){if(1&n&&s.YNc(0,qY,0,0,"ng-template",22),2&n){s.oxw();const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function YY(n,t){1&n&&(s.TgZ(0,"div",27),s.Hsn(1,4),s.qZA())}function KY(n,t){1&n&&(s.TgZ(0,"div",28),s.Hsn(1,5),s.qZA())}function QY(n,t){1&n&&s._UZ(0,"div",29)}function XY(n,t){if(1&n&&(s.TgZ(0,"div",30),s.Hsn(1,6),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function JY(n,t){if(1&n&&(s.TgZ(0,"mat-hint",34),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function eK(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,JY,2,2,"mat-hint",32),s.Hsn(2,7),s._UZ(3,"div",33),s.Hsn(4,8),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const tK=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],nK=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let VI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),iK=0;const x3=new s.OlP("MatError");let C3=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+iK++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:x3,useExisting:n}])]}),n})(),rK=0,E3=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+rK++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(s.Ikx("id",i.id),s.uIk("align",null),s.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const oK=new s.OlP("MatPrefix"),sK=new s.OlP("MatSuffix");let D3=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function aK(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const I3="mdc-line-ripple--active",UI="mdc-line-ripple--deactivating";let T3=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,l=o.contains(UI);"opacity"===r.propertyName&&l&&o.remove(I3,UI)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(UI),e.add(I3)}deactivate(){this._elementRef.nativeElement.classList.add(UI)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),S3=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:PY,ngContentSelectors:OY,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(s.F$t(),s._UZ(0,"div",0),s.TgZ(1,"div",1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(1),s.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const lK={transitionMessages:y("transitionMessages",[H("enter",P({opacity:1,transform:"translateY(0%)"})),oe("void => enter",[P({opacity:0,transform:"translateY(-5px)"}),E("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let A3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const M3=new s.OlP("MatFormField"),cK=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let k3=0,O3=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Ht(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,l,u,m,_){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=l,this._defaults=u,this._animationMode=m,this._document=_,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+k3++,this._hintLabelId="mat-mdc-hint-"+k3++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new st.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=Boolean(u?.hideRequiredMarker),u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ln(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,d.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ln(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ln(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(sa),s.Y36(ar),s.Y36(cK,8),s.Y36(s.QbO,8),s.Y36(ie))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,VI,5),s.Suo(r,VI,7),s.Suo(r,A3,5),s.Suo(r,oK,5),s.Suo(r,sK,5),s.Suo(r,x3,5),s.Suo(r,E3,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._formFieldControl=o.first),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(NY,5),s.Gf(FY,5),s.Gf(LY,5),s.Gf(D3,5),s.Gf(S3,5),s.Gf(T3,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._textField=r.first),s.iGM(r=s.CRH())&&(i._iconPrefixContainer=r.first),s.iGM(r=s.CRH())&&(i._textPrefixContainer=r.first),s.iGM(r=s.CRH())&&(i._floatingLabel=r.first),s.iGM(r=s.CRH())&&(i._notchedOutline=r.first),s.iGM(r=s.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&s.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:M3,useExisting:n}])],ngContentSelectors:nK,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(s.F$t(tK),s.YNc(0,UY,1,1,"ng-template",null,0,s.W1O),s.TgZ(2,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(4,zY,1,0,"div",3),s.TgZ(5,"div",4),s.YNc(6,$Y,2,3,"div",5),s.YNc(7,GY,3,0,"div",6),s.YNc(8,WY,3,0,"div",7),s.TgZ(9,"div",8),s.YNc(10,ZY,1,1,"ng-template",9),s.Hsn(11),s.qZA(),s.YNc(12,YY,2,0,"div",10),s.YNc(13,KY,2,0,"div",11),s.qZA(),s.YNc(14,QY,1,0,"div",12),s.qZA(),s.TgZ(15,"div",13),s.YNc(16,XY,2,1,"div",14),s.YNc(17,eK,5,2,"div",15),s.qZA()),2&e&&(s.xp6(2),s.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),s.xp6(2),s.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),s.xp6(2),s.Q6J("ngIf",i._hasOutline()),s.xp6(1),s.Q6J("ngIf",i._hasIconPrefix),s.xp6(1),s.Q6J("ngIf",i._hasTextPrefix),s.xp6(2),s.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),s.xp6(2),s.Q6J("ngIf",i._hasTextSuffix),s.xp6(1),s.Q6J("ngIf",i._hasIconSuffix),s.xp6(1),s.Q6J("ngIf",!i._hasOutline()),s.xp6(1),s.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[Hi,Ei,ga,Ho,eE,E3,D3,S3,T3],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[lK.transitionMessages]},changeDetection:0}),n})(),Zp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Nn,jc,Mn]}),n})();const N3=Ss({passive:!0});let hK=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ha.E;const i=Ai(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new st.x,l="cdk-text-field-autofilled",u=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,N3),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",u,N3)}}),o}stopMonitoring(e){const i=Ai(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ar),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const mK=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),pK=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let gK=0;const _K=P2(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new st.x}});let F3=(()=>{class n extends _K{get disabled(){return this._disabled}set disabled(e){this._disabled=Ht(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ee.required)??!1}set required(e){this._required=Ht(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&OC().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Ht(e)}constructor(e,i,r,o,l,u,m,_,b,I){super(u,o,l,r),this._elementRef=e,this._platform=i,this._autofillMonitor=_,this._formField=I,this._uid="mat-input-"+gK++,this.focused=!1,this.stateChanges=new st.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(j=>OC().has(j)),this._iOSKeyupListener=j=>{const Z=j.target;!Z.value&&0===Z.selectionStart&&0===Z.selectionEnd&&(Z.setSelectionRange(1,1),Z.setSelectionRange(0,0))};const R=this._elementRef.nativeElement,L=R.nodeName.toLowerCase();this._inputValueAccessor=m||R,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=R.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){pK.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ar),s.Y36(Ba,10),s.Y36(gy,8),s.Y36(Ua,8),s.Y36(ZM),s.Y36(mK,10),s.Y36(hK),s.Y36(s.R0b),s.Y36(M3,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),s.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),s.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:A3,useExisting:n}]),s.qOj,s.TTD]}),n})(),yO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Zp,Zp,fK,Mn]}),n})();function vK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"name is invalid"),s.qZA())}function yK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"last name is invalid"),s.qZA())}function bK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"email is invalid"),s.qZA())}function wK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"password is invalid"),s.qZA())}let xK=(()=>{class n{constructor(e,i){this._authService=e,this._userService=i,this.registerForm=new go({name:new yi,lastName:new yi,email:new yi,password:new yi})}onRegisterFormSubmitted(e){e.invalid||(console.log(e.get("email")?.value),this._authService.register({email:e.get("email")?.value,password:e.get("password")?.value}).subscribe(i=>{this.addUserData(e,i)}))}load(){this._authService.load().subscribe()}logout(){this._authService.logOut().subscribe()}addUserData(e,i){return this._userService.addUser({name:e.get("name")?.value,lastName:e.get("lastName")?.value,email:e.get("email")?.value,role:"user",authId:i,trainerId:""})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(BI),s.Y36(Sv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-registration"]],decls:28,vars:5,consts:[[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","type","text","placeholder","Name","formControlName","name","required",""],[4,"ngIf"],["matInput","","type","text","placeholder","LastName","formControlName","lastName","required",""],["matInput","","type","text","placeholder","Email","formControlName","email","required",""],["matInput","","type","text","placeholder","Password","formControlName","password","required",""],["type","submit","mat-raised-button","","color","primary"]],template:function(e,i){1&e&&(s.TgZ(0,"form",0),s.NdJ("ngSubmit",function(){return i.onRegisterFormSubmitted(i.registerForm)}),s.TgZ(1,"div")(2,"mat-form-field",1)(3,"mat-label"),s._uU(4,"Name"),s.qZA(),s._UZ(5,"input",2),s.YNc(6,vK,2,0,"mat-error",3),s.qZA()(),s.TgZ(7,"div")(8,"mat-form-field",1)(9,"mat-label"),s._uU(10,"Last name"),s.qZA(),s._UZ(11,"input",4),s.YNc(12,yK,2,0,"mat-error",3),s.qZA()(),s.TgZ(13,"div")(14,"mat-form-field",1)(15,"mat-label"),s._uU(16,"Email"),s.qZA(),s._UZ(17,"input",5),s.YNc(18,bK,2,0,"mat-error",3),s.qZA()(),s.TgZ(19,"div")(20,"mat-form-field",1)(21,"mat-label"),s._uU(22,"Password"),s.qZA(),s._UZ(23,"input",6),s.YNc(24,wK,2,0,"mat-error",3),s.qZA()(),s.TgZ(25,"div")(26,"button",7),s._uU(27,"Submit"),s.qZA()()()),2&e&&(s.Q6J("formGroup",i.registerForm),s.xp6(6),s.Q6J("ngIf",i.registerForm.get("name").invalid),s.xp6(6),s.Q6J("ngIf",i.registerForm.get("lastName").invalid),s.xp6(6),s.Q6J("ngIf",i.registerForm.get("email").invalid),s.xp6(6),s.Q6J("ngIf",i.registerForm.get("password").invalid))},dependencies:[Xd,La,Xs,Ph,Am,Ua,Sc,O3,VI,C3,F3,Hi,ff],encapsulation:2,changeDetection:0}),n})(),CK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-register-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-registration")},dependencies:[xK],encapsulation:2,changeDetection:0}),n})();function EK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"email is invalid"),s.qZA())}function DK(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"password is invalid"),s.qZA())}let IK=(()=>{class n{constructor(e){this._authService=e,this.loginForm=new go({email:new yi,password:new yi})}onLoginFormSubmitted(e){this._authService.login({email:e.get("email")?.value,password:e.get("password")?.value}).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(BI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:16,vars:3,consts:[[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","type","text","placeholder","Email","formControlName","email","required",""],[4,"ngIf"],["matInput","","type","text","placeholder","Password","formControlName","password","required",""],["type","submit","mat-raised-button","","color","primary"]],template:function(e,i){1&e&&(s.TgZ(0,"form",0),s.NdJ("ngSubmit",function(){return i.onLoginFormSubmitted(i.loginForm)}),s.TgZ(1,"div")(2,"mat-form-field",1)(3,"mat-label"),s._uU(4,"Email"),s.qZA(),s._UZ(5,"input",2),s.YNc(6,EK,2,0,"mat-error",3),s.qZA()(),s.TgZ(7,"div")(8,"mat-form-field",1)(9,"mat-label"),s._uU(10,"Password"),s.qZA(),s._UZ(11,"input",4),s.YNc(12,DK,2,0,"mat-error",3),s.qZA()(),s.TgZ(13,"div")(14,"button",5),s._uU(15,"Submit"),s.qZA()()()),2&e&&(s.Q6J("formGroup",i.loginForm),s.xp6(6),s.Q6J("ngIf",i.loginForm.get("email").invalid),s.xp6(6),s.Q6J("ngIf",i.loginForm.get("password").invalid))},dependencies:[Xd,La,Xs,Ph,Am,Ua,Sc,O3,VI,C3,F3,Hi,ff],encapsulation:2,changeDetection:0}),n})(),TK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-login")},dependencies:[IK],encapsulation:2,changeDetection:0}),n})();function bO(n){return n&&"function"==typeof n.connect&&!(n instanceof Iy)}class L3{applyChanges(t,e,i,r,o){t.forEachOperation((l,u,m)=>{let _,b;if(null==l.previousIndex){const I=i(l,u,m);_=e.createEmbeddedView(I.templateRef,I.context,I.index),b=1}else null==m?(e.remove(u),b=3):(_=e.get(u),e.move(_,m),b=2);o&&o({context:_?.context,operation:b,record:l})})}detach(){}}let wO=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uw=new s.OlP("_ViewRepeater"),AK=[[["caption"]],[["colgroup"],["col"]]],MK=["caption","colgroup, col"];function xO(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Ht(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const Mv=new s.OlP("CDK_TABLE");let kv=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Rv=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),zI=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class OK{}const NK=xO(OK);let Au=(()=>{class n extends NK{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Ht(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Mv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,kv,5),s.Suo(r,Rv,5),s.Suo(r,zI,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.cell=o.first),s.iGM(o=s.CRH())&&(i.headerCell=o.first),s.iGM(o=s.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})();class CO{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let EO=(()=>{class n extends CO{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Au),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),n})(),DO=(()=>{class n extends CO{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Au),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),n})();class z3{constructor(){this.tasks=[],this.endTasks=[]}}const IO=new s.OlP("_COALESCED_STYLE_SCHEDULER");let H3=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new st.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new z3,this._getScheduleObservable().pipe(Ln(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new z3;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Zt.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Si(1))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),TO=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof hw?e.headerCell.template:this instanceof fw?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class FK extends TO{}const LK=xO(FK);let hw=(()=>{class n extends LK{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Mv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})();class BK extends TO{}const VK=xO(BK);let fw=(()=>{class n extends VK{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Mv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})(),HI=(()=>{class n extends TO{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Mv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),n})(),Mu=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),SO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Mu],encapsulation:2}),n})(),MO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Mu],encapsulation:2}),n})(),jI=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const j3=["top","bottom","left","right"];class UK{constructor(t,e,i,r,o=!0,l=!0,u){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=l,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(R=>R)&&!i.some(R=>R))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],l=o.children.length,u=this._getCellWidths(o,r),m=this._getStickyStartColumnPositions(u,e),_=this._getStickyEndColumnPositions(u,i),b=e.lastIndexOf(!0),I=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const R="rtl"===this.direction,L=R?"right":"left",j=R?"left":"right";for(const Z of t)for(let ne=0;ne<l;ne++){const Re=Z.children[ne];e[ne]&&this._addStickyStyle(Re,L,m[ne],ne===b),i[ne]&&this._addStickyStyle(Re,j,_[ne],ne===I)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===b?[]:u.slice(0,b+1).map((Z,ne)=>e[ne]?Z:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===I?[]:u.slice(I).map((Z,ne)=>i[ne+I]?Z:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,l=[],u=[],m=[];for(let b=0,I=0;b<r.length;b++){if(!o[b])continue;l[b]=I;const R=r[b];m[b]=this._isNativeHtmlTable?Array.from(R.children):[R];const L=R.getBoundingClientRect().height;I+=L,u[b]=L}const _=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let b=0;b<r.length;b++){if(!o[b])continue;const I=l[b],R=b===_;for(const L of m[b])this._addStickyStyle(L,i,I,R)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:l,elements:m}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:l,elements:m})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);j3.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of j3)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const kO=new s.OlP("CDK_SPL");let $I=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),GI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),WI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),qI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),ZI=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Ht(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Ht(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,o,l,u,m,_,b,I,R,L){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=l,this._platform=m,this._viewRepeater=_,this._coalescedStyleScheduler=b,this._viewportRuler=I,this._stickyPositioningListener=R,this._ngZone=L,this._onDestroy=new st.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new zr({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Ln(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),bO(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,l)=>this._getEmbeddedViewArgs(r.item,l),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Si(1),Ln(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,l)=>{this._addStickyColumnStyles([o],this._headerRowDefs[l])}),this._rowDefs.forEach(o=>{const l=[];for(let u=0;u<i.length;u++)this._renderRows[u].rowDef===o&&l.push(i[u]);this._addStickyColumnStyles(l,o)}),r.forEach((o,l)=>{this._addStickyColumnStyles([o],this._footerRowDefs[l])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const l=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let u=0;u<l.length;u++){let m=l[u];const _=this._cachedRenderRowsMap.get(m.data);_.has(m.rowDef)?_.get(m.rowDef).push(m):_.set(m.rowDef,[m]),e.push(m)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(l=>{const u=r&&r.has(l)?r.get(l):[];if(u.length){const m=u.shift();return m.dataIndex=i,m}return{data:e,rowDef:l,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),YI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=YI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=YI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=YI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(l,u)=>l||!!u.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],bO(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;bO(this.dataSource)?e=this.dataSource.connect(this):function SK(n){return!!n&&(n instanceof Kn.y||(0,Ur.m)(n.lift)&&(0,Ur.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=qe(this.dataSource)),this._renderChangeSubscription=e.pipe(Ln(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(u=>this._columnDefsByName.get(u)),o=r.map(u=>u.sticky),l=r.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,l,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(l=>l.when&&l.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const l=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),l}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Mu.mostRecentCellOutlet&&Mu.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const l=e.get(i).context;l.count=r,l.first=0===i,l.last=i===r-1,l.even=i%2==0,l.odd=!l.even,this.multiTemplateDataRows?(l.dataIndex=this._renderRows[i].dataIndex,l.renderIndex=i):l.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const l of r.outlets)o.appendChild(l.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new UK(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:qe()).pipe(Ln(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),l=o.rootNodes[0];1===o.rootNodes.length&&l?.nodeType===this._document.ELEMENT_NODE&&(l.setAttribute("role","row"),l.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36(sa,8),s.Y36(ie),s.Y36(ar),s.Y36(uw),s.Y36(IO),s.Y36(bp),s.Y36(kO,12),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,jI,5),s.Suo(r,Au,5),s.Suo(r,HI,5),s.Suo(r,hw,5),s.Suo(r,fw,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._noDataRow=o.first),s.iGM(o=s.CRH())&&(i._contentColumnDefs=o),s.iGM(o=s.CRH())&&(i._contentRowDefs=o),s.iGM(o=s.CRH())&&(i._contentHeaderRowDefs=o),s.iGM(o=s.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf($I,7),s.Gf(GI,7),s.Gf(WI,7),s.Gf(qI,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._rowOutlet=r.first),s.iGM(r=s.CRH())&&(i._headerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._footerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:Mv,useExisting:n},{provide:uw,useClass:L3},{provide:IO,useClass:H3},{provide:kO,useValue:null}])],ngContentSelectors:MK,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(AK),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[$I,GI,WI,qI],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function YI(n,t){return n.concat(Array.from(t))}let HK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[c]}),n})();const jK=[[["caption"]],[["colgroup"],["col"]]],$K=["caption","colgroup, col"];let G3=(()=>{class n extends ZI{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:ZI,useExisting:n},{provide:Mv,useExisting:n},{provide:IO,useClass:H3},{provide:uw,useClass:L3},{provide:kO,useValue:null}]),s.qOj],ngContentSelectors:$K,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(jK),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[$I,GI,WI,qI],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),RO=(()=>{class n extends kv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:kv,useExisting:n}]),s.qOj]}),n})(),PO=(()=>{class n extends Rv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:Rv,useExisting:n}]),s.qOj]}),n})(),OO=(()=>{class n extends Au{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:Au,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})(),NO=(()=>{class n extends EO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[s.qOj]}),n})(),FO=(()=>{class n extends DO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[s.qOj]}),n})(),W3=(()=>{class n extends hw{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:hw,useExisting:n}]),s.qOj]}),n})(),q3=(()=>{class n extends HI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:HI,useExisting:n}]),s.qOj]}),n})(),Z3=(()=>{class n extends SO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:SO,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Mu],encapsulation:2}),n})(),Y3=(()=>{class n extends MO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[s._Bn([{provide:MO,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Mu],encapsulation:2}),n})(),eQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,HK,Mn]}),n})();function nQ(n,t){1&n&&(s.TgZ(0,"th",10)(1,"b"),s._uU(2,"l.p."),s.qZA()())}function iQ(n,t){if(1&n&&(s.TgZ(0,"td",11),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("routerLink","/user/"+e.id),s.xp6(1),s.hij(" ",e.index," ")}}function rQ(n,t){1&n&&(s.TgZ(0,"th",10)(1,"b"),s._uU(2,"Imi\u0119"),s.qZA()())}function oQ(n,t){if(1&n&&(s.TgZ(0,"td",11),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("routerLink","/user/"+e.id),s.xp6(1),s.hij(" ",e.name," ")}}function sQ(n,t){1&n&&(s.TgZ(0,"th",10)(1,"b"),s._uU(2,"Nazwisko"),s.qZA()())}function aQ(n,t){if(1&n&&(s.TgZ(0,"td",11),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("routerLink","/user/"+e.id),s.xp6(1),s.hij(" ",e.lastName," ")}}function lQ(n,t){1&n&&(s.TgZ(0,"th",10)(1,"b"),s._uU(2,"Email"),s.qZA()())}function cQ(n,t){if(1&n&&(s.TgZ(0,"td",11),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("routerLink","/user/"+e.id),s.xp6(1),s.hij(" ",e.lastName," ")}}function dQ(n,t){1&n&&s._UZ(0,"tr",12)}function uQ(n,t){1&n&&s._UZ(0,"tr",13)}const K3=function(){return["index","name","lastName","email"]};function hQ(n,t){1&n&&(s.TgZ(0,"table",1),s.ynx(1,2),s.YNc(2,nQ,3,0,"th",3),s.YNc(3,iQ,2,2,"td",4),s.BQk(),s.ynx(4,5),s.YNc(5,rQ,3,0,"th",3),s.YNc(6,oQ,2,2,"td",4),s.BQk(),s.ynx(7,6),s.YNc(8,sQ,3,0,"th",3),s.YNc(9,aQ,2,2,"td",4),s.BQk(),s.ynx(10,7),s.YNc(11,lQ,3,0,"th",3),s.YNc(12,cQ,2,2,"td",4),s.BQk(),s.YNc(13,dQ,1,0,"tr",8),s.YNc(14,uQ,1,0,"tr",9),s.qZA()),2&n&&(s.Q6J("dataSource",t.ngIf),s.xp6(13),s.Q6J("matHeaderRowDef",s.DdM(3,K3)),s.xp6(1),s.Q6J("matRowDefColumns",s.DdM(4,K3)))}let fQ=(()=>{class n{constructor(e){this._userService=e,this.users$=this._userService.getAllUsers().pipe((0,je.U)(i=>i.map((r,o)=>({...r,index:o+1}))))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-list"]],decls:2,vars:3,consts:[["mat-table","","class","",3,"dataSource",4,"ngIf"],["mat-table","",1,"",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","pointer",3,"routerLink",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","lastName"],["matColumnDef","email"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"pointer",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(s.YNc(0,hQ,15,5,"table",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.users$))},dependencies:[Hi,G3,PO,W3,OO,RO,q3,NO,FO,Z3,Y3,cu,Br],encapsulation:2,changeDetection:0}),n})(),mQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-list-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-user-list")},dependencies:[fQ],encapsulation:2,changeDetection:0}),n})();const pQ=["*"],bQ=new s.OlP("MAT_CARD_CONFIG");let LO=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(bQ,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:pQ,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),BO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),VO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),Q3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Nn,Mn]}),n})();function RQ(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"mat-card",2)(2,"mat-card-title",3),s._uU(3),s.qZA(),s.TgZ(4,"mat-card-content")(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"button",9),s._uU(11," Dodaj trening "),s.qZA()(),s.TgZ(12,"div",5)(13,"button",9),s._uU(14," Treningi "),s.qZA()()()(),s.TgZ(15,"div",10)(16,"form",11),s._UZ(17,"input",12),s.TgZ(18,"button",13),s.NdJ("click",function(){const o=s.CHM(e).ngIf,l=s.oxw();return s.KtG(l.addPaidTraining(o,l.userDetailsForm))}),s._uU(19," powieksz pakiet "),s.qZA()()()()(),s.TgZ(20,"div",14)(21,"div",5)(22,"div",15)(23,"h2"),s._uU(24,"Status Tygodni"),s.qZA(),s.TgZ(25,"p"),s._uU(26," Ilo\u015b\u0107 wykupionych tygodni: "),s.TgZ(27,"span",16),s._uU(28),s.qZA()(),s.TgZ(29,"p"),s._uU(30," Ilo\u015b\u0107 wykonanych tygodni: "),s.TgZ(31,"span",17),s._uU(32),s.qZA()()()()()()(),s.BQk()}if(2&n){const e=t.ngIf,i=s.oxw();s.xp6(3),s.AsE("",e.name," ",e.lastName,""),s.xp6(7),s.Q6J("routerLink","/create-plan/"+e.authId),s.xp6(3),s.Q6J("routerLink","/training-plans/"+e.authId),s.xp6(3),s.Q6J("formGroup",i.userDetailsForm),s.xp6(12),s.Oqu(e.paidTraining),s.xp6(4),s.Oqu(e.trainingWeeks.length)}}let PQ=(()=>{class n{constructor(e,i){this._activatedRoute=e,this._userService=i,this.user$=this._activatedRoute.params.pipe(Hn(r=>this._userService.getOneUser(r.userId))),this.userDetailsForm=new go({paidTraining:new yi})}ngOnInit(){}addPaidTraining(e,i){const r=e.paidTraining+i.get("paidTraining")?.value;this._userService.setPaidTraining(e,r),i.reset()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wa),s.Y36(Sv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-details"]],decls:3,vars:3,consts:[[4,"ngIf"],[1,"col-md-3"],[1,"height-100"],[1,"text-center"],[1,"contarier"],[1,"row"],[1,"col","text-center"],[1,"container"],[1,"row","mb-2"],[1,"btn","btn-block","bg-cadetblue","text-ghostwhite",3,"routerLink"],[1,"col-4","text-center"],[3,"formGroup"],["type","number","id","paid","placeholder","Ilo\u015b\u0107 tygodni","formControlName","paidTraining",1,"form-control"],["type","button",1,"btn","btn-block","bg-cadetblue","text-ghostwhite","mt-2",3,"click"],[1,"container","mt-5"],[1,"col-md-6"],["id","wynikIloscWykupionychTygodni"],["id","wynikIloscWykonanychTygodni"]],template:function(e,i){1&e&&(s.YNc(0,RQ,33,7,"ng-container",0),s.ALo(1,"async"),s._UZ(2,"div",1)),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.user$))},dependencies:[Hi,LO,VO,BO,cu,Xd,La,Ol,Xs,Ph,Ua,Sc,Br],encapsulation:2,changeDetection:0}),n})(),OQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-details-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-user-details")},dependencies:[PQ],encapsulation:2,changeDetection:0}),n})();class NQ{constructor(t,e,i){this.week=t,this.training=e,this.userRole=i}}class UO{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class zO extends UO{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class HO extends UO{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class FQ extends UO{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class jO{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof zO?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof HO?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof FQ?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class LQ extends jO{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const u=l.element,m=this._document.createComment("dom-portal");u.parentNode.insertBefore(m,u),this.outletElement.appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(u,m)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let KI=(()=>{class n extends jO{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const l=o.element,u=this._document.createComment("dom-portal");o.setAttachedHost(this),l.parentNode.insertBefore(u,l),this._getRootNode().appendChild(l),this._attachedPortal=o,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(l,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=e,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(ie))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),Pv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const X3=PA();class BQ{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=wr(-this._previousScrollPosition.left),t.style.top=wr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),X3&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),X3&&(i.scrollBehavior=o,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class VQ{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Cn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class J3{enable(){}disable(){}attach(){}}function $O(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function e4(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class UQ{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();$O(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let zQ=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new J3,this.close=l=>new VQ(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new BQ(this._viewportRuler,this._document),this.reposition=l=>new UQ(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gu),s.LFG(bp),s.LFG(s.R0b),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class t4{constructor(t){if(this.scrollStrategy=new J3,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class HQ{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let n4=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jQ=(()=>{class n extends n4{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){const u=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$Q=(()=>{class n extends n4{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=es(o)},this._clickListener=o=>{const l=es(o),u="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let _=m.length-1;_>-1;_--){const b=m[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(l)||b.overlayElement.contains(u))break;const I=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(o)):I.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(ar),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QI=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||A_()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),A_()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(ar))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mw{constructor(t,e,i,r,o,l,u,m,_,b=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=l,this._document=u,this._location=m,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new st.x,this._attachments=new st.x,this._detachments=new st.x,this._locationChanges=Hr.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new st.x,this._outsidePointerEvents=new st.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Si(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=wr(this._config.width),t.height=wr(this._config.height),t.minWidth=wr(this._config.minWidth),t.minHeight=wr(this._config.minHeight),t.maxWidth=wr(this._config.maxWidth),t.maxHeight=wr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=up(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ln((0,d.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const r4="cdk-overlay-connected-position-bounding-box",GQ=/([A-Za-z%]+)$/;class WQ{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new st.x,this._resizeSubscription=Hr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(r4),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let l;for(let u of this._preferredPositions){let m=this._getOriginPoint(t,r,u),_=this._getOverlayPoint(m,e,u),b=this._getOverlayFit(_,e,i,u);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,m);this._canFitWithFlexibleDimensions(b,_,i)?o.push({position:u,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,u)}):(!l||l.overlayFit.visibleArea<b.visibleArea)&&(l={overlayFit:b,overlayPoint:_,originPoint:m,position:u,overlayRect:e})}if(o.length){let u=null,m=-1;for(const _ of o){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>m&&(m=b,u=_)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Yp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(r4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==i.originX?l:u}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=s4(e);let{x:l,y:u}=t,m=this._getOffset(r,"x"),_=this._getOffset(r,"y");m&&(l+=m),_&&(u+=_);let R=0-u,L=u+o.height-i.height,j=this._subtractOverflows(o.width,0-l,l+o.width-i.width),Z=this._subtractOverflows(o.height,R,L),ne=j*Z;return{visibleArea:ne,isCompletelyWithinViewport:o.width*o.height===ne,fitsInViewportVertically:Z===o.height,fitsInViewportHorizontally:j==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,l=o4(this._overlayRef.getConfig().minHeight),u=o4(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=l&&l<=r)&&(t.fitsInViewportHorizontally||null!=u&&u<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=s4(e),o=this._viewportRect,l=Math.max(t.x+r.width-o.width,0),u=Math.max(t.y+r.height-o.height,0),m=Math.max(o.top-i.top-t.y,0),_=Math.max(o.left-i.left-t.x,0);let b=0,I=0;return b=r.width<=o.width?_||-l:t.x<this._viewportMargin?o.left-i.left-t.x:0,I=r.height<=o.height?m||-u:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:b,y:I},{x:t.x+b,y:t.y+I}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new HQ(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,l,u,b,I,R;if("top"===e.overlayY)l=t.y,o=i.height-l+this._viewportMargin;else if("bottom"===e.overlayY)u=i.height-t.y+2*this._viewportMargin,o=i.height-u+this._viewportMargin;else{const L=Math.min(i.bottom-t.y+i.top,t.y),j=this._lastBoundingBoxSize.height;o=2*L,l=t.y-L,o>j&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-j/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)R=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)I=t.x,b=i.right-t.x;else{const L=Math.min(i.right-t.x+i.left,t.x),j=this._lastBoundingBoxSize.width;b=2*L,I=t.x-L,b>j&&!this._isInitialRender&&!this._growAfterOpen&&(I=t.x-j/2)}return{top:l,left:I,bottom:u,right:R,width:b,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=wr(i.height),r.top=wr(i.top),r.bottom=wr(i.bottom),r.width=wr(i.width),r.left=wr(i.left),r.right=wr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=wr(o)),l&&(r.maxWidth=wr(l))}this._lastBoundingBoxSize=i,Yp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Yp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Yp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();Yp(i,this._getExactOverlayY(e,t,b)),Yp(i,this._getExactOverlayX(e,t,b))}else i.position="static";let u="",m=this._getOffset(e,"x"),_=this._getOffset(e,"y");m&&(u+=`translateX(${m}px) `),_&&(u+=`translateY(${_}px)`),i.transform=u.trim(),l.maxHeight&&(r?i.maxHeight=wr(l.maxHeight):o&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=wr(l.maxWidth):o&&(i.maxWidth="")),Yp(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=wr(o.y),r}_getExactOverlayX(t,e,i){let l,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=wr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:e4(t,i),isOriginOutsideView:$O(t,i),isOverlayClipped:e4(e,i),isOverlayOutsideView:$O(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&up(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Yp(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function o4(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(GQ);return e&&"px"!==e?null:parseFloat(t)}return n||null}function s4(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const a4="cdk-global-overlay-wrapper";class qQ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(a4),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:l,maxHeight:u}=i,m=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),_=!("100%"!==o&&"100vh"!==o||u&&"100%"!==u&&"100vh"!==u),b=this._xPosition,I=this._xOffset,R="rtl"===this._overlayRef.getConfig().direction;let L="",j="",Z="";m?Z="flex-start":"center"===b?(Z="center",R?j=I:L=I):R?"left"===b||"end"===b?(Z="flex-end",L=I):("right"===b||"start"===b)&&(Z="flex-start",j=I):"left"===b||"start"===b?(Z="flex-start",L=I):("right"===b||"end"===b)&&(Z="flex-end",j=I),t.position=this._cssPosition,t.marginLeft=m?"0":L,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=m?"0":j,e.justifyContent=Z,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(a4),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ZQ=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new qQ}flexibleConnectedTo(e){return new WQ(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(bp),s.LFG(ie),s.LFG(ar),s.LFG(QI))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YQ=0,Kp=(()=>{class n{constructor(e,i,r,o,l,u,m,_,b,I,R,L){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=u,this._ngZone=m,this._document=_,this._directionality=b,this._location=I,this._outsideClickDispatcher=R,this._animationsModuleType=L}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),l=new t4(e);return l.direction=l.direction||this._directionality.value,new mw(o,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+YQ++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new LQ(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zQ),s.LFG(QI),s.LFG(s._Vd),s.LFG(ZQ),s.LFG(jQ),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(ie),s.LFG(sa),s.LFG(ze),s.LFG($Q),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XQ={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Kp],useFactory:function QQ(n){return()=>n.scrollStrategies.reposition()}};let GO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Kp,XQ],imports:[hf,Pv,c,c]}),n})();function JQ(n,t){}class XI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let l4=(()=>{class n extends jO{constructor(e,i,r,o,l,u,m,_){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=l,this._ngZone=u,this._overlayRef=m,this._focusMonitor=_,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const I=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),I},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=op(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=op();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=op())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Pr),s.Y36(ie,8),s.Y36(XI),s.Y36(mp),s.Y36(s.R0b),s.Y36(mw),s.Y36($c))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(KI,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,JQ,0,0,"ng-template",0)},dependencies:[KI],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class WO{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new st.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!uf(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const c4=new s.OlP("DialogScrollStrategy"),eX=new s.OlP("DialogData"),tX=new s.OlP("DefaultDialogConfig"),iX={provide:c4,deps:[Kp],useFactory:function nX(n){return()=>n.scrollStrategies.block()}};let rX=0,d4=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,l,u){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new st.x,this._afterOpenedAtThisLevel=new st.x,this._ariaHiddenElements=new Map,this.afterAllClosed=$g(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(eo(void 0))),this._scrollStrategy=u}open(e,i){(i={...this._defaultOptions||new XI,...i}).id=i.id||"cdk-dialog-"+rX++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),l=this._overlay.create(o),u=new WO(l,i),m=this._attachContainer(l,u,i);return u.containerInstance=m,this._attachDialogContent(e,u,m,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){qO(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){qO(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),qO(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new t4({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,l=[{provide:XI,useValue:r},{provide:WO,useValue:i},{provide:mw,useValue:e}];let u;r.container?"function"==typeof r.container?u=r.container:(u=r.container.type,l.push(...r.container.providers(r))):u=l4;const m=new zO(u,r.viewContainerRef,s.zs3.create({parent:o||this._injector,providers:l}),r.componentFactoryResolver);return e.attach(m).instance}_attachDialogContent(e,i,r,o){if(e instanceof s.Rgc){const l=this._createInjector(o,i,r,void 0);let u={$implicit:o.data,dialogRef:i};o.templateContext&&(u={...u,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new HO(e,null,u,l))}else{const l=this._createInjector(o,i,r,this._injector),u=r.attachComponentPortal(new zO(e,o.viewContainerRef,l,o.componentFactoryResolver));i.componentInstance=u.instance}}_createInjector(e,i,r,o){const l=e.injector||e.viewContainerRef?.injector,u=[{provide:eX,useValue:e.data},{provide:WO,useValue:i}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(i,e,r)):u.push(...e.providers)),e.direction&&(!l||!l.get(sa,null,{optional:!0}))&&u.push({provide:sa,useValue:{value:e.direction,change:qe()}}),s.zs3.create({parent:l||o,providers:u})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,l)=>{o?l.setAttribute("aria-hidden",o):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Kp),s.LFG(s.zs3),s.LFG(tX,8),s.LFG(n,12),s.LFG(QI),s.LFG(c4))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function qO(n,t){let e=n.length;for(;e--;)t(n[e])}let oX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[d4,iX],imports:[GO,Pv,L_,Pv]}),n})();function sX(n,t){}class JI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ZO="mdc-dialog--open",u4="mdc-dialog--opening",h4="mdc-dialog--closing";let cX=(()=>{class n extends l4{constructor(e,i,r,o,l,u,m,_){super(e,i,r,o,l,u,m,_),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Pr),s.Y36(ie,8),s.Y36(JI),s.Y36(mp),s.Y36(s.R0b),s.Y36(mw),s.Y36($c))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const f4="--mat-dialog-transition-duration";function m4(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?oa(n.substring(0,n.length-2)):n.endsWith("s")?1e3*oa(n.substring(0,n.length-1)):"0"===n?0:null}let dX=(()=>{class n extends cX{constructor(e,i,r,o,l,u,m,_,b){super(e,i,r,o,l,u,m,b),this._animationMode=_,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?m4(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?m4(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(f4,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(u4,ZO)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ZO),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(ZO),this._animationsEnabled?(this._hostElement.style.setProperty(f4,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(h4)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(u4,h4)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Pr),s.Y36(ie,8),s.Y36(JI),s.Y36(mp),s.Y36(s.R0b),s.Y36(mw),s.Y36(s.QbO,8),s.Y36($c))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[s.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,sX,0,0,"ng-template",2),s.qZA()())},dependencies:[KI],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class p4{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new st.x,this._beforeClosed=new st.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Cn(r=>"opened"===r.state),Si(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Cn(r=>"closed"===r.state),Si(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,d.T)(this.backdropClick(),this.keydownEvents().pipe(Cn(r=>27===r.keyCode&&!this.disableClose&&!uf(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function uX(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Cn(e=>"closing"===e.state),Si(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const g4=new s.OlP("MatMdcDialogData"),hX=new s.OlP("mat-mdc-dialog-default-options"),_4=new s.OlP("mat-mdc-dialog-scroll-strategy"),mX={provide:_4,deps:[Kp],useFactory:function fX(n){return()=>n.scrollStrategies.block()}};let pX=0,gX=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,l,u,m,_,b,I){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=m,this._dialogContainerType=_,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new st.x,this._afterOpenedAtThisLevel=new st.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=JI,this.afterAllClosed=$g(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(eo(void 0))),this._scrollStrategy=u,this._dialog=i.get(d4)}open(e,i){let r;(i={...this._defaultOptions||new JI,...i}).id=i.id||`${this._idPrefix}${pX++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:XI,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(l,u,m)=>(r=new this._dialogRefConstructor(l,i,m),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const l=this.openDialogs.indexOf(r);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),YO=(()=>{class n extends gX{constructor(e,i,r,o,l,u,m,_){super(e,i,o,u,m,l,p4,dX,g4,_),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Kp),s.LFG(s.zs3),s.LFG(ze,8),s.LFG(hX,8),s.LFG(_4),s.LFG(n,12),s.LFG(QI),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),KO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[YO,mX],imports:[oX,GO,Pv,Mn,Mn]}),n})(),_X=0;const QO=new s.OlP("CdkAccordion");let vX=(()=>{class n{constructor(){this._stateChanges=new st.x,this._openCloseAllActions=new st.x,this.id="cdk-accordion-"+_X++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Ht(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[s._Bn([{provide:QO,useExisting:n}]),s.TTD]}),n})(),yX=0,bX=(()=>{class n{get expanded(){return this._expanded}set expanded(e){e=Ht(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Ht(e)}constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Hr.w0.EMPTY,this.closed=new s.vpe,this.opened=new s.vpe,this.destroyed=new s.vpe,this.expandedChange=new s.vpe,this.id="cdk-accordion-child-"+yX++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,l)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===l&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(QO,12),s.Y36(s.sBO),s.Y36(wO))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[s._Bn([{provide:QO,useValue:void 0}])]}),n})(),wX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const xX=["body"];function CX(n,t){}const EX=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],DX=["mat-expansion-panel-header","*","mat-action-row"];function IX(n,t){if(1&n&&s._UZ(0,"span",2),2&n){const e=s.oxw();s.Q6J("@indicatorRotate",e._getExpandedState())}}const TX=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],SX=["mat-panel-title","mat-panel-description","*"],XO=new s.OlP("MAT_ACCORDION"),y4="225ms cubic-bezier(0.4,0.0,0.2,1)",b4={indicatorRotate:y("indicatorRotate",[H("collapsed, void",P({transform:"rotate(0deg)"})),H("expanded",P({transform:"rotate(180deg)"})),oe("expanded <=> collapsed, void => collapsed",E(y4))]),bodyExpansion:y("bodyExpansion",[H("collapsed, void",P({height:"0px",visibility:"hidden"})),H("expanded",P({height:"*",visibility:"visible"})),oe("expanded <=> collapsed, void => collapsed",E(y4))])},w4=new s.OlP("MAT_EXPANSION_PANEL");let AX=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(w4,8))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),MX=0;const x4=new s.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let C4=(()=>{class n extends bX{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Ht(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,i,r,o,l,u,m){super(e,i,r),this._viewContainerRef=o,this._animationMode=u,this._hideToggle=!1,this.afterExpand=new s.vpe,this.afterCollapse=new s.vpe,this._inputChanges=new st.x,this._headerId="mat-expansion-panel-header-"+MX++,this._bodyAnimationDone=new st.x,this.accordion=e,this._document=l,this._bodyAnimationDone.pipe(Hc((_,b)=>_.fromState===b.fromState&&_.toState===b.toState)).subscribe(_=>{"void"!==_.fromState&&("expanded"===_.toState?this.afterExpand.emit():"collapsed"===_.toState&&this.afterCollapse.emit())}),m&&(this.hideToggle=m.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(eo(null),Cn(()=>this.expanded&&!this._portal),Si(1)).subscribe(()=>{this._portal=new HO(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(XO,12),s.Y36(s.sBO),s.Y36(wO),s.Y36(s.s_b),s.Y36(ie),s.Y36(s.QbO,8),s.Y36(x4,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,AX,5),2&e){let o;s.iGM(o=s.CRH())&&(i._lazyContent=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(xX,5),2&e){let r;s.iGM(r=s.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[s._Bn([{provide:XO,useValue:void 0},{provide:w4,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:DX,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(s.F$t(EX),s.Hsn(0),s.TgZ(1,"div",0,1),s.NdJ("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),s.TgZ(3,"div",2),s.Hsn(4,1),s.YNc(5,CX,0,0,"ng-template",3),s.qZA(),s.Hsn(6,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),s.uIk("aria-labelledby",i._headerId),s.xp6(4),s.Q6J("cdkPortalOutlet",i._portal))},dependencies:[KI],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[b4.bodyExpansion]},changeDetection:0}),n})();class kX{}const RX=jM(kX);let E4=(()=>{class n extends RX{constructor(e,i,r,o,l,u,m){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=u,this._parentChangeSubscription=Hr.w0.EMPTY;const _=e.accordion?e.accordion._stateChanges.pipe(Cn(b=>!(!b.hideToggle&&!b.togglePosition))):Ha.E;this.tabIndex=parseInt(m||"")||0,this._parentChangeSubscription=(0,d.T)(e.opened,e.closed,_,e._inputChanges.pipe(Cn(b=>!!(b.hideToggle||b.disabled||b.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Cn(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),l&&(this.expandedHeight=l.expandedHeight,this.collapsedHeight=l.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:uf(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(C4,1),s.Y36(s.SBq),s.Y36($c),s.Y36(s.sBO),s.Y36(x4,8),s.Y36(s.QbO,8),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&e&&(s.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),s.Udp("height",i._getHeaderHeight()),s.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[s.qOj],ngContentSelectors:SX,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(s.F$t(TX),s.TgZ(0,"span",0),s.Hsn(1),s.Hsn(2,1),s.Hsn(3,2),s.qZA(),s.YNc(4,IX,1,1,"span",1)),2&e&&(s.ekj("mat-content-hide-toggle",!i._showToggle()),s.xp6(4),s.Q6J("ngIf",i._showToggle()))},dependencies:[Hi],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[b4.indicatorRotate]},changeDetection:0}),n})(),PX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),OX=(()=>{class n extends vX{constructor(){super(...arguments),this._ownHeaders=new s.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Ht(e)}ngAfterContentInit(){this._headers.changes.pipe(eo(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new cE(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,E4,5),2&e){let o;s.iGM(o=s.CRH())&&(i._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[s._Bn([{provide:XO,useExisting:n}]),s.qOj]}),n})(),NX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Nn,Mn,wX,Pv]}),n})();function FX(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",14),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw().$implicit;return s.oxw(2).removeTraining(o.id),s.KtG(r.stopPropagation())}),s.TgZ(1,"mat-icon"),s._uU(2,"delete_outline"),s.qZA()()}}function LX(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.exercise," ")}}function BX(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",4)(1,"div",5),s.NdJ("click",function(){const o=s.CHM(e).$implicit,l=s.oxw(2);return s.KtG(l.onClickTraining(o))}),s.TgZ(2,"div",6)(3,"div",7)(4,"div",8)(5,"h3",9),s._uU(6),s.qZA()(),s.TgZ(7,"div",10),s.YNc(8,FX,3,0,"button",11),s.qZA()(),s.TgZ(9,"ol",12),s.YNc(10,LX,2,1,"li",13),s.qZA()()()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw().$implicit;s.xp6(6),s.hij("Trening ",i+1,""),s.xp6(2),s.Q6J("ngIf","admin"===r.userRole),s.xp6(2),s.Q6J("ngForOf",e.trainingElements)}}function VX(n,t){if(1&n&&(s.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),s._uU(3),s.qZA()(),s.TgZ(4,"div",1)(5,"div",2),s.YNc(6,BX,11,3,"div",3),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(3),s.hij("Tydzie\u0144 ",e.week," "),s.xp6(3),s.Q6J("ngForOf",e.training)}}let UX=(()=>{class n{constructor(e,i,r,o,l,u){this._authService=e,this._trainingService=i,this._router=r,this.dialog=o,this._activatedRoute=l,this._userService=u,this.userContext$=this._authService.userContext$.pipe((0,je.U)(m=>({id:m.id,email:m.email,isVerified:m.isVerified}))),this.userRole$=this.userContext$.pipe(Hn(m=>this._userService.getOneUserByAuth(m.id).pipe((0,je.U)(_=>(console.log("user"),_.role)),Si(1)))),this.trainingPlansQuery$=Mm([this._trainingService.getAllPlans(),this.userContext$,this._activatedRoute.params,this.userRole$]).pipe((0,je.U)(([m,_,b,I])=>this._getTrainingWithUser(m,b.authId?b.authId:_.id,I)),Hn(m=>this._userService.getOneUserByAuth(m.authId).pipe((0,je.U)(_=>_.trainingWeeks.map(b=>{const I=m.training.filter(R=>b==R.trainingWeek);return new NQ(b,I,m.userRole)}).reverse()))))}ngAfterContentInit(){this._authService.load().subscribe()}identify(e,i){return e}onClickTraining(e){this._activatedRoute.params.pipe((0,jn.b)(i=>i.authId?this._editTraining(e):this._openTrainingDetails(e))).subscribe()}removeTraining(e){this._trainingService.removeTraining(e).subscribe()}_getTrainingWithUser(e,i,r){return console.log(r),{training:e.filter(o=>o.authId&&o.authId.includes(i)),authId:i,userRole:r}}_editTraining(e){this._trainingService.addTrainingElementsToContext(e).pipe(Hn(()=>this._activatedRoute.params.pipe((0,jn.b)(i=>{this._router.navigate([`edit-plan/${i.authId}/${e.id}`])})))).subscribe()}_openTrainingDetails(e){this._router.navigate([`training/${e.id}`])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(BI),s.Y36(AI),s.Y36(Rr),s.Y36(YO),s.Y36(Wa),s.Y36(Sv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-training-plans"]],decls:3,vars:4,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[1,"container","mt-5"],[1,"row","d-flex","justify-content-center"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","pointer",3,"click"],[1,"card-body"],[1,"row","align-items-center"],[1,"col"],[1,"mb-0"],[1,"col","d-flex","justify-content-end"],["type","button","class","btn btn-block p-1 d-flex align-items-center bg-danger text-ghostwhite",3,"click",4,"ngIf"],[1,"mt-2"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-block","p-1","d-flex","align-items-center","bg-danger","text-ghostwhite",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-accordion"),s.YNc(1,VX,7,2,"mat-expansion-panel",0),s.ALo(2,"async"),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,2,i.trainingPlansQuery$))("ngForTrackBy",i.identify))},dependencies:[zo,Hi,OX,C4,E4,PX,Zj,Br],encapsulation:2,changeDetection:0}),n})(),D4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-training-plans-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-training-plans")},dependencies:[UX],encapsulation:2,changeDetection:0}),n})(),M4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[jc,Nn,Mn,_p,AE,MI]}),n})(),bJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Nn,Mn,Pv,_p,jc,L_,Mn]}),n})(),R4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[M4,Nn,bJ,eQ,zc]}),n})();const DJ={provide:new s.OlP("mat-select-scroll-strategy"),deps:[Kp],useFactory:function EJ(n){return()=>n.scrollStrategies.reposition()}};let P4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[DJ],imports:[Nn,GO,Ob,Mn,a,Zp,Ob,Mn]}),n})(),O4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mc,Zp,yO,Nn,B_,MI,P4,Yj,y3]}),n})(),IJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Nn,R4,O4]}),n})(),TJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mc,Zp,yO,Nn,B_]}),n})(),SJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[TJ]}),n})(),AJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mc,Zp,yO,Nn,B_]}),n})(),MJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[AJ]}),n})(),kJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[R4]}),n})(),RJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Nn,Q3,B_,zc,Mc]}),n})(),PJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[RJ]}),n})();const OJ=["input"],NJ=["*"];let N4=0;class F4{constructor(t,e){this.source=t,this.value=e}}const FJ={provide:Jr,useExisting:(0,s.Gpc)(()=>B4),multi:!0},L4=new s.OlP("MatRadioGroup"),LJ=new s.OlP("mat-radio-default-options",{providedIn:"root",factory:function BJ(){return{color:"accent"}}});let VJ=(()=>{class n{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=Ht(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=Ht(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+N4++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new s.vpe}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new F4(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})();class UJ{constructor(t){this._elementRef=t}}const zJ=HM(jM(UJ));let HJ=(()=>{class n extends zJ{get checked(){return this._checked}set checked(e){const i=Ht(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(Ht(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=Ht(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,o,l,u,m,_){super(i),this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=l,this._providerOverride=m,this._uniqueId="mat-radio-"+ ++N4,this.id=this._uniqueId,this.change=new s.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===u,_&&(this.tabIndex=oa(_,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new F4(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(OJ,5),2&e){let r;s.iGM(r=s.CRH())&&(i._inputElement=r.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[s.qOj]}),n})(),B4=(()=>{class n extends VJ{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,V4,5),2&e){let o;s.iGM(o=s.CRH())&&(i._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[s._Bn([FJ,{provide:L4,useExisting:n}]),s.qOj]}),n})(),V4=(()=>{class n extends HJ{constructor(e,i,r,o,l,u,m,_){super(e,i,r,o,l,u,m,_)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(L4,8),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36($c),s.Y36(wO),s.Y36(s.QbO,8),s.Y36(LJ,8),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&e&&(s.uIk("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),s.ekj("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("mat-mdc-radio-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[s.qOj],ngContentSelectors:NJ,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[3,"for"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),s.NdJ("click",function(o){return i._onTouchTargetClick(o)}),s.qZA(),s.TgZ(4,"input",4,5),s.NdJ("change",function(o){return i._onInputInteraction(o)}),s.qZA(),s.TgZ(6,"div",6),s._UZ(7,"div",7)(8,"div",8),s.qZA(),s.TgZ(9,"div",9),s._UZ(10,"div",10),s.qZA()(),s.TgZ(11,"label",11),s.Hsn(12),s.qZA()()),2&e){const r=s.MAs(1);s.ekj("mdc-form-field--align-end","before"==i.labelPosition),s.xp6(2),s.ekj("mdc-radio--disabled",i.disabled),s.xp6(2),s.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),s.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),s.xp6(5),s.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),s.xp6(2),s.Q6J("for",i.inputId)}},dependencies:[ts],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);right:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);left:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-mdc-radio-ripple-color, transparent)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),n})(),jJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Nn,_p,Mn]}),n})(),$J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[KO,Nn,Mc,jJ]}),n})(),GJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Nn,Zp,P4,Mc,Ob,M4,NX,zc,KO,$J,Yj]}),n})(),WJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Nn,GJ]}),n})(),qJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-edit-plan-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-create-plan")},dependencies:[b3],encapsulation:2,changeDetection:0}),n})(),ZJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[O4]}),n})();function YJ(n,t){if(1&n&&(s.TgZ(0,"mat-radio-button",12),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}let KJ=(()=>{class n{constructor(e,i,r){this.data=e,this.dialogRef=i,this._trainingService=r,this._dificultValueSubject=new zr([1,2,3,4,5]),this.dificultValue$=this._dificultValueSubject.asObservable(),this.raitingForm=new go({comment:new yi,raitingValue:new yi}),this.raitingForm.get("comment")?.patchValue(e.raitingComment),this.raitingForm.get("raitingValue")?.patchValue(e.raitingValue)}addRaiting(e,i,r,o){this.dialogRef.close(),this._trainingService.setRaiting(e,o,i.get("comment")?.value,i.get("raitingValue")?.value,r).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(g4),s.Y36(p4),s.Y36(AI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-rating-modal"]],decls:20,vars:4,consts:[[3,"formGroup"],[1,"container","p-2"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","comment"],["formControlName","comment","id","comment","rows","2",1,"form-control"],["for","difficulty"],["formControlName","raitingValue","aria-label","Select an option"],["color","primary",3,"value",4,"ngFor","ngForOf"],[1,"col-md-12","text-end"],[1,"btn","btn-block","bg-cadetblue","text-ghostwhite",3,"click"],["color","primary",3,"value"]],template:function(e,i){1&e&&(s.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),s._uU(6,"Komentarz do tygodnia:"),s.qZA(),s._UZ(7,"textarea",6),s.qZA()()(),s.TgZ(8,"div",2)(9,"div",3)(10,"label",7),s._uU(11,"Poziom trudno\u015bci:"),s.qZA(),s.TgZ(12,"div",4)(13,"mat-radio-group",8),s.YNc(14,YJ,2,2,"mat-radio-button",9),s.ALo(15,"async"),s.qZA()()()(),s.TgZ(16,"div",2)(17,"div",10)(18,"button",11),s.NdJ("click",function(){return i.addRaiting(i.data.trainingId,i.raitingForm,i.data.raitingType,i.data.exerciseOrder)}),s._uU(19," Zatwierdz "),s.qZA()()()()()),2&e&&(s.Q6J("formGroup",i.raitingForm),s.xp6(14),s.Q6J("ngForOf",s.lcZ(15,2,i.dificultValue$)))},dependencies:[zo,Xd,La,Xs,Ph,Ua,Sc,B4,V4,Br],encapsulation:2,changeDetection:0}),n})();function QJ(n,t){if(1&n&&(s.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"span")(4,"b"),s._uU(5,"Serie: "),s.qZA()()(),s.TgZ(6,"div",11),s._uU(7),s.qZA()(),s.TgZ(8,"div",14)(9,"div",15)(10,"span")(11,"b"),s._uU(12,"Powt\xf3rzenia: "),s.qZA()()(),s.TgZ(13,"div",11),s._uU(14),s.qZA()(),s.TgZ(15,"div",14)(16,"div",15)(17,"span")(18,"b"),s._uU(19,"Ci\u0119zar: "),s.qZA()()(),s.TgZ(20,"div",11),s._uU(21),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(7),s.Oqu(e.set),s.xp6(7),s.hij(" ",e.rep," "),s.xp6(7),s.Oqu(e.value)}}function XJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",4),s.ynx(1),s.TgZ(2,"div",5)(3,"div",6),s._uU(4),s.qZA(),s.TgZ(5,"div",7)(6,"div",5)(7,"span",8)(8,"b"),s._uU(9,"Exercise"),s.qZA()(),s._uU(10),s.qZA(),s.TgZ(11,"div",5)(12,"span",8)(13,"b"),s._uU(14,"Comment"),s.qZA()(),s._uU(15),s.qZA()(),s.TgZ(16,"div",9),s.YNc(17,QJ,22,3,"div",10),s.qZA(),s.TgZ(18,"div",11)(19,"button",2),s.NdJ("click",function(){const o=s.CHM(e).$implicit,l=s.oxw().ngIf,u=s.oxw();return s.KtG(u.openRaitingModal("exercise",o.index,l.id,o.raitingCommentExercise,o.raitingValueExercise))}),s._uU(20," Podsumuj \u0107wiczenie "),s.qZA()()(),s.BQk(),s.TgZ(21,"span",12),s._UZ(22,"mat-divider"),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(4),s.Oqu(e.index),s.xp6(6),s.hij(" ",e.exercise," "),s.xp6(5),s.hij(" ",e.comment," "),s.xp6(2),s.Q6J("ngForOf",e.quantity)}}function JJ(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"mat-card")(2,"mat-card-title",1)(3,"button",2),s.NdJ("click",function(){const o=s.CHM(e).ngIf,l=s.oxw();return s.KtG(l.openRaitingModal("training",1e3,o.id,o.raitingCommentTraining,o.raitingValueTraining))}),s._uU(4," Podsumuj trening "),s.qZA()(),s.TgZ(5,"mat-card-content"),s.YNc(6,XJ,23,4,"div",3),s.qZA()(),s.BQk()}if(2&n){const e=t.ngIf;s.xp6(6),s.Q6J("ngForOf",e.trainingElements)}}let eee=(()=>{class n{constructor(e,i,r,o,l){this._activatedRoute=e,this._trainingService=i,this._userService=r,this._authService=o,this.dialog=l,this.trainingDetails$=this._activatedRoute.params.pipe(Hn(u=>this._trainingService.getOneTraining(u.trainingId))),this._roleSubject=new zr(""),this.role$=this._roleSubject.asObservable()}ngOnInit(){this._authService.load().pipe(Hn(e=>this._userService.getOneUserByAuth(e.id).pipe((0,jn.b)(i=>this._roleSubject.next(i.role))))).subscribe()}openRaitingModal(e,i,r,o,l){this.dialog.open(KJ,{height:"200px",width:"360px",data:{raitingType:e,exerciseOrder:i-1,trainingId:r,raitingComment:o,raitingValue:l}})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Wa),s.Y36(AI),s.Y36(Sv),s.Y36(BI),s.Y36(YO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-training-details"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"text-end","m-3"],[1,"btn","btn-block","bg-cadetblue","text-ghostwhite",3,"click"],["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"row"],[1,"col-1"],[1,"col-5","text-start"],[1,"my-2"],[1,"col","text-start"],["class","mb-3 row justify-content-start",4,"ngFor","ngForOf"],[1,"col"],[1,"px-3"],[1,"mb-3","row","justify-content-start"],[1,"row","mb-1"],[1,"col-4"]],template:function(e,i){1&e&&(s.YNc(0,JJ,7,1,"ng-container",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.trainingDetails$))},dependencies:[Hj,zo,Hi,LO,VO,BO,Br],encapsulation:2,changeDetection:0}),n})(),tee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-training-details-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-training-details")},dependencies:[eee],encapsulation:2,changeDetection:0}),n})(),nee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[MI,Nn,Q3,KO]}),n})(),iee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[nee]}),n})(),ree=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[zc.forRoot([{path:"create-plan",component:w3},{path:"register",component:CK},{path:"login",component:TK},{path:"users-list",component:mQ},{path:"user/:userId",component:OQ},{path:"create-plan/:authId",component:w3},{path:"training-plans",component:D4},{path:"training-plans/:authId",component:D4},{path:"edit-plan/:authId/:trainingId",component:qJ},{path:"training/:trainingId",component:tee}]),IJ,SJ,MJ,kJ,PJ,WJ,ZJ,iee,zc]}),n})();function U4(n){return new s.vHH(3e3,!1)}function Vee(){return typeof window<"u"&&typeof window.document<"u"}function tN(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Lf(n){switch(n.length){case 0:return new zt;case 1:return n[0];default:return new pi(n)}}function z4(n,t,e,i,r=new Map,o=new Map){const l=[],u=[];let m=-1,_=null;if(i.forEach(b=>{const I=b.get("offset"),R=I==m,L=R&&_||new Map;b.forEach((j,Z)=>{let ne=Z,Re=j;if("offset"!==Z)switch(ne=t.normalizePropertyName(ne,l),Re){case Mi:Re=r.get(Z);break;case g:Re=o.get(Z);break;default:Re=t.normalizeStyleValue(Z,ne,Re,l)}L.set(ne,Re)}),R||u.push(L),_=L,m=I}),l.length)throw function Tee(n){return new s.vHH(3502,!1)}();return u}function nN(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&iN(e,"start",n)));break;case"done":n.onDone(()=>i(e&&iN(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&iN(e,"destroy",n)))}}function iN(n,t,e){const o=rN(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),l=n._data;return null!=l&&(o._data=l),o}function rN(n,t,e,i,r="",o=0,l){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!l}}function ua(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function H4(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let oN=(n,t)=>!1,j4=(n,t,e)=>[],$4=null;function sN(n){const t=n.parentNode||n.host;return t===$4?null:t}(tN()||typeof Element<"u")&&(Vee()?($4=(()=>document.documentElement)(),oN=(n,t)=>{for(;t;){if(t===n)return!0;t=sN(t)}return!1}):oN=(n,t)=>n.contains(t),j4=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Qp=null,G4=!1;const W4=oN,q4=j4;let Z4=(()=>{class n{validateStyleProperty(e){return function zee(n){Qp||(Qp=function Hee(){return typeof document<"u"?document.body:null}()||{},G4=!!Qp.style&&"WebkitAppearance"in Qp.style);let t=!0;return Qp.style&&!function Uee(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Qp.style,!t&&G4&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Qp.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return W4(e,i)}getParentElement(e){return sN(e)}query(e,i,r){return q4(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,l,u=[],m){return new zt(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),aN=(()=>{class n{}return n.NOOP=new Z4,n})();const jee=1e3,lN="ng-enter",eT="ng-leave",tT="ng-trigger",nT=".ng-trigger",K4="ng-animating",cN=".ng-animating";function ku(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:dN(parseFloat(t[1]),t[2])}function dN(n,t){return"s"===t?n*jee:n}function iT(n,t,e){return n.hasOwnProperty("duration")?n:function Gee(n,t,e){let r,o=0,l="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(U4()),{duration:0,delay:0,easing:""};r=dN(parseFloat(u[1]),u[2]);const m=u[3];null!=m&&(o=dN(parseFloat(m),u[4]));const _=u[5];_&&(l=_)}else r=n;if(!e){let u=!1,m=t.length;r<0&&(t.push(function oee(){return new s.vHH(3100,!1)}()),u=!0),o<0&&(t.push(function see(){return new s.vHH(3101,!1)}()),u=!0),u&&t.splice(m,0,U4())}return{duration:r,delay:o,easing:l}}(n,t,e)}function pw(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Q4(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Bf(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function J4(n,t,e){return e?t+":"+e+";":""}function e6(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=J4(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=J4(0,Yee(e),n.style[e]));n.setAttribute("style",t)}function rd(n,t,e){n.style&&(t.forEach((i,r)=>{const o=hN(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),tN()&&e6(n))}function Xp(n,t){n.style&&(t.forEach((e,i)=>{const r=hN(i);n.style[r]=""}),tN()&&e6(n))}function gw(n){return Array.isArray(n)?1==n.length?n[0]:S(n):n}const uN=new RegExp("{{\\s*(.+?)\\s*}}","g");function t6(n){let t=[];if("string"==typeof n){let e;for(;e=uN.exec(n);)t.push(e[1]);uN.lastIndex=0}return t}function _w(n,t,e){const i=n.toString(),r=i.replace(uN,(o,l)=>{let u=t[l];return null==u&&(e.push(function lee(n){return new s.vHH(3003,!1)}()),u=""),u.toString()});return r==i?n:r}function rT(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Zee=/-+([a-z0-9])/g;function hN(n){return n.replace(Zee,(...t)=>t[1].toUpperCase())}function Yee(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ha(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function cee(n){return new s.vHH(3004,!1)}()}}function n6(n,t){return window.getComputedStyle(n)[t]}const aT="*";function tte(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function nte(n,t,e){if(":"==n[0]){const m=function ite(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Cee(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function xee(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],l=i[3];t.push(i6(r,l));"<"==o[0]&&!(r==aT&&l==aT)&&t.push(i6(l,r))}(i,e,t)):e.push(n),e}const lT=new Set(["true","1"]),cT=new Set(["false","0"]);function i6(n,t){const e=lT.has(n)||cT.has(n),i=lT.has(t)||cT.has(t);return(r,o)=>{let l=n==aT||n==r,u=t==aT||t==o;return!l&&e&&"boolean"==typeof r&&(l=r?lT.has(n):cT.has(n)),!u&&i&&"boolean"==typeof o&&(u=o?lT.has(t):cT.has(t)),l&&u}}const rte=new RegExp("s*:selfs*,?","g");function fN(n,t,e,i){return new ote(n).build(t,e,i)}class ote{constructor(t){this._driver=t}build(t,e,i){const r=new lte(e);return this._resetContextStyleTimingState(r),ha(this,gw(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function uee(){return new s.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const m=u,_=m.name;_.toString().split(/\s*,\s*/).forEach(b=>{m.name=b,o.push(this.visitState(m,e))}),m.name=_}else if(1==u.type){const m=this.visitTransition(u,e);i+=m.queryCount,r+=m.depCount,l.push(m)}else e.errors.push(function hee(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:l,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,l=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(m=>{t6(m).forEach(_=>{l.hasOwnProperty(_)||o.add(_)})})}),o.size&&(rT(o.values()),e.errors.push(function fee(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ha(this,gw(t.animation),e);return{type:1,matchers:tte(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Jp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ha(this,i,e)),options:Jp(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(l=>{e.currentTime=i;const u=ha(this,l,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:o,options:Jp(t.options)}}visitAnimate(t,e){const i=function dte(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return mN(iT(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=mN(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=iT(e,t);return mN(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:P({});if(5==o.type)r=this.visitKeyframes(o,e);else{let l=t.styles,u=!1;if(!l){u=!0;const _={};i.easing&&(_.easing=i.easing),l=P(_)}e.currentTime+=i.duration+i.delay;const m=this.visitStyle(l,e);m.isEmptyStep=u,r=m}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===g?i.push(u):e.errors.push(new s.vHH(3002,!1)):i.push(Q4(u));let o=!1,l=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(l=u.get("easing"),u.delete("easing")),!o))for(let m of u.values())if(m.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((u,m)=>{const _=e.collectedStyles.get(e.currentQuerySelector),b=_.get(m);let I=!0;b&&(o!=r&&o>=b.startTime&&r<=b.endTime&&(e.errors.push(function pee(n,t,e,i,r){return new s.vHH(3010,!1)}()),I=!1),o=b.startTime),I&&_.set(m,{startTime:o,endTime:r}),e.options&&function qee(n,t,e){const i=t.params||{},r=t6(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function aee(n){return new s.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function gee(){return new s.vHH(3011,!1)}()),i;let o=0;const l=[];let u=!1,m=!1,_=0;const b=t.steps.map(Re=>{const Ke=this._makeStyleAst(Re,e);let Je=null!=Ke.offset?Ke.offset:function cte(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ke.styles),ct=0;return null!=Je&&(o++,ct=Ke.offset=Je),m=m||ct<0||ct>1,u=u||ct<_,_=ct,l.push(ct),Ke});m&&e.errors.push(function _ee(){return new s.vHH(3012,!1)}()),u&&e.errors.push(function vee(){return new s.vHH(3200,!1)}());const I=t.steps.length;let R=0;o>0&&o<I?e.errors.push(function yee(){return new s.vHH(3202,!1)}()):0==o&&(R=1/(I-1));const L=I-1,j=e.currentTime,Z=e.currentAnimateTimings,ne=Z.duration;return b.forEach((Re,Ke)=>{const Je=R>0?Ke==L?1:R*Ke:l[Ke],ct=Je*ne;e.currentTime=j+Z.delay+ct,Z.duration=ct,this._validateStyleAst(Re,e),Re.offset=Je,i.styles.push(Re)}),i}visitReference(t,e){return{type:8,animation:ha(this,gw(t.animation),e),options:Jp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Jp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Jp(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,l]=function ste(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(rte,"")),n=n.replace(/@\*/g,nT).replace(/@\w+/g,e=>nT+"-"+e.slice(1)).replace(/:animating/g,cN),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,ua(e.collectedStyles,e.currentQuerySelector,new Map);const u=ha(this,gw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:u,originalSelector:t.selector,options:Jp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function bee(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:iT(t.timings,e.errors,!0);return{type:12,animation:ha(this,gw(t.animation),e),timings:i,options:null}}}class lte{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jp(n){return n?(n=pw(n)).params&&(n.params=function ate(n){return n?pw(n):null}(n.params)):n={},n}function mN(n,t,e){return{duration:n,delay:t,easing:e}}function pN(n,t,e,i,r,o,l=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:l,subTimeline:u}}class dT{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const fte=new RegExp(":enter","g"),pte=new RegExp(":leave","g");function gN(n,t,e,i,r,o=new Map,l=new Map,u,m,_=[]){return(new gte).buildKeyframes(n,t,e,i,r,o,l,u,m,_)}class gte{buildKeyframes(t,e,i,r,o,l,u,m,_,b=[]){_=_||new dT;const I=new _N(t,e,_,r,o,b,[]);I.options=m;const R=m.delay?ku(m.delay):0;I.currentTimeline.delayNextStep(R),I.currentTimeline.setStyles([l],null,I.errors,m),ha(this,i,I);const L=I.timelines.filter(j=>j.containsAnimation());if(L.length&&u.size){let j;for(let Z=L.length-1;Z>=0;Z--){const ne=L[Z];if(ne.element===e){j=ne;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([u],null,I.errors,m)}return L.length?L.map(j=>j.buildKeyframes()):[pN(e,[],[],[],0,R,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);o!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const l="number"==typeof o?o:ku(_w(o,r?.params??{},e.errors));i.delayNextStep(l)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const l=null!=i.duration?ku(i.duration):null,u=null!=i.delay?ku(i.delay):null;return 0!==l&&t.forEach(m=>{const _=e.appendInstructionToTimeline(m,l,u);o=Math.max(o,_.duration+_.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ha(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=uT);const l=ku(o.delay);r.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>ha(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?ku(t.options.delay):0;t.steps.forEach(l=>{const u=e.createSubContext(t.options);o&&u.delayNextStep(o),ha(this,l,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return iT(e.params?_w(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,t.styles.forEach(m=>{u.forwardTime((m.offset||0)*o),u.setStyles(m.styles,m.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?ku(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=uT);let l=i;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let m=null;u.forEach((_,b)=>{e.currentQueryIndex=b;const I=e.createSubContext(t.options,_);o&&I.delayNextStep(o),_===e.element&&(m=I.currentTimeline),ha(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,l=Math.abs(o.duration),u=l*(e.currentQueryTotal-1);let m=l*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=u-m;break;case"full":m=i.currentStaggerTime}const b=e.currentTimeline;m&&b.delayNextStep(m);const I=b.currentTime;ha(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const uT={};class _N{constructor(t,e,i,r,o,l,u,m){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=l,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new hT(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=ku(i.duration)),null!=i.delay&&(r.delay=ku(i.delay));const o=i.params;if(o){let l=r.params;l||(l=this.options.params={}),Object.keys(o).forEach(u=>{(!e||!l.hasOwnProperty(u))&&(l[u]=_w(o[u],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new _N(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=uT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new _te(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,l){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(fte,"."+this._enterClassName)).replace(pte,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),u.push(..._)}return!o&&0==u.length&&l.push(function wee(n){return new s.vHH(3014,!1)}()),u}}class hT{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new hT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||g),this._currentKeyframe.set(e,g);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},l=function vte(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,g)}else Bf(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,m]of l){const _=_w(m,o,i);this._pendingStyles.set(u,_),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??g),this._updateStyle(u,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,m)=>{const _=Bf(u,new Map,this._backFill);_.forEach((b,I)=>{b===Mi?t.add(I):b===g&&e.add(I)}),i||_.set("offset",m/this.duration),r.push(_)});const o=t.size?rT(t.values()):[],l=e.size?rT(e.values()):[];if(i){const u=r[0],m=new Map(u);u.set("offset",0),m.set("offset",1),r=[u,m]}return pN(this.element,r,o,l,this.duration,this.startTime,this.easing,!1)}}class _te extends hT{constructor(t,e,i,r,o,l,u=!1){super(t,e,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=u,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],l=i+e,u=e/l,m=Bf(t[0]);m.set("offset",0),o.push(m);const _=Bf(t[0]);_.set("offset",s6(u)),o.push(_);const b=t.length-1;for(let I=1;I<=b;I++){let R=Bf(t[I]);const L=R.get("offset");R.set("offset",s6((e+L*i)/l)),o.push(R)}i=l,e=0,r="",t=o}return pN(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function s6(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class vN{}const yte=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class bte extends vN{normalizePropertyName(t,e){return hN(t)}normalizeStyleValue(t,e,i,r){let o="";const l=i.toString().trim();if(yte.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function dee(n,t){return new s.vHH(3005,!1)}())}return l+o}}function a6(n,t,e,i,r,o,l,u,m,_,b,I,R){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:l,timelines:u,queriedElements:m,preStyleProps:_,postStyleProps:b,totalTime:I,errors:R}}const yN={};class l6{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function wte(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,l,u,m,_,b){const I=[],R=this.ast.options&&this.ast.options.params||yN,j=this.buildStyles(i,u&&u.params||yN,I),Z=m&&m.params||yN,ne=this.buildStyles(r,Z,I),Re=new Set,Ke=new Map,Je=new Map,ct="void"===r,jt={params:xte(Z,R),delay:this.ast.options?.delay},sn=b?[]:gN(t,e,this.ast.animation,o,l,j,ne,jt,_,I);let On=0;if(sn.forEach(il=>{On=Math.max(il.duration+il.delay,On)}),I.length)return a6(e,this._triggerName,i,r,ct,j,ne,[],[],Ke,Je,On,I);sn.forEach(il=>{const Ou=il.element,CG=ua(Ke,Ou,new Set);il.preStyleProps.forEach(dg=>CG.add(dg));const Gw=ua(Je,Ou,new Set);il.postStyleProps.forEach(dg=>Gw.add(dg)),Ou!==e&&Re.add(Ou)});const Eo=rT(Re.values());return a6(e,this._triggerName,i,r,ct,j,ne,sn,Eo,Ke,Je,On)}}function xte(n,t){const e=pw(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Cte{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=pw(this.defaultParams);return Object.keys(t).forEach(o=>{const l=t[o];null!==l&&(r[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,u)=>{l&&(l=_w(l,r,e));const m=this.normalizer.normalizePropertyName(u,e);l=this.normalizer.normalizeStyleValue(u,m,l,e),i.set(u,l)})}),i}}class Dte{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Cte(r.style,r.options&&r.options.params||{},i))}),c6(this.states,"true","1"),c6(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new l6(t,r,this.states))}),this.fallbackTransition=function Ite(n,t,e){return new l6(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(l=>l.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function c6(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Tte=new dT;class Ste{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=[],o=fN(this._driver,e,i,r);if(i.length)throw function See(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=z4(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let l;const u=new Map;if(o?(l=gN(this._driver,e,o,lN,eT,new Map,new Map,i,Tte,r),l.forEach(b=>{const I=ua(u,b.element,new Map);b.postStyleProps.forEach(R=>I.set(R,null))})):(r.push(function Aee(){return new s.vHH(3300,!1)}()),l=[]),r.length)throw function Mee(n){return new s.vHH(3504,!1)}();u.forEach((b,I)=>{b.forEach((R,L)=>{b.set(L,this._driver.computeStyle(I,L,g))})});const _=Lf(l.map(b=>{const I=u.get(b.element);return this._buildPlayer(b,new Map,I)}));return this._playersById.set(t,_),_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function kee(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=rN(e,"","","");return nN(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const d6="ng-animate-queued",bN="ng-animate-disabled",Pte=[],u6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ote={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ja="__ng_removed";class wN{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Bte(n){return n??null}(i?t.value:t),i){const o=pw(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const vw="void",xN=new wN(vw);class Nte{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,el(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function Ree(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function Pee(n){return new s.vHH(3303,!1)}();if(!function Vte(n){return"start"==n||"done"==n}(i))throw function Oee(n,t){return new s.vHH(3400,!1)}();const o=ua(this._elementListeners,t,[]),l={name:e,phase:i,callback:r};o.push(l);const u=ua(this._engine.statesByElement,t,new Map);return u.has(e)||(el(t,tT),el(t,tT+"-"+e),u.set(e,xN)),()=>{this._engine.afterFlush(()=>{const m=o.indexOf(l);m>=0&&o.splice(m,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Nee(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),l=new CN(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(el(t,tT),el(t,tT+"-"+e),this._engine.statesByElement.set(t,u=new Map));let m=u.get(e);const _=new wN(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&_.absorbOptions(m.options),u.set(e,_),m||(m=xN),_.value!==vw&&m.value===_.value){if(!function Hte(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(m.params,_.params)){const Z=[],ne=o.matchStyles(m.value,m.params,Z),Re=o.matchStyles(_.value,_.params,Z);Z.length?this._engine.reportError(Z):this._engine.afterFlush(()=>{Xp(t,ne),rd(t,Re)})}return}const R=ua(this._engine.playersByElement,t,[]);R.forEach(Z=>{Z.namespaceId==this.id&&Z.triggerName==e&&Z.queued&&Z.destroy()});let L=o.matchTransition(m.value,_.value,t,_.params),j=!1;if(!L){if(!r)return;L=o.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:L,fromState:m,toState:_,player:l,isFallbackTransition:j}),j||(el(t,d6),l.onStart(()=>{Ov(t,d6)})),l.onDone(()=>{let Z=this.players.indexOf(l);Z>=0&&this.players.splice(Z,1);const ne=this._engine.playersByElement.get(t);if(ne){let Re=ne.indexOf(l);Re>=0&&ne.splice(Re,1)}}),this.players.push(l),R.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,nT,!0);i.forEach(r=>{if(r[Ja])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(l=>l.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),l=new Map;if(o){const u=[];if(o.forEach((m,_)=>{if(l.set(_,m.value),this._triggers.has(_)){const b=this.trigger(t,_,vw,r);b&&u.push(b)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),i&&Lf(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const l=o.name;if(r.has(l))return;r.add(l);const m=this._triggers.get(l).fallbackTransition,_=i.get(l)||xN,b=new wN(vw),I=new CN(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:m,fromState:_,toState:b,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let l=t;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ja];(!o||o===u6)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){el(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,l=this._elementListeners.get(o);l&&l.forEach(u=>{if(u.name==i.triggerName){const m=rN(o,i.triggerName,i.fromState.value,i.toState.value);m._data=t,nN(i.player,u.phase,m,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Fte{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Nte(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,u=this.driver.getParentElement(e);for(;u;){const m=r.get(u);if(m){const _=i.indexOf(m);i.splice(_+1,0,t),l=!0;break}u=this.driver.getParentElement(u)}l||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(fT(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!fT(e))return;const o=e[Ja];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),el(t,bN)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ov(t,bN))}removeNode(t,e,i,r){if(fT(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Ja]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return fT(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,nT,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,cN,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Lf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ja];if(e&&e.setForRemoval){if(t[Ja]=u6,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(bN)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)el(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Lf(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Fee(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new dT,r=[],o=new Map,l=[],u=new Map,m=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(Et=>{b.add(Et);const Ft=this.driver.query(Et,".ng-animate-queued",!0);for(let Wt=0;Wt<Ft.length;Wt++)b.add(Ft[Wt])});const I=this.bodyNode,R=Array.from(this.statesByElement.keys()),L=m6(R,this.collectedEnterElements),j=new Map;let Z=0;L.forEach((Et,Ft)=>{const Wt=lN+Z++;j.set(Ft,Wt),Et.forEach(kn=>el(kn,Wt))});const ne=[],Re=new Set,Ke=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const Ft=this.collectedLeaveElements[Et],Wt=Ft[Ja];Wt&&Wt.setForRemoval&&(ne.push(Ft),Re.add(Ft),Wt.hasAnimation?this.driver.query(Ft,".ng-star-inserted",!0).forEach(kn=>Re.add(kn)):Ke.add(Ft))}const Je=new Map,ct=m6(R,Array.from(Re));ct.forEach((Et,Ft)=>{const Wt=eT+Z++;Je.set(Ft,Wt),Et.forEach(kn=>el(kn,Wt))}),t.push(()=>{L.forEach((Et,Ft)=>{const Wt=j.get(Ft);Et.forEach(kn=>Ov(kn,Wt))}),ct.forEach((Et,Ft)=>{const Wt=Je.get(Ft);Et.forEach(kn=>Ov(kn,Wt))}),ne.forEach(Et=>{this.processLeaveNode(Et)})});const jt=[],sn=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(e).forEach(Wt=>{const kn=Wt.player,co=Wt.element;if(jt.push(kn),this.collectedEnterElements.length){const Bo=co[Ja];if(Bo&&Bo.setForMove){if(Bo.previousTriggersValues&&Bo.previousTriggersValues.has(Wt.triggerName)){const ug=Bo.previousTriggersValues.get(Wt.triggerName),rl=this.statesByElement.get(Wt.element);if(rl&&rl.has(Wt.triggerName)){const KT=rl.get(Wt.triggerName);KT.value=ug,rl.set(Wt.triggerName,KT)}}return void kn.destroy()}}const cd=!I||!this.driver.containsElement(I,co),pa=Je.get(co),Yf=j.get(co),er=this._buildInstruction(Wt,i,Yf,pa,cd);if(er.errors&&er.errors.length)return void sn.push(er);if(cd)return kn.onStart(()=>Xp(co,er.fromStyles)),kn.onDestroy(()=>rd(co,er.toStyles)),void r.push(kn);if(Wt.isFallbackTransition)return kn.onStart(()=>Xp(co,er.fromStyles)),kn.onDestroy(()=>rd(co,er.toStyles)),void r.push(kn);const IG=[];er.timelines.forEach(Bo=>{Bo.stretchStartingKeyframe=!0,this.disabledNodes.has(Bo.element)||IG.push(Bo)}),er.timelines=IG,i.append(co,er.timelines),l.push({instruction:er,player:kn,element:co}),er.queriedElements.forEach(Bo=>ua(u,Bo,[]).push(kn)),er.preStyleProps.forEach((Bo,ug)=>{if(Bo.size){let rl=m.get(ug);rl||m.set(ug,rl=new Set),Bo.forEach((KT,HF)=>rl.add(HF))}}),er.postStyleProps.forEach((Bo,ug)=>{let rl=_.get(ug);rl||_.set(ug,rl=new Set),Bo.forEach((KT,HF)=>rl.add(HF))})});if(sn.length){const Et=[];sn.forEach(Ft=>{Et.push(function Lee(n,t){return new s.vHH(3505,!1)}())}),jt.forEach(Ft=>Ft.destroy()),this.reportError(Et)}const On=new Map,Eo=new Map;l.forEach(Et=>{const Ft=Et.element;i.has(Ft)&&(Eo.set(Ft,Ft),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,On))}),r.forEach(Et=>{const Ft=Et.element;this._getPreviousPlayers(Ft,!1,Et.namespaceId,Et.triggerName,null).forEach(kn=>{ua(On,Ft,[]).push(kn),kn.destroy()})});const il=ne.filter(Et=>g6(Et,m,_)),Ou=new Map;f6(Ou,this.driver,Ke,_,g).forEach(Et=>{g6(Et,m,_)&&il.push(Et)});const Gw=new Map;L.forEach((Et,Ft)=>{f6(Gw,this.driver,new Set(Et),m,Mi)}),il.forEach(Et=>{const Ft=Ou.get(Et),Wt=Gw.get(Et);Ou.set(Et,new Map([...Array.from(Ft?.entries()??[]),...Array.from(Wt?.entries()??[])]))});const dg=[],EG=[],DG={};l.forEach(Et=>{const{element:Ft,player:Wt,instruction:kn}=Et;if(i.has(Ft)){if(b.has(Ft))return Wt.onDestroy(()=>rd(Ft,kn.toStyles)),Wt.disabled=!0,Wt.overrideTotalTime(kn.totalTime),void r.push(Wt);let co=DG;if(Eo.size>1){let pa=Ft;const Yf=[];for(;pa=pa.parentNode;){const er=Eo.get(pa);if(er){co=er;break}Yf.push(pa)}Yf.forEach(er=>Eo.set(er,co))}const cd=this._buildAnimation(Wt.namespaceId,kn,On,o,Gw,Ou);if(Wt.setRealPlayer(cd),co===DG)dg.push(Wt);else{const pa=this.playersByElement.get(co);pa&&pa.length&&(Wt.parentPlayer=Lf(pa)),r.push(Wt)}}else Xp(Ft,kn.fromStyles),Wt.onDestroy(()=>rd(Ft,kn.toStyles)),EG.push(Wt),b.has(Ft)&&r.push(Wt)}),EG.forEach(Et=>{const Ft=o.get(Et.element);if(Ft&&Ft.length){const Wt=Lf(Ft);Et.setRealPlayer(Wt)}}),r.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<ne.length;Et++){const Ft=ne[Et],Wt=Ft[Ja];if(Ov(Ft,eT),Wt&&Wt.hasAnimation)continue;let kn=[];if(u.size){let cd=u.get(Ft);cd&&cd.length&&kn.push(...cd);let pa=this.driver.query(Ft,cN,!0);for(let Yf=0;Yf<pa.length;Yf++){let er=u.get(pa[Yf]);er&&er.length&&kn.push(...er)}}const co=kn.filter(cd=>!cd.destroyed);co.length?Ute(this,Ft,co):this.processLeaveNode(Ft)}return ne.length=0,dg.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const Ft=this.players.indexOf(Et);this.players.splice(Ft,1)}),Et.play()}),dg}elementContainsData(t,e){let i=!1;const r=e[Ja];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let l=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(l=u)}else{const u=this.playersByElement.get(t);if(u){const m=!o||o==vw;u.forEach(_=>{_.queued||!m&&_.triggerName!=r||l.push(_)})}}return(i||r)&&(l=l.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),l}_beforeAnimationBuild(t,e,i){const o=e.element,l=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const _=m.element,b=_!==o,I=ua(i,_,[]);this._getPreviousPlayers(_,b,l,u,e.toState).forEach(L=>{const j=L.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),L.destroy(),I.push(L)})}Xp(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,l){const u=e.triggerName,m=e.element,_=[],b=new Set,I=new Set,R=e.timelines.map(j=>{const Z=j.element;b.add(Z);const ne=Z[Ja];if(ne&&ne.removedBeforeQueried)return new zt(j.duration,j.delay);const Re=Z!==m,Ke=function zte(n){const t=[];return p6(n,t),t}((i.get(Z)||Pte).map(On=>On.getRealPlayer())).filter(On=>!!On.element&&On.element===Z),Je=o.get(Z),ct=l.get(Z),jt=z4(0,this._normalizer,0,j.keyframes,Je,ct),sn=this._buildPlayer(j,jt,Ke);if(j.subTimeline&&r&&I.add(Z),Re){const On=new CN(t,u,Z);On.setRealPlayer(sn),_.push(On)}return sn});_.forEach(j=>{ua(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function Lte(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,j.element,j))}),b.forEach(j=>el(j,K4));const L=Lf(R);return L.onDestroy(()=>{b.forEach(j=>Ov(j,K4)),rd(m,e.toStyles)}),I.forEach(j=>{ua(r,j,[]).push(L)}),L}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new zt(t.duration,t.delay)}}class CN{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new zt,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>nN(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ua(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function fT(n){return n&&1===n.nodeType}function h6(n,t){const e=n.style.display;return n.style.display=t??"none",e}function f6(n,t,e,i,r){const o=[];e.forEach(m=>o.push(h6(m)));const l=[];i.forEach((m,_)=>{const b=new Map;m.forEach(I=>{const R=t.computeStyle(_,I,r);b.set(I,R),(!R||0==R.length)&&(_[Ja]=Ote,l.push(_))}),n.set(_,b)});let u=0;return e.forEach(m=>h6(m,o[u++])),l}function m6(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const i=1,r=new Set(t),o=new Map;function l(u){if(!u)return i;let m=o.get(u);if(m)return m;const _=u.parentNode;return m=e.has(_)?_:r.has(_)?i:l(_),o.set(u,m),m}return t.forEach(u=>{const m=l(u);m!==i&&e.get(m).push(u)}),e}function el(n,t){n.classList?.add(t)}function Ov(n,t){n.classList?.remove(t)}function Ute(n,t,e){Lf(e).onDone(()=>n.processLeaveNode(t))}function p6(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof pi?p6(i.players,t):t.push(i)}}function g6(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class mT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Fte(t,e,i),this._timelineEngine=new Ste(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const l=t+"-"+r;let u=this._triggerCache[l];if(!u){const m=[],_=[],b=fN(this._driver,o,m,_);if(m.length)throw function Iee(n,t){return new s.vHH(3404,!1)}();u=function Ete(n,t,e){return new Dte(n,t,e)}(r,b,this._normalizer),this._triggerCache[l]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,l]=H4(i);this._timelineEngine.command(o,e,l,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[l,u]=H4(i);return this._timelineEngine.listen(l,e,u,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let $te=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&rd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rd(this._element,this._initialStyles),this._endStyles&&(rd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xp(this._element,this._endStyles),this._endStyles=null),rd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function EN(n){let t=null;return n.forEach((e,i)=>{(function Gte(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class _6{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:n6(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Wte{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return W4(t,e)}getParentElement(t){return sN(t)}query(t,e,i){return q4(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,l=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(m.easing=o);const _=new Map,b=l.filter(L=>L instanceof _6);(function Kee(n,t){return 0===n||0===t})(i,r)&&b.forEach(L=>{L.currentSnapshot.forEach((j,Z)=>_.set(Z,j))});let I=function Wee(n){return n.length?n[0]instanceof Map?n:n.map(t=>Q4(t)):[]}(e).map(L=>Bf(L));I=function Qee(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,l)=>{i.has(l)||r.push(l),i.set(l,o)}),r.length)for(let o=1;o<t.length;o++){let l=t[o];r.forEach(u=>l.set(u,n6(n,u)))}}return t}(t,I,_);const R=function jte(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=EN(t[0]),t.length>1&&(i=EN(t[t.length-1]))):t instanceof Map&&(e=EN(t)),e||i?new $te(n,e,i):null}(t,I);return new _6(t,I,m,R)}}let qte=(()=>{class n extends h{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?S(e):e;return v6(this._renderer,null,i,"register",[r]),new Zte(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ie))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Zte extends f{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Yte(this._id,t,e||{},this._renderer)}}class Yte{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return v6(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function v6(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const y6="@.disabled";let Kte=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,l)=>{const u=l?.parentNode(o);u&&l.removeChild(u,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(o);return b||(b=new b6("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,b)),b}const l=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const m=b=>{Array.isArray(b)?b.forEach(m):this.engine.registerTrigger(l,u,e,b.name,b)};return i.data.animation.forEach(m),new Qte(this,u,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,u]=o;l(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(mT),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class b6{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==y6?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Qte extends b6{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==y6?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Xte(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function Jte(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,l,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(t,e,i)}}let ene=(()=>{class n extends mT{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ie),s.LFG(aN),s.LFG(vN),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const w6=[{provide:h,useClass:qte},{provide:vN,useFactory:function tne(){return new bte}},{provide:mT,useClass:ene},{provide:s.FYo,useFactory:function nne(n,t,e){return new Kte(n,t,e)},deps:[vr,mT,s.R0b]}],DN=[{provide:aN,useFactory:()=>new Wte},{provide:s.QbO,useValue:"BrowserAnimations"},...w6],x6=[{provide:aN,useClass:Z4},{provide:s.QbO,useValue:"NoopAnimations"},...w6];let ine=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?x6:DN}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:DN,imports:[$s]}),n})();const IN_firebase={projectId:"trainingonline-d1364",appId:"1:726344567352:web:f90df18691dad74b3274cd",storageBucket:"trainingonline-d1364.appspot.com",apiKey:"AIzaSyCbca-F_ZLetGyP8fsdiKbUu3n-AIb3hbU",authDomain:"trainingonline-d1364.firebaseapp.com",messagingSenderId:"726344567352"};var rne=U(1389);class TN{constructor(t){return t}}class SN{constructor(){return(0,In.vb)("auth")}}const AN=new s.OlP("angularfire2.auth-instances");function sne(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new TN(i)}}const ane={provide:SN,deps:[[new s.FiY,AN]]},lne={provide:TN,useFactory:function one(n,t){const e=(0,In.JM)("auth",n,t);return e&&new TN(e)},deps:[[new s.FiY,AN],Wp]};let cne=(()=>{class n{constructor(){(0,Su.KN)("angularfire",In.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[lne,ane]}),n})();function dne(n,...t){return{ngModule:cne,providers:[{provide:AN,useFactory:sne(n),multi:!0,deps:[s.R0b,s.zs3,In.HU,bI,[new s.FiY,Tv],...t]}]}}const une=(0,In.u3)(rne.o,!0),E6="@firebase/database";let MN="";class fne{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,re.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,re.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class mne{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,re.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const I6=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new fne(t)}}catch{}return new mne},eg=I6("localStorage"),kN=I6("sessionStorage"),Nv=new Zc.Yd("@firebase/database"),T6=function(){let n=1;return function(){return n++}}(),S6=function(n){const t=(0,re.dS)(n),e=new re.gQ;e.update(t);const i=e.digest();return re.US.encodeByteArray(i)},yw=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=yw.apply(null,i):t+="object"==typeof i?(0,re.Wl)(i):i,t+=" "}return t};let tg=null,A6=!0;const ao=function(...n){if(!0===A6&&(A6=!1,null===tg&&!0===kN.get("logging_enabled")&&function(n,t){(0,re.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Nv.logLevel=Zc.in.VERBOSE,tg=Nv.log.bind(Nv),t&&kN.set("logging_enabled",!0)):"function"==typeof n?tg=n:(tg=null,kN.remove("logging_enabled"))}(!0)),tg){const t=yw.apply(null,n);tg(t)}},bw=function(n){return function(...t){ao(n,...t)}},RN=function(...n){const t="FIREBASE INTERNAL ERROR: "+yw(...n);Nv.error(t)},od=function(...n){const t=`FIREBASE FATAL ERROR: ${yw(...n)}`;throw Nv.error(t),new Error(t)},Lo=function(...n){const t="FIREBASE WARNING: "+yw(...n);Nv.warn(t)},gT=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Vf="[MIN_NAME]",Ru="[MAX_NAME]",ng=function(n,t){if(n===t)return 0;if(n===Vf||t===Ru)return-1;if(t===Vf||n===Ru)return 1;{const e=P6(n),i=P6(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},_ne=function(n,t){return n===t?0:n<t?-1:1},ww=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,re.Wl)(t))},PN=function(n){if("object"!=typeof n||null===n)return(0,re.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,re.Wl)(t[i]),e+=":",e+=PN(n[t[i]]);return e+="}",e},k6=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function lo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const R6=function(n){(0,re.hu)(!gT(n),"Invalid JSON number");const i=1023;let r,o,l,u,m;0===n?(o=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=u+i,l=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(o=0,l=Math.round(n/Math.pow(2,-1074))));const _=[];for(m=52;m;m-=1)_.push(l%2?1:0),l=Math.floor(l/2);for(m=11;m;m-=1)_.push(o%2?1:0),o=Math.floor(o/2);_.push(r?1:0),_.reverse();const b=_.join("");let I="";for(m=0;m<64;m+=8){let R=parseInt(b.substr(m,8),2).toString(16);1===R.length&&(R="0"+R),I+=R}return I.toLowerCase()},wne=new RegExp("^-?(0*)\\d{1,10}$"),P6=function(n){if(wne.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Fv=function(n){try{n()}catch(t){setTimeout(()=>{throw Lo("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Ene=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xw=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Dne{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Lo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ine{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ao("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Lo(t)}}let Cw=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const B6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,z6="websocket",H6="long_polling";class NN{constructor(t,e,i,r,o=!1,l="",u=!1,m=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=eg.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&eg.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function j6(n,t,e){let i;if((0,re.hu)("string"==typeof t,"typeof type must == string"),(0,re.hu)("object"==typeof e,"typeof params must == object"),t===z6)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==H6)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Tne(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return lo(e,(o,l)=>{r.push(o+"="+l)}),i+r.join("&")}class Sne{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,re.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,re.p$)(this.counters_)}}const FN={},LN={};function BN(n){const t=n.toString();return FN[t]||(FN[t]=new Sne),FN[t]}class Mne{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Fv(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Uf{constructor(t,e,i,r,o,l,u){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bw(t),this.stats_=BN(e),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),j6(e,H6,m))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Mne(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,re.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new VN((...o)=>{const[l,u,m,_,b]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=u,this.password=m;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[l,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&B6.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Uf.forceAllow_=!0}static forceDisallow(){Uf.forceDisallow_=!0}static isAvailable(){return!((0,re.Yr)()||!Uf.forceAllow_&&(Uf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,re.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,re.h$)(e),r=k6(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,re.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,re.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class VN{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,re.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=T6(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=VN.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){ao("frame writing exception"),u.stack&&ao(u.stack),ao(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ao("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,re.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ao("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let vT=null;typeof MozWebSocket<"u"?vT=MozWebSocket:typeof WebSocket<"u"&&(vT=WebSocket);let Lv=(()=>{class n{constructor(e,i,r,o,l,u,m){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bw(this.connId),this.stats_=BN(i),this.connURL=n.connectionURL_(i,u,m,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,l){const u={v:"5"};return!(0,re.Yr)()&&typeof location<"u"&&location.hostname&&B6.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),o&&(u.ac=o),l&&(u.p=l),j6(e,z6,u)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,eg.set("previous_websocket_failure",!0);try{let r;if((0,re.Yr)()){r={headers:{"User-Agent":`Firebase/5/${MN}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,u=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;u&&(r.proxy={origin:u})}this.mySock=new vT(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==vT&&!n.forceDisallow_}static previouslyFailed(){return eg.isInMemoryStorage||!0===eg.get("previous_websocket_failure")}markConnectionHealthy(){eg.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,re.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,re.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,re.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=k6(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),K6=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Uf,Lv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Lv&&Lv.isAvailable();let r=i&&!Lv.previouslyFailed();if(e.webSocketOnly&&(i||Lo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Lv];else{const o=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class i${constructor(t,e,i,r,o,l,u,m,_,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bw("c:"+this.id+":"),this.transportManager_=new K6(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=xw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=ww("t",t),i=ww("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=ww("t",t),i=ww("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=ww("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?RN("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):RN("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Lo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),xw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(eg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class r${put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class o${constructor(t){this.allowedEvents_=t,this.listeners_={},(0,re.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,re.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class yT extends o${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,re.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new yT}getInitialEvent(t){return(0,re.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const s$=32,a$=768;class Gn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Pn(){return new Gn("")}function _n(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function zf(n){return n.pieces_.length-n.pieceNum_}function gi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Gn(n.pieces_,t)}function zN(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ew(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function l$(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Gn(t,0)}function Wi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Gn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Gn(e,0)}function vn(n){return n.pieceNum_>=n.pieces_.length}function as(n,t){const e=_n(n),i=_n(t);if(null===e)return t;if(e===i)return as(gi(n),gi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function HN(n,t){if(zf(n)!==zf(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function tl(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(zf(n)>zf(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Jne{constructor(t,e){this.errorPrefix_=e,this.parts_=Ew(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,re.ug)(this.parts_[i]);c$(this)}}function c$(n){if(n.byteLength_>a$)throw new Error(n.errorPrefix_+"has a key path longer than "+a$+" bytes ("+n.byteLength_+").");if(n.parts_.length>s$)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+s$+") or object contains a cycle "+ig(n))}function ig(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class jN extends o${constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new jN}getInitialEvent(t){return(0,re.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Dw=1e3;let wT,rg=(()=>{class n extends r${constructor(e,i,r,o,l,u,m,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=m,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=bw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Dw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,re.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jN.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&yT.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,l={r:o,a:e,b:i};this.log_((0,re.Wl)(l)),(0,re.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new re.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const m=u.d;"ok"===u.s?i.resolve(m):i.reject(m)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),(0,re.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,re.hu)(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(u).set(l,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const l={p:r};e.tag&&(l.q=i._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest("q",l,m=>{const _=m.d,b=m.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",m),"ok"!==b&&this.removeListen_(r,o),e.onComplete&&e.onComplete(b,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,re.r3)(e,"w")){const r=(0,re.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();Lo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,re.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,re.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const l=o.s,u=o.d||"error";this.authToken_===e&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,re.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const l={p:e};o&&(l.q=r,l.t=o),this.sendRequest("n",l)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const l={p:i,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,l){this.initConnection_();const u={p:i,d:r};void 0!==l&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,re.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):RN("Unrecognized action received from server: "+(0,re.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,re.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Dw,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Dw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Dw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,De.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),l=e.id+":"+n.nextConnectionId_++,u=e.lastSessionId;let m=!1,_=null;const b=function(){_?_.close():(m=!0,o())};e.realtime_={close:b,sendRequest:function(L){(0,re.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(L)}};const R=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[L,j]=yield Promise.all([e.authTokenProvider_.getToken(R),e.appCheckTokenProvider_.getToken(R)]);m?ao("getToken() completed but was canceled"):(ao("getToken() completed. Creating connection."),e.authToken_=L&&L.accessToken,e.appCheckToken_=j&&j.token,_=new i$(l,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,Z=>{Lo(Z+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},u))}catch(L){e.log_("Failed to get token: "+L),m||(e.repoInfo_.nodeAdmin&&Lo(L),b())}}})()}interrupt(e){ao("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ao("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,re.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Dw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(l=>PN(l)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Gn(e).toString();let o;if(this.listens.has(r)){const l=this.listens.get(r);o=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){ao("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ao("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,re.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+MN.replace(/\./g,"-")]=1,(0,re.uI)()?e["framework.cordova"]=1:(0,re.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yT.getInstance().currentlyOnline();return(0,re.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class bn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new bn(t,e)}}class bT{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new bn(Vf,t),r=new bn(Vf,e);return 0!==this.compare(i,r)}minPost(){return bn.MIN}}class h$ extends bT{static get __EMPTY_NODE(){return wT}static set __EMPTY_NODE(t){wT=t}compare(t,e){return ng(t.name,e.name)}isDefinedOn(t){throw(0,re.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return bn.MIN}maxPost(){return new bn(Ru,wT)}makePost(t,e){return(0,re.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new bn(t,wT)}toString(){return".key"}}const sd=new h$;class xT{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse_?t.left:t.right;else{if(0===l){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let GN,Wl=(()=>{class n{constructor(e,i,r,o,l){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??ks.EMPTY_NODE,this.right=l??ks.EMPTY_NODE}copy(e,i,r,o,l){return new n(e??this.key,i??this.value,r??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===l?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ks.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return ks.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ks{constructor(t,e=ks.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new ks(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Wl.BLACK,null,null))}remove(t){return new ks(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Wl.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new xT(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new xT(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new xT(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new xT(this.root_,null,this.comparator_,!0,t)}}function aie(n,t){return ng(n.name,t.name)}function $N(n,t){return ng(n,t)}ks.EMPTY_NODE=new class sie{copy(t,e,i,r,o){return this}insert(t,e,i){return new Wl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const f$=function(n){return"number"==typeof n?"number:"+R6(n):"string:"+n},m$=function(n){if(n.isLeafNode()){const t=n.val();(0,re.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,re.r3)(t,".sv"),"Priority must be a string or number.")}else(0,re.hu)(n===GN||n.isEmpty(),"priority of unexpected type.");(0,re.hu)(n===GN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let p$,g$,_$,Bv=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,re.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),m$(this.priorityNode_)}static set __childrenNodeConstructor(e){p$=e}static get __childrenNodeConstructor(){return p$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return vn(e)?this:".priority"===_n(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=_n(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,re.hu)(".priority"!==r||1===zf(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(gi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+f$(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?R6(this.value_):this.value_,this.lazyHash_=S6(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,re.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,re.hu)(o>=0,"Unknown leaf type: "+i),(0,re.hu)(l>=0,"Unknown leaf type: "+r),o===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const wi=new class uie extends bT{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?ng(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return bn.MIN}maxPost(){return new bn(Ru,new Bv("[PRIORITY-POST]",_$))}makePost(t,e){const i=g$(t);return new bn(e,new Bv("[PRIORITY-POST]",i))}toString(){return".priority"}},hie=Math.log(2);class fie{constructor(t){this.count=parseInt(Math.log(t+1)/hie,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const CT=function(n,t,e,i){n.sort(t);const r=function(m,_){const b=_-m;let I,R;if(0===b)return null;if(1===b)return I=n[m],R=e?e(I):I,new Wl(R,I.node,Wl.BLACK,null,null);{const L=parseInt(b/2,10)+m,j=r(m,L),Z=r(L+1,_);return I=n[L],R=e?e(I):I,new Wl(R,I.node,Wl.BLACK,j,Z)}},u=function(m){let _=null,b=null,I=n.length;const R=function(j,Z){const ne=I-j,Re=I;I-=j;const Ke=r(ne+1,Re),Je=n[ne],ct=e?e(Je):Je;L(new Wl(ct,Je.node,Z,null,Ke))},L=function(j){_?(_.left=j,_=j):(b=j,_=j)};for(let j=0;j<m.count;++j){const Z=m.nextBitIsOne(),ne=Math.pow(2,m.count-(j+1));Z?R(ne,Wl.BLACK):(R(ne,Wl.BLACK),R(ne,Wl.RED))}return b}(new fie(n.length));return new ks(i||t,u)};let WN;const Vv={};class Pu{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,re.hu)(Vv&&wi,"ChildrenNode.ts has not been loaded"),WN=WN||new Pu({".priority":Vv},{".priority":wi}),WN}get(t){const e=(0,re.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ks?e:null}hasIndex(t){return(0,re.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,re.hu)(t!==sd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(bn.Wrap);let u,l=o.getNext();for(;l;)r=r||t.isDefinedOn(l.node),i.push(l),l=o.getNext();u=r?CT(i,t.getCompare()):Vv;const m=t.toString(),_=Object.assign({},this.indexSet_);_[m]=t;const b=Object.assign({},this.indexes_);return b[m]=u,new Pu(b,_)}addToIndexes(t,e){const i=(0,re.UI)(this.indexes_,(r,o)=>{const l=(0,re.DV)(this.indexSet_,o);if((0,re.hu)(l,"Missing index implementation for "+o),r===Vv){if(l.isDefinedOn(t.node)){const u=[],m=e.getIterator(bn.Wrap);let _=m.getNext();for(;_;)_.name!==t.name&&u.push(_),_=m.getNext();return u.push(t),CT(u,l.getCompare())}return Vv}{const u=e.get(t.name);let m=r;return u&&(m=m.remove(new bn(t.name,u))),m.insert(t,t.node)}});return new Pu(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,re.UI)(this.indexes_,r=>{if(r===Vv)return r;{const o=e.get(t.name);return o?r.remove(new bn(t.name,o)):r}});return new Pu(i,this.indexSet_)}}let Iw,dn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&m$(this.priorityNode_),this.children_.isEmpty()&&(0,re.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Iw||(Iw=new n(new ks($N),null,Pu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Iw}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Iw:i}}getChild(e){const i=_n(e);return null===i?this:this.getImmediateChild(i).getChild(gi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,re.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new bn(e,i);let o,l;i.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),l=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?Iw:this.priorityNode_;return new n(o,u,l)}}updateChild(e,i){const r=_n(e);if(null===r)return i;{(0,re.hu)(".priority"!==_n(e)||1===zf(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(gi(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,l=!0;if(this.forEachChild(wi,(u,m)=>{i[u]=m.val(e),r++,l&&n.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):l=!1}),!e&&l&&o<2*r){const u=[];for(const m in i)u[m]=i[m];return u}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+f$(this.getPriority().val())+":"),this.forEachChild(wi,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":S6(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const l=o.getPredecessorKey(new bn(e,i));return l?l.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new bn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new bn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,bn.Wrap);let l=o.peek();for(;null!=l&&i.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,bn.Wrap);let l=o.peek();for(;null!=l&&i.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Tw?-1:0}withIndex(e){if(e===sd||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===sd||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(wi),o=i.getIterator(wi);let l=r.getNext(),u=o.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=r.getNext(),u=o.getNext()}return null===l&&null===u}return!1}return!1}}resolveIndex_(e){return e===sd?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Tw=new class mie extends dn{constructor(){super(new ks($N),dn.EMPTY_NODE,Pu.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return dn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(bn,{MIN:{value:new bn(Vf,dn.EMPTY_NODE)},MAX:{value:new bn(Ru,Tw)}}),h$.__EMPTY_NODE=dn.EMPTY_NODE,Bv.__childrenNodeConstructor=dn,function lie(n){GN=n}(Tw),function die(n){_$=n}(Tw);const pie=!0;function Ji(n,t=null){if(null===n)return dn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,re.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Bv(n,Ji(t));if(n instanceof Array||!pie){let e=dn.EMPTY_NODE;return lo(n,(i,r)=>{if((0,re.r3)(n,i)&&"."!==i.substring(0,1)){const o=Ji(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Ji(t))}{const e=[];let i=!1;if(lo(n,(l,u)=>{if("."!==l.substring(0,1)){const m=Ji(u);m.isEmpty()||(i=i||!m.getPriority().isEmpty(),e.push(new bn(l,m)))}}),0===e.length)return dn.EMPTY_NODE;const o=CT(e,aie,l=>l.name,$N);if(i){const l=CT(e,wi.getCompare());return new dn(o,Ji(t),new Pu({".priority":l},{".priority":wi}))}return new dn(o,Ji(t),Pu.Default)}}!function cie(n){g$=n}(Ji);class qN extends bT{constructor(t){super(),this.indexPath_=t,(0,re.hu)(!vn(t)&&".priority"!==_n(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?ng(t.name,e.name):o}makePost(t,e){const i=Ji(t),r=dn.EMPTY_NODE.updateChild(this.indexPath_,i);return new bn(e,r)}maxPost(){const t=dn.EMPTY_NODE.updateChild(this.indexPath_,Tw);return new bn(Ru,t)}toString(){return Ew(this.indexPath_,0).join("/")}}const ZN=new class gie extends bT{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?ng(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return bn.MIN}maxPost(){return bn.MAX}makePost(t,e){const i=Ji(t);return new bn(e,i)}toString(){return".value"}};function Aw(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class KN{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,re.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,re.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vf}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,re.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,re.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ru}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,re.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===wi}copy(){const t=new KN;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function y$(n){const t={};if(n.isDefault())return t;let e;if(n.index_===wi?e="$priority":n.index_===ZN?e="$value":n.index_===sd?e="$key":((0,re.hu)(n.index_ instanceof qN,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,re.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,re.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,re.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,re.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,re.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function b$(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==wi&&(t.i=n.index_.toString()),t}class DT extends r${constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=bw("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,re.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const l=DT.getListenId_(t,i),u={};this.listens_[l]=u;const m=y$(t._queryParams);this.restRequest_(o+".json",m,(_,b)=>{let I=b;if(404===_&&(I=null,_=null),null===_&&this.onDataUpdate_(o,I,!1,i),(0,re.DV)(this.listens_,l)===u){let R;R=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(R,null)}})}unlisten(t,e){const i=DT.getListenId_(t,e);delete this.listens_[i]}get(t){const e=y$(t._queryParams),i=t._path.toString(),r=new re.BH;return this.restRequest_(i+".json",e,(o,l)=>{let u=l;404===o&&(u=null,o=null),null===o?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,re.xO)(e);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&4===u.readyState){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let m=null;if(u.status>=200&&u.status<300){try{m=(0,re.cI)(u.responseText)}catch{Lo("Failed to parse JSON response for "+l+": "+u.responseText)}i(null,m)}else 401!==u.status&&404!==u.status&&Lo("Got unsuccessful REST response for "+l+" Status: "+u.status),i(u.status);i=null}},u.open("GET",l,!0),u.send()})}}class Eie{constructor(){this.rootNode_=dn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function IT(){return{value:null,children:new Map}}function zv(n,t,e){if(vn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=_n(t);n.children.has(i)||n.children.set(i,IT()),zv(n.children.get(i),t=gi(t),e)}}function eF(n,t,e){null!==n.value?e(t,n.value):function Die(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{eF(r,new Gn(t.toString()+"/"+i),e)})}class Iie{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&lo(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Aie{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Iie(t);const i=1e4+2e4*Math.random();xw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;lo(t,(r,o)=>{o>0&&(0,re.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),xw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var nl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(nl||(nl={})),nl))();function iF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class TT{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=nl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(vn(this.path)){if(null!=this.affectedTree.value)return(0,re.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Gn(t));return new TT(Pn(),e,this.revert)}}return(0,re.hu)(_n(this.path)===t,"operationForChild called for unrelated child."),new TT(gi(this.path),this.affectedTree,this.revert)}}class og{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=nl.OVERWRITE}operationForChild(t){return vn(this.path)?new og(this.source,Pn(),this.snap.getImmediateChild(t)):new og(this.source,gi(this.path),this.snap)}}class Hv{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=nl.MERGE}operationForChild(t){if(vn(this.path)){const e=this.children.subtree(new Gn(t));return e.isEmpty()?null:e.value?new og(this.source,Pn(),e.value):new Hv(this.source,Pn(),e)}return(0,re.hu)(_n(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Hv(this.source,gi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Hf{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(vn(t))return this.isFullyInitialized()&&!this.filtered_;const e=_n(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function Rw(n,t,e,i,r,o){const l=i.filter(u=>u.type===e);l.sort((u,m)=>function Pie(n,t,e){if(null==t.childName||null==e.childName)throw(0,re.g5)("Should only compare child_ events.");const i=new bn(t.childName,t.snapshotNode),r=new bn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,u,m)),l.forEach(u=>{const m=function Rie(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,u,o);r.forEach(_=>{_.respondsTo(u.type)&&t.push(_.createEvent(m,n.query_))})})}function ST(n,t){return{eventCache:n,serverCache:t}}function Pw(n,t,e,i){return ST(new Hf(t,e,i),n.serverCache)}function x$(n,t,e,i){return ST(n.eventCache,new Hf(t,e,i))}function AT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function sg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let rF;class xi{constructor(t,e=(()=>(rF||(rF=new ks(_ne)),rF))()){this.value=t,this.children=e}static fromObject(t){let e=new xi(null);return lo(t,(i,r)=>{e=e.set(new Gn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Pn(),value:this.value};if(vn(t))return null;{const i=_n(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(gi(t),e);return null!=o?{path:Wi(new Gn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(vn(t))return this;{const e=_n(t),i=this.children.get(e);return null!==i?i.subtree(gi(t)):new xi(null)}}set(t,e){if(vn(t))return new xi(e,this.children);{const i=_n(t),o=(this.children.get(i)||new xi(null)).set(gi(t),e),l=this.children.insert(i,o);return new xi(this.value,l)}}remove(t){if(vn(t))return this.children.isEmpty()?new xi(null):new xi(null,this.children);{const e=_n(t),i=this.children.get(e);if(i){const r=i.remove(gi(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new xi(null):new xi(this.value,o)}return this}}get(t){if(vn(t))return this.value;{const e=_n(t),i=this.children.get(e);return i?i.get(gi(t)):null}}setTree(t,e){if(vn(t))return e;{const i=_n(t),o=(this.children.get(i)||new xi(null)).setTree(gi(t),e);let l;return l=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new xi(this.value,l)}}fold(t){return this.fold_(Pn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Wi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Pn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(vn(t))return null;{const o=_n(t),l=this.children.get(o);return l?l.findOnPath_(gi(t),Wi(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Pn(),e)}foreachOnPath_(t,e,i){if(vn(t))return this;{this.value&&i(e,this.value);const r=_n(t),o=this.children.get(r);return o?o.foreachOnPath_(gi(t),Wi(e,r),i):new xi(null)}}foreach(t){this.foreach_(Pn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Wi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class ql{constructor(t){this.writeTree_=t}static empty(){return new ql(new xi(null))}}function Ow(n,t,e){if(vn(t))return new ql(new xi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const l=as(r,t);return o=o.updateChild(l,e),new ql(n.writeTree_.set(r,o))}{const r=new xi(e),o=n.writeTree_.setTree(t,r);return new ql(o)}}}function oF(n,t,e){let i=n;return lo(e,(r,o)=>{i=Ow(i,Wi(t,r),o)}),i}function C$(n,t){if(vn(t))return ql.empty();{const e=n.writeTree_.setTree(t,new xi(null));return new ql(e)}}function sF(n,t){return null!=ag(n,t)}function ag(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(as(e.path,t)):null}function E$(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(wi,(i,r)=>{t.push(new bn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new bn(i,r.value))}),t}function jf(n,t){if(vn(t))return n;{const e=ag(n,t);return new ql(null!=e?new xi(e):n.writeTree_.subtree(t))}}function aF(n){return n.writeTree_.isEmpty()}function jv(n,t){return D$(Pn(),n.writeTree_,t)}function D$(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,re.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=D$(Wi(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Wi(n,".priority"),i)),e}}function MT(n,t){return M$(t,n)}function Vie(n,t){if(n.snap)return tl(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&tl(Wi(n.path,e),t))return!0;return!1}function zie(n){return n.visible}function I$(n,t,e){let i=ql.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const l=o.path;let u;if(o.snap)tl(e,l)?(u=as(e,l),i=Ow(i,u,o.snap)):tl(l,e)&&(u=as(l,e),i=Ow(i,Pn(),o.snap.getChild(u)));else{if(!o.children)throw(0,re.g5)("WriteRecord should have .snap or .children");if(tl(e,l))u=as(e,l),i=oF(i,u,o.children);else if(tl(l,e))if(u=as(l,e),vn(u))i=oF(i,Pn(),o.children);else{const m=(0,re.DV)(o.children,_n(u));if(m){const _=m.getChild(gi(u));i=Ow(i,Pn(),_)}}}}}return i}function T$(n,t,e,i,r){if(i||r){const o=jf(n.visibleWrites,t);return!r&&aF(o)?e:r||null!=e||sF(o,Pn())?jv(I$(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(tl(_.path,t)||tl(t,_.path))},t),e||dn.EMPTY_NODE):null}{const o=ag(n.visibleWrites,t);if(null!=o)return o;{const l=jf(n.visibleWrites,t);return aF(l)?e:null!=e||sF(l,Pn())?jv(l,e||dn.EMPTY_NODE):null}}}function kT(n,t,e,i){return T$(n.writeTree,n.treePath,t,e,i)}function lF(n,t){return function Hie(n,t,e){let i=dn.EMPTY_NODE;const r=ag(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(wi,(o,l)=>{i=i.updateImmediateChild(o,l)}),i;if(e){const o=jf(n.visibleWrites,t);return e.forEachChild(wi,(l,u)=>{const m=jv(jf(o,new Gn(l)),u);i=i.updateImmediateChild(l,m)}),E$(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return E$(jf(n.visibleWrites,t)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,t)}function S$(n,t,e,i){return function jie(n,t,e,i,r){(0,re.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Wi(t,e);if(sF(n.visibleWrites,o))return null;{const l=jf(n.visibleWrites,o);return aF(l)?r.getChild(e):jv(l,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function RT(n,t){return function Gie(n,t){return ag(n.visibleWrites,t)}(n.writeTree,Wi(n.treePath,t))}function cF(n,t,e){return function $ie(n,t,e,i){const r=Wi(t,e),o=ag(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?jv(jf(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function A$(n,t){return M$(Wi(n.treePath,t),n.writeTree)}function M$(n,t){return{treePath:n,writeTree:t}}class Yie{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,re.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,re.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,Aw(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,function Sw(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,function Uv(n,t){return{type:"child_added",snapshotNode:t,childName:n}}(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,re.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,Aw(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const k$=new class Kie{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class dF{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Hf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cF(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:sg(this.viewCache_),o=function Zie(n,t,e,i,r,o){return function Wie(n,t,e,i,r,o,l){let u;const m=jf(n.visibleWrites,t),_=ag(m,Pn());if(null!=_)u=_;else{if(null==e)return[];u=jv(m,e)}if(u=u.withIndex(l),u.isEmpty()||u.isLeafNode())return[];{const b=[],I=l.getCompare(),R=o?u.getReverseIteratorFrom(i,l):u.getIteratorFrom(i,l);let L=R.getNext();for(;L&&b.length<r;)0!==I(L,i)&&b.push(L),L=R.getNext();return b}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function R$(n,t,e,i,r,o){const l=t.eventCache;if(null!=RT(i,e))return t;{let u,m;if(vn(e))if((0,re.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=sg(t),I=lF(i,_ instanceof dn?_:dn.EMPTY_NODE);u=n.filter.updateFullNode(t.eventCache.getNode(),I,o)}else{const _=kT(i,sg(t));u=n.filter.updateFullNode(t.eventCache.getNode(),_,o)}else{const _=_n(e);if(".priority"===_){(0,re.hu)(1===zf(e),"Can't have a priority with additional path components");const b=l.getNode();m=t.serverCache.getNode();const I=S$(i,e,b,m);u=null!=I?n.filter.updatePriority(b,I):l.getNode()}else{const b=gi(e);let I;if(l.isCompleteForChild(_)){m=t.serverCache.getNode();const R=S$(i,e,l.getNode(),m);I=null!=R?l.getNode().getImmediateChild(_).updateChild(b,R):l.getNode().getImmediateChild(_)}else I=cF(i,_,t.serverCache);u=null!=I?n.filter.updateChild(l.getNode(),_,I,b,r,o):l.getNode()}}return Pw(t,u,l.isFullyInitialized()||vn(e),n.filter.filtersNodes())}}function PT(n,t,e,i,r,o,l,u){const m=t.serverCache;let _;const b=l?n.filter:n.filter.getIndexedFilter();if(vn(e))_=b.updateFullNode(m.getNode(),i,null);else if(b.filtersNodes()&&!m.isFiltered()){const L=m.getNode().updateChild(e,i);_=b.updateFullNode(m.getNode(),L,null)}else{const L=_n(e);if(!m.isCompleteForPath(e)&&zf(e)>1)return t;const j=gi(e),ne=m.getNode().getImmediateChild(L).updateChild(j,i);_=".priority"===L?b.updatePriority(m.getNode(),ne):b.updateChild(m.getNode(),L,ne,j,k$,null)}const I=x$(t,_,m.isFullyInitialized()||vn(e),b.filtersNodes());return R$(n,I,e,r,new dF(r,I,o),u)}function uF(n,t,e,i,r,o,l){const u=t.eventCache;let m,_;const b=new dF(r,t,o);if(vn(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,l),m=Pw(t,_,!0,n.filter.filtersNodes());else{const I=_n(e);if(".priority"===I)_=n.filter.updatePriority(t.eventCache.getNode(),i),m=Pw(t,_,u.isFullyInitialized(),u.isFiltered());else{const R=gi(e),L=u.getNode().getImmediateChild(I);let j;if(vn(R))j=i;else{const Z=b.getCompleteChild(I);j=null!=Z?".priority"===zN(R)&&Z.getChild(l$(R)).isEmpty()?Z:Z.updateChild(R,i):dn.EMPTY_NODE}m=L.equals(j)?t:Pw(t,n.filter.updateChild(u.getNode(),I,j,R,b,l),u.isFullyInitialized(),n.filter.filtersNodes())}}return m}function P$(n,t){return n.eventCache.isCompleteForChild(t)}function O$(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function hF(n,t,e,i,r,o,l,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,m=t;_=vn(e)?i:new xi(null).setTree(e,i);const b=t.serverCache.getNode();return _.children.inorderTraversal((I,R)=>{if(b.hasChild(I)){const j=O$(0,t.serverCache.getNode().getImmediateChild(I),R);m=PT(n,m,new Gn(I),j,r,o,l,u)}}),_.children.inorderTraversal((I,R)=>{const L=!t.serverCache.isCompleteForChild(I)&&null===R.value;if(!b.hasChild(I)&&!L){const Z=O$(0,t.serverCache.getNode().getImmediateChild(I),R);m=PT(n,m,new Gn(I),Z,r,o,l,u)}}),m}function lre(n,t){const e=sg(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!vn(t)&&!e.getImmediateChild(_n(t)).isEmpty())?e.getChild(t):null}function L$(n,t,e,i){t.type===nl.MERGE&&null!==t.source.queryId&&((0,re.hu)(sg(n.viewCache_),"We should always have a full cache before handling merges"),(0,re.hu)(AT(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function Jie(n,t,e,i,r){const o=new Yie;let l,u;if(e.type===nl.OVERWRITE){const _=e;_.source.fromUser?l=uF(n,t,_.path,_.snap,i,r,o):((0,re.hu)(_.source.fromServer,"Unknown source."),u=_.source.tagged||t.serverCache.isFiltered()&&!vn(_.path),l=PT(n,t,_.path,_.snap,i,r,u,o))}else if(e.type===nl.MERGE){const _=e;_.source.fromUser?l=function tre(n,t,e,i,r,o,l){let u=t;return i.foreach((m,_)=>{const b=Wi(e,m);P$(t,_n(b))&&(u=uF(n,u,b,_,r,o,l))}),i.foreach((m,_)=>{const b=Wi(e,m);P$(t,_n(b))||(u=uF(n,u,b,_,r,o,l))}),u}(n,t,_.path,_.children,i,r,o):((0,re.hu)(_.source.fromServer,"Unknown source."),u=_.source.tagged||t.serverCache.isFiltered(),l=hF(n,t,_.path,_.children,i,r,u,o))}else if(e.type===nl.ACK_USER_WRITE){const _=e;l=_.revert?function rre(n,t,e,i,r,o){let l;if(null!=RT(i,e))return t;{const u=new dF(i,t,r),m=t.eventCache.getNode();let _;if(vn(e)||".priority"===_n(e)){let b;if(t.serverCache.isFullyInitialized())b=kT(i,sg(t));else{const I=t.serverCache.getNode();(0,re.hu)(I instanceof dn,"serverChildren would be complete if leaf node"),b=lF(i,I)}_=n.filter.updateFullNode(m,b,o)}else{const b=_n(e);let I=cF(i,b,t.serverCache);null==I&&t.serverCache.isCompleteForChild(b)&&(I=m.getImmediateChild(b)),_=null!=I?n.filter.updateChild(m,b,I,gi(e),u,o):t.eventCache.getNode().hasChild(b)?n.filter.updateChild(m,b,dn.EMPTY_NODE,gi(e),u,o):m,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=kT(i,sg(t)),l.isLeafNode()&&(_=n.filter.updateFullNode(_,l,o)))}return l=t.serverCache.isFullyInitialized()||null!=RT(i,Pn()),Pw(t,_,l,n.filter.filtersNodes())}}(n,t,_.path,i,r,o):function nre(n,t,e,i,r,o,l){if(null!=RT(r,e))return t;const u=t.serverCache.isFiltered(),m=t.serverCache;if(null!=i.value){if(vn(e)&&m.isFullyInitialized()||m.isCompleteForPath(e))return PT(n,t,e,m.getNode().getChild(e),r,o,u,l);if(vn(e)){let _=new xi(null);return m.getNode().forEachChild(sd,(b,I)=>{_=_.set(new Gn(b),I)}),hF(n,t,e,_,r,o,u,l)}return t}{let _=new xi(null);return i.foreach((b,I)=>{const R=Wi(e,b);m.isCompleteForPath(R)&&(_=_.set(b,m.getNode().getChild(R)))}),hF(n,t,e,_,r,o,u,l)}}(n,t,_.path,_.affectedTree,i,r,o)}else{if(e.type!==nl.LISTEN_COMPLETE)throw(0,re.g5)("Unknown operation type: "+e.type);l=function ire(n,t,e,i,r){const o=t.serverCache;return R$(n,x$(t,o.getNode(),o.isFullyInitialized()||vn(e),o.isFiltered()),e,i,k$,r)}(n,t,e.path,i,o)}const m=o.getChanges();return function ere(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=AT(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(function v$(n){return{type:"value",snapshotNode:n}}(AT(t)))}}(t,l,m),{viewCache:l,changes:m}}(n.processor_,r,t,e,i);return function Xie(n,t){(0,re.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,re.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,re.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function B$(n,t,e,i){return function kie(n,t,e,i){const r=[],o=[];return t.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(function _ie(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(l.childName,l.snapshotNode))}),Rw(n,r,"child_removed",t,i,e),Rw(n,r,"child_added",t,i,e),Rw(n,r,"child_moved",o,i,e),Rw(n,r,"child_changed",t,i,e),Rw(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let OT,FT;function fF(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,re.hu)(null!=o,"SyncTree gave us an op for an invalid query."),L$(o,t,e,i)}{let o=[];for(const l of n.views.values())o=o.concat(L$(l,t,e,i));return o}}function $f(n,t){let e=null;for(const i of n.views.values())e=e||lre(i,t);return e}class $${constructor(t){this.listenProvider_=t,this.syncPointTree_=new xi(null),this.pendingWriteTree_=function qie(){return{visibleWrites:ql.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mF(n,t,e,i,r){return function Nie(n,t,e,i,r){(0,re.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=Ow(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?$v(n,new og({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Wf(n,t,e=!1){const i=function Lie(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Bie(n,t){const e=n.allWrites.findIndex(u=>u.writeId===t);(0,re.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const u=n.allWrites[l];u.visible&&(l>=e&&Vie(u,i.path)?r=!1:tl(i.path,u.path)&&(o=!0)),l--}return!!r&&(o?(function Uie(n){n.visibleWrites=I$(n.allWrites,zie,Pn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=C$(n.visibleWrites,i.path):lo(i.children,m=>{n.visibleWrites=C$(n.visibleWrites,Wi(i.path,m))}),!0))}(n.pendingWriteTree_,t)){let o=new xi(null);return null!=i.snap?o=o.set(Pn(),!0):lo(i.children,l=>{o=o.set(new Gn(l),!0)}),$v(n,new TT(i.path,o,e))}return[]}function Nw(n,t,e){return $v(n,new og({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function BT(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(l,u)=>{const _=$f(u,as(l,t));if(_)return _});return T$(r,t,o,e,!0)}function $v(n,t){return W$(t,n.syncPointTree_,null,MT(n.pendingWriteTree_,Pn()))}function W$(n,t,e,i){if(vn(n.path))return q$(n,t,e,i);{const r=t.get(Pn());null==e&&null!=r&&(e=$f(r,Pn()));let o=[];const l=_n(n.path),u=n.operationForChild(l),m=t.children.get(l);if(m&&u){const _=e?e.getImmediateChild(l):null,b=A$(i,l);o=o.concat(W$(u,m,_,b))}return r&&(o=o.concat(fF(r,n,i,e))),o}}function q$(n,t,e,i){const r=t.get(Pn());null==e&&null!=r&&(e=$f(r,Pn()));let o=[];return t.children.inorderTraversal((l,u)=>{const m=e?e.getImmediateChild(l):null,_=A$(i,l),b=n.operationForChild(l);b&&(o=o.concat(q$(b,u,m,_)))}),r&&(o=o.concat(fF(r,n,i,e))),o}function gF(n,t){return n.tagToQueryMap.get(t)}function _F(n){const t=n.indexOf("$");return(0,re.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Gn(n.substr(0,t))}}function vF(n,t,e){const i=n.syncPointTree_.get(t);return(0,re.hu)(i,"Missing sync point for query tag that we're tracking"),fF(i,e,MT(n.pendingWriteTree_,t),null)}class yF{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new yF(e)}node(){return this.node_}}class bF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Wi(this.path_,t);return new bF(this.syncTree_,e)}node(){return BT(this.syncTree_,this.path_)}}const Are=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},Y$=function(n,t,e){return n&&"object"==typeof n?((0,re.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Mre(n[".sv"],t,e):"object"==typeof n[".sv"]?kre(n[".sv"],t):void(0,re.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Mre=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,re.hu)(!1,"Unexpected server value: "+n)},kre=function(n,t,e){n.hasOwnProperty("increment")||(0,re.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,re.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,re.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},K$=function(n,t,e,i){return xF(t,new bF(e,n),i)},wF=function(n,t,e){return xF(n,new yF(t),e)};function xF(n,t,e){const i=n.getPriority().val(),r=Y$(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const l=n,u=Y$(l.getValue(),t,e);return u!==l.getValue()||r!==l.getPriority().val()?new Bv(u,Ji(r)):n}{const l=n;return o=l,r!==l.getPriority().val()&&(o=o.updatePriority(new Bv(r))),l.forEachChild(wi,(u,m)=>{const _=xF(m,t.getImmediateChild(u),e);_!==m&&(o=o.updateImmediateChild(u,_))}),o}}class CF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function UT(n,t){let e=t instanceof Gn?t:new Gn(t),i=n,r=_n(e);for(;null!==r;){const o=(0,re.DV)(i.node.children,r)||{children:{},childCount:0};i=new CF(r,i,o),e=gi(e),r=_n(e)}return i}function lg(n){return n.node.value}function EF(n,t){n.node.value=t,DF(n)}function Q$(n){return n.node.childCount>0}function zT(n,t){lo(n.node.children,(e,i)=>{t(new CF(e,n,i))})}function X$(n,t,e,i){e&&!i&&t(n),zT(n,r=>{X$(r,t,!0,i)}),e&&i&&t(n)}function Bw(n){return new Gn(null===n.parent?n.name:Bw(n.parent)+"/"+n.name)}function DF(n){null!==n.parent&&function Ore(n,t,e){const i=function Rre(n){return void 0===lg(n)&&!Q$(n)}(e),r=(0,re.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,DF(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,DF(n))}(n.parent,n.name,n)}const Nre=/[\[\].#$\/\u0000-\u001F\u007F]/,Fre=/[\[\].#$\u0000-\u001F\u007F]/,IF=10485760,HT=function(n){return"string"==typeof n&&0!==n.length&&!Nre.test(n)},Uw=function(n,t,e){const i=e instanceof Gn?new Jne(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+ig(i));if("function"==typeof t)throw new Error(n+"contains a function "+ig(i)+" with contents = "+t.toString());if(gT(t))throw new Error(n+"contains "+t.toString()+" "+ig(i));if("string"==typeof t&&t.length>IF/3&&(0,re.ug)(t)>IF)throw new Error(n+"contains a string greater than "+IF+" utf8 bytes "+ig(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(lo(t,(l,u)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(o=!0,!HT(l)))throw new Error(n+" contains an invalid key ("+l+") "+ig(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function eie(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,re.ug)(t),c$(n)})(i,l),Uw(n,u,i),function tie(n){const t=n.parts_.pop();n.byteLength_-=(0,re.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+ig(i)+" in addition to actual children.")}},tG=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!HT(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!Fre.test(n)}(n)}(e))throw new Error((0,re.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ure{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fa(n,t,e){(function jT(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!HN(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)})(n,e),function iG(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(zre(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>tl(i,t)||tl(t,i))}function zre(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();tg&&ao("event: "+e.toString()),Fv(i)}}}const rG="repo_interrupt",Hre=25;class jre{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ure,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=IT(),this.transactionQueueTree_=new CF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oG(n){const e=n.infoData_.getNode(new Gn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Hw(n){return Are({timestamp:oG(n)})}function sG(n,t,e,i,r){n.dataUpdateCount++;const o=new Gn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let l=[];if(r)if(i){const m=(0,re.UI)(e,_=>Ji(_));l=function Cre(n,t,e,i){const r=gF(n,i);if(r){const o=_F(r),l=o.path,u=o.queryId,m=as(l,t),_=xi.fromObject(e);return vF(n,l,new Hv(iF(u),m,_))}return[]}(n.serverSyncTree_,o,m,r)}else{const m=Ji(e);l=function G$(n,t,e,i){const r=gF(n,i);if(null!=r){const o=_F(r),l=o.path,u=o.queryId,m=as(l,t);return vF(n,l,new og(iF(u),m,e))}return[]}(n.serverSyncTree_,o,m,r)}else if(i){const m=(0,re.UI)(e,_=>Ji(_));l=function bre(n,t,e){const i=xi.fromObject(e);return $v(n,new Hv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,m)}else{const m=Ji(e);l=Nw(n.serverSyncTree_,o,m)}let u=o;l.length>0&&(u=Wv(n,o)),fa(n.eventQueue_,u,l)}function aG(n,t){AF(n,"connected",t),!1===t&&function Zre(n){Gv(n,"onDisconnectEvents");const t=Hw(n),e=IT();eF(n.onDisconnect_,Pn(),(r,o)=>{const l=K$(r,o,n.serverSyncTree_,t);zv(e,r,l)});let i=[];eF(e,Pn(),(r,o)=>{i=i.concat(Nw(n.serverSyncTree_,r,o));const l=function PF(n,t){const e=Bw(dG(n,t)),i=UT(n.transactionQueueTree_,t);return function Pre(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{OF(n,r)}),OF(n,i),X$(i,r=>{OF(n,r)}),e}(n,r);Wv(n,l)}),n.onDisconnect_=IT(),fa(n.eventQueue_,Pn(),i)}(n)}function AF(n,t,e){const i=new Gn("/.info/"+t),r=Ji(e);n.infoData_.updateSnapshot(i,r);const o=Nw(n.infoSyncTree_,i,r);fa(n.eventQueue_,i,o)}function $T(n){return n.nextWriteId_++}function Gv(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ao(e,...t)}function RF(n,t,e){return BT(n.serverSyncTree_,t,e)||dn.EMPTY_NODE}function GT(n,t=n.transactionQueueTree_){if(t||WT(n,t),lg(t)){const e=uG(n,t);(0,re.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function toe(n,t,e){const i=e.map(_=>_.currentWriteId),r=RF(n,t,i);let o=r;const l=r.hash();for(let _=0;_<e.length;_++){const b=e[_];(0,re.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const I=as(t,b.path);o=o.updateChild(I,b.currentOutputSnapshotRaw)}const u=o.val(!0),m=t;n.server_.put(m.toString(),u,_=>{Gv(n,"transaction put response",{path:m.toString(),status:_});let b=[];if("ok"===_){const I=[];for(let R=0;R<e.length;R++)e[R].status=2,b=b.concat(Wf(n.serverSyncTree_,e[R].currentWriteId)),e[R].onComplete&&I.push(()=>e[R].onComplete(null,!0,e[R].currentOutputSnapshotResolved)),e[R].unwatcher();WT(n,UT(n.transactionQueueTree_,t)),GT(n,n.transactionQueueTree_),fa(n.eventQueue_,t,b);for(let R=0;R<I.length;R++)Fv(I[R])}else{if("datastale"===_)for(let I=0;I<e.length;I++)e[I].status=3===e[I].status?4:0;else{Lo("transaction at "+m.toString()+" failed: "+_);for(let I=0;I<e.length;I++)e[I].status=4,e[I].abortReason=_}Wv(n,t)}},l)}(n,Bw(t),e)}else Q$(t)&&zT(t,e=>{GT(n,e)})}function Wv(n,t){const e=dG(n,t),i=Bw(e);return function noe(n,t,e){if(0===t.length)return;const i=[];let r=[];const l=t.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const m=t[u],_=as(e,m.path);let I,b=!1;if((0,re.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)b=!0,I=m.abortReason,r=r.concat(Wf(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=Hre)b=!0,I="maxretry",r=r.concat(Wf(n.serverSyncTree_,m.currentWriteId,!0));else{const R=RF(n,m.path,l);m.currentInputSnapshot=R;const L=t[u].update(R.val());if(void 0!==L){Uw("transaction failed: Data returned ",L,m.path);let j=Ji(L);"object"==typeof L&&null!=L&&(0,re.r3)(L,".priority")||(j=j.updatePriority(R.getPriority()));const ne=m.currentWriteId,Re=Hw(n),Ke=wF(j,R,Re);m.currentOutputSnapshotRaw=j,m.currentOutputSnapshotResolved=Ke,m.currentWriteId=$T(n),l.splice(l.indexOf(ne),1),r=r.concat(mF(n.serverSyncTree_,m.path,Ke,m.currentWriteId,m.applyLocally)),r=r.concat(Wf(n.serverSyncTree_,ne,!0))}else b=!0,I="nodata",r=r.concat(Wf(n.serverSyncTree_,m.currentWriteId,!0))}fa(n.eventQueue_,e,r),r=[],b&&(t[u].status=2,setTimeout(t[u].unwatcher,Math.floor(0)),t[u].onComplete&&i.push("nodata"===I?()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot):()=>t[u].onComplete(new Error(I),!1,null)))}WT(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)Fv(i[u]);GT(n,n.transactionQueueTree_)}(n,uG(n,e),i),i}function dG(n,t){let e,i=n.transactionQueueTree_;for(e=_n(t);null!==e&&void 0===lg(i);)i=UT(i,e),e=_n(t=gi(t));return i}function uG(n,t){const e=[];return hG(n,t,e),e.sort((i,r)=>i.order-r.order),e}function hG(n,t,e){const i=lg(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);zT(t,r=>{hG(n,r,e)})}function WT(n,t){const e=lg(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,EF(t,e.length>0?e:void 0)}zT(t,i=>{WT(n,i)})}function OF(n,t){const e=lg(t);if(e){const i=[];let r=[],o=-1;for(let l=0;l<e.length;l++)3===e[l].status||(1===e[l].status?((0,re.hu)(o===l-1,"All SENT items should be at beginning of queue."),o=l,e[l].status=3,e[l].abortReason="set"):((0,re.hu)(0===e[l].status,"Unexpected transaction status in abort"),e[l].unwatcher(),r=r.concat(Wf(n.serverSyncTree_,e[l].currentWriteId,!0)),e[l].onComplete&&i.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));-1===o?EF(t,void 0):e.length=o+1,fa(n.eventQueue_,Bw(t),r);for(let l=0;l<i.length;l++)Fv(i[l])}}const NF=function(n,t){const e=ooe(n),i=e.namespace;return"firebase.com"===e.domain&&od(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&od("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Lo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new NN(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Gn(e.pathString)}},ooe=function(n){let t="",e="",i="",r="",o="",l=!0,u="https",m=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(u=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let I=n.indexOf("?");-1===I&&(I=n.length),t=n.substring(0,Math.min(b,I)),b<I&&(r=function ioe(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(b,I)));const R=function roe(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Lo(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,I)));_=t.indexOf(":"),_>=0?(l="https"===u||"wss"===u,m=parseInt(t.substring(_+1),10)):_=t.length;const L=t.slice(0,_);if("localhost"===L.toLowerCase())e="localhost";else if(L.split(".").length<=2)e=L;else{const j=t.indexOf(".");i=t.substring(0,j).toLowerCase(),e=t.substring(j+1),o=i}"ns"in R&&(o=R.ns)}return{host:t,port:m,domain:e,subdomain:i,secure:l,scheme:u,pathString:r,namespace:o}};class ma{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return vn(this._path)?null:zN(this._path)}get ref(){return new Zl(this._repo,this._path)}get _queryIdentifier(){const t=b$(this._queryParams),e=PN(t);return"{}"===e?"default":e}get _queryObject(){return b$(this._queryParams)}isEqual(t){if(!((t=(0,re.m9)(t))instanceof ma))return!1;const e=this._repo===t._repo,i=HN(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Qne(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}class Zl extends ma{constructor(t,e){super(t,e,new KN,!1)}get parent(){const t=l$(this._path);return null===t?null:new Zl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}(function ure(n){(0,re.hu)(!OT,"__referenceConstructor has already been defined"),OT=n})(Zl),function gre(n){(0,re.hu)(!FT,"__referenceConstructor has already been defined"),FT=n}(Zl);const yoe="FIREBASE_DATABASE_EMULATOR_HOST",LF={};let yG=!1;class Doe{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function $re(n,t,e){if(n.stats_=BN(n.repoInfo_),n.forceRestClient_||Ene())n.server_=new DT(n.repoInfo_,(i,r,o,l)=>{sG(n,i,r,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>aG(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,re.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new rg(n.repoInfo_,t,(i,r,o,l)=>{sG(n,i,r,o,l)},i=>{aG(n,i)},i=>{!function Gre(n,t){lo(t,(e,i)=>{AF(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Ane(n,t){const e=n.toString();return LN[e]||(LN[e]=t()),LN[e]}(n.repoInfo_,()=>new Aie(n.stats_,n.server_)),n.infoData_=new Eie,n.infoSyncTree_=new $$({startListening:(i,r,o,l)=>{let u=[];const m=n.infoData_.getNode(i._path);return m.isEmpty()||(u=Nw(n.infoSyncTree_,i._path,m),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),AF(n,"connected",!1),n.serverSyncTree_=new $$({startListening:(i,r,o,l)=>(n.server_.listen(i,o,r,(u,m)=>{const _=l(u,m);fa(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zl(this._repo,Pn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function xoe(n,t){const e=LF[t];(!e||e[n.key]!==n)&&od(`Database ${t}(${n.repoInfo_}) has already been deleted.`),function cG(n){n.persistentConnection_&&n.persistentConnection_.interrupt(rG)}(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&od("Cannot call "+t+" on a deleted database.")}}function Ioe(n=(0,ns.getApp)(),t){const e=(0,ns._getProvider)(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const i=(0,re.P0)("database");i&&function Toe(n,t,e,i={}){(n=(0,re.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&od("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&od('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Cw(Cw.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,re.Sg)(i.mockUserToken,n.app.options.projectId);o=new Cw(l)}!function boe(n,t,e,i){n.repoInfo_=new NN(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(e,...i)}return e}rg.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},rg.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Soe(n){(function hne(n){MN=n})(ns.SDK_VERSION),(0,ns._registerComponent)(new jb.wA("database",(t,{instanceIdentifier:e})=>function woe(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||od("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ao("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,_,l=NF(o,r),u=l.repoInfo;typeof process<"u"&&process.env&&(_=process.env[yoe]),_?(m=!0,o=`http://${_}?ns=${u.namespace}`,l=NF(o,r),u=l.repoInfo):m=!l.repoInfo.secure;const b=r&&m?new Cw(Cw.OWNER):new Ine(n.name,n.options,t);tG("Invalid Firebase Database URL",l),vn(l.path)||od("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function Coe(n,t,e,i){let r=LF[t.name];r||(r={},LF[t.name]=r);let o=r[n.toURLString()];return o&&od("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new jre(n,yG,e,i),r[n.toURLString()]=o,o}(u,n,b,new Dne(n.name,e));return new Doe(I,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ns.registerVersion)(E6,"0.14.4",n),(0,ns.registerVersion)(E6,"0.14.4","esm2017")}();class BF{constructor(t){return t}}const wG="database",VF=new s.OlP("angularfire2.database-instances");function Poe(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new BF(i)}}const Ooe={provide:class koe{constructor(){return(0,In.vb)(wG)}},deps:[[new s.FiY,VF]]},Noe={provide:BF,useFactory:function Roe(n,t){const e=(0,In.JM)(wG,n,t);return e&&new BF(e)},deps:[[new s.FiY,VF],Wp]};let Foe=(()=>{class n{constructor(){(0,Su.KN)("angularfire",In.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Noe,Ooe]}),n})();function Loe(n,...t){return{ngModule:Foe,providers:[{provide:VF,useFactory:Poe(n),multi:!0,deps:[s.R0b,s.zs3,In.HU,bI,[new s.FiY,SN],[new s.FiY,Tv],...t]}]}}const Boe=(0,In.u3)(Ioe,!0);class UF{constructor(t){return t}}const xG="firestore",zF=new s.OlP("angularfire2.firestore-instances");function zoe(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new UF(i)}}const Hoe={provide:class Voe{constructor(){return(0,In.vb)(xG)}},deps:[[new s.FiY,zF]]},joe={provide:UF,useFactory:function Uoe(n,t){const e=(0,In.JM)(xG,n,t);return e&&new UF(e)},deps:[[new s.FiY,zF],Wp]};let $oe=(()=>{class n{constructor(){(0,Su.KN)("angularfire",In.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[joe,Hoe]}),n})();function Goe(n,...t){return{ngModule:$oe,providers:[{provide:zF,useFactory:zoe(n),multi:!0,deps:[s.R0b,s.zs3,In.HU,bI,[new s.FiY,SN],[new s.FiY,Tv],...t]}]}}const Woe=(0,In.u3)(O7,!0);let qoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Fb,zc,B_,MI,f5]}),n})(),Zoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[g5]}),n.\u0275inj=s.cJS({imports:[$s,ree,ine,Ot,KZ(()=>QZ(IN_firebase)),dne(()=>une()),Loe(()=>Boe()),Goe(()=>Woe()),Hl.hO.initializeApp(IN_firebase),Mc,qoe,y3]}),n})();am().bootstrapModule(Zoe).catch(n=>console.error(n))},9751:(xt,Ae,U)=>{U.d(Ae,{y:()=>be});var s=U(930),$=U(727),N=U(8822),ae=U(9635),ue=U(2416),ie=U(576),Ee=U(2806);let be=(()=>{class te{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Qe=new te;return Qe.source=this,Qe.operator=Me,Qe}subscribe(Me,Qe,dt){const we=function q(te){return te&&te instanceof s.Lv||function Y(te){return te&&(0,ie.m)(te.next)&&(0,ie.m)(te.error)&&(0,ie.m)(te.complete)}(te)&&(0,$.Nn)(te)}(Me)?Me:new s.Hp(Me,Qe,dt);return(0,Ee.x)(()=>{const{operator:Oe,source:Fe}=this;we.add(Oe?Oe.call(we,Fe):Fe?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Qe){Me.error(Qe)}}forEach(Me,Qe){return new(Qe=xe(Qe))((dt,we)=>{const Oe=new s.Hp({next:Fe=>{try{Me(Fe)}catch(ze){we(ze),Oe.unsubscribe()}},error:we,complete:dt});this.subscribe(Oe)})}_subscribe(Me){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(Me)}[N.L](){return this}pipe(...Me){return(0,ae.U)(Me)(this)}toPromise(Me){return new(Me=xe(Me))((Qe,dt)=>{let we;this.subscribe(Oe=>we=Oe,Oe=>dt(Oe),()=>Qe(we))})}}return te.create=$e=>new te($e),te})();function xe(te){var $e;return null!==($e=te??ue.v.Promise)&&void 0!==$e?$e:Promise}},7579:(xt,Ae,U)=>{U.d(Ae,{x:()=>Ee});var s=U(9751),$=U(727);const ae=(0,U(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=U(8737),ie=U(2806);let Ee=(()=>{class xe extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const te=new be(this,this);return te.operator=q,te}_throwIfClosed(){if(this.closed)throw new ae}next(q){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(q)}})}error(q){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:te}=this;for(;te.length;)te.shift().error(q)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:te,isStopped:$e,observers:Me}=this;return te||$e?$.Lc:(this.currentObservers=null,Me.push(q),new $.w0(()=>{this.currentObservers=null,(0,ue.P)(Me,q)}))}_checkFinalizedStatuses(q){const{hasError:te,thrownError:$e,isStopped:Me}=this;te?q.error($e):Me&&q.complete()}asObservable(){const q=new s.y;return q.source=this,q}}return xe.create=(Y,q)=>new be(Y,q),xe})();class be extends Ee{constructor(Y,q){super(),this.destination=Y,this.source=q}next(Y){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===te||te.call(q,Y)}error(Y){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===te||te.call(q,Y)}complete(){var Y,q;null===(q=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===q||q.call(Y)}_subscribe(Y){var q,te;return null!==(te=null===(q=this.source)||void 0===q?void 0:q.subscribe(Y))&&void 0!==te?te:$.Lc}}},930:(xt,Ae,U)=>{U.d(Ae,{Hp:()=>dt,Lv:()=>te});var s=U(576),$=U(727),N=U(2416),ae=U(7849),ue=U(5032);const ie=xe("C",void 0,void 0);function xe(Se,Te,Ne){return{kind:Se,value:Te,error:Ne}}var Y=U(3410),q=U(2806);class te extends $.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,$.Nn)(Te)&&Te.add(this)):this.destination=ze}static create(Te,Ne,Ge){return new dt(Te,Ne,Ge)}next(Te){this.isStopped?Fe(function be(Se){return xe("N",Se,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Fe(function Ee(Se){return xe("E",void 0,Se)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Fe(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Me(Se,Te){return $e.call(Se,Te)}class Qe{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(Te)}catch(Ge){we(Ge)}}error(Te){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(Te)}catch(Ge){we(Ge)}else we(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Ne){we(Ne)}}}class dt extends te{constructor(Te,Ne,Ge){let Be;if(super(),(0,s.m)(Te)||!Te)Be={next:Te??void 0,error:Ne??void 0,complete:Ge??void 0};else{let de;this&&N.v.useDeprecatedNextContext?(de=Object.create(Te),de.unsubscribe=()=>this.unsubscribe(),Be={next:Te.next&&Me(Te.next,de),error:Te.error&&Me(Te.error,de),complete:Te.complete&&Me(Te.complete,de)}):Be=Te}this.destination=new Qe(Be)}}function we(Se){N.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Se):(0,ae.h)(Se)}function Fe(Se,Te){const{onStoppedNotification:Ne}=N.v;Ne&&Y.z.setTimeout(()=>Ne(Se,Te))}const ze={closed:!0,next:ue.Z,error:function Oe(Se){throw Se},complete:ue.Z}},727:(xt,Ae,U)=>{U.d(Ae,{Lc:()=>ie,w0:()=>ue,Nn:()=>Ee});var s=U(576);const N=(0,U(3888).d)(xe=>function(q){xe(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((te,$e)=>`${$e+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var ae=U(8737);class ue{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Me of q)Me.remove(this);else q.remove(this);const{initialTeardown:te}=this;if((0,s.m)(te))try{te()}catch(Me){Y=Me instanceof N?Me.errors:[Me]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Me of $e)try{be(Me)}catch(Qe){Y=Y??[],Qe instanceof N?Y=[...Y,...Qe.errors]:Y.push(Qe)}}if(Y)throw new N(Y)}}add(Y){var q;if(Y&&Y!==this)if(this.closed)be(Y);else{if(Y instanceof ue){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(Y)}}_hasParent(Y){const{_parentage:q}=this;return q===Y||Array.isArray(q)&&q.includes(Y)}_addParent(Y){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(Y),q):q?[q,Y]:Y}_removeParent(Y){const{_parentage:q}=this;q===Y?this._parentage=null:Array.isArray(q)&&(0,ae.P)(q,Y)}remove(Y){const{_finalizers:q}=this;q&&(0,ae.P)(q,Y),Y instanceof ue&&Y._removeParent(this)}}ue.EMPTY=(()=>{const xe=new ue;return xe.closed=!0,xe})();const ie=ue.EMPTY;function Ee(xe){return xe instanceof ue||xe&&"closed"in xe&&(0,s.m)(xe.remove)&&(0,s.m)(xe.add)&&(0,s.m)(xe.unsubscribe)}function be(xe){(0,s.m)(xe)?xe():xe.unsubscribe()}},2416:(xt,Ae,U)=>{U.d(Ae,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(xt,Ae,U)=>{U.d(Ae,{E:()=>$});const $=new(U(9751).y)(ue=>ue.complete())},8996:(xt,Ae,U)=>{U.d(Ae,{D:()=>Te});var s=U(8421),$=U(5363),N=U(9468),ie=U(9751),be=U(2202),xe=U(576),Y=U(9672);function te(Ne,Ge){if(!Ne)throw new Error("Iterable cannot be null");return new ie.y(Be=>{(0,Y.f)(Be,Ge,()=>{const de=Ne[Symbol.asyncIterator]();(0,Y.f)(Be,Ge,()=>{de.next().then(rt=>{rt.done?Be.complete():Be.next(rt.value)})},0,!0)})})}var $e=U(3670),Me=U(8239),Qe=U(1144),dt=U(6495),we=U(2206),Oe=U(4532),Fe=U(3260);function Te(Ne,Ge){return Ge?function Se(Ne,Ge){if(null!=Ne){if((0,$e.c)(Ne))return function ae(Ne,Ge){return(0,s.Xf)(Ne).pipe((0,N.R)(Ge),(0,$.Q)(Ge))}(Ne,Ge);if((0,Qe.z)(Ne))return function Ee(Ne,Ge){return new ie.y(Be=>{let de=0;return Ge.schedule(function(){de===Ne.length?Be.complete():(Be.next(Ne[de++]),Be.closed||this.schedule())})})}(Ne,Ge);if((0,Me.t)(Ne))return function ue(Ne,Ge){return(0,s.Xf)(Ne).pipe((0,N.R)(Ge),(0,$.Q)(Ge))}(Ne,Ge);if((0,we.D)(Ne))return te(Ne,Ge);if((0,dt.T)(Ne))return function q(Ne,Ge){return new ie.y(Be=>{let de;return(0,Y.f)(Be,Ge,()=>{de=Ne[be.h](),(0,Y.f)(Be,Ge,()=>{let rt,At;try{({value:rt,done:At}=de.next())}catch(ut){return void Be.error(ut)}At?Be.complete():Be.next(rt)},0,!0)}),()=>(0,xe.m)(de?.return)&&de.return()})}(Ne,Ge);if((0,Fe.L)(Ne))return function ze(Ne,Ge){return te((0,Fe.Q)(Ne),Ge)}(Ne,Ge)}throw(0,Oe.z)(Ne)}(Ne,Ge):(0,s.Xf)(Ne)}},8421:(xt,Ae,U)=>{U.d(Ae,{Xf:()=>$e});var s=U(7582),$=U(1144),N=U(8239),ae=U(9751),ue=U(3670),ie=U(2206),Ee=U(4532),be=U(6495),xe=U(3260),Y=U(576),q=U(7849),te=U(8822);function $e(Se){if(Se instanceof ae.y)return Se;if(null!=Se){if((0,ue.c)(Se))return function Me(Se){return new ae.y(Te=>{const Ne=Se[te.L]();if((0,Y.m)(Ne.subscribe))return Ne.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,$.z)(Se))return function Qe(Se){return new ae.y(Te=>{for(let Ne=0;Ne<Se.length&&!Te.closed;Ne++)Te.next(Se[Ne]);Te.complete()})}(Se);if((0,N.t)(Se))return function dt(Se){return new ae.y(Te=>{Se.then(Ne=>{Te.closed||(Te.next(Ne),Te.complete())},Ne=>Te.error(Ne)).then(null,q.h)})}(Se);if((0,ie.D)(Se))return Oe(Se);if((0,be.T)(Se))return function we(Se){return new ae.y(Te=>{for(const Ne of Se)if(Te.next(Ne),Te.closed)return;Te.complete()})}(Se);if((0,xe.L)(Se))return function Fe(Se){return Oe((0,xe.Q)(Se))}(Se)}throw(0,Ee.z)(Se)}function Oe(Se){return new ae.y(Te=>{(function ze(Se,Te){var Ne,Ge,Be,de;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Ne=(0,s.KL)(Se);!(Ge=yield Ne.next()).done;)if(Te.next(Ge.value),Te.closed)return}catch(rt){Be={error:rt}}finally{try{Ge&&!Ge.done&&(de=Ne.return)&&(yield de.call(Ne))}finally{if(Be)throw Be.error}}Te.complete()})})(Se,Te).catch(Ne=>Te.error(Ne))})}},6451:(xt,Ae,U)=>{U.d(Ae,{T:()=>ie});var s=U(8189),$=U(8421),N=U(515),ae=U(3269),ue=U(8996);function ie(...Ee){const be=(0,ae.yG)(Ee),xe=(0,ae._6)(Ee,1/0),Y=Ee;return Y.length?1===Y.length?(0,$.Xf)(Y[0]):(0,s.J)(xe)((0,ue.D)(Y,be)):N.E}},5403:(xt,Ae,U)=>{U.d(Ae,{x:()=>$});var s=U(930);function $(ae,ue,ie,Ee,be){return new N(ae,ue,ie,Ee,be)}class N extends s.Lv{constructor(ue,ie,Ee,be,xe,Y){super(ue),this.onFinalize=xe,this.shouldUnsubscribe=Y,this._next=ie?function(q){try{ie(q)}catch(te){ue.error(te)}}:super._next,this._error=be?function(q){try{be(q)}catch(te){ue.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(q){ue.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(xt,Ae,U)=>{U.d(Ae,{U:()=>N});var s=U(4482),$=U(5403);function N(ae,ue){return(0,s.e)((ie,Ee)=>{let be=0;ie.subscribe((0,$.x)(Ee,xe=>{Ee.next(ae.call(ue,xe,be++))}))})}},8189:(xt,Ae,U)=>{U.d(Ae,{J:()=>N});var s=U(5577),$=U(4671);function N(ae=1/0){return(0,s.z)($.y,ae)}},5577:(xt,Ae,U)=>{U.d(Ae,{z:()=>be});var s=U(4004),$=U(8421),N=U(4482),ae=U(9672),ue=U(5403),Ee=U(576);function be(xe,Y,q=1/0){return(0,Ee.m)(Y)?be((te,$e)=>(0,s.U)((Me,Qe)=>Y(te,Me,$e,Qe))((0,$.Xf)(xe(te,$e))),q):("number"==typeof Y&&(q=Y),(0,N.e)((te,$e)=>function ie(xe,Y,q,te,$e,Me,Qe,dt){const we=[];let Oe=0,Fe=0,ze=!1;const Se=()=>{ze&&!we.length&&!Oe&&Y.complete()},Te=Ge=>Oe<te?Ne(Ge):we.push(Ge),Ne=Ge=>{Me&&Y.next(Ge),Oe++;let Be=!1;(0,$.Xf)(q(Ge,Fe++)).subscribe((0,ue.x)(Y,de=>{$e?.(de),Me?Te(de):Y.next(de)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Oe--;we.length&&Oe<te;){const de=we.shift();Qe?(0,ae.f)(Y,Qe,()=>Ne(de)):Ne(de)}Se()}catch(de){Y.error(de)}}))};return xe.subscribe((0,ue.x)(Y,Te,()=>{ze=!0,Se()})),()=>{dt?.()}}(te,$e,xe,q)))}},5363:(xt,Ae,U)=>{U.d(Ae,{Q:()=>ae});var s=U(9672),$=U(4482),N=U(5403);function ae(ue,ie=0){return(0,$.e)((Ee,be)=>{Ee.subscribe((0,N.x)(be,xe=>(0,s.f)(be,ue,()=>be.next(xe),ie),()=>(0,s.f)(be,ue,()=>be.complete(),ie),xe=>(0,s.f)(be,ue,()=>be.error(xe),ie)))})}},3099:(xt,Ae,U)=>{U.d(Ae,{B:()=>ue});var s=U(8421),$=U(7579),N=U(930),ae=U(4482);function ue(Ee={}){const{connector:be=(()=>new $.x),resetOnError:xe=!0,resetOnComplete:Y=!0,resetOnRefCountZero:q=!0}=Ee;return te=>{let $e,Me,Qe,dt=0,we=!1,Oe=!1;const Fe=()=>{Me?.unsubscribe(),Me=void 0},ze=()=>{Fe(),$e=Qe=void 0,we=Oe=!1},Se=()=>{const Te=$e;ze(),Te?.unsubscribe()};return(0,ae.e)((Te,Ne)=>{dt++,!Oe&&!we&&Fe();const Ge=Qe=Qe??be();Ne.add(()=>{dt--,0===dt&&!Oe&&!we&&(Me=ie(Se,q))}),Ge.subscribe(Ne),!$e&&dt>0&&($e=new N.Hp({next:Be=>Ge.next(Be),error:Be=>{Oe=!0,Fe(),Me=ie(ze,xe,Be),Ge.error(Be)},complete:()=>{we=!0,Fe(),Me=ie(ze,Y),Ge.complete()}}),(0,s.Xf)(Te).subscribe($e))})(te)}}function ie(Ee,be,...xe){if(!0===be)return void Ee();if(!1===be)return;const Y=new N.Hp({next:()=>{Y.unsubscribe(),Ee()}});return(0,s.Xf)(be(...xe)).subscribe(Y)}},9468:(xt,Ae,U)=>{U.d(Ae,{R:()=>$});var s=U(4482);function $(N,ae=0){return(0,s.e)((ue,ie)=>{ie.add(N.schedule(()=>ue.subscribe(ie),ae))})}},8505:(xt,Ae,U)=>{U.d(Ae,{b:()=>ue});var s=U(576),$=U(4482),N=U(5403),ae=U(4671);function ue(ie,Ee,be){const xe=(0,s.m)(ie)||Ee||be?{next:ie,error:Ee,complete:be}:ie;return xe?(0,$.e)((Y,q)=>{var te;null===(te=xe.subscribe)||void 0===te||te.call(xe);let $e=!0;Y.subscribe((0,N.x)(q,Me=>{var Qe;null===(Qe=xe.next)||void 0===Qe||Qe.call(xe,Me),q.next(Me)},()=>{var Me;$e=!1,null===(Me=xe.complete)||void 0===Me||Me.call(xe),q.complete()},Me=>{var Qe;$e=!1,null===(Qe=xe.error)||void 0===Qe||Qe.call(xe,Me),q.error(Me)},()=>{var Me,Qe;$e&&(null===(Me=xe.unsubscribe)||void 0===Me||Me.call(xe)),null===(Qe=xe.finalize)||void 0===Qe||Qe.call(xe)}))}):ae.y}},4408:(xt,Ae,U)=>{U.d(Ae,{o:()=>ue});var s=U(727);class $ extends s.w0{constructor(Ee,be){super()}schedule(Ee,be=0){return this}}const N={setInterval(ie,Ee,...be){const{delegate:xe}=N;return xe?.setInterval?xe.setInterval(ie,Ee,...be):setInterval(ie,Ee,...be)},clearInterval(ie){const{delegate:Ee}=N;return(Ee?.clearInterval||clearInterval)(ie)},delegate:void 0};var ae=U(8737);class ue extends ${constructor(Ee,be){super(Ee,be),this.scheduler=Ee,this.work=be,this.pending=!1}schedule(Ee,be=0){var xe;if(this.closed)return this;this.state=Ee;const Y=this.id,q=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(q,Y,be)),this.pending=!0,this.delay=be,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(q,this.id,be),this}requestAsyncId(Ee,be,xe=0){return N.setInterval(Ee.flush.bind(Ee,this),xe)}recycleAsyncId(Ee,be,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return be;null!=be&&N.clearInterval(be)}execute(Ee,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(Ee,be);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,be){let Y,xe=!1;try{this.work(Ee)}catch(q){xe=!0,Y=q||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:be}=this,{actions:xe}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(xe,this),null!=Ee&&(this.id=this.recycleAsyncId(be,Ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(xt,Ae,U)=>{U.d(Ae,{v:()=>N});var s=U(6063);class ${constructor(ue,ie=$.now){this.schedulerActionCtor=ue,this.now=ie}schedule(ue,ie=0,Ee){return new this.schedulerActionCtor(this,ue).schedule(Ee,ie)}}$.now=s.l.now;class N extends ${constructor(ue,ie=$.now){super(ue,ie),this.actions=[],this._active=!1}flush(ue){const{actions:ie}=this;if(this._active)return void ie.push(ue);let Ee;this._active=!0;do{if(Ee=ue.execute(ue.state,ue.delay))break}while(ue=ie.shift());if(this._active=!1,Ee){for(;ue=ie.shift();)ue.unsubscribe();throw Ee}}}},4986:(xt,Ae,U)=>{U.d(Ae,{P:()=>ae,z:()=>N});var s=U(4408);const N=new(U(7565).v)(s.o),ae=N},6063:(xt,Ae,U)=>{U.d(Ae,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(xt,Ae,U)=>{U.d(Ae,{z:()=>s});const s={setTimeout($,N,...ae){const{delegate:ue}=s;return ue?.setTimeout?ue.setTimeout($,N,...ae):setTimeout($,N,...ae)},clearTimeout($){const{delegate:N}=s;return(N?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(xt,Ae,U)=>{U.d(Ae,{h:()=>$});const $=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xt,Ae,U)=>{U.d(Ae,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(xt,Ae,U)=>{U.d(Ae,{_6:()=>ie,jO:()=>ae,yG:()=>ue});var s=U(576),$=U(3532);function N(Ee){return Ee[Ee.length-1]}function ae(Ee){return(0,s.m)(N(Ee))?Ee.pop():void 0}function ue(Ee){return(0,$.K)(N(Ee))?Ee.pop():void 0}function ie(Ee,be){return"number"==typeof N(Ee)?Ee.pop():be}},8737:(xt,Ae,U)=>{function s($,N){if($){const ae=$.indexOf(N);0<=ae&&$.splice(ae,1)}}U.d(Ae,{P:()=>s})},3888:(xt,Ae,U)=>{function s($){const ae=$(ue=>{Error.call(ue),ue.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}U.d(Ae,{d:()=>s})},2806:(xt,Ae,U)=>{U.d(Ae,{O:()=>ae,x:()=>N});var s=U(2416);let $=null;function N(ue){if(s.v.useDeprecatedSynchronousErrorHandling){const ie=!$;if(ie&&($={errorThrown:!1,error:null}),ue(),ie){const{errorThrown:Ee,error:be}=$;if($=null,Ee)throw be}}else ue()}function ae(ue){s.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=ue)}},9672:(xt,Ae,U)=>{function s($,N,ae,ue=0,ie=!1){const Ee=N.schedule(function(){ae(),ie?$.add(this.schedule(null,ue)):this.unsubscribe()},ue);if($.add(Ee),!ie)return Ee}U.d(Ae,{f:()=>s})},4671:(xt,Ae,U)=>{function s($){return $}U.d(Ae,{y:()=>s})},1144:(xt,Ae,U)=>{U.d(Ae,{z:()=>s});const s=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(xt,Ae,U)=>{U.d(Ae,{D:()=>$});var s=U(576);function $(N){return Symbol.asyncIterator&&(0,s.m)(N?.[Symbol.asyncIterator])}},576:(xt,Ae,U)=>{function s($){return"function"==typeof $}U.d(Ae,{m:()=>s})},3670:(xt,Ae,U)=>{U.d(Ae,{c:()=>N});var s=U(8822),$=U(576);function N(ae){return(0,$.m)(ae[s.L])}},6495:(xt,Ae,U)=>{U.d(Ae,{T:()=>N});var s=U(2202),$=U(576);function N(ae){return(0,$.m)(ae?.[s.h])}},8239:(xt,Ae,U)=>{U.d(Ae,{t:()=>$});var s=U(576);function $(N){return(0,s.m)(N?.then)}},3260:(xt,Ae,U)=>{U.d(Ae,{L:()=>ae,Q:()=>N});var s=U(7582),$=U(576);function N(ue){return(0,s.FC)(this,arguments,function*(){const Ee=ue.getReader();try{for(;;){const{value:be,done:xe}=yield(0,s.qq)(Ee.read());if(xe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(be)}}finally{Ee.releaseLock()}})}function ae(ue){return(0,$.m)(ue?.getReader)}},3532:(xt,Ae,U)=>{U.d(Ae,{K:()=>$});var s=U(576);function $(N){return N&&(0,s.m)(N.schedule)}},4482:(xt,Ae,U)=>{U.d(Ae,{A:()=>$,e:()=>N});var s=U(576);function $(ae){return(0,s.m)(ae?.lift)}function N(ae){return ue=>{if($(ue))return ue.lift(function(ie){try{return ae(ie,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(xt,Ae,U)=>{function s(){}U.d(Ae,{Z:()=>s})},9635:(xt,Ae,U)=>{U.d(Ae,{U:()=>N,z:()=>$});var s=U(4671);function $(...ae){return N(ae)}function N(ae){return 0===ae.length?s.y:1===ae.length?ae[0]:function(ie){return ae.reduce((Ee,be)=>be(Ee),ie)}}},7849:(xt,Ae,U)=>{U.d(Ae,{h:()=>N});var s=U(2416),$=U(3410);function N(ae){$.z.setTimeout(()=>{const{onUnhandledError:ue}=s.v;if(!ue)throw ae;ue(ae)})}},4532:(xt,Ae,U)=>{function s($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Ae,{z:()=>s})},4650:(xt,Ae,U)=>{U.d(Ae,{$8M:()=>wl,$WT:()=>ir,$Z:()=>Ry,AFp:()=>GM,ALo:()=>XC,AaK:()=>be,AsE:()=>db,BQk:()=>g_,CHM:()=>pd,CRH:()=>mE,CZH:()=>Pb,CqO:()=>au,D6c:()=>_u,DdM:()=>gM,EJc:()=>B2,EiD:()=>hS,EpF:()=>Kx,F$t:()=>tC,F4k:()=>Jm,FYo:()=>zg,FiY:()=>yr,G48:()=>X2,Gf:()=>hE,GfV:()=>Ac,GkF:()=>Yx,Gpc:()=>q,Hsn:()=>Jy,Ikx:()=>_b,JOm:()=>mo,JVY:()=>Nh,JZr:()=>dt,KtG:()=>hl,L6k:()=>Em,LAX:()=>aS,LFG:()=>$t,Lbi:()=>N2,Lck:()=>e2,MAs:()=>Zx,MMx:()=>qC,MR2:()=>WF,NdJ:()=>Qy,O4$:()=>yd,OlP:()=>fn,Oqu:()=>cb,P3R:()=>Bh,PXZ:()=>q2,Q6J:()=>Yy,QGY:()=>Xm,QbO:()=>ZM,Qsj:()=>lx,R0b:()=>aa,RDi:()=>XT,Rgc:()=>hp,SBq:()=>Tm,Sil:()=>KM,Suo:()=>fE,TTD:()=>ju,TgZ:()=>f_,Udp:()=>rb,W1O:()=>vE,WFA:()=>Xy,X6Q:()=>Q2,XFs:()=>vt,Xpm:()=>Gt,Xts:()=>yi,Y36:()=>Wh,YKP:()=>aM,YNc:()=>ou,Yjl:()=>rn,Yz7:()=>ft,Z0I:()=>Bn,ZZ4:()=>j_,_Bn:()=>sM,_UZ:()=>Ky,_Vd:()=>zh,_c5:()=>Dk,_uU:()=>CC,aQg:()=>zb,c2e:()=>F2,cJS:()=>Dt,cg1:()=>D_,d8E:()=>zc,dDg:()=>Ob,dqk:()=>gn,eBb:()=>oy,eFA:()=>sk,eJc:()=>gp,ekj:()=>ob,eoX:()=>RE,f3M:()=>qn,g9A:()=>qM,h0i:()=>cp,hGG:()=>gu,hij:()=>Rr,iGM:()=>uE,ifc:()=>V,ip1:()=>$M,jDz:()=>cM,kL8:()=>kA,kcU:()=>ac,lG2:()=>kt,lcZ:()=>Ai,lqb:()=>Tc,lri:()=>ek,mCW:()=>go,n5z:()=>Td,n_E:()=>F_,oAB:()=>le,oxw:()=>eC,pB0:()=>sy,q3G:()=>or,q4F:()=>ux,qLn:()=>Sm,qOj:()=>Lc,qZA:()=>m_,qzn:()=>Va,rWj:()=>tk,sBO:()=>J2,s_b:()=>yb,soG:()=>Gc,tBr:()=>El,tb:()=>PE,tp0:()=>Oa,uIk:()=>Wy,vHH:()=>we,vpe:()=>_o,wAp:()=>Nt,xp6:()=>jh,ynx:()=>p_,z2F:()=>ff,z3N:()=>Js,zSh:()=>sx,zs3:()=>ja});var s=U(7579),$=U(727),N=U(9751),ae=U(6451),ue=U(3099);function ie(a){for(let c in a)if(a[c]===ie)return c;throw Error("Could not find renamed property on target object.")}function Ee(a,c){for(const d in c)c.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=c[d])}function be(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(be).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function xe(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const Y=ie({__forward_ref__:ie});function q(a){return a.__forward_ref__=q,a.toString=function(){return be(this())},a}function te(a){return $e(a)?a():a}function $e(a){return"function"==typeof a&&a.hasOwnProperty(Y)&&a.__forward_ref__===q}function Me(a){return a&&!!a.\u0275providers}const dt="https://g.co/ng/security#xss";class we extends Error{constructor(c,d){super(Oe(c,d)),this.code=c}}function Oe(a,c){return`NG0${Math.abs(a)}${c?": "+c.trim():""}`}function Fe(a){return"string"==typeof a?a:null==a?"":String(a)}function Ge(a,c){throw new we(-201,!1)}function ye(a,c){null==a&&function se(a,c,d,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${d} ${h} ${c} <=Actual]`))}(c,a,null,"!=")}function ft(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Dt(a){return{providers:a.providers||[],imports:a.imports||[]}}function cn(a){return yn(a,Wn)||yn(a,Nr)}function Bn(a){return null!==cn(a)}function yn(a,c){return a.hasOwnProperty(c)?a[c]:null}function Vn(a){return a&&(a.hasOwnProperty(vi)||a.hasOwnProperty(ti))?a[vi]:null}const Wn=ie({\u0275prov:ie}),vi=ie({\u0275inj:ie}),Nr=ie({ngInjectableDef:ie}),ti=ie({ngInjectorDef:ie});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let ni;function li(a){const c=ni;return ni=a,c}function tr(a,c,d){const h=cn(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&vt.Optional?null:void 0!==c?c:void Ge(be(a))}const gn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ci={},qi="__NG_DI_FLAG__",ii="ngTempTokenPath",fr="ngTokenPath",ri=/\n/gm,Li="\u0275",tn="__source";let Fr;function nn(a){const c=Fr;return Fr=a,c}function Ir(a,c=vt.Default){if(void 0===Fr)throw new we(-203,!1);return null===Fr?tr(a,void 0,c):Fr.get(a,c&vt.Optional?null:void 0,c)}function $t(a,c=vt.Default){return(function Io(){return ni}()||Ir)(te(a),c)}function qn(a,c=vt.Default){return $t(a,Zi(c))}function Zi(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function ui(a){const c=[];for(let d=0;d<a.length;d++){const h=te(a[d]);if(Array.isArray(h)){if(0===h.length)throw new we(900,!1);let f,g=vt.Default;for(let y=0;y<h.length;y++){const E=h[y],T=nr(E);"number"==typeof T?-1===T?f=E.token:g|=T:f=E}c.push($t(f,g))}else c.push($t(h))}return c}function mr(a,c){return a[qi]=c,a.prototype[qi]=c,a}function nr(a){return a[qi]}function G(a){return{toString:a}.toString()}var B=(()=>((B=B||{})[B.OnPush=0]="OnPush",B[B.Default=1]="Default",B))(),V=(()=>{return(a=V||(V={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",V;var a})();const O={},Q=[],Ce=ie({\u0275cmp:ie}),ot=ie({\u0275dir:ie}),Mt=ie({\u0275pipe:ie}),Tt=ie({\u0275mod:ie}),Xt=ie({\u0275fac:ie}),Rt=ie({__NG_ELEMENT_ID__:ie});let Rn=0;function Gt(a){return G(()=>{const c=Yl(a),d={...c,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===B.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&a.dependencies||null,getStandaloneInjector:null,data:a.data||{},encapsulation:a.encapsulation||V.Emulated,id:"c"+Rn++,styles:a.styles||Q,_:null,schemas:a.schemas||null,tView:null};Kf(d);const h=a.dependencies;return d.directiveDefs=ls(h,!1),d.pipeDefs=ls(h,!0),d})}function Uo(a){return Ct(a)||wn(a)}function _e(a){return null!==a}function le(a){return G(()=>({type:a.type,bootstrap:a.bootstrap||Q,declarations:a.declarations||Q,imports:a.imports||Q,exports:a.exports||Q,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function bt(a,c){if(null==a)return O;const d={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),d[f]=h,c&&(c[f]=g)}return d}function kt(a){return G(()=>{const c=Yl(a);return Kf(c),c})}function rn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Ct(a){return a[Ce]||null}function wn(a){return a[ot]||null}function un(a){return a[Mt]||null}function ir(a){const c=Ct(a)||wn(a)||un(a);return null!==c&&c.standalone}function Vi(a,c){const d=a[Tt]||null;if(!d&&!0===c)throw new Error(`Type ${be(a)} does not have '\u0275mod' property.`);return d}function Yl(a){const c={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,exportAs:a.exportAs||null,standalone:!0===a.standalone,selectors:a.selectors||Q,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bt(a.inputs,c),outputs:bt(a.outputs)}}function Kf(a){a.features?.forEach(c=>c(a))}function ls(a,c){if(!a)return null;const d=c?un:Uo;return()=>("function"==typeof a?a():a).map(h=>d(h)).filter(_e)}const Ui=0,tt=1,Jt=2,Un=3,xn=4,cs=5,zi=6,zo=7,oi=8,ol=9,Hi=10,qt=11,Kl=12,Wr=13,ga=14,Ho=15,Ci=16,Rs=17,Ps=18,Lr=19,Os=20,Ei=21,An=22,dd=1,sl=2,_a=7,ds=8,Br=9,Yi=10;function gr(a){return Array.isArray(a)&&"object"==typeof a[dd]}function uo(a){return Array.isArray(a)&&!0===a[dd]}function Ns(a){return 0!=(4&a.flags)}function Ql(a){return a.componentOffset>-1}function al(a){return 1==(1&a.flags)}function Tr(a){return!!a.template}function us(a){return 0!=(256&a[Jt])}function jo(a,c){return a.hasOwnProperty(Xt)?a[Xt]:null}class Hu{constructor(c,d,h){this.previousValue=c,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function ju(){return Xl}function Xl(a){return a.type.prototype.ngOnChanges&&(a.setInput=ms),tm}function tm(){const a=Jl(this),c=a?.current;if(c){const d=a.previous;if(d===O)a.previous=c;else for(let h in c)d[h]=c[h];a.current=null,this.ngOnChanges(c)}}function ms(a,c,d,h){const f=this.declaredInputs[d],g=Jl(a)||function $u(a,c){return a[ud]=c}(a,{previous:O,current:null}),y=g.current||(g.current={}),E=g.previous,T=E[f];y[f]=new Hu(T&&T.currentValue,c,E===O),a[h]=c}ju.ngInherit=!0;const ud="__ngSimpleChanges__";function Jl(a){return a[ud]||null}const Zn=function(a,c,d){},cl="svg";function Di(a){for(;Array.isArray(a);)a=a[Ui];return a}function Bs(a,c){return Di(c[a])}function Ki(a,c){return Di(c[a.index])}function tc(a,c){return a.data[c]}function _r(a,c){return a[c]}function ji(a,c){const d=c[a];return gr(d)?d:d[Ui]}function ps(a){return 64==(64&a[Jt])}function $o(a,c){return null==c?null:a[c]}function ul(a){a[Ps]=0}function wa(a,c){a[cs]+=c;let d=a,h=a[Un];for(;null!==h&&(1===c&&1===d[cs]||-1===c&&0===d[cs]);)h[cs]+=c,d=h,h=h[Un]}const Pt={lFrame:ml(null),bindingsEnabled:!0};function Wu(){return Pt.bindingsEnabled}function ve(){return Pt.lFrame.lView}function Ut(){return Pt.lFrame.tView}function pd(a){return Pt.lFrame.contextLView=a,a[oi]}function hl(a){return Pt.lFrame.contextLView=null,a}function hi(){let a=Zu();for(;null!==a&&64===a.type;)a=a.parent;return a}function Zu(){return Pt.lFrame.currentTNode}function Zr(a,c){const d=Pt.lFrame;d.currentTNode=a,d.isParent=c}function ic(){return Pt.lFrame.isParent}function Yu(){Pt.lFrame.isParent=!1}function Qi(){const a=Pt.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}function Go(){return Pt.lFrame.bindingIndex++}function So(a){const c=Pt.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,d}function Xu(a,c){const d=Pt.lFrame;d.bindingIndex=d.bindingRootIndex=a,fi(c)}function fi(a){Pt.lFrame.currentDirectiveIndex=a}function rc(a){const c=Pt.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}function fl(){return Pt.lFrame.currentQueryIndex}function Ju(a){Pt.lFrame.currentQueryIndex=a}function oc(a){const c=a[tt];return 2===c.type?c.declTNode:1===c.type?a[zi]:null}function eh(a,c,d){if(d&vt.SkipSelf){let f=c,g=a;for(;!(f=f.parent,null!==f||d&vt.Host||(f=oc(g),null===f||(g=g[Ho],10&f.type))););if(null===f)return!1;c=f,a=g}const h=Pt.lFrame=gd();return h.currentTNode=c,h.lView=a,!0}function Ea(a){const c=gd(),d=a[tt];Pt.lFrame=c,c.currentTNode=d.firstChild,c.lView=a,c.tView=d,c.contextLView=a,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function gd(){const a=Pt.lFrame,c=null===a?null:a.child;return null===c?ml(a):c}function ml(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function _d(){const a=Pt.lFrame;return Pt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const sc=_d;function th(){const a=_d();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function rr(){return Pt.lFrame.selectedIndex}function Ao(a){Pt.lFrame.selectedIndex=a}function zn(){const a=Pt.lFrame;return tc(a.tView,a.selectedIndex)}function yd(){Pt.lFrame.currentNamespace=cl}function ac(){!function _g(){Pt.lFrame.currentNamespace=null}()}function lc(a,c){for(let d=c.directiveStart,h=c.directiveEnd;d<h;d++){const g=a.data[d].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:S,ngOnDestroy:P}=g;y&&(a.contentHooks??(a.contentHooks=[])).push(-d,y),E&&((a.contentHooks??(a.contentHooks=[])).push(d,E),(a.contentCheckHooks??(a.contentCheckHooks=[])).push(d,E)),T&&(a.viewHooks??(a.viewHooks=[])).push(-d,T),S&&((a.viewHooks??(a.viewHooks=[])).push(d,S),(a.viewCheckHooks??(a.viewCheckHooks=[])).push(d,S)),null!=P&&(a.destroyHooks??(a.destroyHooks=[])).push(d,P)}}function bd(a,c,d){cc(a,c,3,d)}function rh(a,c,d,h){(3&a[Jt])===d&&cc(a,c,d,h)}function oh(a,c){let d=a[Jt];(3&d)===c&&(d&=2047,d+=1,a[Jt]=d)}function cc(a,c,d,h){const g=h??-1,y=c.length-1;let E=0;for(let T=void 0!==h?65535&a[Ps]:0;T<y;T++)if("number"==typeof c[T+1]){if(E=c[T],null!=h&&E>=h)break}else c[T]<0&&(a[Ps]+=65536),(E<g||-1==g)&&(Ia(a,d,c,T),a[Ps]=(4294901760&a[Ps])+T+2),T++}function Ia(a,c,d,h){const f=d[h]<0,g=d[h+1],E=a[f?-d[h]:d[h]];if(f){if(a[Jt]>>11<a[Ps]>>16&&(3&a[Jt])===c){a[Jt]+=2048,Zn(4,E,g);try{g.call(E)}finally{Zn(5,E,g)}}}else{Zn(4,E,g);try{g.call(E)}finally{Zn(5,E,g)}}}const pl=-1;class Wo{constructor(c,d,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function Ta(a,c,d){let h=0;for(;h<d.length;){const f=d[h];if("number"==typeof f){if(0!==f)break;h++;const g=d[h++],y=d[h++],E=d[h++];a.setAttribute(c,y,E,g)}else{const g=f,y=d[++h];vs(g)?a.setProperty(c,g,y):a.setAttribute(c,g,y),h++}}return h}function ah(a){return 3===a||4===a||6===a}function vs(a){return 64===a.charCodeAt(0)}function Us(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let d=-1;for(let h=0;h<c.length;h++){const f=c[h];"number"==typeof f?d=f:0===d||Sa(a,d,f,null,-1===d||2===d?c[++h]:null)}}return a}function Sa(a,c,d,h,f){let g=0,y=a.length;if(-1===c)y=-1;else for(;g<a.length;){const E=a[g++];if("number"==typeof E){if(E===c){y=-1;break}if(E>c){y=g-1;break}}}for(;g<a.length;){const E=a[g];if("number"==typeof E)break;if(E===d){if(null===h)return void(null!==f&&(a[g+1]=f));if(h===a[g+1])return void(a[g+2]=f)}g++,null!==h&&g++,null!==f&&g++}-1!==y&&(a.splice(y,0,c),g=y+1),a.splice(g++,0,d),null!==h&&a.splice(g++,0,h),null!==f&&a.splice(g++,0,f)}function zs(a){return a!==pl}function Aa(a){return 32767&a}function vl(a,c){let d=function _l(a){return a>>16}(a),h=c;for(;d>0;)h=h[Ho],d--;return h}let xd=!0;function yl(a){const c=xd;return xd=a,c}const Cd=255,hc=5;let Ed=0;const vr={};function Dd(a,c){const d=ch(a,c);if(-1!==d)return d;const h=c[tt];h.firstCreatePass&&(a.injectorIndex=c.length,Mo(h.data,a),Mo(c,null),Mo(h.blueprint,null));const f=mi(a,c),g=a.injectorIndex;if(zs(f)){const y=Aa(f),E=vl(f,c),T=E[tt].data;for(let S=0;S<8;S++)c[g+S]=E[y+S]|T[y+S]}return c[g+8]=f,g}function Mo(a,c){a.push(0,0,0,0,0,0,0,0,c)}function ch(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function mi(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,h=null,f=c;for(;null!==f;){if(h=Hs(f),null===h)return pl;if(d++,f=f[Ho],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return pl}function ys(a,c,d){!function lh(a,c,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(Rt)&&(h=d[Rt]),null==h&&(h=d[Rt]=Ed++);const f=h&Cd;c.data[a+(f>>hc)]|=1<<f}(a,c,d)}function dh(a,c,d){if(d&vt.Optional||void 0!==a)return a;Ge()}function bl(a,c,d,h){if(d&vt.Optional&&void 0===h&&(h=null),!(d&(vt.Self|vt.Host))){const f=a[ol],g=li(void 0);try{return f?f.get(c,h,d&vt.Optional):tr(c,h,d&vt.Optional)}finally{li(g)}}return dh(h,0,d)}function uh(a,c,d,h=vt.Default,f){if(null!==a){if(1024&c[Jt]){const y=function am(a,c,d,h,f){let g=a,y=c;for(;null!==g&&null!==y&&1024&y[Jt]&&!(256&y[Jt]);){const E=mc(g,y,d,h|vt.Self,vr);if(E!==vr)return E;let T=g.parent;if(!T){const S=y[Ei];if(S){const P=S.get(d,vr,h);if(P!==vr)return P}T=Hs(y),y=y[Ho]}g=T}return f}(a,c,d,h,vr);if(y!==vr)return y}const g=mc(a,c,d,h,vr);if(g!==vr)return g}return bl(c,d,h,f)}function mc(a,c,d,h,f){const g=function sm(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(Rt)?a[Rt]:void 0;return"number"==typeof c?c>=0?c&Cd:Id:c}(d);if("function"==typeof g){if(!eh(c,a,h))return h&vt.Host?dh(f,0,h):bl(c,d,h,f);try{const y=g(h);if(null!=y||h&vt.Optional)return y;Ge()}finally{sc()}}else if("number"==typeof g){let y=null,E=ch(a,c),T=pl,S=h&vt.Host?c[Ci][zi]:null;for((-1===E||h&vt.SkipSelf)&&(T=-1===E?mi(a,c):c[E+8],T!==pl&&pc(h,!1)?(y=c[tt],E=Aa(T),c=vl(T,c)):E=-1);-1!==E;){const P=c[tt];if(bs(g,E,P.data)){const H=Ii(E,c,d,y,h,S);if(H!==vr)return H}T=c[E+8],T!==pl&&pc(h,c[tt].data[E+8]===S)&&bs(g,E,c)?(y=P,E=Aa(T),c=vl(T,c)):E=-1}}return f}function Ii(a,c,d,h,f,g){const y=c[tt],E=y.data[a+8],P=Ma(E,y,d,null==h?Ql(E)&&xd:h!=y&&0!=(3&E.type),f&vt.Host&&g===E);return null!==P?Yn(c,y,P,E):vr}function Ma(a,c,d,h,f){const g=a.providerIndexes,y=c.data,E=1048575&g,T=a.directiveStart,P=g>>20,X=f?E+P:a.directiveEnd;for(let oe=h?E:E+P;oe<X;oe++){const Ie=y[oe];if(oe<T&&d===Ie||oe>=T&&Ie.type===d)return oe}if(f){const oe=y[T];if(oe&&Tr(oe)&&oe.type===d)return T}return null}function Yn(a,c,d,h){let f=a[d];const g=c.data;if(function yg(a){return a instanceof Wo}(f)){const y=f;y.resolving&&function Se(a,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new we(-200,`Circular dependency in DI detected for ${a}${d}`)}(function ze(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Fe(a)}(g[d]));const E=yl(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?li(y.injectImpl):null;eh(a,h,vt.Default);try{f=a[d]=y.factory(void 0,g,a,h),c.firstCreatePass&&d>=h.directiveStart&&function vg(a,c,d){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:g}=c.type.prototype;if(h){const y=Xl(c);(d.preOrderHooks??(d.preOrderHooks=[])).push(a,y),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(a,y)}f&&(d.preOrderHooks??(d.preOrderHooks=[])).push(0-a,f),g&&((d.preOrderHooks??(d.preOrderHooks=[])).push(a,g),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(a,g))}(d,g[d],c)}finally{null!==T&&li(T),yl(E),y.resolving=!1,sc()}}return f}function bs(a,c,d){return!!(d[c+(a>>hc)]&1<<a)}function pc(a,c){return!(a&vt.Self||a&vt.Host&&c)}class ka{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,h){return uh(this._tNode,this._lView,c,Zi(h),d)}}function Id(){return new ka(hi(),ve())}function Td(a){return G(()=>{const c=a.prototype.constructor,d=c[Xt]||ws(c),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const g=f[Xt]||ws(f);if(g&&g!==d)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function ws(a){return $e(a)?()=>{const c=ws(te(a));return c&&c()}:jo(a)}function Hs(a){const c=a[tt],d=c.type;return 2===d?c.declTNode:1===d?a[zi]:null}function wl(a){return function fc(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const d=a.attrs;if(d){const h=d.length;let f=0;for(;f<h;){const g=d[f];if(ah(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<h&&"string"==typeof d[f];)f++;else{if(g===c)return d[f+1];f+=2}}}return null}(hi(),a)}const $s="__parameters__";function Gs(a,c,d){return G(()=>{const h=function hh(a){return function(...d){if(a){const h=a(...d);for(const f in h)this[f]=h[f]}}}(c);function f(...g){if(this instanceof f)return h.apply(this,g),this;const y=new f(...g);return E.annotation=y,E;function E(T,S,P){const H=T.hasOwnProperty($s)?T[$s]:Object.defineProperty(T,$s,{value:[]})[$s];for(;H.length<=P;)H.push(null);return(H[P]=H[P]||[]).push(y),T}}return d&&(f.prototype=Object.create(d.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class fn{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=ft({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xs(a,c){a.forEach(d=>Array.isArray(d)?xs(d,c):c(d))}function Pd(a,c,d){c>=a.length?a.push(d):a.splice(c,0,d)}function xl(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function Ra(a,c){const d=[];for(let h=0;h<a;h++)d.push(c);return d}function Yr(a,c,d){let h=Zt(a,c);return h>=0?a[1|h]=d:(h=~h,function Cl(a,c,d,h){let f=a.length;if(f==c)a.push(d,h);else if(1===f)a.push(h,a[0]),a[0]=d;else{for(f--,a.push(a[f-1],a[f]);f>c;)a[f]=a[f-2],f--;a[c]=d,a[c+1]=h}}(a,h,c,d)),h}function Kr(a,c){const d=Zt(a,c);if(d>=0)return a[1|d]}function Zt(a,c){return function Kn(a,c,d){let h=0,f=a.length>>d;for(;f!==h;){const g=h+(f-h>>1),y=a[g<<d];if(c===y)return g<<d;y>c?f=g:h=g+1}return~(f<<d)}(a,c,1)}const El=mr(Gs("Inject",a=>({token:a})),-1),yr=mr(Gs("Optional"),8),Oa=mr(Gs("SkipSelf"),4);var mo=(()=>((mo=mo||{})[mo.Important=1]="Important",mo[mo.DashCase=2]="DashCase",mo))();const Hd=new Map;let gm=0;const K="__ngContext__";function J(a,c){gr(c)?(a[K]=c[Os],function _m(a){Hd.set(a[Os],a)}(c)):a[K]=c}let Mr;function Xr(a,c){return Mr(a,c)}function Th(a){const c=a[Un];return uo(c)?c[Un]:c}function kl(a){return Ah(a[Wr])}function $d(a){return Ah(a[xn])}function Ah(a){for(;null!==a&&!uo(a);)a=a[xn];return a}function ko(a,c,d,h,f){if(null!=h){let g,y=!1;uo(h)?g=h:gr(h)&&(y=!0,h=h[Ui]);const E=Di(h);0===a&&null!==d?null==f?kr(c,d,E):Yt(c,d,E,f||null,!0):1===a&&null!==d?Yt(c,d,E,f||null,!0):2===a?function Eg(a,c,d){const h=Rl(a,c);h&&function Gd(a,c,d,h){a.removeChild(c,d,h)}(a,h,c,d)}(c,E,y):3===a&&c.destroyNode(E),null!=g&&function Ww(a,c,d,h,f){const g=d[_a];g!==Di(d)&&ko(c,a,h,g,f);for(let E=Yi;E<d.length;E++){const T=d[E];Kd(T[tt],T,a,c,h,g)}}(c,a,g,d,f)}}function bm(a,c,d){return a.createElement(c,d)}function C(a,c){const d=a[Br],h=d.indexOf(c),f=c[Un];512&c[Jt]&&(c[Jt]&=-513,wa(f,-1)),d.splice(h,1)}function k(a,c){if(a.length<=Yi)return;const d=Yi+c,h=a[d];if(h){const f=h[Rs];null!==f&&f!==a&&C(f,h),c>0&&(a[d-1][xn]=h[xn]);const g=xl(a,Yi+c);!function Cg(a,c){Kd(a,c,c[qt],2,null,null),c[Ui]=null,c[zi]=null}(h[tt],h);const y=g[Lr];null!==y&&y.detachView(g[tt]),h[Un]=null,h[xn]=null,h[Jt]&=-65}return h}function F(a,c){if(!(128&c[Jt])){const d=c[qt];d.destroyNode&&Kd(a,c,d,3,null,null),function w(a){let c=a[Wr];if(!c)return ee(a[tt],a);for(;c;){let d=null;if(gr(c))d=c[Wr];else{const h=c[Yi];h&&(d=h)}if(!d){for(;c&&!c[xn]&&c!==a;)gr(c)&&ee(c[tt],c),c=c[Un];null===c&&(c=a),gr(c)&&ee(c[tt],c),d=c&&c[xn]}c=d}}(c)}}function ee(a,c){if(!(128&c[Jt])){c[Jt]&=-65,c[Jt]|=128,function Ze(a,c){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let h=0;h<d.length;h+=2){const f=c[d[h]];if(!(f instanceof Wo)){const g=d[h+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const E=f[g[y]],T=g[y+1];Zn(4,E,T);try{T.call(E)}finally{Zn(5,E,T)}}else{Zn(4,f,g);try{g.call(f)}finally{Zn(5,f,g)}}}}}(a,c),function fe(a,c){const d=a.cleanup,h=c[zo];let f=-1;if(null!==d)for(let g=0;g<d.length-1;g+=2)if("string"==typeof d[g]){const y=d[g+3];y>=0?h[f=y]():h[f=-y].unsubscribe(),g+=2}else{const y=h[f=d[g+1]];d[g].call(y)}if(null!==h){for(let g=f+1;g<h.length;g++)(0,h[g])();c[zo]=null}}(a,c),1===c[tt].type&&c[qt].destroy();const d=c[Rs];if(null!==d&&uo(c[Un])){d!==c[Un]&&C(d,c);const h=c[Lr];null!==h&&h.detachView(a)}!function Xn(a){Hd.delete(a[Os])}(c)}}function et(a,c,d){return function wt(a,c,d){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return d[Ui];{const{componentOffset:f}=h;if(f>-1){const{encapsulation:g}=a.data[h.directiveStart+f];if(g===V.None||g===V.Emulated)return null}return Ki(h,d)}}(a,c.parent,d)}function Yt(a,c,d,h,f){a.insertBefore(c,d,h,f)}function kr(a,c,d){a.appendChild(c,d)}function Ds(a,c,d,h,f){null!==h?Yt(a,c,d,h,f):kr(a,c,d)}function Rl(a,c){return a.parentNode(c)}function kh(a,c,d){return xm(a,c,d)}let qd,ty,Cm,ry,xm=function Wd(a,c,d){return 40&a.type?Ki(a,d):null};function Pl(a,c,d,h){const f=et(a,h,c),g=c[qt],E=kh(h.parent||c[zi],h,c);if(null!=f)if(Array.isArray(d))for(let T=0;T<d.length;T++)Ds(g,f,d[T],E,!1);else Ds(g,f,d,E,!1);void 0!==qd&&qd(g,h,c,d,f)}function Yd(a,c){if(null!==c){const d=c.type;if(3&d)return Ki(c,a);if(4&d)return Rh(-1,a[c.index]);if(8&d){const h=c.child;if(null!==h)return Yd(a,h);{const f=a[c.index];return uo(f)?Rh(-1,f):Di(f)}}if(32&d)return Xr(c,a)()||Di(a[c.index]);{const h=Dc(a,c);return null!==h?Array.isArray(h)?h[0]:Yd(Th(a[Ci]),h):Yd(a,c.next)}}return null}function Dc(a,c){return null!==c?a[Ci][zi].projection[c.projection]:null}function Rh(a,c){const d=Yi+a+1;if(d<c.length){const h=c[d],f=h[tt].firstChild;if(null!==f)return Yd(h,f)}return c[_a]}function Dg(a,c,d,h,f,g,y){for(;null!=d;){const E=h[d.index],T=d.type;if(y&&0===c&&(E&&J(Di(E),h),d.flags|=2),32!=(32&d.flags))if(8&T)Dg(a,c,d.child,h,f,g,!1),ko(c,a,f,E,g);else if(32&T){const S=Xr(d,h);let P;for(;P=S();)ko(c,a,f,P,g);ko(c,a,f,E,g)}else 16&T?Jv(a,c,h,d,f,g):ko(c,a,f,E,g);d=y?d.projectionNext:d.next}}function Kd(a,c,d,h,f,g){Dg(d,h,a.firstChild,c,f,g,!1)}function Jv(a,c,d,h,f,g){const y=d[Ci],T=y[zi].projection[h.projection];if(Array.isArray(T))for(let S=0;S<T.length;S++)ko(c,a,f,T[S],g);else Dg(a,c,T,y[Un],f,g,!0)}function Ba(a,c,d){""===d?a.removeAttribute(c,"class"):a.setAttribute(c,"class",d)}function ey(a,c,d){const{mergedAttrs:h,classes:f,styles:g}=d;null!==h&&Ta(a,c,h),null!==f&&Ba(a,c,f),null!==g&&function po(a,c,d){a.setAttribute(c,"style",d)}(a,c,g)}function Xs(a){return function Zw(){if(void 0===ty&&(ty=null,gn.trustedTypes))try{ty=gn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return ty}()?.createHTML(a)||a}function XT(a){Cm=a}function nS(a){return function Yw(){if(void 0===ry&&(ry=null,gn.trustedTypes))try{ry=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return ry}()?.createScriptURL(a)||a}class Oh{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dt})`}}class iS extends Oh{getTypeName(){return"HTML"}}class Kw extends Oh{getTypeName(){return"Style"}}class rS extends Oh{getTypeName(){return"Script"}}class oS extends Oh{getTypeName(){return"URL"}}class sS extends Oh{getTypeName(){return"ResourceURL"}}function Js(a){return a instanceof Oh?a.changingThisBreaksApplicationSecurity:a}function Va(a,c){const d=function Tg(a){return a instanceof Oh&&a.getTypeName()||null}(a);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see ${dt})`)}return d===c}function Nh(a){return new iS(a)}function Em(a){return new Kw(a)}function oy(a){return new rS(a)}function aS(a){return new oS(a)}function sy(a){return new sS(a)}class Sg{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(Xs(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class Xw{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const d=this.inertDocument.createElement("template");return d.innerHTML=Xs(c),d}}const Ag=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function go(a){return(a=String(a)).match(Ag)?a:"unsafe:"+a}function Ic(a){const c={};for(const d of a.split(","))c[d]=!0;return c}function Mg(...a){const c={};for(const d of a)for(const h in d)d.hasOwnProperty(h)&&(c[h]=!0);return c}const ay=Ic("area,br,col,hr,img,wbr"),lS=Ic("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qd=Ic("rp,rt"),Fh=Mg(ay,Mg(lS,Ic("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mg(Qd,Ic("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mg(Qd,lS)),Lh=Ic("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dm=Mg(Lh,Ic("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ic("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cS=Ic("script,style,template");class dS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let f=this.checkClobberedElement(d,d.nextSibling);if(f){d=f;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!Fh.hasOwnProperty(d))return this.sanitizedSomething=!0,!cS.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=c.attributes;for(let f=0;f<h.length;f++){const g=h.item(f),y=g.name,E=y.toLowerCase();if(!Dm.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=g.value;Lh[E]&&(T=go(T)),this.buf.push(" ",y,'="',dy(T),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();Fh.hasOwnProperty(d)&&!ay.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(dy(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const tx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uS=/([^\#-~ |!])/g;function dy(a){return a.replace(/&/g,"&amp;").replace(tx,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(uS,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rg;function hS(a,c){let d=null;try{Rg=Rg||function Qw(a){const c=new Xw(a);return function Jw(){try{return!!(new window.DOMParser).parseFromString(Xs(""),"text/html")}catch{return!1}}()?new Sg(c):c}(a);let h=c?String(c):"";d=Rg.getInertBodyElement(h);let f=5,g=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=g,g=d.innerHTML,d=Rg.getInertBodyElement(h)}while(h!==g);return Xs((new dS).sanitizeChildren(uy(d)||d))}finally{if(d){const h=uy(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function uy(a){return"content"in a&&function hy(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var or=(()=>((or=or||{})[or.NONE=0]="NONE",or[or.HTML=1]="HTML",or[or.STYLE=2]="STYLE",or[or.SCRIPT=3]="SCRIPT",or[or.URL=4]="URL",or[or.RESOURCE_URL=5]="RESOURCE_URL",or))();function nx(a){const c=Vh();return c?c.sanitize(or.URL,a)||"":Va(a,"URL")?Js(a):go(Fe(a))}function my(a){const c=Vh();if(c)return nS(c.sanitize(or.RESOURCE_URL,a)||"");if(Va(a,"ResourceURL"))return nS(Js(a));throw new we(904,!1)}function Bh(a,c,d){return function mS(a,c){return"src"===c&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===c&&("base"===a||"link"===a)?my:nx}(c,d)(a)}function Vh(){const a=ve();return a&&a[Kl]}const yi=new fn("ENVIRONMENT_INITIALIZER"),gS=new fn("INJECTOR",-1),ix=new fn("INJECTOR_DEF_TYPES");class _y{get(c,d=ci){if(d===ci){const h=new Error(`NullInjectorError: No provider for ${be(c)}!`);throw h.name="NullInjectorError",h}return d}}function WF(a){return{\u0275providers:a}}function qF(...a){return{\u0275providers:_S(0,a),\u0275fromNgModule:!0}}function _S(a,...c){const d=[],h=new Set;let f;return xs(c,g=>{const y=g;vy(y,d,[],h)&&(f||(f=[]),f.push(y))}),void 0!==f&&vS(f,d),d}function vS(a,c){for(let d=0;d<a.length;d++){const{providers:f}=a[d];yy(f,g=>{c.push(g)})}}function vy(a,c,d,h){if(!(a=te(a)))return!1;let f=null,g=Vn(a);const y=!g&&Ct(a);if(g||y){if(y&&!y.standalone)return!1;f=a}else{const T=a.ngModule;if(g=Vn(T),!g)return!1;f=T}const E=h.has(f);if(y){if(E)return!1;if(h.add(f),y.dependencies){const T="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of T)vy(S,c,d,h)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let S;h.add(f);try{xs(g.imports,P=>{vy(P,c,d,h)&&(S||(S=[]),S.push(P))})}finally{}void 0!==S&&vS(S,c)}if(!E){const S=jo(f)||(()=>new f);c.push({provide:f,useFactory:S,deps:Q},{provide:ix,useValue:f,multi:!0},{provide:yi,useValue:()=>$t(f),multi:!0})}const T=g.providers;null==T||E||yy(T,P=>{c.push(P)})}}return f!==a&&void 0!==a.providers}function yy(a,c){for(let d of a)Me(d)&&(d=d.\u0275providers),Array.isArray(d)?yy(d,c):c(d)}const rx=ie({provide:String,useValue:ie});function Pg(a){return null!==a&&"object"==typeof a&&rx in a}function Ol(a){return"function"==typeof a}const sx=new fn("Set Injector scope."),Im={},wS={};let Og;function Ng(){return void 0===Og&&(Og=new _y),Og}class Tc{}class Fg extends Tc{get destroyed(){return this._destroyed}constructor(c,d,h,f){super(),this.parent=d,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vg(c,y=>this.processProvider(y)),this.records.set(gS,Uh(void 0,this)),f.has("environment")&&this.records.set(Tc,Uh(void 0,this));const g=this.records.get(sx);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(ix.multi,Q,vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const d=nn(this),h=li(void 0);try{return c()}finally{nn(d),li(h)}}get(c,d=ci,h=vt.Default){this.assertNotDestroyed(),h=Zi(h);const f=nn(this),g=li(void 0);try{if(!(h&vt.SkipSelf)){let E=this.records.get(c);if(void 0===E){const T=function Bg(a){return"function"==typeof a||"object"==typeof a&&a instanceof fn}(c)&&cn(c);E=T&&this.injectableDefInScope(T)?Uh(by(c),Im):null,this.records.set(c,E)}if(null!=E)return this.hydrate(c,E)}return(h&vt.Self?Ng():this.parent).get(c,d=h&vt.Optional&&d===ci?null:d)}catch(y){if("NullInjectorError"===y.name){if((y[ii]=y[ii]||[]).unshift(be(c)),f)throw y;return function pr(a,c,d,h){const f=a[ii];throw c[tn]&&f.unshift(c[tn]),a.message=function W(a,c,d,h=null){a=a&&"\n"===a.charAt(0)&&a.charAt(1)==Li?a.slice(2):a;let f=be(c);if(Array.isArray(c))f=c.map(be).join(" -> ");else if("object"==typeof c){let g=[];for(let y in c)if(c.hasOwnProperty(y)){let E=c[y];g.push(y+":"+("string"==typeof E?JSON.stringify(E):be(E)))}f=`{${g.join(", ")}}`}return`${d}${h?"("+h+")":""}[${f}]: ${a.replace(ri,"\n  ")}`}("\n"+a.message,f,d,h),a[fr]=f,a[ii]=null,a}(y,c,"R3InjectorError",this.source)}throw y}finally{li(g),nn(f)}}resolveInjectorInitializers(){const c=nn(this),d=li(void 0);try{const h=this.get(yi.multi,Q,vt.Self);for(const f of h)f()}finally{nn(c),li(d)}}toString(){const c=[],d=this.records;for(const h of d.keys())c.push(be(h));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(c){let d=Ol(c=te(c))?c:te(c&&c.provide);const h=function xS(a){return Pg(a)?Uh(void 0,a.useValue):Uh(Ua(a),Im)}(c);if(Ol(c)||!0!==c.multi)this.records.get(d);else{let f=this.records.get(d);f||(f=Uh(void 0,Im,!0),f.factory=()=>ui(f.multi),this.records.set(d,f)),d=c,f.multi.push(c)}this.records.set(d,h)}hydrate(c,d){return d.value===Im&&(d.value=wS,d.value=d.factory()),"object"==typeof d.value&&d.value&&function CS(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=te(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function by(a){const c=cn(a),d=null!==c?c.factory:jo(a);if(null!==d)return d;if(a instanceof fn)throw new we(204,!1);if(a instanceof Function)return function ax(a){const c=a.length;if(c>0)throw Ra(c,"?"),new we(204,!1);const d=function _i(a){return a&&(a[Wn]||a[Nr])||null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new we(204,!1)}function Ua(a,c,d){let h;if(Ol(a)){const f=te(a);return jo(f)||by(f)}if(Pg(a))h=()=>te(a.useValue);else if(function ox(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...ui(a.deps||[]));else if(function Xd(a){return!(!a||!a.useExisting)}(a))h=()=>$t(te(a.useExisting));else{const f=te(a&&(a.useClass||a.provide));if(!function Lg(a){return!!a.deps}(a))return jo(f)||by(f);h=()=>new f(...ui(a.deps))}return h}function Uh(a,c,d=!1){return{factory:a,value:c,multi:d?[]:void 0}}function Vg(a,c){for(const d of a)Array.isArray(d)?Vg(d,c):d&&Me(d)?Vg(d.\u0275providers,c):c(d)}class ES{}class Sc{}class Ug{resolveComponentFactory(c){throw function DS(a){const c=Error(`No component factory found for ${be(a)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=a,c}(c)}}let zh=(()=>{class a{}return a.NULL=new Ug,a})();function IS(){return Jd(hi(),ve())}function Jd(a,c){return new Tm(Ki(a,c))}let Tm=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=IS,a})();function YF(a){return a instanceof Tm?a.nativeElement:a}class zg{}let lx=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function cx(){const a=ve(),d=ji(hi().index,a);return(gr(d)?d:a)[qt]}(),a})(),dx=(()=>{class a{}return a.\u0275prov=ft({token:a,providedIn:"root",factory:()=>null}),a})();class Ac{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const ux=new Ac("15.2.9"),Hg={},xy="ngOriginalError";function Cy(a){return a[xy]}class Sm{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&Cy(c);for(;d&&Cy(d);)d=Cy(d);return d||null}}function Nl(a){return a instanceof Function?a():a}function MS(a,c,d){let h=a.length;for(;;){const f=a.indexOf(c,d);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=c.length;if(f+g===h||a.charCodeAt(f+g)<=32)return f}d=f+1}}const kS="ng-template";function vx(a,c,d){let h=0,f=!0;for(;h<a.length;){let g=a[h++];if("string"==typeof g&&f){const y=a[h++];if(d&&"class"===g&&-1!==MS(y.toLowerCase(),c,0))return!0}else{if(1===g){for(;h<a.length&&"string"==typeof(g=a[h++]);)if(g.toLowerCase()===c)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function yx(a){return 4===a.type&&a.value!==kS}function QF(a,c,d){return c===(4!==a.type||d?a.value:kS)}function XF(a,c,d){let h=4;const f=a.attrs||[],g=function zr(a){for(let c=0;c<a.length;c++)if(ah(a[c]))return c;return a.length}(f);let y=!1;for(let E=0;E<c.length;E++){const T=c[E];if("number"!=typeof T){if(!y)if(4&h){if(h=2|1&h,""!==T&&!QF(a,T,d)||""===T&&1===c.length){if(za(h))return!1;y=!0}}else{const S=8&h?T:c[++E];if(8&h&&null!==a.attrs){if(!vx(a.attrs,S,d)){if(za(h))return!1;y=!0}continue}const H=JF(8&h?"class":T,f,yx(a),d);if(-1===H){if(za(h))return!1;y=!0;continue}if(""!==S){let X;X=H>g?"":f[H+1].toLowerCase();const oe=8&h?X:null;if(oe&&-1!==MS(oe,S,0)||2&h&&S!==X){if(za(h))return!1;y=!0}}}}else{if(!y&&!za(h)&&!za(T))return!1;if(y&&za(T))continue;y=!1,h=T|1&h}}return za(h)||y}function za(a){return 0==(1&a)}function JF(a,c,d,h){if(null===c)return-1;let f=0;if(h||!d){let g=!1;for(;f<c.length;){const y=c[f];if(y===a)return f;if(3===y||6===y)g=!0;else{if(1===y||2===y){let E=c[++f];for(;"string"==typeof E;)E=c[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=g?1:2}return-1}return function RS(a,c){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const h=a[d];if("number"==typeof h)return-1;if(h===c)return d;d++}return-1}(c,a)}function Mc(a,c,d=!1){for(let h=0;h<c.length;h++)if(XF(a,c[h],d))return!0;return!1}function jg(a,c){e:for(let d=0;d<c.length;d++){const h=c[d];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function Hh(a,c){return a?":not("+c.trim()+")":c}function PS(a){let c=a[0],d=1,h=2,f="",g=!1;for(;d<a.length;){let y=a[d];if("string"==typeof y)if(2&h){const E=a[++d];f+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&h?f+="."+y:4&h&&(f+=" "+y);else""!==f&&!za(y)&&(c+=Hh(g,f),f=""),h=y,g=g||!za(h);d++}return""!==f&&(c+=Hh(g,f)),c}const en={};function jh(a){bx(Ut(),ve(),rr()+a,!1)}function bx(a,c,d,h){if(!h)if(3==(3&c[Jt])){const g=a.preOrderCheckHooks;null!==g&&bd(c,g,d)}else{const g=a.preOrderHooks;null!==g&&rh(c,g,0,d)}Ao(d)}function Si(a,c=null,d=null,h){const f=eo(a,c,d,h);return f.resolveInjectorInitializers(),f}function eo(a,c=null,d=null,h,f=new Set){const g=[d||Q,qF(a)];return h=h||("object"==typeof a?void 0:be(a)),new Fg(g,c||Ng(),h||null,f)}let ja=(()=>{class a{static create(d,h){if(Array.isArray(d))return Si({name:""},h,d,"");{const f=d.name??"";return Si({name:f},d.parent,d.providers,f)}}}return a.THROW_IF_NOT_FOUND=ci,a.NULL=new _y,a.\u0275prov=ft({token:a,providedIn:"any",factory:()=>$t(gS)}),a.__NG_ELEMENT_ID__=-1,a})();function Wh(a,c=vt.Default){const d=ve();return null===d?$t(a,c):uh(hi(),d,te(a),c)}function Ry(){throw new Error("invalid")}function Pm(a,c){const d=a.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const g=d[h+1];if(-1!==g){const y=a.data[g];Ju(d[h]),y.contentQueries(2,c[g],g)}}}function Oc(a,c,d,h,f,g,y,E,T,S,P){const H=c.blueprint.slice();return H[Ui]=f,H[Jt]=76|h,(null!==P||a&&1024&a[Jt])&&(H[Jt]|=1024),ul(H),H[Un]=H[Ho]=a,H[oi]=d,H[Hi]=y||a&&a[Hi],H[qt]=E||a&&a[qt],H[Kl]=T||a&&a[Kl]||null,H[ol]=S||a&&a[ol]||null,H[zi]=g,H[Os]=function Ih(){return gm++}(),H[Ei]=P,H[Ci]=2==c.type?a[Ci]:H,H}function qh(a,c,d,h,f){let g=a.data[c];if(null===g)g=function Bl(a,c,d,h,f){const g=Zu(),y=ic(),T=a.data[c]=function Sx(a,c,d,h,f,g){return{type:d,index:h,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,d,c,h,f);return null===a.firstChild&&(a.firstChild=T),null!==g&&(y?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T,T.prev=g)),T}(a,c,d,h,f),function Qu(){return Pt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=d,g.value=h,g.attrs=f;const y=function xa(){const a=Pt.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return Zr(g,!0),g}function Om(a,c,d,h){if(0===d)return-1;const f=c.length;for(let g=0;g<d;g++)c.push(h),a.blueprint.push(h),a.data.push(null);return f}function tu(a,c,d){Ea(c);try{const h=a.viewQuery;null!==h&&Is(1,h,d);const f=a.template;null!==f&&Tx(a,c,f,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Pm(a,c),a.staticViewQueries&&Is(2,a.viewQuery,d);const g=a.components;null!==g&&function mn(a,c){for(let d=0;d<c.length;d++)ZS(a,c[d])}(c,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{c[Jt]&=-5,th()}}function Zh(a,c,d,h){const f=c[Jt];if(128!=(128&f)){Ea(c);try{ul(c),function _s(a){return Pt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&Tx(a,c,d,2,h);const y=3==(3&f);if(y){const S=a.preOrderCheckHooks;null!==S&&bd(c,S,null)}else{const S=a.preOrderHooks;null!==S&&rh(c,S,0,null),oh(c,0)}if(function qS(a){for(let c=kl(a);null!==c;c=$d(c)){if(!c[sl])continue;const d=c[Br];for(let h=0;h<d.length;h++){const f=d[h];512&f[Jt]||wa(f[Un],1),f[Jt]|=512}}}(c),function Ox(a){for(let c=kl(a);null!==c;c=$d(c))for(let d=Yi;d<c.length;d++){const h=c[d],f=h[tt];ps(h)&&Zh(f,h,f.template,h[oi])}}(c),null!==a.contentQueries&&Pm(a,c),y){const S=a.contentCheckHooks;null!==S&&bd(c,S)}else{const S=a.contentHooks;null!==S&&rh(c,S,1),oh(c,1)}!function Ix(a,c){const d=a.hostBindingOpCodes;if(null!==d)try{for(let h=0;h<d.length;h++){const f=d[h];if(f<0)Ao(~f);else{const g=f,y=d[++h],E=d[++h];Xu(y,g),E(2,c[g])}}}finally{Ao(-1)}}(a,c);const E=a.components;null!==E&&function Pc(a,c){for(let d=0;d<c.length;d++)Ly(a,c[d])}(c,E);const T=a.viewQuery;if(null!==T&&Is(2,T,h),y){const S=a.viewCheckHooks;null!==S&&bd(c,S)}else{const S=a.viewHooks;null!==S&&rh(c,S,2),oh(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[Jt]&=-41,512&c[Jt]&&(c[Jt]&=-513,wa(c[Un],-1))}finally{th()}}}function Tx(a,c,d,h,f){const g=rr(),y=2&h;try{Ao(-1),y&&c.length>An&&bx(a,c,An,!1),Zn(y?2:0,f),d(h,f)}finally{Ao(g),Zn(y?3:1,f)}}function Yh(a,c,d){if(Ns(c)){const f=c.directiveEnd;for(let g=c.directiveStart;g<f;g++){const y=a.data[g];y.contentQueries&&y.contentQueries(1,d[g],g)}}}function nu(a,c,d){Wu()&&(function iu(a,c,d,h){const f=d.directiveStart,g=d.directiveEnd;Ql(d)&&function Rx(a,c,d){const h=Ki(c,a),f=Nm(d),g=a[Hi],y=n_(a,Oc(a,f,null,d.onPush?32:16,h,c,g,g.createRenderer(h,d),null,null,null));a[c.index]=y}(c,d,a.data[f+d.componentOffset]),a.firstCreatePass||Dd(d,c),J(h,c);const y=d.initialInputs;for(let E=f;E<g;E++){const T=a.data[E],S=Yn(c,a,E,d);J(S,c),null!==y&&Qh(0,E-f,S,T,0,y),Tr(T)&&(ji(d.index,c)[oi]=Yn(c,a,E,d))}}(a,c,d,Ki(d,c)),64==(64&d.flags)&&Jg(a,c,d))}function Zg(a,c,d=Ki){const h=c.localNames;if(null!==h){let f=c.index+1;for(let g=0;g<h.length;g+=2){const y=h[g+1],E=-1===y?d(c,a):a[y];a[f++]=E}}}function Nm(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=Py(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function Py(a,c,d,h,f,g,y,E,T,S){const P=An+h,H=P+f,X=function Oy(a,c){const d=[];for(let h=0;h<c;h++)d.push(h<a?null:en);return d}(P,H),oe="function"==typeof S?S():S;return X[tt]={type:a,blueprint:X,template:d,queries:null,viewQuery:E,declTNode:c,data:X.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:oe,incompleteFirstPass:!1}}function Ny(a,c,d,h){const f=Fc(c);null===d?f.push(h):(f.push(d),a.firstCreatePass&&Um(a).push(h,f.length-1))}function Ax(a,c,d,h){for(let f in a)if(a.hasOwnProperty(f)){d=null===d?{}:d;const g=a[f];null===h?Mx(d,c,f,g):h.hasOwnProperty(f)&&Mx(d,c,h[f],g)}return d}function Mx(a,c,d,h){a.hasOwnProperty(d)?a[d].push(c,h):a[d]=[c,h]}function Ko(a,c,d,h,f,g,y,E){const T=Ki(c,d);let P,S=c.inputs;!E&&null!=S&&(P=S[h])?(Vy(a,d,P,h,f),Ql(c)&&function HS(a,c){const d=ji(c,a);16&d[Jt]||(d[Jt]|=32)}(d,c.index)):3&c.type&&(h=function Kg(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=y?y(f,c.value||"",h):f,g.setProperty(T,h,f))}function Fy(a,c,d,h){if(Wu()){const f=null===h?null:{"":-1},g=function kx(a,c){const d=a.directiveRegistry;let h=null,f=null;if(d)for(let g=0;g<d.length;g++){const y=d[g];if(Mc(c,y.selectors,!1))if(h||(h=[]),Tr(y))if(null!==y.findHostDirectiveDefs){const E=[];f=f||new Map,y.findHostDirectiveDefs(y,E,f),h.unshift(...E,y),e_(a,c,E.length)}else h.unshift(y),e_(a,c,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,h,f),h.push(y)}return null===h?null:[h,f]}(a,d);let y,E;null===g?y=E=null:[y,E]=g,null!==y&&Qg(a,c,d,y,f,E),f&&function GS(a,c,d){if(c){const h=a.localNames=[];for(let f=0;f<c.length;f+=2){const g=d[c[f+1]];if(null==g)throw new we(-301,!1);h.push(c[f],g)}}}(d,h,f)}d.mergedAttrs=Us(d.mergedAttrs,d.attrs)}function Qg(a,c,d,h,f,g){for(let S=0;S<h.length;S++)ys(Dd(d,c),a,h[S].type);!function Lm(a,c,d){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+d,a.providerIndexes=c}(d,a.data.length,h.length);for(let S=0;S<h.length;S++){const P=h[S];P.providersResolver&&P.providersResolver(P)}let y=!1,E=!1,T=Om(a,c,h.length,null);for(let S=0;S<h.length;S++){const P=h[S];d.mergedAttrs=Us(d.mergedAttrs,P.hostAttrs),Kh(a,d,c,T,P),Fm(T,P,f),null!==P.contentQueries&&(d.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(d.flags|=64);const H=P.type.prototype;!y&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((a.preOrderHooks??(a.preOrderHooks=[])).push(d.index),y=!0),!E&&(H.ngOnChanges||H.ngDoCheck)&&((a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(d.index),E=!0),T++}!function zS(a,c,d){const f=c.directiveEnd,g=a.data,y=c.attrs,E=[];let T=null,S=null;for(let P=c.directiveStart;P<f;P++){const H=g[P],X=d?d.get(H):null,Ie=X?X.outputs:null;T=Ax(H.inputs,P,T,X?X.inputs:null),S=Ax(H.outputs,P,S,Ie);const We=null===T||null===y||yx(c)?null:WS(T,P,y);E.push(We)}null!==T&&(T.hasOwnProperty("class")&&(c.flags|=8),T.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=E,c.inputs=T,c.outputs=S}(a,d,g)}function Jg(a,c,d){const h=d.directiveStart,f=d.directiveEnd,g=d.index,y=function gg(){return Pt.lFrame.currentDirectiveIndex}();try{Ao(g);for(let E=h;E<f;E++){const T=a.data[E],S=c[E];fi(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&iL(T,S)}}finally{Ao(-1),fi(y)}}function iL(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function e_(a,c,d){c.componentOffset=d,(a.components??(a.components=[])).push(c.index)}function Fm(a,c,d){if(d){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)d[c.exportAs[h]]=a;Tr(c)&&(d[""]=a)}}function Kh(a,c,d,h,f){a.data[h]=f;const g=f.factory||(f.factory=jo(f.type)),y=new Wo(g,Tr(f),Wh);a.blueprint[h]=y,d[h]=y,function Xg(a,c,d,h,f){const g=f.hostBindings;if(g){let y=a.hostBindingOpCodes;null===y&&(y=a.hostBindingOpCodes=[]);const E=~c.index;(function $S(a){let c=a.length;for(;c>0;){const d=a[--c];if("number"==typeof d&&d<0)return d}return 0})(y)!=E&&y.push(E),y.push(d,h,g)}}(a,c,h,Om(a,d,f.hostVars,en),f)}function ta(a,c,d,h,f,g){const y=Ki(a,c);!function t_(a,c,d,h,f,g,y){if(null==g)a.removeAttribute(c,f,d);else{const E=null==y?Fe(g):y(g,h||"",f);a.setAttribute(c,f,E,d)}}(c[qt],y,g,a.value,d,h,f)}function Qh(a,c,d,h,f,g){const y=g[c];if(null!==y){const E=h.setInput;for(let T=0;T<y.length;){const S=y[T++],P=y[T++],H=y[T++];null!==E?h.setInput(d,H,S,P):d[P]=H}}}function WS(a,c,d){let h=null,f=0;for(;f<d.length;){const g=d[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(a.hasOwnProperty(g)){null===h&&(h=[]);const y=a[g];for(let E=0;E<y.length;E+=2)if(y[E]===c){h.push(g,y[E+1],d[f+1]);break}}f+=2}else f+=2;else f+=4}return h}function Px(a,c,d,h){return[a,!0,!1,c,null,0,h,d,null,null]}function Ly(a,c){const d=ji(c,a);if(ps(d)){const h=d[tt];48&d[Jt]?Zh(h,d,h.template,d[oi]):d[cs]>0&&Nc(d)}}function Nc(a){for(let h=kl(a);null!==h;h=$d(h))for(let f=Yi;f<h.length;f++){const g=h[f];if(ps(g))if(512&g[Jt]){const y=g[tt];Zh(y,g,y.template,g[oi])}else g[cs]>0&&Nc(g)}const d=a[tt].components;if(null!==d)for(let h=0;h<d.length;h++){const f=ji(d[h],a);ps(f)&&f[cs]>0&&Nc(f)}}function ZS(a,c){const d=ji(c,a),h=d[tt];(function By(a,c){for(let d=c.length;d<a.blueprint.length;d++)c.push(a.blueprint[d])})(h,d),tu(h,d,d[oi])}function n_(a,c){return a[Wr]?a[ga][xn]=c:a[Wr]=c,a[ga]=c,c}function Bm(a){for(;a;){a[Jt]|=32;const c=Th(a);if(us(a)&&!c)return a;a=c}return null}function Vm(a,c,d,h=!0){const f=c[Hi];f.begin&&f.begin();try{Zh(a,c,a.template,d)}catch(y){throw h&&r_(c,y),y}finally{f.end&&f.end()}}function Is(a,c,d){Ju(0),c(a,d)}function Fc(a){return a[zo]||(a[zo]=[])}function Um(a){return a.cleanup||(a.cleanup=[])}function zm(a,c,d){return(null===a||Tr(a))&&(d=function Ls(a){for(;Array.isArray(a);){if("object"==typeof a[dd])return a;a=a[Ui]}return null}(d[c.index])),d[qt]}function r_(a,c){const d=a[ol],h=d?d.get(Sm,null):null;h&&h.handleError(c)}function Vy(a,c,d,h,f){for(let g=0;g<d.length;){const y=d[g++],E=d[g++],T=c[y],S=a.data[y];null!==S.setInput?S.setInput(T,f,h,E):T[E]=f}}function Vl(a,c,d){const h=Bs(c,a);!function wg(a,c,d){a.setValue(c,d)}(a[qt],h,d)}function o_(a,c,d){let h=d?a.styles:null,f=d?a.classes:null,g=0;if(null!==c)for(let y=0;y<c.length;y++){const E=c[y];"number"==typeof E?g=E:1==g?f=xe(f,E):2==g&&(h=xe(h,E+": "+c[++y]+";"))}d?a.styles=h:a.stylesWithoutHost=h,d?a.classes=f:a.classesWithoutHost=f}function s_(a,c,d,h,f=!1){for(;null!==d;){const g=c[d.index];if(null!==g&&h.push(Di(g)),uo(g))for(let E=Yi;E<g.length;E++){const T=g[E],S=T[tt].firstChild;null!==S&&s_(T[tt],T,S,h)}const y=d.type;if(8&y)s_(a,c,d.child,h);else if(32&y){const E=Xr(d,c);let T;for(;T=E();)h.push(T)}else if(16&y){const E=Dc(c,d);if(Array.isArray(E))h.push(...E);else{const T=Th(c[Ci]);s_(T[tt],T,E,h,!0)}}d=f?d.projectionNext:d.next}return h}class Hm{get rootNodes(){const c=this._lView,d=c[tt];return s_(d,c,d.firstChild,[])}constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[oi]}set context(c){this._lView[oi]=c}get destroyed(){return 128==(128&this._lView[Jt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[Un];if(uo(c)){const d=c[ds],h=d?d.indexOf(this):-1;h>-1&&(k(c,h),xl(d,h))}this._attachedToViewContainer=!1}F(this._lView[tt],this._lView)}onDestroy(c){Ny(this._lView[tt],this._lView,null,c)}markForCheck(){Bm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Jt]&=-65}reattach(){this._lView[Jt]|=64}detectChanges(){Vm(this._lView[tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function La(a,c){Kd(a,c,c[qt],2,null,null)}(this._lView[tt],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=c}}class YS extends Hm{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;Vm(c[tt],c,c[oi],!1)}checkNoChanges(){}get context(){return null}}class Fx extends zh{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=Ct(c);return new jm(d,this.ngModule)}}function Lx(a){const c=[];for(let d in a)a.hasOwnProperty(d)&&c.push({propName:a[d],templateName:d});return c}class QS{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,h){h=Zi(h);const f=this.injector.get(c,Hg,h);return f!==Hg||d===Hg?f:this.parentInjector.get(c,d,h)}}class jm extends Sc{get inputs(){return Lx(this.componentDef.inputs)}get outputs(){return Lx(this.componentDef.outputs)}constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function Mm(a){return a.map(PS).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}create(c,d,h,f){let g=(f=f||this.ngModule)instanceof Tc?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new QS(c,g):c,E=y.get(zg,null);if(null===E)throw new we(407,!1);const T=y.get(dx,null),S=E.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",H=h?function Yg(a,c,d){return a.selectRootElement(c,d===V.ShadowDom)}(S,h,this.componentDef.encapsulation):bm(S,P,function KS(a){const c=a.toLowerCase();return"svg"===c?cl:"math"===c?"math":null}(P)),X=this.componentDef.onPush?288:272,oe=Py(0,null,null,1,0,null,null,null,null,null),Ie=Oc(null,oe,null,X,null,null,E,S,T,y,null);let We,it;Ea(Ie);try{const gt=this.componentDef;let Vt,Le=null;gt.findHostDirectiveDefs?(Vt=[],Le=new Map,gt.findHostDirectiveDefs(gt,Vt,Le),Vt.push(gt)):Vt=[gt];const zt=function XS(a,c){const d=a[tt],h=An;return a[h]=c,qh(d,h,2,"#host",null)}(Ie,H),pi=function JS(a,c,d,h,f,g,y,E){const T=f[tt];!function eA(a,c,d,h){for(const f of a)c.mergedAttrs=Us(c.mergedAttrs,f.hostAttrs);null!==c.mergedAttrs&&(o_(c,c.mergedAttrs,!0),null!==d&&ey(h,d,c))}(h,a,c,y);const S=g.createRenderer(c,d),P=Oc(f,Nm(d),null,d.onPush?32:16,f[a.index],a,g,S,E||null,null,null);return T.firstCreatePass&&e_(T,a,h.length-1),n_(f,P),f[a.index]=P}(zt,H,gt,Vt,Ie,E,S);it=tc(oe,An),H&&function Vx(a,c,d,h){if(h)Ta(a,d,["ng-version",ux.full]);else{const{attrs:f,classes:g}=function OS(a){const c=[],d=[];let h=1,f=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===f?""!==g&&c.push(g,a[++h]):8===f&&d.push(g);else{if(!za(f))break;f=g}h++}return{attrs:c,classes:d}}(c.selectors[0]);f&&Ta(a,d,f),g&&g.length>0&&Ba(a,d,g.join(" "))}}(S,gt,H,h),void 0!==d&&function Uy(a,c,d){const h=a.projection=[];for(let f=0;f<c.length;f++){const g=d[f];h.push(null!=g?Array.from(g):null)}}(it,this.ngContentSelectors,d),We=function tA(a,c,d,h,f,g){const y=hi(),E=f[tt],T=Ki(y,f);Qg(E,f,y,d,null,h);for(let P=0;P<d.length;P++)J(Yn(f,E,y.directiveStart+P,y),f);Jg(E,f,y),T&&J(T,f);const S=Yn(f,E,y.directiveStart+y.componentOffset,y);if(a[oi]=f[oi]=S,null!==g)for(const P of g)P(S,c);return Yh(E,y,a),S}(pi,gt,Vt,Le,Ie,[zy]),tu(oe,Ie,null)}finally{th()}return new Bx(this.componentType,We,Jd(it,Ie),Ie,it)}}class Bx extends ES{constructor(c,d,h,f,g){super(),this.location=h,this._rootLView=f,this._tNode=g,this.instance=d,this.hostView=this.changeDetectorRef=new YS(f),this.componentType=c}setInput(c,d){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[c])){const g=this._rootLView;Vy(g[tt],g,f,c,d),Bm(ji(this._tNode.index,g))}}get injector(){return new ka(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function zy(){const a=hi();lc(ve()[tt],a)}function Lc(a){let c=function Ga(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const h=[a];for(;c;){let f;if(Tr(a))f=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new we(903,!1);f=c.\u0275dir}if(f){if(d){h.push(f);const y=a;y.inputs=a_(a.inputs),y.declaredInputs=a_(a.declaredInputs),y.outputs=a_(a.outputs);const E=f.hostBindings;E&&zx(a,E);const T=f.viewQuery,S=f.contentQueries;if(T&&nA(a,T),S&&Wa(a,S),Ee(a.inputs,f.inputs),Ee(a.declaredInputs,f.declaredInputs),Ee(a.outputs,f.outputs),Tr(f)&&f.data.animation){const P=a.data;P.animation=(P.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let y=0;y<g.length;y++){const E=g[y];E&&E.ngInherit&&E(a),E===Lc&&(d=!1)}}c=Object.getPrototypeOf(c)}!function Ux(a){let c=0,d=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=c+=f.hostVars,f.hostAttrs=Us(f.hostAttrs,d=Us(d,f.hostAttrs))}}(h)}function a_(a){return a===O?{}:a===Q?[]:a}function nA(a,c){const d=a.viewQuery;a.viewQuery=d?(h,f)=>{c(h,f),d(h,f)}:c}function Wa(a,c){const d=a.contentQueries;a.contentQueries=d?(h,f,g)=>{c(h,f,g),d(h,f,g)}:c}function zx(a,c){const d=a.hostBindings;a.hostBindings=d?(h,f)=>{c(h,f),d(h,f)}:c}function d_(a){return!!u_(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function u_(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function na(a,c,d){return a[c]=d}function sr(a,c,d){return!Object.is(a[c],d)&&(a[c]=d,!0)}function Wy(a,c,d,h){const f=ve();return sr(f,Go(),c)&&(Ut(),ta(zn(),f,a,c,d,h)),Wy}function Gm(a,c,d,h,f,g){const E=function qa(a,c,d,h){const f=sr(a,c,d);return sr(a,c+1,h)||f}(a,function Sr(){return Pt.lFrame.bindingIndex}(),d,f);return So(2),E?c+Fe(d)+h+Fe(f)+g:en}function ou(a,c,d,h,f,g,y,E){const T=ve(),S=Ut(),P=a+An,H=S.firstCreatePass?function oA(a,c,d,h,f,g,y,E,T){const S=c.consts,P=qh(c,a,4,y||null,$o(S,E));Fy(c,d,P,$o(S,T)),lc(c,P);const H=P.tView=Py(2,P,h,f,g,c.directiveRegistry,c.pipeRegistry,null,c.schemas,S);return null!==c.queries&&(c.queries.template(c,P),H.queries=c.queries.embeddedTView(P)),P}(P,S,T,c,d,h,f,g,y):S.data[P];Zr(H,!1);const X=T[qt].createComment("");Pl(S,T,X,H),J(X,T),n_(T,T[P]=Px(X,T,X,H)),al(H)&&nu(S,T,H),null!=y&&Zg(T,H,E)}function Zx(a){return _r(function Ku(){return Pt.lFrame.contextLView}(),An+a)}function Yy(a,c,d){const h=ve();return sr(h,Go(),c)&&Ko(Ut(),zn(),h,a,c,h[qt],d,!1),Yy}function su(a,c,d,h,f){const y=f?"class":"style";Vy(a,d,c.inputs[y],y,h)}function f_(a,c,d,h){const f=ve(),g=Ut(),y=An+a,E=f[qt],T=g.firstCreatePass?function Qm(a,c,d,h,f,g){const y=c.consts,T=qh(c,a,2,h,$o(y,f));return Fy(c,d,T,$o(y,g)),null!==T.attrs&&o_(T,T.attrs,!1),null!==T.mergedAttrs&&o_(T,T.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,T),T}(y,g,f,c,d,h):g.data[y],S=f[y]=bm(E,c,function ih(){return Pt.lFrame.currentNamespace}()),P=al(T);return Zr(T,!0),ey(E,S,T),32!=(32&T.flags)&&Pl(g,f,S,T),0===function hd(){return Pt.lFrame.elementDepthCount}()&&J(S,f),function fd(){Pt.lFrame.elementDepthCount++}(),P&&(nu(g,f,T),Yh(g,T,f)),null!==h&&Zg(f,T),f_}function m_(){let a=hi();ic()?Yu():(a=a.parent,Zr(a,!1));const c=a;!function md(){Pt.lFrame.elementDepthCount--}();const d=Ut();return d.firstCreatePass&&(lc(d,a),Ns(a)&&d.queries.elementEnd(a)),null!=c.classesWithoutHost&&function qo(a){return 0!=(8&a.flags)}(c)&&su(d,c,ve(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function wd(a){return 0!=(16&a.flags)}(c)&&su(d,c,ve(),c.stylesWithoutHost,!1),m_}function Ky(a,c,d,h){return f_(a,c,d,h),m_(),Ky}function p_(a,c,d){const h=ve(),f=Ut(),g=a+An,y=f.firstCreatePass?function sA(a,c,d,h,f){const g=c.consts,y=$o(g,h),E=qh(c,a,8,"ng-container",y);return null!==y&&o_(E,y,!0),Fy(c,d,E,$o(g,f)),null!==c.queries&&c.queries.elementStart(c,E),E}(g,f,h,c,d):f.data[g];Zr(y,!0);const E=h[g]=h[qt].createComment("");return Pl(f,h,E,y),J(E,h),al(y)&&(nu(f,h,y),Yh(f,y,h)),null!=d&&Zg(h,y),p_}function g_(){let a=hi();const c=Ut();return ic()?Yu():(a=a.parent,Zr(a,!1)),c.firstCreatePass&&(lc(c,a),Ns(a)&&c.queries.elementEnd(a)),g_}function Yx(a,c,d){return p_(a,c,d),g_(),Yx}function Kx(){return ve()}function Xm(a){return!!a&&"function"==typeof a.then}function Jm(a){return!!a&&"function"==typeof a.subscribe}const au=Jm;function Qy(a,c,d,h){const f=ve(),g=Ut(),y=hi();return Qx(g,f,f[qt],y,a,c,h),Qy}function Xy(a,c){const d=hi(),h=ve(),f=Ut();return Qx(f,h,zm(rc(f.data),d,h),d,a,c),Xy}function Qx(a,c,d,h,f,g,y){const E=al(h),S=a.firstCreatePass&&Um(a),P=c[oi],H=Fc(c);let X=!0;if(3&h.type||y){const We=Ki(h,c),it=y?y(We):We,gt=H.length,Vt=y?zt=>y(Di(zt[h.index])):h.index;let Le=null;if(!y&&E&&(Le=function aA(a,c,d,h){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const y=f[g];if(y===d&&f[g+1]===h){const E=c[zo],T=f[g+2];return E.length>T?E[T]:null}"string"==typeof y&&(g+=2)}return null}(a,c,f,h.index)),null!==Le)(Le.__ngLastListenerFn__||Le).__ngNextListenerFn__=g,Le.__ngLastListenerFn__=g,X=!1;else{g=Jx(h,c,P,g,!1);const zt=d.listen(it,f,g);H.push(g,zt),S&&S.push(f,Vt,gt,gt+1)}}else g=Jx(h,c,P,g,!1);const oe=h.outputs;let Ie;if(X&&null!==oe&&(Ie=oe[f])){const We=Ie.length;if(We)for(let it=0;it<We;it+=2){const pi=c[Ie[it]][Ie[it+1]].subscribe(g),Mi=H.length;H.push(g,pi),S&&S.push(f,h.index,Mi,-(Mi+1))}}}function Xx(a,c,d,h){try{return Zn(6,c,d),!1!==d(h)}catch(f){return r_(a,f),!1}finally{Zn(7,c,d)}}function Jx(a,c,d,h,f){return function g(y){if(y===Function)return h;Bm(a.componentOffset>-1?ji(a.index,c):c);let T=Xx(c,d,h,y),S=g.__ngNextListenerFn__;for(;S;)T=Xx(c,d,S,y)&&T,S=S.__ngNextListenerFn__;return f&&!1===T&&(y.preventDefault(),y.returnValue=!1),T}}function eC(a=1){return function vd(a){return(Pt.lFrame.contextLView=function nh(a,c){for(;a>0;)c=c[Ho],a--;return c}(a,Pt.lFrame.contextLView))[oi]}(a)}function lA(a,c){let d=null;const h=function st(a){const c=a.attrs;if(null!=c){const d=c.indexOf(5);if(!(1&d))return c[d+1]}return null}(a);for(let f=0;f<c.length;f++){const g=c[f];if("*"!==g){if(null===h?Mc(a,g,!0):jg(h,g))return f}else d=f}return d}function tC(a){const c=ve()[Ci][zi];if(!c.projection){const h=c.projection=Ra(a?a.length:1,null),f=h.slice();let g=c.child;for(;null!==g;){const y=a?lA(g,a):0;null!==y&&(f[y]?f[y].projectionNext=g:h[y]=g,f[y]=g),g=g.next}}}function Jy(a,c=0,d){const h=ve(),f=Ut(),g=qh(f,An+a,16,null,d||null);null===g.projection&&(g.projection=c),Yu(),32!=(32&g.flags)&&function Ig(a,c,d){Jv(c[qt],0,c,d,et(a,d,c),kh(d.parent||c[zi],d,c))}(f,h,g)}function ip(a,c){return a<<17|c<<2}function Ul(a){return a>>17&32767}function b_(a){return 2|a}function ia(a){return(131068&a)>>2}function w_(a,c){return-131069&a|c<<2}function tb(a){return 1|a}function lC(a,c,d,h,f){const g=a[d+1],y=null===c;let E=h?Ul(g):ia(g),T=!1;for(;0!==E&&(!1===T||y);){const P=a[E+1];uA(a[E],c)&&(T=!0,a[E+1]=h?tb(P):b_(P)),E=h?Ul(P):ia(P)}T&&(a[d+1]=h?b_(g):tb(g))}function uA(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&Zt(a,c)>=0}function rb(a,c,d){return to(a,c,d,!1),rb}function ob(a,c){return to(a,c,null,!0),ob}function to(a,c,d,h){const f=ve(),g=Ut(),y=So(2);g.firstUpdatePass&&function ab(a,c,d,h){const f=a.data;if(null===f[d+1]){const g=f[rr()],y=function gC(a,c){return c>=a.expandoStartIndex}(a,d);(function xC(a,c){return 0!=(a.flags&(c?8:16))})(g,h)&&null===c&&!y&&(c=!1),c=function x_(a,c,d,h){const f=rc(a);let g=h?c.residualClasses:c.residualStyles;if(null===f)0===(h?c.classBindings:c.styleBindings)&&(d=rp(d=lb(null,a,c,d,h),c.attrs,h),g=null);else{const y=c.directiveStylingLast;if(-1===y||a[y]!==f)if(d=lb(f,a,c,d,h),null===g){let T=function C_(a,c,d){const h=d?c.classBindings:c.styleBindings;if(0!==ia(h))return a[Ul(h)]}(a,c,h);void 0!==T&&Array.isArray(T)&&(T=lb(null,a,c,T[1],h),T=rp(T,c.attrs,h),function _C(a,c,d,h){a[Ul(d?c.classBindings:c.styleBindings)]=h}(a,c,h,T))}else g=function vC(a,c,d){let h;const f=c.directiveEnd;for(let g=1+c.directiveStylingLast;g<f;g++)h=rp(h,a[g].hostAttrs,d);return rp(h,c.attrs,d)}(a,c,h)}return void 0!==g&&(h?c.residualClasses=g:c.residualStyles=g),d}(f,g,c,h),function dA(a,c,d,h,f,g){let y=g?c.classBindings:c.styleBindings,E=Ul(y),T=ia(y);a[h]=d;let P,S=!1;if(Array.isArray(d)?(P=d[1],(null===P||Zt(d,P)>0)&&(S=!0)):P=d,f)if(0!==T){const X=Ul(a[E+1]);a[h+1]=ip(X,E),0!==X&&(a[X+1]=w_(a[X+1],h)),a[E+1]=function y_(a,c){return 131071&a|c<<17}(a[E+1],h)}else a[h+1]=ip(E,0),0!==E&&(a[E+1]=w_(a[E+1],h)),E=h;else a[h+1]=ip(T,0),0===E?E=h:a[T+1]=w_(a[T+1],h),T=h;S&&(a[h+1]=b_(a[h+1])),lC(a,P,h,!0),lC(a,P,h,!1),function aC(a,c,d,h,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof c&&Zt(g,c)>=0&&(d[h+1]=tb(d[h+1]))}(c,P,a,h,g),y=ip(E,T),g?c.classBindings=y:c.styleBindings=y}(f,g,c,d,y,h)}}(g,a,y,h),c!==en&&sr(f,y,c)&&function bC(a,c,d,h,f,g,y,E){if(!(3&c.type))return;const T=a.data,S=T[E+1],P=function cA(a){return 1==(1&a)}(S)?wC(T,c,d,f,ia(S),y):void 0;rf(P)||(rf(g)||function v_(a){return 2==(2&a)}(S)&&(g=wC(T,null,d,f,E,y)),function qw(a,c,d,h,f){if(c)f?a.addClass(d,h):a.removeClass(d,h);else{let g=-1===h.indexOf("-")?void 0:mo.DashCase;null==f?a.removeStyle(d,h,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=mo.Important),a.setStyle(d,h,f,g))}}(h,y,Bs(rr(),d),f,g))}(g,g.data[rr()],f,f[qt],a,f[y+1]=function _A(a,c){return null==a||""===a||("string"==typeof c?a+=c:"object"==typeof a&&(a=be(Js(a)))),a}(c,d),h,y)}function lb(a,c,d,h,f){let g=null;const y=d.directiveEnd;let E=d.directiveStylingLast;for(-1===E?E=d.directiveStart:E++;E<y&&(g=c[E],h=rp(h,g.hostAttrs,f),g!==a);)E++;return null!==a&&(d.directiveStylingLast=E),h}function rp(a,c,d){const h=d?1:2;let f=-1;if(null!==c)for(let g=0;g<c.length;g++){const y=c[g];"number"==typeof y?f=y:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Yr(a,y,!!d||c[++g]))}return void 0===a?null:a}function wC(a,c,d,h,f,g){const y=null===c;let E;for(;f>0;){const T=a[f],S=Array.isArray(T),P=S?T[1]:T,H=null===P;let X=d[f+1];X===en&&(X=H?Q:void 0);let oe=H?Kr(X,h):P===h?X:void 0;if(S&&!rf(oe)&&(oe=Kr(T,h)),rf(oe)&&(E=oe,y))return E;const Ie=a[f+1];f=y?Ul(Ie):ia(Ie)}if(null!==c){let T=g?c.residualClasses:c.residualStyles;null!=T&&(E=Kr(T,h))}return E}function rf(a){return void 0!==a}function CC(a,c=""){const d=ve(),h=Ut(),f=a+An,g=h.firstCreatePass?qh(h,f,1,c,null):h.data[f],y=d[f]=function Jr(a,c){return a.createText(c)}(d[qt],c);Pl(h,d,y,g),Zr(g,!1)}function cb(a){return Rr("",a,""),cb}function Rr(a,c,d){const h=ve(),f=function ru(a,c,d,h){return sr(a,Go(),d)?c+Fe(d)+h:en}(h,a,c,d);return f!==en&&Vl(h,rr(),f),Rr}function db(a,c,d,h,f){const g=ve(),y=Gm(g,a,c,d,h,f);return y!==en&&Vl(g,rr(),y),db}function _b(a,c,d){const h=ve();return sr(h,Go(),c)&&Ko(Ut(),zn(),h,a,c,h[qt],d,!0),_b}function zc(a,c,d){const h=ve();if(sr(h,Go(),c)){const g=Ut(),y=zn();Ko(g,y,h,a,c,zm(rc(g.data),y,h),d,!0)}return zc}const du=void 0;var MA=["en",[["a","p"],["AM","PM"],du],[["AM","PM"],du,du],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",du,"{1} 'at' {0}",du],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AA(a){const d=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===h?1:5}];let lf={};function D_(a){const c=function cf(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=I_(c);if(d)return d;const h=c.split("-")[0];if(d=I_(h),d)return d;if("en"===h)return MA;throw new we(701,!1)}function kA(a){return D_(a)[Nt.PluralCase]}function I_(a){return a in lf||(lf[a]=gn.ng&&gn.ng.common&&gn.ng.common.locales&&gn.ng.common.locales[a]),lf[a]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const Ya="en-US";let df=Ya;function HC(a,c,d,h,f){if(a=te(a),Array.isArray(a))for(let g=0;g<a.length;g++)HC(a[g],c,d,h,f);else{const g=Ut(),y=ve();let E=Ol(a)?a:te(a.provide),T=Ua(a);const S=hi(),P=1048575&S.providerIndexes,H=S.directiveStart,X=S.providerIndexes>>20;if(Ol(a)||!a.multi){const oe=new Wo(T,f,Wh),Ie=$C(E,c,f?P:P+X,H);-1===Ie?(ys(Dd(S,y),g,E),jC(g,a,c.length),c.push(E),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),d.push(oe),y.push(oe)):(d[Ie]=oe,y[Ie]=oe)}else{const oe=$C(E,c,P+X,H),Ie=$C(E,c,P,P+X),it=Ie>=0&&d[Ie];if(f&&!it||!f&&!(oe>=0&&d[oe])){ys(Dd(S,y),g,E);const gt=function JL(a,c,d,h,f){const g=new Wo(a,d,Wh);return g.multi=[],g.index=c,g.componentProviders=0,oM(g,f,h&&!d),g}(f?XL:QL,d.length,f,h,T);!f&&it&&(d[Ie].providerFactory=gt),jC(g,a,c.length,0),c.push(E),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),d.push(gt),y.push(gt)}else jC(g,a,oe>-1?oe:Ie,oM(d[f?Ie:oe],T,!f&&h));!f&&h&&it&&d[Ie].componentProviders++}}}function jC(a,c,d,h){const f=Ol(c),g=function bS(a){return!!a.useClass}(c);if(f||g){const T=(g?te(c.useClass):c).prototype.ngOnDestroy;if(T){const S=a.destroyHooks||(a.destroyHooks=[]);if(!f&&c.multi){const P=S.indexOf(d);-1===P?S.push(d,[h,T]):S[P+1].push(h,T)}else S.push(d,T)}}}function oM(a,c,d){return d&&a.componentProviders++,a.multi.push(c)-1}function $C(a,c,d,h){for(let f=d;f<h;f++)if(c[f]===a)return f;return-1}function QL(a,c,d,h){return GC(this.multi,[])}function XL(a,c,d,h){const f=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Yn(d,d[tt],this.providerFactory.index,h);g=E.slice(0,y),GC(f,g);for(let T=y;T<E.length;T++)g.push(E[T])}else g=[],GC(f,g);return g}function GC(a,c){for(let d=0;d<a.length;d++)c.push((0,a[d])());return c}function sM(a,c=[]){return d=>{d.providersResolver=(h,f)=>function KL(a,c,d){const h=Ut();if(h.firstCreatePass){const f=Tr(a);HC(d,h.data,h.blueprint,f,!0),HC(c,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,c)}}class cp{}class aM{}function e2(a,c){return new lM(a,c??null)}class lM extends cp{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fx(this);const h=Vi(c);this._bootstrapComponents=Nl(h.bootstrap),this._r3Injector=eo(c,d,[{provide:cp,useValue:this},{provide:zh,useValue:this.componentFactoryResolver}],be(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class WC extends aM{constructor(c){super(),this.moduleType=c}create(c){return new lM(this.moduleType,c)}}class t2 extends cp{constructor(c,d,h){super(),this.componentFactoryResolver=new Fx(this),this.instance=null;const f=new Fg([...c,{provide:cp,useValue:this},{provide:zh,useValue:this.componentFactoryResolver}],d||Ng(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function qC(a,c,d=null){return new t2(a,c,d).injector}let n2=(()=>{class a{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const h=_S(0,d.type),f=h.length>0?qC([h],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,f)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=ft({token:a,providedIn:"environment",factory:()=>new a($t(Tc))}),a})();function cM(a){a.getStandaloneInjector=c=>c.get(n2).getOrCreateStandaloneInjector(a)}function gM(a,c,d){const h=Qi()+a,f=ve();return f[h]===en?na(f,h,d?c.call(d):c()):function $m(a,c){return a[c]}(f,h)}function KC(a,c,d,h,f,g){const y=c+d;return sr(a,y,f)?na(a,y+1,g?h.call(g,f):h(f)):function Hc(a,c){const d=a[c];return d===en?void 0:d}(a,y+1)}function XC(a,c){const d=Ut();let h;const f=a+An;d.firstCreatePass?(h=function up(a,c){if(c)for(let d=c.length-1;d>=0;d--){const h=c[d];if(a===h.name)return h}}(c,d.pipeRegistry),d.data[f]=h,h.onDestroy&&(d.destroyHooks??(d.destroyHooks=[])).push(f,h.onDestroy)):h=d.data[f];const g=h.factory||(h.factory=jo(h.type)),y=li(Wh);try{const E=yl(!1),T=g();return yl(E),function Km(a,c,d,h){d>=a.data.length&&(a.data[d]=null,a.blueprint[d]=null),c[d]=h}(d,ve(),f,T),T}finally{li(y)}}function Ai(a,c,d){const h=a+An,f=ve(),g=_r(f,h);return function jc(a,c){return a[tt].data[c].pure}(f,h)?KC(f,Qi(),c,g.transform,d,g):g.transform(d)}function N_(a){return c=>{setTimeout(a,void 0,c)}}const _o=class _2 extends s.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,h){let f=c,g=d||(()=>null),y=h;if(c&&"object"==typeof c){const T=c;f=T.next?.bind(T),g=T.error?.bind(T),y=T.complete?.bind(T)}this.__isAsync&&(g=N_(g),f&&(f=N_(f)),y&&(y=N_(y)));const E=super.subscribe({next:f,error:g,complete:y});return c instanceof $.w0&&c.add(E),E}};function yM(){return this._results[Symbol.iterator]()}class F_{get changes(){return this._changes||(this._changes=new _o)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=F_.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=yM)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const h=this;h.dirty=!1;const f=function Vr(a){return a.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function Rd(a,c,d){if(a.length!==c.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],g=c[h];if(d&&(f=d(f),g=d(g)),g!==f)return!1}return!0}(h._results,f,d))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let hp=(()=>{class a{}return a.__NG_ELEMENT_ID__=v2,a})();const bM=hp,tE=class extends bM{constructor(c,d,h){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=h}createEmbeddedView(c,d){const h=this._declarationTContainer.tView,f=Oc(this._declarationLView,h,c,16,null,h.declTNode,null,null,null,null,d||null);f[Rs]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Lr];return null!==y&&(f[Lr]=y.createEmbeddedView(h)),tu(h,f,c),new Hm(f)}};function v2(){return fp(hi(),ve())}function fp(a,c){return 4&a.type?new tE(c,a,Jd(a,c)):null}let yb=(()=>{class a{}return a.__NG_ELEMENT_ID__=y2,a})();function y2(){return oE(hi(),ve())}const nE=yb,wM=class extends nE{constructor(c,d,h){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=h}get element(){return Jd(this._hostTNode,this._hostLView)}get injector(){return new ka(this._hostTNode,this._hostLView)}get parentInjector(){const c=mi(this._hostTNode,this._hostLView);if(zs(c)){const d=vl(c,this._hostLView),h=Aa(c);return new ka(d[tt].data[h+8],d)}return new ka(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=iE(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-Yi}createEmbeddedView(c,d,h){let f,g;"number"==typeof h?f=h:null!=h&&(f=h.index,g=h.injector);const y=c.createEmbeddedView(d||{},g);return this.insert(y,f),y}createComponent(c,d,h,f,g){const y=c&&!function vc(a){return"function"==typeof a}(c);let E;if(y)E=d;else{const H=d||{};E=H.index,h=H.injector,f=H.projectableNodes,g=H.environmentInjector||H.ngModuleRef}const T=y?c:new jm(Ct(c)),S=h||this.parentInjector;if(!g&&null==T.ngModule){const X=(y?S:this.parentInjector).get(Tc,null);X&&(g=X)}const P=T.create(S,f,void 0,g);return this.insert(P.hostView,E),P}insert(c,d){const h=c._lView,f=h[tt];if(function Gu(a){return uo(a[Un])}(h)){const P=this.indexOf(c);if(-1!==P)this.detach(P);else{const H=h[Un],X=new wM(H,H[zi],H[Un]);X.detach(X.indexOf(c))}}const g=this._adjustIndex(d),y=this._lContainer;!function p(a,c,d,h){const f=Yi+h,g=d.length;h>0&&(d[f-1][xn]=c),h<g-Yi?(c[xn]=d[f],Pd(d,Yi+h,c)):(d.push(c),c[xn]=null),c[Un]=d;const y=c[Rs];null!==y&&d!==y&&function v(a,c){const d=a[Br];c[Ci]!==c[Un][Un][Ci]&&(a[sl]=!0),null===d?a[Br]=[c]:d.push(c)}(y,c);const E=c[Lr];null!==E&&E.insertView(a),c[Jt]|=64}(f,h,y,g);const E=Rh(g,y),T=h[qt],S=Rl(T,y[_a]);return null!==S&&function Xv(a,c,d,h,f,g){h[Ui]=f,h[zi]=c,Kd(a,h,d,1,f,g)}(f,y[zi],T,h,S,E),c.attachToViewContainerRef(),Pd(rE(y),g,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=iE(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),h=k(this._lContainer,d);h&&(xl(rE(this._lContainer),d),F(h[tt],h))}detach(c){const d=this._adjustIndex(c,-1),h=k(this._lContainer,d);return h&&null!=xl(rE(this._lContainer),d)?new Hm(h):null}_adjustIndex(c,d=0){return c??this.length+d}};function iE(a){return a[ds]}function rE(a){return a[ds]||(a[ds]=[])}function oE(a,c){let d;const h=c[a.index];if(uo(h))d=h;else{let f;if(8&a.type)f=Di(h);else{const g=c[qt];f=g.createComment("");const y=Ki(a,c);Yt(g,Rl(g,y),f,function wm(a,c){return a.nextSibling(c)}(g,y),!1)}c[a.index]=d=Px(h,c,f,a),n_(c,d)}return new wM(d,a,c)}class sE{constructor(c){this.queryList=c,this.matches=null}clone(){return new sE(this.queryList)}setDirty(){this.queryList.setDirty()}}class aE{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const h=null!==c.contentQueries?c.contentQueries[0]:d.length,f=[];for(let g=0;g<h;g++){const y=d.getByIndex(g);f.push(this.queries[y.indexInDeclarationView].clone())}return new aE(f)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==_E(c,d).matches&&this.queries[d].setDirty()}}class xM{constructor(c,d,h=null){this.predicate=c,this.flags=d,this.read=h}}class bb{constructor(c=[]){this.queries=c}elementStart(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let h=0;h<this.length;h++){const f=null!==d?d.length:0,g=this.getByIndex(h).embeddedTView(c,f);g&&(g.indexInDeclarationView=h,null!==d?d.push(g):d=[g])}return null!==d?new bb(d):null}template(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class lE{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new lE(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const g=h[f];this.matchTNodeWithReadOption(c,d,cE(d,g)),this.matchTNodeWithReadOption(c,d,Ma(d,c,g,!1,!1))}else h===hp?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,Ma(d,c,h,!1,!1))}matchTNodeWithReadOption(c,d,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Tm||f===yb||f===hp&&4&d.type)this.addMatch(d.index,-2);else{const g=Ma(d,c,f,!1,!1);null!==g&&this.addMatch(d.index,g)}else this.addMatch(d.index,h)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function cE(a,c){const d=a.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===c)return d[h+1];return null}function mp(a,c,d,h){return-1===d?function b2(a,c){return 11&a.type?Jd(a,c):4&a.type?fp(a,c):null}(c,a):-2===d?function CM(a,c,d){return d===Tm?Jd(c,a):d===hp?fp(c,a):d===yb?oE(c,a):void 0}(a,c,h):Yn(a,a[tt],d,c)}function dE(a,c,d,h){const f=c[Lr].queries[h];if(null===f.matches){const g=a.data,y=d.matches,E=[];for(let T=0;T<y.length;T+=2){const S=y[T];E.push(S<0?null:mp(c,g[S],y[T+1],d.metadata.read))}f.matches=E}return f.matches}function wb(a,c,d,h){const f=a.queries.getByIndex(d),g=f.matches;if(null!==g){const y=dE(a,c,f,d);for(let E=0;E<g.length;E+=2){const T=g[E];if(T>0)h.push(y[E/2]);else{const S=g[E+1],P=c[-T];for(let H=Yi;H<P.length;H++){const X=P[H];X[Rs]===X[Un]&&wb(X[tt],X,S,h)}if(null!==P[Br]){const H=P[Br];for(let X=0;X<H.length;X++){const oe=H[X];wb(oe[tt],oe,S,h)}}}}}return h}function uE(a){const c=ve(),d=Ut(),h=fl();Ju(h+1);const f=_E(d,h);if(a.dirty&&function dl(a){return 4==(4&a[Jt])}(c)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?wb(d,c,h,[]):dE(d,c,f,h);a.reset(g,YF),a.notifyOnChanges()}return!0}return!1}function hE(a,c,d){const h=Ut();h.firstCreatePass&&(gE(h,new xM(a,c,d),-1),2==(2&c)&&(h.staticViewQueries=!0)),xb(h,ve(),c)}function fE(a,c,d,h){const f=Ut();if(f.firstCreatePass){const g=hi();gE(f,new xM(c,d,h),g.index),function EM(a,c){const d=a.contentQueries||(a.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,c)}(f,a),2==(2&d)&&(f.staticContentQueries=!0)}xb(f,ve(),d)}function mE(){return function pE(a,c){return a[Lr].queries[c].queryList}(ve(),fl())}function xb(a,c,d){const h=new F_(4==(4&d));Ny(a,c,h,h.destroy),null===c[Lr]&&(c[Lr]=new aE),c[Lr].queries.push(new sE(h))}function gE(a,c,d){null===a.queries&&(a.queries=new bb),a.queries.track(new lE(c,d))}function _E(a,c){return a.queries.getByIndex(c)}function vE(a,c){return fp(a,c)}function gp(a){return!!Vi(a)}function Rb(...a){}const $M=new fn("Application Initializer");let Pb=(()=>{class a{constructor(d){this.appInits=d,this.resolve=Rb,this.reject=Rb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const d=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(Xm(g))d.push(g);else if(au(g)){const y=new Promise((E,T)=>{g.subscribe({complete:E,error:T})});d.push(y)}}Promise.all(d).then(()=>{h()}).catch(f=>{this.reject(f)}),0===d.length&&h(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)($t($M,8))},a.\u0275prov=ft({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const GM=new fn("AppId",{providedIn:"root",factory:function WM(){return`${xE()}${xE()}${xE()}`}});function xE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qM=new fn("Platform Initializer"),N2=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ZM=new fn("AnimationModuleType");let F2=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=ft({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Gc=new fn("LocaleId",{providedIn:"root",factory:()=>qn(Gc,vt.Optional|vt.SkipSelf)||function L2(){return typeof $localize<"u"&&$localize.locale||Ya}()}),B2=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class CE{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let KM=(()=>{class a{compileModuleSync(d){return new WC(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const h=this.compileModuleSync(d),g=Nl(Vi(d).declarations).reduce((y,E)=>{const T=Ct(E);return T&&y.push(new jm(T)),y},[]);return new CE(h,g)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=ft({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const _p=(()=>Promise.resolve(0))();function SE(a){typeof Zone>"u"?_p.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class aa{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _o(!1),this.onMicrotaskEmpty=new _o(!1),this.onStable=new _o(!1),this.onError=new _o(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&d,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function AE(){let a=gn.requestAnimationFrame,c=gn.cancelAnimationFrame;if(typeof Zone<"u"&&a&&c){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function j2(a){const c=()=>{!function H2(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(gn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,kE(a),a.isCheckStableRunning=!0,ME(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),kE(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,f,g,y,E)=>{try{return XM(a),d.invokeTask(f,g,y,E)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&c(),JM(a)}},onInvoke:(d,h,f,g,y,E,T)=>{try{return XM(a),d.invoke(f,g,y,E,T)}finally{a.shouldCoalesceRunChangeDetection&&c(),JM(a)}},onHasTask:(d,h,f,g)=>{d.hasTask(f,g),h===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,kE(a),ME(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(d,h,f,g)=>(d.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!aa.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(aa.isInAngularZone())throw new we(909,!1)}run(c,d,h){return this._inner.run(c,d,h)}runTask(c,d,h,f){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+f,c,z2,Rb,Rb);try{return g.runTask(y,d,h)}finally{g.cancelTask(y)}}runGuarded(c,d,h){return this._inner.runGuarded(c,d,h)}runOutsideAngular(c){return this._outer.run(c)}}const z2={};function ME(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function kE(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function XM(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function JM(a){a._nesting--,ME(a)}class $2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _o,this.onMicrotaskEmpty=new _o,this.onStable=new _o,this.onError=new _o}run(c,d,h){return c.apply(d,h)}runGuarded(c,d,h){return c.apply(d,h)}runOutsideAngular(c){return c()}runTask(c,d,h,f){return c.apply(d,h)}}const ek=new fn(""),tk=new fn("");let Nb,Ob=(()=>{class a{constructor(d,h,f){this._ngZone=d,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Nb||(function nk(a){Nb=a}(f),f.addToWindow(h)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{aa.assertNotInAngularZone(),SE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())SE(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,f){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:g,updateCb:f})}whenStable(d,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,h,f){return[]}}return a.\u0275fac=function(d){return new(d||a)($t(aa),$t(RE),$t(tk))},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})(),RE=(()=>{class a{constructor(){this._applications=new Map}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return Nb?.findTestabilityInTree(this,d,h)??null}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=ft({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const zl=!1;let Wc=null;const ik=new fn("AllowMultipleToken"),Fb=new fn("PlatformDestroyListeners"),PE=new fn("appBootstrapListener");class q2{constructor(c,d){this.name=c,this.token=d}}function sk(a,c,d=[]){const h=`Platform: ${c}`,f=new fn(h);return(g=[])=>{let y=Lb();if(!y||y.injector.get(ik,!1)){const E=[...d,...g,{provide:f,useValue:!0}];a?a(E):function Z2(a){if(Wc&&!Wc.get(ik,!1))throw new we(400,!1);Wc=a;const c=a.get(OE);(function ok(a){const c=a.get(qM,null);c&&c.forEach(d=>d())})(a)}(function ak(a=[],c){return ja.create({name:c,providers:[{provide:sx,useValue:"platform"},{provide:Fb,useValue:new Set([()=>Wc=null])},...a]})}(E,h))}return function K2(a){const c=Lb();if(!c)throw new we(401,!1);return c}()}}function Lb(){return Wc?.get(OE)??null}let OE=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const f=function FE(a,c){let d;return d="noop"===a?new $2:("zone.js"===a?void 0:a)||new aa(c),d}(h?.ngZone,function NE(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),g=[{provide:aa,useValue:f}];return f.run(()=>{const y=ja.create({providers:g,parent:this.injector,name:d.moduleType.name}),E=d.create(y),T=E.injector.get(Sm,null);if(!T)throw new we(402,!1);return f.runOutsideAngular(()=>{const S=f.onError.subscribe({next:P=>{T.handleError(P)}});E.onDestroy(()=>{Bb(this._modules,E),S.unsubscribe()})}),function lk(a,c,d){try{const h=d();return Xm(h)?h.catch(f=>{throw c.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw c.runOutsideAngular(()=>a.handleError(h)),h}}(T,f,()=>{const S=E.injector.get(Pb);return S.runInitializers(),S.donePromise.then(()=>(function T_(a){ye(a,"Expected localeId to be defined"),"string"==typeof a&&(df=a.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Gc,Ya)||Ya),this._moduleDoBootstrap(E),E))})})}bootstrapModule(d,h=[]){const f=ck({},h);return function rk(a,c,d){const h=new WC(d);return Promise.resolve(h)}(0,0,d).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(d){const h=d.injector.get(ff);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!d.instance.ngDoBootstrap)throw new we(-403,!1);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const d=this._injector.get(Fb,null);d&&(d.forEach(h=>h()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)($t(ja))},a.\u0275prov=ft({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function ck(a,c){return Array.isArray(c)?c.reduce(ck,a):{...a,...c}}let ff=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(d,h,f){this._zone=d,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),y=new N.y(E=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{aa.assertNotInAngularZone(),SE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{aa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{T.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ae.T)(g,y.pipe((0,ue.B)()))}bootstrap(d,h){const f=d instanceof Sc;if(!this._injector.get(Pb).done){!f&&ir(d);throw new we(405,zl)}let y;y=f?d:this._injector.get(zh).resolveComponentFactory(d),this.componentTypes.push(y.componentType);const E=function W2(a){return a.isBoundToModule}(y)?void 0:this._injector.get(cp),S=y.create(ja.NULL,[],h||y.selector,E),P=S.location.nativeElement,H=S.injector.get(ek,null);return H?.registerApplication(P),S.onDestroy(()=>{this.detachView(S.hostView),Bb(this.components,S),H?.unregisterApplication(P)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;Bb(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const h=this._injector.get(PE,[]);h.push(...this._bootstrapListeners),h.forEach(f=>f(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Bb(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new we(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(d){return new(d||a)($t(aa),$t(Tc),$t(Sm))},a.\u0275prov=ft({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Bb(a,c){const d=a.indexOf(c);d>-1&&a.splice(d,1)}function Q2(){return!1}function X2(){}let J2=(()=>{class a{}return a.__NG_ELEMENT_ID__=eB,a})();function eB(a){return function tB(a,c,d){if(Ql(a)&&!d){const h=ji(a.index,c);return new Hm(h,h)}return 47&a.type?new Hm(c[Ci],c):null}(hi(),ve(),16==(16&a))}class _k{constructor(){}supports(c){return d_(c)}create(c){return new yk(c)}}const vk=(a,c)=>c;class yk{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||vk}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,h=this._removalsHead,f=0,g=null;for(;d||h;){const y=!h||d&&d.currentIndex<zE(h,f,g)?d:h,E=zE(y,f,g),T=y.currentIndex;if(y===h)f--,h=h._nextRemoved;else if(d=d._next,null==y.previousIndex)f++;else{g||(g=[]);const S=E-f,P=T-f;if(S!=P){for(let X=0;X<S;X++){const oe=X<g.length?g[X]:g[X]=0,Ie=oe+X;P<=Ie&&Ie<S&&(g[X]=oe+1)}g[y.previousIndex]=P-S}}E!==T&&c(y,E,T)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!d_(c))throw new we(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let f,g,y,d=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let E=0;E<this.length;E++)g=c[E],y=this._trackByFn(E,g),null!==d&&Object.is(d.trackById,y)?(h&&(d=this._verifyReinsertion(d,g,y,E)),Object.is(d.item,g)||this._addIdentityChange(d,g)):(d=this._mismatch(d,g,y,E),h=!0),d=d._next}else f=0,function jx(a,c){if(Array.isArray(a))for(let d=0;d<a.length;d++)c(a[d]);else{const d=a[Symbol.iterator]();let h;for(;!(h=d.next()).done;)c(h.value)}}(c,E=>{y=this._trackByFn(f,E),null!==d&&Object.is(d.trackById,y)?(h&&(d=this._verifyReinsertion(d,E,y,f)),Object.is(d.item,E)||this._addIdentityChange(d,E)):(d=this._mismatch(d,E,y,f),h=!0),d=d._next,f++}),this.length=f;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,h,f){let g;return null===c?g=this._itTail:(g=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,g,f)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,g,f)):c=this._addAfter(new H_(d,h),g,f),c}_verifyReinsertion(c,d,h,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?c=this._reinsertAfter(g,c._prev,f):c.currentIndex!=f&&(c.currentIndex=f,this._addToMoves(c,f)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const f=c._prevRemoved,g=c._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(c,d,h),this._addToMoves(c,h),c}_moveAfter(c,d,h){return this._unlink(c),this._insertAfter(c,d,h),this._addToMoves(c,h),c}_addAfter(c,d,h){return this._insertAfter(c,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,h){const f=null===d?this._itHead:d._next;return c._next=f,c._prev=d,null===f?this._itTail=c:f._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new UE),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,h=c._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UE),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class H_{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bk{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const d=c._prevDup,h=c._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class UE{constructor(){this.map=new Map}put(c){const d=c.trackById;let h=this.map.get(d);h||(h=new bk,this.map.set(d,h)),h.add(c)}get(c,d){const f=this.map.get(c);return f?f.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zE(a,c,d){const h=a.previousIndex;if(null===h)return h;let f=0;return d&&h<d.length&&(f=d[h]),h+c+f}class wk{constructor(){}supports(c){return c instanceof Map||u_(c)}create(){return new xk}}class xk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||u_(c)))throw new we(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,f)=>{if(d&&d.key===f)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const g=this._getOrCreateRecordForKey(f,h);d=this._insertBeforeOrAppend(d,g)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const h=c._prev;return d._next=c,d._prev=h,c._prev=d,h&&(h._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const f=this._records.get(c);this._maybeAddToChanges(f,d);const g=f._prev,y=f._next;return g&&(g._next=y),y&&(y._prev=g),f._next=null,f._prev=null,f}const h=new Ck(c);return this._records.set(c,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(h=>d(c[h],h))}}class Ck{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HE(){return new j_([new _k])}let j_=(()=>{class a{constructor(d){this.factories=d}static create(d,h){if(null!=h){const f=h.factories.slice();d=d.concat(f)}return new a(d)}static extend(d){return{provide:a,useFactory:h=>a.create(d,h||HE()),deps:[[a,new Oa,new yr]]}}find(d){const h=this.factories.find(f=>f.supports(d));if(null!=h)return h;throw new we(901,!1)}}return a.\u0275prov=ft({token:a,providedIn:"root",factory:HE}),a})();function $E(){return new zb([new wk])}let zb=(()=>{class a{constructor(d){this.factories=d}static create(d,h){if(h){const f=h.factories.slice();d=d.concat(f)}return new a(d)}static extend(d){return{provide:a,useFactory:h=>a.create(d,h||$E()),deps:[[a,new Oa,new yr]]}}find(d){const h=this.factories.find(f=>f.supports(d));if(h)return h;throw new we(901,!1)}}return a.\u0275prov=ft({token:a,providedIn:"root",factory:$E}),a})();const Dk=sk(null,"core",[]);let gu=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)($t(ff))},a.\u0275mod=le({type:a}),a.\u0275inj=Dt({}),a})();function _u(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(xt,Ae,U)=>{U.d(Ae,{Z:()=>Qe});var s=U(2090),$=U(4859),N=U(6881),ae=U(1877);class ue{constructor(we,Oe){this._delegate=we,this.firebase=Oe,(0,N._addComponent)(we,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(we,Oe=N._DEFAULT_ENTRY_NAME){var Fe;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(we);return!ze.isInitialized()&&"EXPLICIT"===(null===(Fe=ze.getComponent())||void 0===Fe?void 0:Fe.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:Oe})}_removeServiceInstance(we,Oe=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Oe)}_addComponent(we){(0,N._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,N._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function xe(){const dt=function be(dt){const we={},Oe={__esModule:!0,initializeApp:function Se(Be,de={}){const rt=N.initializeApp(Be,de);if((0,s.r3)(we,rt.name))return we[rt.name];const At=new dt(rt,Oe);return we[rt.name]=At,At},app:ze,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ne(Be){const de=Be.name,rt=de.replace("-compat","");if(N._registerComponent(Be)&&"PUBLIC"===Be.type){const At=(ut=ze())=>{if("function"!=typeof ut[rt])throw Ee.create("invalid-app-argument",{appName:de});return ut[rt]()};void 0!==Be.serviceProps&&(0,s.ZB)(At,Be.serviceProps),Oe[rt]=At,dt.prototype[rt]=function(...ut){return this._getService.bind(this,de).apply(this,Be.multipleInstances?ut:[])}}return"PUBLIC"===Be.type?Oe[rt]:null},removeApp:function Fe(Be){delete we[Be]},useAsService:function Ge(Be,de){return"serverAuth"===de?null:de},modularAPIs:N}};function ze(Be){if(!(0,s.r3)(we,Be=Be||N._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:Be});return we[Be]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function Te(){return Object.keys(we).map(Be=>we[Be])}}),ze.App=dt,Oe}(ue);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function we(Oe){(0,s.ZB)(dt,Oe)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),dt}(),q=new ae.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=Y;!function Me(dt){(0,N.registerVersion)("@firebase/app-compat","0.2.13",dt)}()},6881:(xt,Ae,U)=>{U.r(Ae),U.d(Ae,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Fr,_DEFAULT_ENTRY_NAME:()=>tr,_addComponent:()=>pt,_addOrOverwriteComponent:()=>Lt,_apps:()=>gn,_clearComponents:()=>fr,_components:()=>Qt,_getProvider:()=>qi,_registerComponent:()=>ci,_removeServiceInstance:()=>ii,deleteApp:()=>di,getApp:()=>Ir,getApps:()=>$t,initializeApp:()=>nn,onLog:()=>ui,registerVersion:()=>Zi,setLogLevel:()=>mr});var s=U(5861),$=U(4859),N=U(1877),ae=U(2090);const ue=(_e,le)=>le.some(Ve=>_e instanceof Ve);let ie,Ee;const Y=new WeakMap,q=new WeakMap,te=new WeakMap,$e=new WeakMap,Me=new WeakMap;let we={get(_e,le,Ve){if(_e instanceof IDBTransaction){if("done"===le)return q.get(_e);if("objectStoreNames"===le)return _e.objectStoreNames||te.get(_e);if("store"===le)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return Se(_e[le])},set:(_e,le,Ve)=>(_e[le]=Ve,!0),has:(_e,le)=>_e instanceof IDBTransaction&&("done"===le||"store"===le)||le in _e};function ze(_e){return"function"==typeof _e?function Fe(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...le){return _e.apply(Te(this),le),Se(Y.get(this))}:function(...le){return Se(_e.apply(Te(this),le))}:function(le,...Ve){const bt=_e.call(Te(this),le,...Ve);return te.set(bt,le.sort?le.sort():[le]),Se(bt)}}(_e):(_e instanceof IDBTransaction&&function dt(_e){if(q.has(_e))return;const le=new Promise((Ve,bt)=>{const kt=()=>{_e.removeEventListener("complete",rn),_e.removeEventListener("error",Ct),_e.removeEventListener("abort",Ct)},rn=()=>{Ve(),kt()},Ct=()=>{bt(_e.error||new DOMException("AbortError","AbortError")),kt()};_e.addEventListener("complete",rn),_e.addEventListener("error",Ct),_e.addEventListener("abort",Ct)});q.set(_e,le)}(_e),ue(_e,function be(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,we):_e)}function Se(_e){if(_e instanceof IDBRequest)return function Qe(_e){const le=new Promise((Ve,bt)=>{const kt=()=>{_e.removeEventListener("success",rn),_e.removeEventListener("error",Ct)},rn=()=>{Ve(Se(_e.result)),kt()},Ct=()=>{bt(_e.error),kt()};_e.addEventListener("success",rn),_e.addEventListener("error",Ct)});return le.then(Ve=>{Ve instanceof IDBCursor&&Y.set(Ve,_e)}).catch(()=>{}),Me.set(le,_e),le}(_e);if($e.has(_e))return $e.get(_e);const le=ze(_e);return le!==_e&&($e.set(_e,le),Me.set(le,_e)),le}const Te=_e=>Me.get(_e),Be=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],rt=new Map;function At(_e,le){if(!(_e instanceof IDBDatabase)||le in _e||"string"!=typeof le)return;if(rt.get(le))return rt.get(le);const Ve=le.replace(/FromIndex$/,""),bt=le!==Ve,kt=de.includes(Ve);if(!(Ve in(bt?IDBIndex:IDBObjectStore).prototype)||!kt&&!Be.includes(Ve))return;const rn=function(){var Ct=(0,s.Z)(function*(wn,...un){const ir=this.transaction(wn,kt?"readwrite":"readonly");let Vi=ir.store;return bt&&(Vi=Vi.index(un.shift())),(yield Promise.all([Vi[Ve](...un),kt&&ir.done]))[0]});return function(un){return Ct.apply(this,arguments)}}();return rt.set(le,rn),rn}!function Oe(_e){we=_e(we)}(_e=>({..._e,get:(le,Ve,bt)=>At(le,Ve)||_e.get(le,Ve,bt),has:(le,Ve)=>!!At(le,Ve)||_e.has(le,Ve)}));class ut{constructor(le){this.container=le}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function Kt(_e){return"VERSION"===_e.getComponent()?.type}(Ve)){const bt=Ve.getImmediate();return`${bt.library}/${bt.version}`}return null}).filter(Ve=>Ve).join(" ")}}const mt="@firebase/app",Fi=new N.Yd("@firebase/app"),tr="[DEFAULT]",hr={[mt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,Qt=new Map;function pt(_e,le){try{_e.container.addComponent(le)}catch(Ve){Fi.debug(`Component ${le.name} failed to register with FirebaseApp ${_e.name}`,Ve)}}function Lt(_e,le){_e.container.addOrOverwriteComponent(le)}function ci(_e){const le=_e.name;if(Qt.has(le))return Fi.debug(`There were multiple attempts to register component ${le}.`),!1;Qt.set(le,_e);for(const Ve of gn.values())pt(Ve,_e);return!0}function qi(_e,le){const Ve=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),_e.container.getProvider(le)}function ii(_e,le,Ve=tr){qi(_e,le).clearInstance(Ve)}function fr(){Qt.clear()}const Li=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tn{constructor(le,Ve,bt){this._isDeleted=!1,this._options=Object.assign({},le),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=bt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this.checkDestroyed(),this._automaticDataCollectionEnabled=le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(le){this._isDeleted=le}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}const Fr="9.23.0";function nn(_e,le={}){let Ve=_e;"object"!=typeof le&&(le={name:le});const bt=Object.assign({name:tr,automaticDataCollectionEnabled:!1},le),kt=bt.name;if("string"!=typeof kt||!kt)throw Li.create("bad-app-name",{appName:String(kt)});if(Ve||(Ve=(0,ae.aH)()),!Ve)throw Li.create("no-options");const rn=gn.get(kt);if(rn){if((0,ae.vZ)(Ve,rn.options)&&(0,ae.vZ)(bt,rn.config))return rn;throw Li.create("duplicate-app",{appName:kt})}const Ct=new $.H0(kt);for(const un of Qt.values())Ct.addComponent(un);const wn=new tn(Ve,bt,Ct);return gn.set(kt,wn),wn}function Ir(_e=tr){const le=gn.get(_e);if(!le&&_e===tr&&(0,ae.aH)())return nn();if(!le)throw Li.create("no-app",{appName:_e});return le}function $t(){return Array.from(gn.values())}function di(_e){return qn.apply(this,arguments)}function qn(){return(qn=(0,s.Z)(function*(_e){const le=_e.name;gn.has(le)&&(gn.delete(le),yield Promise.all(_e.container.getProviders().map(Ve=>Ve.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function Zi(_e,le,Ve){var bt;let kt=null!==(bt=hr[_e])&&void 0!==bt?bt:_e;Ve&&(kt+=`-${Ve}`);const rn=kt.match(/\s|\//),Ct=le.match(/\s|\//);if(rn||Ct){const wn=[`Unable to register library "${kt}" with version "${le}":`];return rn&&wn.push(`library name "${kt}" contains illegal characters (whitespace or "/")`),rn&&Ct&&wn.push("and"),Ct&&wn.push(`version name "${le}" contains illegal characters (whitespace or "/")`),void Fi.warn(wn.join(" "))}ci(new $.wA(`${kt}-version`,()=>({library:kt,version:le}),"VERSION"))}function ui(_e,le){if(null!==_e&&"function"!=typeof _e)throw Li.create("invalid-log-argument");(0,N.Am)(_e,le)}function mr(_e){(0,N.Ub)(_e)}const nr="firebase-heartbeat-database",pr=1,W="firebase-heartbeat-store";let G=null;function B(){return G||(G=function Ne(_e,le,{blocked:Ve,upgrade:bt,blocking:kt,terminated:rn}={}){const Ct=indexedDB.open(_e,le),wn=Se(Ct);return bt&&Ct.addEventListener("upgradeneeded",un=>{bt(Se(Ct.result),un.oldVersion,un.newVersion,Se(Ct.transaction),un)}),Ve&&Ct.addEventListener("blocked",un=>Ve(un.oldVersion,un.newVersion,un)),wn.then(un=>{rn&&un.addEventListener("close",()=>rn()),kt&&un.addEventListener("versionchange",ir=>kt(ir.oldVersion,ir.newVersion,ir))}).catch(()=>{}),wn}(nr,pr,{upgrade:(_e,le)=>{0===le&&_e.createObjectStore(W)}}).catch(_e=>{throw Li.create("idb-open",{originalErrorMessage:_e.message})})),G}function O(){return(O=(0,s.Z)(function*(_e){try{return yield(yield B()).transaction(W).objectStore(W).get(ot(_e))}catch(le){if(le instanceof ae.ZR)Fi.warn(le.message);else{const Ve=Li.create("idb-get",{originalErrorMessage:le?.message});Fi.warn(Ve.message)}}})).apply(this,arguments)}function Q(_e,le){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,s.Z)(function*(_e,le){try{const bt=(yield B()).transaction(W,"readwrite");yield bt.objectStore(W).put(le,ot(_e)),yield bt.done}catch(Ve){if(Ve instanceof ae.ZR)Fi.warn(Ve.message);else{const bt=Li.create("idb-set",{originalErrorMessage:Ve?.message});Fi.warn(bt.message)}}})).apply(this,arguments)}function ot(_e){return`${_e.name}!${_e.options.appId}`}class Xt{constructor(le){this.container=le,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new Gt(Ve),this._heartbeatsCachePromise=this._storage.read().then(bt=>(this._heartbeatsCache=bt,bt))}triggerHeartbeat(){var le=this;return(0,s.Z)(function*(){const bt=le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=Rt();if(null===le._heartbeatsCache&&(le._heartbeatsCache=yield le._heartbeatsCachePromise),le._heartbeatsCache.lastSentHeartbeatDate!==kt&&!le._heartbeatsCache.heartbeats.some(rn=>rn.date===kt))return le._heartbeatsCache.heartbeats.push({date:kt,agent:bt}),le._heartbeatsCache.heartbeats=le._heartbeatsCache.heartbeats.filter(rn=>{const Ct=new Date(rn.date).valueOf();return Date.now()-Ct<=2592e6}),le._storage.overwrite(le._heartbeatsCache)})()}getHeartbeatsHeader(){var le=this;return(0,s.Z)(function*(){if(null===le._heartbeatsCache&&(yield le._heartbeatsCachePromise),null===le._heartbeatsCache||0===le._heartbeatsCache.heartbeats.length)return"";const Ve=Rt(),{heartbeatsToSend:bt,unsentEntries:kt}=function Rn(_e,le=1024){const Ve=[];let bt=_e.slice();for(const kt of _e){const rn=Ve.find(Ct=>Ct.agent===kt.agent);if(rn){if(rn.dates.push(kt.date),Bi(Ve)>le){rn.dates.pop();break}}else if(Ve.push({agent:kt.agent,dates:[kt.date]}),Bi(Ve)>le){Ve.pop();break}bt=bt.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:bt}}(le._heartbeatsCache.heartbeats),rn=(0,ae.L)(JSON.stringify({version:2,heartbeats:bt}));return le._heartbeatsCache.lastSentHeartbeatDate=Ve,kt.length>0?(le._heartbeatsCache.heartbeats=kt,yield le._storage.overwrite(le._heartbeatsCache)):(le._heartbeatsCache.heartbeats=[],le._storage.overwrite(le._heartbeatsCache)),rn})()}}function Rt(){return(new Date).toISOString().substring(0,10)}class Gt{constructor(le){this.app=le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var le=this;return(0,s.Z)(function*(){return(yield le._canUseIndexedDBPromise)&&(yield function V(_e){return O.apply(this,arguments)}(le.app))||{heartbeats:[]}})()}overwrite(le){var Ve=this;return(0,s.Z)(function*(){var bt;if(yield Ve._canUseIndexedDBPromise){const rn=yield Ve.read();return Q(Ve.app,{lastSentHeartbeatDate:null!==(bt=le.lastSentHeartbeatDate)&&void 0!==bt?bt:rn.lastSentHeartbeatDate,heartbeats:le.heartbeats})}})()}add(le){var Ve=this;return(0,s.Z)(function*(){var bt;if(yield Ve._canUseIndexedDBPromise){const rn=yield Ve.read();return Q(Ve.app,{lastSentHeartbeatDate:null!==(bt=le.lastSentHeartbeatDate)&&void 0!==bt?bt:rn.lastSentHeartbeatDate,heartbeats:[...rn.heartbeats,...le.heartbeats]})}})()}}function Bi(_e){return(0,ae.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function Uo(_e){ci(new $.wA("platform-logger",le=>new ut(le),"PRIVATE")),ci(new $.wA("heartbeat",le=>new Xt(le),"PRIVATE")),Zi(mt,"0.9.13",_e),Zi(mt,"0.9.13","esm2017"),Zi("fire-js","")}("")},4859:(xt,Ae,U)=>{U.d(Ae,{H0:()=>be,wA:()=>N});var s=U(5861),$=U(2090);class N{constructor(Y,q,te){this.name=Y,this.instanceFactory=q,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const ae="[DEFAULT]";class ue{constructor(Y,q){this.name=Y,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const q=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(q)){const te=new $.BH;if(this.instancesDeferred.set(q,te),this.isInitialized(q)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:q});$e&&te.resolve($e)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(Y){var q;const te=this.normalizeInstanceIdentifier(Y?.identifier),$e=null!==(q=Y?.optional)&&void 0!==q&&q;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Me){if($e)return null;throw Me}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function Ee(xe){return"EAGER"===xe.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[q,te]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(q);try{const Me=this.getOrInitializeService({instanceIdentifier:$e});te.resolve(Me)}catch{}}}}clearInstance(Y=ae){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,s.Z)(function*(){const q=Array.from(Y.instances.values());yield Promise.all([...q.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...q.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=ae){return this.instances.has(Y)}getOptions(Y=ae){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:q={}}=Y,te=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:te,options:q});for(const[Me,Qe]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Me)&&Qe.resolve($e);return $e}onInit(Y,q){var te;const $e=this.normalizeInstanceIdentifier(q),Me=null!==(te=this.onInitCallbacks.get($e))&&void 0!==te?te:new Set;Me.add(Y),this.onInitCallbacks.set($e,Me);const Qe=this.instances.get($e);return Qe&&Y(Qe,$e),()=>{Me.delete(Y)}}invokeOnInitCallbacks(Y,q){const te=this.onInitCallbacks.get(q);if(te)for(const $e of te)try{$e(Y,q)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:q={}}){let te=this.instances.get(Y);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=Y,xe===ae?void 0:xe),options:q}),this.instances.set(Y,te),this.instancesOptions.set(Y,q),this.invokeOnInitCallbacks(te,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,te)}catch{}var xe;return te||null}normalizeInstanceIdentifier(Y=ae){return this.component?this.component.multipleInstances?Y:ae:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const q=this.getProvider(Y.name);if(q.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);q.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const q=new ue(Y,this);return this.providers.set(Y,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(xt,Ae,U)=>{U.d(Ae,{Am:()=>xe,Ub:()=>be,Yd:()=>Ee,in:()=>$});const s=[];var $=(()=>{return(Y=$||($={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",$;var Y})();const N={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ae=$.INFO,ue={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ie=(Y,q,...te)=>{if(q<Y.logLevel)return;const $e=(new Date).toISOString(),Me=ue[q];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Me](`[${$e}]  ${Y.name}:`,...te)};class Ee{constructor(q){this.name=q,this._logLevel=ae,this._logHandler=ie,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in $))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?N[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...q),this._logHandler(this,$.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...q),this._logHandler(this,$.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,$.INFO,...q),this._logHandler(this,$.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,$.WARN,...q),this._logHandler(this,$.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...q),this._logHandler(this,$.ERROR,...q)}}function be(Y){s.forEach(q=>{q.setLogLevel(Y)})}function xe(Y,q){for(const te of s){let $e=null;q&&q.level&&($e=N[q.level]),te.userLogHandler=null===Y?null:(Me,Qe,...dt)=>{const we=dt.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch{return null}}).filter(Oe=>Oe).join(" ");Qe>=($e??Me.logLevel)&&Y({level:$[Qe].toLowerCase(),message:we,args:dt,type:Me.name})}}}},259:(xt,Ae,U)=>{U.d(Ae,{C6:()=>s.getApps,KN:()=>s.registerVersion,Mq:()=>s.getApp,ZF:()=>s.initializeApp});var s=U(6881);(0,s.registerVersion)("firebase","9.23.0","app")},9260:(xt,Ae,U)=>{U.d(Ae,{Z:()=>s.Z});var s=U(3942);s.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(xt,Ae,U)=>{U.r(Ae);var s=U(5861),$=U(3942),N=U(1389),ae=U(2090),Ee=(U(6881),U(1877),U(4859));function be(){return window}const xe=2e3;function q(){return q=(0,s.Z)(function*(B,V,O){var Q;const{BuildInfo:Ce}=be();(0,N.as)(V.sessionId,"AuthEvent did not contain a session ID");const ot=yield function Oe(B){return Fe.apply(this,arguments)}(V.sessionId),Mt={};return(0,N.at)()?Mt.ibi=Ce.packageName:(0,N.au)()?Mt.apn=Ce.packageName:(0,N.av)(B,"operation-not-supported-in-this-environment"),Ce.displayName&&(Mt.appDisplayName=Ce.displayName),Mt.sessionId=ot,(0,N.aw)(B,O,V.type,void 0,null!==(Q=V.eventId)&&void 0!==Q?Q:void 0,Mt)}),q.apply(this,arguments)}function $e(){return($e=(0,s.Z)(function*(B){const{BuildInfo:V}=be(),O={};(0,N.at)()?O.iosBundleId=V.packageName:(0,N.au)()?O.androidPackageName=V.packageName:(0,N.av)(B,"operation-not-supported-in-this-environment"),yield(0,N.ax)(B,O)})).apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*(B,V,O){const{cordova:Q}=be();let Ce=()=>{};try{yield new Promise((ot,Mt)=>{let Tt=null;function Xt(){var Gt;ot();const Bi=null===(Gt=Q.plugins.browsertab)||void 0===Gt?void 0:Gt.close;"function"==typeof Bi&&Bi(),"function"==typeof O?.close&&O.close()}function Rt(){Tt||(Tt=window.setTimeout(()=>{Mt((0,N.az)(B,"redirect-cancelled-by-user"))},xe))}function Rn(){"visible"===document?.visibilityState&&Rt()}V.addPassiveListener(Xt),document.addEventListener("resume",Rt,!1),(0,N.au)()&&document.addEventListener("visibilitychange",Rn,!1),Ce=()=>{V.removePassiveListener(Xt),document.removeEventListener("resume",Rt,!1),document.removeEventListener("visibilitychange",Rn,!1),Tt&&window.clearTimeout(Tt)}})}finally{Ce()}})).apply(this,arguments)}function Fe(){return(Fe=(0,s.Z)(function*(B){const V=function ze(B){if((0,N.as)(/[0-9a-zA-Z]+/.test(B),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(B);const V=new ArrayBuffer(B.length),O=new Uint8Array(V);for(let Q=0;Q<B.length;Q++)O[Q]=B.charCodeAt(Q);return O}(B),O=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(O)).map(Ce=>Ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Se=20;class Te extends N.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(V)),super.onEvent(V)}initialized(){var V=this;return(0,s.Z)(function*(){yield V.initPromise})()}}function Be(B){return de.apply(this,arguments)}function de(){return(de=(0,s.Z)(function*(B){const V=yield ut()._get(Kt(B));return V&&(yield ut()._remove(Kt(B))),V})).apply(this,arguments)}function At(){const B=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<Se;O++){const Q=Math.floor(Math.random()*V.length);B.push(V.charAt(Q))}return B.join("")}function ut(){return(0,N.aC)(N.b)}function Kt(B){return(0,N.aD)("authEvent",B.config.apiKey,B.name)}function Fi(B){if(!B?.includes("?"))return{};const[V,...O]=B.split("?");return(0,ae.zd)(O.join("?"))}const he=class Do{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(V){var O=this;return(0,s.Z)(function*(){const Q=V._key();let Ce=O.eventManagers.get(Q);return Ce||(Ce=new Te(V),O.eventManagers.set(Q,Ce),O.attachCallbackListeners(V,Ce)),Ce})()}_openPopup(V){(0,N.av)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,O,Q,Ce){var ot=this;return(0,s.Z)(function*(){!function we(B){var V,O,Q,Ce,ot,Mt,Tt,Xt,Rt,Rn;const Gt=be();(0,N.aA)("function"==typeof(null===(V=Gt?.universalLinks)||void 0===V?void 0:V.subscribe),B,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aA)(typeof(null===(O=Gt?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aA)("function"==typeof(null===(ot=null===(Ce=null===(Q=Gt?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===Ce?void 0:Ce.browsertab)||void 0===ot?void 0:ot.openUrl),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(Xt=null===(Tt=null===(Mt=Gt?.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===Xt?void 0:Xt.isAvailable),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(Rn=null===(Rt=Gt?.cordova)||void 0===Rt?void 0:Rt.InAppBrowser)||void 0===Rn?void 0:Rn.open),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const Mt=yield ot._initialize(V);yield Mt.initialized(),Mt.resetRedirect(),(0,N.aG)(),yield ot._originValidation(V);const Tt=function Ne(B,V,O=null){return{type:V,eventId:O,urlResponse:null,sessionId:At(),postBody:null,tenantId:B.tenantId,error:(0,N.az)(B,"no-auth-event")}}(V,Q,Ce);yield function Ge(B,V){return ut()._set(Kt(B),V)}(V,Tt);const Xt=yield function Y(B,V,O){return q.apply(this,arguments)}(V,Tt,O),Rt=yield function Me(B){const{cordova:V}=be();return new Promise(O=>{V.plugins.browsertab.isAvailable(Q=>{let Ce=null;Q?V.plugins.browsertab.openUrl(B):Ce=V.InAppBrowser.open(B,(0,N.ay)()?"_blank":"_system","location=yes"),O(Ce)})})}(Xt);return function Qe(B,V,O){return dt.apply(this,arguments)}(V,Mt,Rt)})()}_isIframeWebStorageSupported(V,O){throw new Error("Method not implemented.")}_originValidation(V){const O=V._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function te(B){return $e.apply(this,arguments)}(V)),this.originValidationPromises[O]}attachCallbackListeners(V,O){const{universalLinks:Q,handleOpenURL:Ce,BuildInfo:ot}=be(),Mt=setTimeout((0,s.Z)(function*(){yield Be(V),O.onEvent(ge())}),500),Tt=function(){var Rn=(0,s.Z)(function*(Gt){clearTimeout(Mt);const Bi=yield Be(V);let Uo=null;Bi&&Gt?.url&&(Uo=function rt(B,V){var O,Q;const Ce=function Vo(B){const V=Fi(B),O=V.link?decodeURIComponent(V.link):void 0,Q=Fi(O).link,Ce=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return Fi(Ce).link||Ce||Q||O||B}(V);if(Ce.includes("/__/auth/callback")){const ot=Fi(Ce),Mt=ot.firebaseError?function mt(B){try{return JSON.parse(B)}catch{return null}}(decodeURIComponent(ot.firebaseError)):null,Tt=null===(Q=null===(O=Mt?.code)||void 0===O?void 0:O.split("auth/"))||void 0===Q?void 0:Q[1],Xt=Tt?(0,N.az)(Tt):null;return Xt?{type:B.type,eventId:B.eventId,tenantId:B.tenantId,error:Xt,urlResponse:null,sessionId:null,postBody:null}:{type:B.type,eventId:B.eventId,tenantId:B.tenantId,sessionId:B.sessionId,urlResponse:Ce,postBody:null}}return null}(Bi,Gt.url)),O.onEvent(Uo||ge())});return function(Bi){return Rn.apply(this,arguments)}}();typeof Q<"u"&&"function"==typeof Q.subscribe&&Q.subscribe(null,Tt);const Xt=Ce,Rt=`${ot.packageName.toLowerCase()}://`;be().handleOpenURL=function(){var Rn=(0,s.Z)(function*(Gt){if(Gt.toLowerCase().startsWith(Rt)&&Tt({url:Gt}),"function"==typeof Xt)try{Xt(Gt)}catch(Bi){console.error(Bi)}});return function(Gt){return Rn.apply(this,arguments)}}()}};function ge(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.az)("no-auth-event")}}const Ue=1e3;function ht(){var B;return(null===(B=self?.location)||void 0===B?void 0:B.protocol)||null}function pn(B=(0,ae.z$)()){return!("file:"!==ht()&&"ionic:"!==ht()&&"capacitor:"!==ht()||!B.toLowerCase().match(/iphone|ipad|ipod|android/))}function _i(){try{const B=self.localStorage,V=N.aL();if(B)return B.setItem(V,"1"),B.removeItem(V),!function yn(B=(0,ae.z$)()){return function cn(){return(0,ae.w1)()&&11===document?.documentMode}()||function Bn(B=(0,ae.z$)()){return/Edge\/\d+/.test(B)}(B)}()||(0,ae.hl)()}catch{return Vn()&&(0,ae.hl)()}return!1}function Vn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wn(){return(function ft(){return"http:"===ht()||"https:"===ht()}()||(0,ae.ru)()||pn())&&!function Dt(){return(0,ae.b$)()||(0,ae.UG)()}()&&_i()&&!Vn()}function vi(){return pn()&&typeof document<"u"}function ti(){return(ti=(0,s.Z)(function*(){return!!vi()&&new Promise(B=>{const V=setTimeout(()=>{B(!1)},Ue);document.addEventListener("deviceready",()=>{clearTimeout(V),B(!0)})})})).apply(this,arguments)}const ni={LOCAL:"local",NONE:"none",SESSION:"session"},Io=N.aA,li="persistence";function hr(B){return gn.apply(this,arguments)}function gn(){return(gn=(0,s.Z)(function*(B){yield B._initializationPromise;const V=pt(),O=N.aD(li,B.config.apiKey,B.name);V&&V.setItem(O,B._getPersistence())})).apply(this,arguments)}function pt(){var B;try{return(null===(B=function vt(){return typeof window<"u"?window:null}())||void 0===B?void 0:B.sessionStorage)||null}catch{return null}}const Lt=N.aA;class ci{constructor(){this.browserResolver=N.aC(N.k),this.cordovaResolver=N.aC(he),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(V){var O=this;return(0,s.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,O,Q,Ce){var ot=this;return(0,s.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openPopup(V,O,Q,Ce)})()}_openRedirect(V,O,Q,Ce){var ot=this;return(0,s.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openRedirect(V,O,Q,Ce)})()}_isIframeWebStorageSupported(V,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,O)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return vi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Lt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,s.Z)(function*(){if(V.underlyingResolver)return;const O=yield function Nr(){return ti.apply(this,arguments)}();V.underlyingResolver=O?V.cordovaResolver:V.browserResolver})()}}function qi(B){return B.unwrap()}function fr(B){return Li(B)}function Li(B){const{_tokenResponse:V}=B instanceof ae.ZR?B.customData:B;if(!V)return null;if(!(B instanceof ae.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return N.P.credentialFromResult(B);const O=V.providerId;if(!O||O===N.p.PASSWORD)return null;let Q;switch(O){case N.p.GOOGLE:Q=N.V;break;case N.p.FACEBOOK:Q=N.U;break;case N.p.GITHUB:Q=N.W;break;case N.p.TWITTER:Q=N.Z;break;default:const{oauthIdToken:Ce,oauthAccessToken:ot,oauthTokenSecret:Mt,pendingToken:Tt,nonce:Xt}=V;return ot||Mt||Ce||Tt?Tt?O.startsWith("saml.")?N.aO._create(O,Tt):N.L._fromParams({providerId:O,signInMethod:O,pendingToken:Tt,idToken:Ce,accessToken:ot}):new N.X(O).credential({idToken:Ce,accessToken:ot,rawNonce:Xt}):null}return B instanceof ae.ZR?Q.credentialFromError(B):Q.credentialFromResult(B)}function tn(B,V){return V.catch(O=>{throw O instanceof ae.ZR&&function ri(B,V){var O;const Q=null===(O=V.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new Ir(B,N.aq(B,V));else if(Q){const Ce=Li(V),ot=V;Ce&&(ot.credential=Ce,ot.tenantId=Q.tenantId||void 0,ot.email=Q.email||void 0,ot.phoneNumber=Q.phoneNumber||void 0)}}(B,O),O}).then(O=>{const Ce=O.user;return{operationType:O.operationType,credential:fr(O),additionalUserInfo:N.ao(O),user:$t.getOrCreate(Ce)}})}function Fr(B,V){return nn.apply(this,arguments)}function nn(){return(nn=(0,s.Z)(function*(B,V){const O=yield V;return{verificationId:O.verificationId,confirm:Q=>tn(B,O.confirm(Q))}})).apply(this,arguments)}class Ir{constructor(V,O){this.resolver=O,this.auth=function ii(B){return B.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return tn(qi(this.auth),this.resolver.resolveSignIn(V))}}class $t{constructor(V){this._delegate=V,this.multiFactor=N.ar(V)}static getOrCreate(V){return $t.USER_MAP.has(V)||$t.USER_MAP.set(V,new $t(V)),$t.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var O=this;return(0,s.Z)(function*(){return tn(O.auth,N.a0(O._delegate,V))})()}linkWithPhoneNumber(V,O){var Q=this;return(0,s.Z)(function*(){return Fr(Q.auth,N.l(Q._delegate,V,O))})()}linkWithPopup(V){var O=this;return(0,s.Z)(function*(){return tn(O.auth,N.d(O._delegate,V,ci))})()}linkWithRedirect(V){var O=this;return(0,s.Z)(function*(){return yield hr(N.aH(O.auth)),N.g(O._delegate,V,ci)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var O=this;return(0,s.Z)(function*(){return tn(O.auth,N.a1(O._delegate,V))})()}reauthenticateWithPhoneNumber(V,O){return Fr(this.auth,N.r(this._delegate,V,O))}reauthenticateWithPopup(V){return tn(this.auth,N.e(this._delegate,V,ci))}reauthenticateWithRedirect(V){var O=this;return(0,s.Z)(function*(){return yield hr(N.aH(O.auth)),N.h(O._delegate,V,ci)})()}sendEmailVerification(V){return N.ae(this._delegate,V)}unlink(V){var O=this;return(0,s.Z)(function*(){return yield N.an(O._delegate,V),O})()}updateEmail(V){return N.aj(this._delegate,V)}updatePassword(V){return N.ak(this._delegate,V)}updatePhoneNumber(V){return N.u(this._delegate,V)}updateProfile(V){return N.ai(this._delegate,V)}verifyBeforeUpdateEmail(V,O){return N.af(this._delegate,V,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$t.USER_MAP=new WeakMap;const di=N.aA;let qn=(()=>{class B{constructor(O,Q){if(this.app=O,Q.isInitialized())return this._delegate=Q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ce}=O.options;di(Ce,"invalid-api-key",{appName:O.name}),di(Ce,"invalid-api-key",{appName:O.name});const ot=typeof window<"u"?ci:void 0;this._delegate=Q.initialize({options:{persistence:ui(Ce,O.name),popupRedirectResolver:ot}}),this._delegate._updateErrorMap(N.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$t.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,Q){N.I(this._delegate,O,Q)}applyActionCode(O){return N.a5(this._delegate,O)}checkActionCode(O){return N.a6(this._delegate,O)}confirmPasswordReset(O,Q){return N.a4(this._delegate,O,Q)}createUserWithEmailAndPassword(O,Q){var Ce=this;return(0,s.Z)(function*(){return tn(Ce._delegate,N.a8(Ce._delegate,O,Q))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return N.ad(this._delegate,O)}isSignInWithEmailLink(O){return N.ab(this._delegate,O)}getRedirectResult(){var O=this;return(0,s.Z)(function*(){di(Wn(),O._delegate,"operation-not-supported-in-this-environment");const Q=yield N.j(O._delegate,ci);return Q?tn(O._delegate,Promise.resolve(Q)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function ye(B,V){(0,N.aH)(B)._logFramework(V)}(this._delegate,O)}onAuthStateChanged(O,Q,Ce){const{next:ot,error:Mt,complete:Tt}=Zi(O,Q,Ce);return this._delegate.onAuthStateChanged(ot,Mt,Tt)}onIdTokenChanged(O,Q,Ce){const{next:ot,error:Mt,complete:Tt}=Zi(O,Q,Ce);return this._delegate.onIdTokenChanged(ot,Mt,Tt)}sendSignInLinkToEmail(O,Q){return N.aa(this._delegate,O,Q)}sendPasswordResetEmail(O,Q){return N.a3(this._delegate,O,Q||void 0)}setPersistence(O){var Q=this;return(0,s.Z)(function*(){let Ce;switch(function tr(B,V){Io(Object.values(ni).includes(V),B,"invalid-persistence-type"),(0,ae.b$)()?Io(V!==ni.SESSION,B,"unsupported-persistence-type"):(0,ae.UG)()?Io(V===ni.NONE,B,"unsupported-persistence-type"):Vn()?Io(V===ni.NONE||V===ni.LOCAL&&(0,ae.hl)(),B,"unsupported-persistence-type"):Io(V===ni.NONE||_i(),B,"unsupported-persistence-type")}(Q._delegate,O),O){case ni.SESSION:Ce=N.a;break;case ni.LOCAL:Ce=(yield N.aC(N.i)._isAvailable())?N.i:N.b;break;case ni.NONE:Ce=N.N;break;default:return N.av("argument-error",{appName:Q._delegate.name})}return Q._delegate.setPersistence(Ce)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return tn(this._delegate,N._(this._delegate))}signInWithCredential(O){return tn(this._delegate,N.$(this._delegate,O))}signInWithCustomToken(O){return tn(this._delegate,N.a2(this._delegate,O))}signInWithEmailAndPassword(O,Q){return tn(this._delegate,N.a9(this._delegate,O,Q))}signInWithEmailLink(O,Q){return tn(this._delegate,N.ac(this._delegate,O,Q))}signInWithPhoneNumber(O,Q){return Fr(this._delegate,N.s(this._delegate,O,Q))}signInWithPopup(O){var Q=this;return(0,s.Z)(function*(){return di(Wn(),Q._delegate,"operation-not-supported-in-this-environment"),tn(Q._delegate,N.c(Q._delegate,O,ci))})()}signInWithRedirect(O){var Q=this;return(0,s.Z)(function*(){return di(Wn(),Q._delegate,"operation-not-supported-in-this-environment"),yield hr(Q._delegate),N.f(Q._delegate,O,ci)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return N.a7(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return B.Persistence=ni,B})();function Zi(B,V,O){let Q=B;"function"!=typeof B&&({next:Q,error:V,complete:O}=B);const Ce=Q;return{next:Mt=>Ce(Mt&&$t.getOrCreate(Mt)),error:V,complete:O}}function ui(B,V){const O=function Qt(B,V){const O=pt();if(!O)return[];const Q=N.aD(li,B,V);switch(O.getItem(Q)){case ni.NONE:return[N.N];case ni.LOCAL:return[N.i,N.a];case ni.SESSION:return[N.a];default:return[]}}(B,V);if(typeof self<"u"&&!O.includes(N.i)&&O.push(N.i),typeof window<"u")for(const Q of[N.b,N.a])O.includes(Q)||O.push(Q);return O.includes(N.N)||O.push(N.N),O}class mr{constructor(){this.providerId="phone",this._delegate=new N.P(qi($.Z.auth()))}static credential(V,O){return N.P.credential(V,O)}verifyPhoneNumber(V,O){return this._delegate.verifyPhoneNumber(V,O)}unwrap(){return this._delegate}}mr.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,mr.PROVIDER_ID=N.P.PROVIDER_ID;const nr=N.aA;class pr{constructor(V,O,Q=$.Z.app()){var Ce;nr(null===(Ce=Q.options)||void 0===Ce?void 0:Ce.apiKey,"invalid-api-key",{appName:Q.name}),this._delegate=new N.R(V,O,Q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G(B){B.INTERNAL.registerComponent(new Ee.wA("auth-compat",V=>{const O=V.getProvider("app-compat").getImmediate(),Q=V.getProvider("auth");return new qn(O,Q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.Q,FacebookAuthProvider:N.U,GithubAuthProvider:N.W,GoogleAuthProvider:N.V,OAuthProvider:N.X,SAMLAuthProvider:N.Y,PhoneAuthProvider:mr,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:pr,TwitterAuthProvider:N.Z,Auth:qn,AuthCredential:N.J,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),B.registerVersion("@firebase/auth-compat","0.4.2")}($.Z)},5861:(xt,Ae,U)=>{function s(N,ae,ue,ie,Ee,be,xe){try{var Y=N[be](xe),q=Y.value}catch(te){return void ue(te)}Y.done?ae(q):Promise.resolve(q).then(ie,Ee)}function $(N){return function(){var ae=this,ue=arguments;return new Promise(function(ie,Ee){var be=N.apply(ae,ue);function xe(q){s(be,ie,Ee,xe,Y,"next",q)}function Y(q){s(be,ie,Ee,xe,Y,"throw",q)}xe(void 0)})}}U.d(Ae,{Z:()=>$})},7582:(xt,Ae,U)=>{function ae(he,ge){var ye={};for(var se in he)Object.prototype.hasOwnProperty.call(he,se)&&ge.indexOf(se)<0&&(ye[se]=he[se]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(se=Object.getOwnPropertySymbols(he);ke<se.length;ke++)ge.indexOf(se[ke])<0&&Object.prototype.propertyIsEnumerable.call(he,se[ke])&&(ye[se[ke]]=he[se[ke]])}return ye}function te(he,ge,ye,se){return new(ye||(ye=Promise))(function(Ue,ht){function ft(cn){try{Dt(se.next(cn))}catch(Bn){ht(Bn)}}function pn(cn){try{Dt(se.throw(cn))}catch(Bn){ht(Bn)}}function Dt(cn){cn.done?Ue(cn.value):function ke(Ue){return Ue instanceof ye?Ue:new ye(function(ht){ht(Ue)})}(cn.value).then(ft,pn)}Dt((se=se.apply(he,ge||[])).next())})}function Se(he){return this instanceof Se?(this.v=he,this):new Se(he)}function Te(he,ge,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,se=ye.apply(he,ge||[]),Ue=[];return ke={},ht("next"),ht("throw"),ht("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function ht(yn){se[yn]&&(ke[yn]=function(_i){return new Promise(function(Vn,Wn){Ue.push([yn,_i,Vn,Wn])>1||ft(yn,_i)})})}function ft(yn,_i){try{!function pn(yn){yn.value instanceof Se?Promise.resolve(yn.value.v).then(Dt,cn):Bn(Ue[0][2],yn)}(se[yn](_i))}catch(Vn){Bn(Ue[0][3],Vn)}}function Dt(yn){ft("next",yn)}function cn(yn){ft("throw",yn)}function Bn(yn,_i){yn(_i),Ue.shift(),Ue.length&&ft(Ue[0][0],Ue[0][1])}}function Ge(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,ge=he[Symbol.asyncIterator];return ge?ge.call(he):(he=function dt(he){var ge="function"==typeof Symbol&&Symbol.iterator,ye=ge&&he[ge],se=0;if(ye)return ye.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&se>=he.length&&(he=void 0),{value:he&&he[se++],done:!he}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),ye={},se("next"),se("throw"),se("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function se(Ue){ye[Ue]=he[Ue]&&function(ht){return new Promise(function(ft,pn){!function ke(Ue,ht,ft,pn){Promise.resolve(pn).then(function(Dt){Ue({value:Dt,done:ft})},ht)}(ft,pn,(ht=he[Ue](ht)).done,ht.value)})}}}U.d(Ae,{FC:()=>Te,KL:()=>Ge,_T:()=>ae,mG:()=>te,qq:()=>Se}),"function"==typeof SuppressedError&&SuppressedError}},xt=>{xt(xt.s=7465)}]);