"use strict";(self.webpackChunkTraining=self.webpackChunkTraining||[]).push([[179],{2011:(wt,Ae,U)=>{U.d(Ae,{Dh:()=>be,GT:()=>ne,cc:()=>Me,hO:()=>$e,on:()=>Z,pX:()=>ue,xv:()=>xe});var s=U(4650),$=U(9260),N=U(4976);wt=U.hmd(wt);const ae=["ngOnDestroy"],ue=(Pe,Fe,Ue,Se={})=>new Proxy(Pe,{get:(Te,Ne)=>Ue.runOutsideAngular(()=>{var Ge;if(Pe[Ne])return!(null===(Ge=Se?.spy)||void 0===Ge)&&Ge.get&&Se.spy.get(Ne,Pe[Ne]),Pe[Ne];if(ae.indexOf(Ne)>-1)return()=>{};const Be=Fe.toPromise().then(de=>{const rt=de&&de[Ne];return"function"==typeof rt?rt.bind(de):rt&&rt.then?rt.then(St=>Ue.run(()=>St)):Ue.run(()=>rt)});return new Proxy(()=>{},{get:(de,rt)=>Be[rt],apply:(de,rt,St)=>Be.then(ct=>{var Zt;const ft=ct&&ct(...St);return!(null===(Zt=Se?.spy)||void 0===Zt)&&Zt.apply&&Se.spy.apply(Ne,St,ft),ft})})})}),ne=(Pe,Fe)=>{Fe.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(Se=>{Object.defineProperty(Pe.prototype,Se,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,Se))})})};class Ee{constructor(Fe){return Fe}}const be=new s.OlP("angularfire2.app.options"),xe=new s.OlP("angularfire2.app.name");function Z(Pe,Fe,Ue){const Te="object"==typeof Ue&&Ue||{};Te.name=Te.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const Ge=$.Z.apps.filter(Be=>Be&&Be.name===Te.name)[0]||Fe.runOutsideAngular(()=>$.Z.initializeApp(Pe,Te));try{JSON.stringify(Pe)!==JSON.stringify(Ge.options)&&q("error",`${Ge.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ee(Ge)}const q=(Pe,...Fe)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Pe](...Fe)},te={provide:Ee,useFactory:Z,deps:[be,s.R0b,[new s.FiY,xe]]};let $e=(()=>{class Pe{constructor(Ue){$.Z.registerVersion("angularfire",N.q4.full,"core"),$.Z.registerVersion("angularfire",N.q4.full,"app-compat"),$.Z.registerVersion("angular",s.q4F.full,Ue.toString())}static initializeApp(Ue,Se){return{ngModule:Pe,providers:[{provide:be,useValue:Ue},{provide:xe,useValue:Se}]}}}return Pe.\u0275fac=function(Ue){return new(Ue||Pe)(s.LFG(s.Lbi))},Pe.\u0275mod=s.oAB({type:Pe}),Pe.\u0275inj=s.cJS({providers:[te]}),Pe})();function Me(Pe,Fe,Ue,Se,Te){const[,Ne,Ge]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===Pe)||[];if(Ne)return function Ye(Pe,Fe){try{return Pe.toString()===Fe.toString()}catch{return Pe===Fe}}(Te,Ge)||(we("error",`${Fe} was already initialized on the ${Ue} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Te,was:Ge})),Ne;{const Be=Se();return globalThis.\u0275AngularfireInstanceCache.push([Pe,Be,Te]),Be}}const lt=!!wt.hot,we=(Pe,...Fe)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Pe](...Fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(wt,Ae,U)=>{U.d(Ae,{q4:()=>Dl,iC:()=>Dh,HU:()=>ka,vb:()=>_m,JM:()=>Tl,u3:()=>Kn});var s=U(4650),$=U(259),N=U(5861),ae=U(6881),ue=U(2090),ne=U(4859),Ee=U(1877);const be=(x,D)=>D.some(M=>x instanceof M);let xe,Z;const $e=new WeakMap,Me=new WeakMap,Ye=new WeakMap,lt=new WeakMap,we=new WeakMap;let Ue={get(x,D,M){if(x instanceof IDBTransaction){if("done"===D)return Me.get(x);if("objectStoreNames"===D)return x.objectStoreNames||Ye.get(x);if("store"===D)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return Ge(x[D])},set:(x,D,M)=>(x[D]=M,!0),has:(x,D)=>x instanceof IDBTransaction&&("done"===D||"store"===D)||D in x};function Ne(x){return"function"==typeof x?function Te(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...D){return x.apply(Be(this),D),Ge($e.get(this))}:function(...D){return Ge(x.apply(Be(this),D))}:function(D,...M){const j=x.call(Be(this),D,...M);return Ye.set(j,D.sort?D.sort():[D]),Ge(j)}}(x):(x instanceof IDBTransaction&&function Fe(x){if(Me.has(x))return;const D=new Promise((M,j)=>{const Y=()=>{x.removeEventListener("complete",J),x.removeEventListener("error",pe),x.removeEventListener("abort",pe)},J=()=>{M(),Y()},pe=()=>{j(x.error||new DOMException("AbortError","AbortError")),Y()};x.addEventListener("complete",J),x.addEventListener("error",pe),x.addEventListener("abort",pe)});Me.set(x,D)}(x),be(x,function q(){return xe||(xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,Ue):x)}function Ge(x){if(x instanceof IDBRequest)return function Pe(x){const D=new Promise((M,j)=>{const Y=()=>{x.removeEventListener("success",J),x.removeEventListener("error",pe)},J=()=>{M(Ge(x.result)),Y()},pe=()=>{j(x.error),Y()};x.addEventListener("success",J),x.addEventListener("error",pe)});return D.then(M=>{M instanceof IDBCursor&&$e.set(M,x)}).catch(()=>{}),we.set(D,x),D}(x);if(lt.has(x))return lt.get(x);const D=Ne(x);return D!==x&&(lt.set(x,D),we.set(D,x)),D}const Be=x=>we.get(x),St=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],Zt=new Map;function ft(x,D){if(!(x instanceof IDBDatabase)||D in x||"string"!=typeof D)return;if(Zt.get(D))return Zt.get(D);const M=D.replace(/FromIndex$/,""),j=D!==M,Y=ct.includes(M);if(!(M in(j?IDBIndex:IDBObjectStore).prototype)||!Y&&!St.includes(M))return;const J=function(){var pe=(0,N.Z)(function*(Xe,...Ze){const yt=this.transaction(Xe,Y?"readwrite":"readonly");let Pt=yt.store;return j&&(Pt=Pt.index(Ze.shift())),(yield Promise.all([Pt[M](...Ze),Y&&yt.done]))[0]});return function(Ze){return pe.apply(this,arguments)}}();return Zt.set(D,J),J}!function Se(x){Ue=x(Ue)}(x=>({...x,get:(D,M,j)=>ft(D,M)||x.get(D,M,j),has:(D,M)=>!!ft(D,M)||x.has(D,M)}));const Lo="@firebase/installations",Pi="0.6.4",Tr=1e4,Co=`w:${Pi}`,he="FIS_v2",ge="https://firebaseinstallations.googleapis.com/v1",ve=36e5,dt=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ht(x){return x instanceof ue.ZR&&x.code.includes("request-failed")}function mn({projectId:x}){return`${ge}/projects/${x}/installations`}function Et(x){return{token:x.token,requestStatus:2,expiresIn:yi(x.expiresIn),creationTime:Date.now()}}function ln(x,D){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,N.Z)(function*(x,D){const j=(yield D.json()).error;return dt.create("request-failed",{requestName:x,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function yn({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function Vn(x){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,N.Z)(function*(x){const D=yield x();return D.status>=500&&D.status<600?x():D})).apply(this,arguments)}function yi(x){return Number(x.replace("s","000"))}function _t(){return(_t=(0,N.Z)(function*({appConfig:x,heartbeatServiceProvider:D},{fid:M}){const j=mn(x),Y=yn(x),J=D.getImmediate({optional:!0});if(J){const yt=yield J.getHeartbeatsHeader();yt&&Y.append("x-firebase-client",yt)}const Xe={method:"POST",headers:Y,body:JSON.stringify({fid:M,authVersion:he,appId:x.appId,sdkVersion:Co})},Ze=yield Vn(()=>fetch(j,Xe));if(Ze.ok){const yt=yield Ze.json();return{fid:yt.fid||M,registrationStatus:2,refreshToken:yt.refreshToken,authToken:Et(yt.authToken)}}throw yield ln("Create Installation",Ze)})).apply(this,arguments)}function ei(x){return new Promise(D=>{setTimeout(D,x)})}const si=/^[cdef][\w-]{21}$/,nr="";function mr(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const M=function pn(x){return function Eo(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return si.test(M)?M:nr}catch{return nr}}function Yt(x){return`${x.appName}!${x.appId}`}const mt=new Map;function Lt(x,D){const M=Yt(x);ti(M,D),function pr(x,D){const M=function Ni(){return!ni&&"BroadcastChannel"in self&&(ni=new BroadcastChannel("[Firebase] FID Change"),ni.onmessage=x=>{ti(x.data.key,x.data.fid)}),ni}();M&&M.postMessage({key:x,fid:D}),function Jt(){0===mt.size&&ni&&(ni.close(),ni=null)}()}(M,D)}function ti(x,D){const M=mt.get(x);if(M)for(const j of M)j(D)}let ni=null;const Lr="firebase-installations-database",en=1,Sr="firebase-installations-store";let zt=null;function li(){return zt||(zt=function de(x,D,{blocked:M,upgrade:j,blocking:Y,terminated:J}={}){const pe=indexedDB.open(x,D),Xe=Ge(pe);return j&&pe.addEventListener("upgradeneeded",Ze=>{j(Ge(pe.result),Ze.oldVersion,Ze.newVersion,Ge(pe.transaction))}),M&&pe.addEventListener("blocked",()=>M()),Xe.then(Ze=>{J&&Ze.addEventListener("close",()=>J()),Y&&Ze.addEventListener("versionchange",()=>Y())}).catch(()=>{}),Xe}(Lr,en,{upgrade:(x,D)=>{0===D&&x.createObjectStore(Sr)}})),zt}function Wn(x,D){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,N.Z)(function*(x,D){const M=Yt(x),Y=(yield li()).transaction(Sr,"readwrite"),J=Y.objectStore(Sr),pe=yield J.get(M);return yield J.put(D,M),yield Y.done,(!pe||pe.fid!==D.fid)&&Lt(x,D.fid),D})).apply(this,arguments)}function ci(x){return gr.apply(this,arguments)}function gr(){return(gr=(0,N.Z)(function*(x){const D=Yt(x),j=(yield li()).transaction(Sr,"readwrite");yield j.objectStore(Sr).delete(D),yield j.done})).apply(this,arguments)}function ir(x,D){return _r.apply(this,arguments)}function _r(){return(_r=(0,N.Z)(function*(x,D){const M=Yt(x),Y=(yield li()).transaction(Sr,"readwrite"),J=Y.objectStore(Sr),pe=yield J.get(M),Xe=D(pe);return void 0===Xe?yield J.delete(M):yield J.put(Xe,M),yield Y.done,Xe&&(!pe||pe.fid!==Xe.fid)&&Lt(x,Xe.fid),Xe})).apply(this,arguments)}function W(x){return G.apply(this,arguments)}function G(){return G=(0,N.Z)(function*(x){let D;const M=yield ir(x.appConfig,j=>{const Y=function L(x){return It(x||{fid:mr(),registrationStatus:0})}(j),J=function V(x,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(dt.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},j=function P(x,D){return Q.apply(this,arguments)}(x,M);return{installationEntry:M,registrationPromise:j}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Ce(x)}:{installationEntry:D}}(x,Y);return D=J.registrationPromise,J.installationEntry});return M.fid===nr?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}}),G.apply(this,arguments)}function Q(){return Q=(0,N.Z)(function*(x,D){try{const M=yield function Jn(x,D){return _t.apply(this,arguments)}(x,D);return Wn(x.appConfig,M)}catch(M){throw ht(M)&&409===M.customData.serverCode?yield ci(x.appConfig):yield Wn(x.appConfig,{fid:D.fid,registrationStatus:0}),M}}),Q.apply(this,arguments)}function Ce(x){return ot.apply(this,arguments)}function ot(){return(ot=(0,N.Z)(function*(x){let D=yield At(x.appConfig);for(;1===D.registrationStatus;)yield ei(100),D=yield At(x.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:j}=yield W(x);return j||M}return D})).apply(this,arguments)}function At(x){return ir(x,D=>{if(!D)throw dt.create("installation-not-found");return It(D)})}function It(x){return function Kt(x){return 1===x.registrationStatus&&x.registrationTime+Tr<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Rn(){return(Rn=(0,N.Z)(function*({appConfig:x,heartbeatServiceProvider:D},M){const j=function $t(x,{fid:D}){return`${mn(x)}/${D}/authTokens:generate`}(x,M),Y=function _i(x,{refreshToken:D}){const M=yn(x);return M.append("Authorization",function Fr(x){return`${he} ${x}`}(D)),M}(x,M),J=D.getImmediate({optional:!0});if(J){const yt=yield J.getHeartbeatsHeader();yt&&Y.append("x-firebase-client",yt)}const Xe={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:Co,appId:x.appId}})},Ze=yield Vn(()=>fetch(j,Xe));if(Ze.ok)return Et(yield Ze.json());throw yield ln("Generate Auth Token",Ze)})).apply(this,arguments)}function Fi(x){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,N.Z)(function*(x,D=!1){let M;const j=yield ir(x.appConfig,J=>{if(!tn(J))throw dt.create("not-registered");const pe=J.authToken;if(!D&&function xt(x){return 2===x.requestStatus&&!function bn(x){const D=Date.now();return D<x.creationTime||x.creationTime+x.expiresIn<D+ve}(x)}(pe))return J;if(1===pe.requestStatus)return M=function _e(x,D){return le.apply(this,arguments)}(x,D),J;{if(!navigator.onLine)throw dt.create("app-offline");const Xe=function dn(x){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:D})}(J);return M=function vt(x,D){return Mt.apply(this,arguments)}(x,Xe),Xe}});return M?yield M:j.authToken}),Bo.apply(this,arguments)}function le(){return(le=(0,N.Z)(function*(x,D){let M=yield Ve(x.appConfig);for(;1===M.authToken.requestStatus;)yield ei(100),M=yield Ve(x.appConfig);const j=M.authToken;return 0===j.requestStatus?Fi(x,D):j})).apply(this,arguments)}function Ve(x){return ir(x,D=>{if(!tn(D))throw dt.create("not-registered");return function rr(x){return 1===x.requestStatus&&x.requestTime+Tr<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Mt(){return Mt=(0,N.Z)(function*(x,D){try{const M=yield function kt(x,D){return Rn.apply(this,arguments)}(x,D),j=Object.assign(Object.assign({},D),{authToken:M});return yield Wn(x.appConfig,j),M}catch(M){if(!ht(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const j=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Wn(x.appConfig,j)}else yield ci(x.appConfig);throw M}}),Mt.apply(this,arguments)}function tn(x){return void 0!==x&&2===x.registrationStatus}function Kl(){return(Kl=(0,N.Z)(function*(x){const D=x,{installationEntry:M,registrationPromise:j}=yield W(D);return j?j.catch(console.error):Fi(D).catch(console.error),M.fid})).apply(this,arguments)}function rs(){return rs=(0,N.Z)(function*(x,D=!1){const M=x;return yield function Bi(x){return tt.apply(this,arguments)}(M),(yield Fi(M,D)).token}),rs.apply(this,arguments)}function tt(){return(tt=(0,N.Z)(function*(x){const{registrationPromise:D}=yield W(x);D&&(yield D)})).apply(this,arguments)}function vi(x){return dt.create("missing-app-config-values",{valueName:x})}const Wt="installations",Gr=x=>{const D=x.getProvider("app").getImmediate(),M=function nl(x){if(!x||!x.options)throw vi("App Configuration");if(!x.name)throw vi("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!x.options[M])throw vi(M);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,ae._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},ha=x=>{const D=x.getProvider("app").getImmediate(),M=(0,ae._getProvider)(D,Wt).getImmediate();return{getId:()=>function Li(x){return Kl.apply(this,arguments)}(M),getToken:Y=>function Xf(x){return rs.apply(this,arguments)}(M,Y)}};(function Vo(){(0,ae._registerComponent)(new ne.wA(Wt,Gr,"PUBLIC")),(0,ae._registerComponent)(new ne.wA("installations-internal",ha,"PRIVATE"))})(),(0,ae.registerVersion)(Lo,Pi),(0,ae.registerVersion)(Lo,Pi,"esm2017");const Ci="@firebase/remote-config",Ei=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fg{constructor(D,M,j,Y){this.client=D,this.storage=M,this.storageCache=j,this.logger=Y}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-M,Y=j<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var M=this;return(0,N.Z)(function*(){const[j,Y]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Y&&M.isCachedDataFresh(D.cacheMaxAgeMillis,j))return Y;D.eTag=Y&&Y.eTag;const J=yield M.client.fetch(D),pe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===J.status&&pe.push(M.storage.setLastSuccessfulFetchResponse(J)),yield Promise.all(pe),J})()}}function Nu(x=navigator){return x.languages&&x.languages[0]||x.language}class Jf{constructor(D,M,j,Y,J,pe){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=j,this.projectId=Y,this.apiKey=J,this.appId=pe}fetch(D){var M=this;return(0,N.Z)(function*(){const[j,Y]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Ze={sdk_version:M.sdkVersion,app_instance_id:j,app_instance_id_token:Y,app_id:M.appId,language_code:Nu()},yt={method:"POST",headers:Xe,body:JSON.stringify(Ze)},Pt=fetch(pe,yt),Bt=new Promise((Rr,Qr)=>{D.signal.addEventListener(()=>{const bs=new Error("The operation was aborted.");bs.name="AbortError",Qr(bs)})});let kr;try{yield Promise.race([Pt,Bt]),kr=yield Pt}catch(Rr){let Qr="fetch-client-network";throw"AbortError"===Rr?.name&&(Qr="fetch-timeout"),Ei.create(Qr,{originalErrorMessage:Rr?.message})}let Qi=kr.status;const qs=kr.headers.get("ETag")||void 0;let zd,Ra;if(200===kr.status){let Rr;try{Rr=yield kr.json()}catch(Qr){throw Ei.create("fetch-client-parse",{originalErrorMessage:Qr?.message})}zd=Rr.entries,Ra=Rr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ra?Qi=500:"NO_CHANGE"===Ra?Qi=304:("NO_TEMPLATE"===Ra||"EMPTY_CONFIG"===Ra)&&(zd={}),304!==Qi&&200!==Qi)throw Ei.create("fetch-status",{httpStatus:Qi});return{status:Qi,eTag:qs,config:zd}})()}}class Lu{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,N.Z)(function*(){const j=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,j)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:j}){var Y=this;return(0,N.Z)(function*(){yield function Fu(x,D){return new Promise((M,j)=>{const Y=Math.max(D-Date.now(),0),J=setTimeout(M,Y);x.addEventListener(()=>{clearTimeout(J),j(Ei.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const J=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),J}catch(J){if(!function mg(x){if(!(x instanceof ue.ZR&&x.customData))return!1;const D=Number(x.customData.httpStatus);return 429===D||500===D||503===D||504===D}(J))throw J;const pe={throttleEndTimeMillis:Date.now()+(0,ue.$s)(j),backoffCount:j+1};return yield Y.storage.setThrottleMetadata(pe),Y.attemptFetch(D,pe)}})()}}class em{constructor(D,M,j,Y,J){this.app=D,this._client=M,this._storageCache=j,this._storage=Y,this._logger=J,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ls(x,D){const M=x.target.error||void 0;return Ei.create(D,{originalErrorMessage:M&&M?.message})}const Mn="app_namespace_store";class Uu{constructor(D,M,j,Y=function nm(){return new Promise((x,D)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=j=>{D(ls(j,"storage-open"))},M.onsuccess=j=>{x(j.target.result)},M.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(Mn,{keyPath:"compositeKey"})}}catch(M){D(Ei.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=D,this.appName=M,this.namespace=j,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,N.Z)(function*(){const j=yield M.openDbPromise;return new Promise((Y,J)=>{const Xe=j.transaction([Mn],"readonly").objectStore(Mn),Ze=M.createCompositeKey(D);try{const yt=Xe.get(Ze);yt.onerror=Pt=>{J(ls(Pt,"storage-get"))},yt.onsuccess=Pt=>{const Bt=Pt.target.result;Y(Bt?Bt.value:void 0)}}catch(yt){J(Ei.create("storage-get",{originalErrorMessage:yt?.message}))}})})()}set(D,M){var j=this;return(0,N.Z)(function*(){const Y=yield j.openDbPromise;return new Promise((J,pe)=>{const Ze=Y.transaction([Mn],"readwrite").objectStore(Mn),yt=j.createCompositeKey(D);try{const Pt=Ze.put({compositeKey:yt,value:M});Pt.onerror=Bt=>{pe(ls(Bt,"storage-set"))},Pt.onsuccess=()=>{J()}}catch(Pt){pe(Ei.create("storage-set",{originalErrorMessage:Pt?.message}))}})})()}delete(D){var M=this;return(0,N.Z)(function*(){const j=yield M.openDbPromise;return new Promise((Y,J)=>{const Xe=j.transaction([Mn],"readwrite").objectStore(Mn),Ze=M.createCompositeKey(D);try{const yt=Xe.delete(Ze);yt.onerror=Pt=>{J(ls(Pt,"storage-delete"))},yt.onsuccess=()=>{Y()}}catch(yt){J(Ei.create("storage-delete",{originalErrorMessage:yt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class cs{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,N.Z)(function*(){const M=D.storage.getLastFetchStatus(),j=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),J=yield M;J&&(D.lastFetchStatus=J);const pe=yield j;pe&&(D.lastSuccessfulFetchTimestampMillis=pe);const Xe=yield Y;Xe&&(D.activeConfig=Xe)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Hu(){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,N.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function pa(){(0,ae._registerComponent)(new ne.wA("remote-config",function x(D,{instanceIdentifier:M}){const j=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ei.create("registration-window");if(!(0,ue.hl)())throw Ei.create("indexed-db-unavailable");const{projectId:J,apiKey:pe,appId:Xe}=j.options;if(!J)throw Ei.create("registration-project-id");if(!pe)throw Ei.create("registration-api-key");if(!Xe)throw Ei.create("registration-app-id");const Ze=new Uu(Xe,j.name,M=M||"firebase"),yt=new cs(Ze),Pt=new Ee.Yd(Ci);Pt.logLevel=Ee.in.ERROR;const Bt=new Jf(Y,ae.SDK_VERSION,M,J,pe,Xe),kr=new Lu(Bt,Ze),Qi=new fg(kr,Ze,yt,Pt),qs=new em(j,Qi,yt,Ze,Pt);return function yr(x){const D=(0,ue.m9)(x);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(qs),qs},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Ci,"0.4.4"),(0,ae.registerVersion)(Ci,"0.4.4","esm2017")}();const im=(x,D)=>D.some(M=>x instanceof M);let ds,ud;const ga=new WeakMap,Rs=new WeakMap,qn=new WeakMap,sl=new WeakMap,tc=new WeakMap;let Ps={get(x,D,M){if(x instanceof IDBTransaction){if("done"===D)return Rs.get(x);if("objectStoreNames"===D)return x.objectStoreNames||qn.get(x);if("store"===D)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return vr(x[D])},set:(x,D,M)=>(x[D]=M,!0),has:(x,D)=>x instanceof IDBTransaction&&("done"===D||"store"===D)||D in x};function nc(x){return"function"==typeof x?function rm(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zu(){return ud||(ud=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...D){return x.apply(Ui(this),D),vr(ga.get(this))}:function(...D){return vr(x.apply(Ui(this),D))}:function(D,...M){const j=x.call(Ui(this),D,...M);return qn.set(j,D.sort?D.sort():[D]),vr(j)}}(x):(x instanceof IDBTransaction&&function Os(x){if(Rs.has(x))return;const D=new Promise((M,j)=>{const Y=()=>{x.removeEventListener("complete",J),x.removeEventListener("error",pe),x.removeEventListener("abort",pe)},J=()=>{M(),Y()},pe=()=>{j(x.error||new DOMException("AbortError","AbortError")),Y()};x.addEventListener("complete",J),x.addEventListener("error",pe),x.addEventListener("abort",pe)});Rs.set(x,D)}(x),im(x,function ec(){return ds||(ds=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,Ps):x)}function vr(x){if(x instanceof IDBRequest)return function Di(x){const D=new Promise((M,j)=>{const Y=()=>{x.removeEventListener("success",J),x.removeEventListener("error",pe)},J=()=>{M(vr(x.result)),Y()},pe=()=>{j(x.error),Y()};x.addEventListener("success",J),x.addEventListener("error",pe)});return D.then(M=>{M instanceof IDBCursor&&ga.set(M,x)}).catch(()=>{}),tc.set(D,x),D}(x);if(sl.has(x))return sl.get(x);const D=nc(x);return D!==x&&(sl.set(x,D),tc.set(D,x)),D}const Ui=x=>tc.get(x);function al(x,D,{blocked:M,upgrade:j,blocking:Y,terminated:J}={}){const pe=indexedDB.open(x,D),Xe=vr(pe);return j&&pe.addEventListener("upgradeneeded",Ze=>{j(vr(pe.result),Ze.oldVersion,Ze.newVersion,vr(pe.transaction))}),M&&pe.addEventListener("blocked",()=>M()),Xe.then(Ze=>{J&&Ze.addEventListener("close",()=>J()),Y&&Ze.addEventListener("versionchange",()=>Y())}).catch(()=>{}),Xe}function us(x,{blocked:D}={}){const M=indexedDB.deleteDatabase(x);return D&&M.addEventListener("blocked",()=>D()),vr(M).then(()=>{})}const $u=["get","getKey","getAll","getAllKeys","count"],jo=["put","add","delete","clear"],ll=new Map;function _a(x,D){if(!(x instanceof IDBDatabase)||D in x||"string"!=typeof D)return;if(ll.get(D))return ll.get(D);const M=D.replace(/FromIndex$/,""),j=D!==M,Y=jo.includes(M);if(!(M in(j?IDBIndex:IDBObjectStore).prototype)||!Y&&!$u.includes(M))return;const J=function(){var pe=(0,N.Z)(function*(Xe,...Ze){const yt=this.transaction(Xe,Y?"readwrite":"readonly");let Pt=yt.store;return j&&(Pt=Pt.index(Ze.shift())),(yield Promise.all([Pt[M](...Ze),Y&&yt.done]))[0]});return function(Ze){return pe.apply(this,arguments)}}();return ll.set(D,J),J}!function Yi(x){Ps=x(Ps)}(x=>({...x,get:(D,M,j)=>_a(D,M)||x.get(D,M,j),has:(D,M)=>!!_a(D,M)||x.has(D,M)}));const Ot="/firebase-messaging-sw.js",ic="/firebase-cloud-messaging-push-scope",om="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hd="https://fcmregistrations.googleapis.com/v1",fd="google.c.a.c_id",md="google.c.a.c_l",Gu="google.c.a.ts",Wu="google.c.a.e";var ye=(()=>{return(x=ye||(ye={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",ye;var x})();function Ut(x){const D=new Uint8Array(x);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pd(x){const M=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(M),Y=new Uint8Array(j.length);for(let J=0;J<j.length;++J)Y[J]=j.charCodeAt(J);return Y}const cl="fcm_token_details_db",di=5,qu="fcm_token_object_Store";function qr(){return qr=(0,N.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(J=>J.name).includes(cl))return null;let D=null;return(yield al(cl,di,{upgrade:(j=(0,N.Z)(function*(Y,J,pe,Xe){var Ze;if(J<2||!Y.objectStoreNames.contains(qu))return;const yt=Xe.objectStore(qu),Pt=yield yt.index("fcmSenderId").get(x);if(yield yt.clear(),Pt)if(2===J){const Bt=Pt;if(!Bt.auth||!Bt.p256dh||!Bt.endpoint)return;D={token:Bt.fcmToken,createTime:null!==(Ze=Bt.createTime)&&void 0!==Ze?Ze:Date.now(),subscriptionOptions:{auth:Bt.auth,p256dh:Bt.p256dh,endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:"string"==typeof Bt.vapidKey?Bt.vapidKey:Ut(Bt.vapidKey)}}}else if(3===J){const Bt=Pt;D={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:Ut(Bt.auth),p256dh:Ut(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:Ut(Bt.vapidKey)}}}else if(4===J){const Bt=Pt;D={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:Ut(Bt.auth),p256dh:Ut(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:Ut(Bt.vapidKey)}}}}),function(J,pe,Xe,Ze){return j.apply(this,arguments)})})).close(),yield us(cl),yield us("fcm_vapid_details_db"),yield us("undefined"),function rc(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:D}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var j}),qr.apply(this,arguments)}const Zu="firebase-messaging-database",Yu=1,hs="firebase-messaging-store";let va=null;function Ki(){return va||(va=al(Zu,Yu,{upgrade:(x,D)=>{0===D&&x.createObjectStore(hs)}})),va}function Mr(x){return fs.apply(this,arguments)}function fs(){return fs=(0,N.Z)(function*(x){const D=Qu(x),j=yield(yield Ki()).transaction(hs).objectStore(hs).get(D);if(j)return j;{const Y=yield function ya(x){return qr.apply(this,arguments)}(x.appConfig.senderId);if(Y)return yield Ho(x,Y),Y}}),fs.apply(this,arguments)}function Ho(x,D){return Io.apply(this,arguments)}function Io(){return(Io=(0,N.Z)(function*(x,D){const M=Qu(x),Y=(yield Ki()).transaction(hs,"readwrite");return yield Y.objectStore(hs).put(D,M),yield Y.done,D})).apply(this,arguments)}function Ns(){return(Ns=(0,N.Z)(function*(x){const D=Qu(x),j=(yield Ki()).transaction(hs,"readwrite");yield j.objectStore(hs).delete(D),yield j.done})).apply(this,arguments)}function Qu({appConfig:x}){return x.appId}const ui=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function oc(x,D){return dl.apply(this,arguments)}function dl(){return(dl=(0,N.Z)(function*(x,D){const M=yield ul(x),j=ac(D),Y={method:"POST",headers:M,body:JSON.stringify(j)};let J;try{J=yield(yield fetch(gd(x.appConfig),Y)).json()}catch(pe){throw ui.create("token-subscribe-failed",{errorInfo:pe?.toString()})}if(J.error)throw ui.create("token-subscribe-failed",{errorInfo:J.error.message});if(!J.token)throw ui.create("token-subscribe-no-token");return J.token})).apply(this,arguments)}function sc(){return(sc=(0,N.Z)(function*(x,D){const M=yield ul(x),j=ac(D.subscriptionOptions),Y={method:"PATCH",headers:M,body:JSON.stringify(j)};let J;try{J=yield(yield fetch(`${gd(x.appConfig)}/${D.token}`,Y)).json()}catch(pe){throw ui.create("token-update-failed",{errorInfo:pe?.toString()})}if(J.error)throw ui.create("token-update-failed",{errorInfo:J.error.message});if(!J.token)throw ui.create("token-update-no-token");return J.token})).apply(this,arguments)}function Ju(x,D){return ba.apply(this,arguments)}function ba(){return(ba=(0,N.Z)(function*(x,D){const j={method:"DELETE",headers:yield ul(x)};try{const J=yield(yield fetch(`${gd(x.appConfig)}/${D}`,j)).json();if(J.error)throw ui.create("token-unsubscribe-failed",{errorInfo:J.error.message})}catch(Y){throw ui.create("token-unsubscribe-failed",{errorInfo:Y?.toString()})}})).apply(this,arguments)}function gd({projectId:x}){return`${hd}/projects/${x}/registrations`}function ul(x){return _d.apply(this,arguments)}function _d(){return(_d=(0,N.Z)(function*({appConfig:x,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function ac({p256dh:x,auth:D,endpoint:M,vapidKey:j}){const Y={web:{endpoint:M,auth:D,p256dh:x}};return j!==om&&(Y.web.applicationPubKey=j),Y}const eh=6048e5;function th(){return th=(0,N.Z)(function*(x){const D=yield function _g(x,D){return nh.apply(this,arguments)}(x.swRegistration,x.vapidKey),M={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:D.endpoint,auth:Ut(D.getKey("auth")),p256dh:Ut(D.getKey("p256dh"))},j=yield Mr(x.firebaseDependencies);if(j){if(function yg(x,D){return D.vapidKey===x.vapidKey&&D.endpoint===x.endpoint&&D.auth===x.auth&&D.p256dh===x.p256dh}(j.subscriptionOptions,M))return Date.now()>=j.createTime+eh?function jn(x,D){return vd.apply(this,arguments)}(x,{token:j.token,createTime:Date.now(),subscriptionOptions:M}):j.token;try{yield Ju(x.firebaseDependencies,j.token)}catch(Y){console.warn(Y)}return wa(x.firebaseDependencies,M)}return wa(x.firebaseDependencies,M)}),th.apply(this,arguments)}function To(){return To=(0,N.Z)(function*(x){const D=yield Mr(x.firebaseDependencies);D&&(yield Ju(x.firebaseDependencies,D.token),yield function Ku(x){return Ns.apply(this,arguments)}(x.firebaseDependencies));const M=yield x.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),To.apply(this,arguments)}function vd(){return vd=(0,N.Z)(function*(x,D){try{const M=yield function Xu(x,D){return sc.apply(this,arguments)}(x.firebaseDependencies,D),j=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield Ho(x.firebaseDependencies,j),M}catch(M){throw yield function or(x){return To.apply(this,arguments)}(x),M}}),vd.apply(this,arguments)}function wa(x,D){return lc.apply(this,arguments)}function lc(){return(lc=(0,N.Z)(function*(x,D){const j={token:yield oc(x,D),createTime:Date.now(),subscriptionOptions:D};return yield Ho(x,j),j.token})).apply(this,arguments)}function nh(){return(nh=(0,N.Z)(function*(x,D){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pd(D)})})).apply(this,arguments)}function cc(x){const D={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function bd(x,D){if(!D.notification)return;x.notification={};const M=D.notification.title;M&&(x.notification.title=M);const j=D.notification.body;j&&(x.notification.body=j);const Y=D.notification.image;Y&&(x.notification.image=Y);const J=D.notification.icon;J&&(x.notification.icon=J)}(D,x),function ih(x,D){D.data&&(x.data=D.data)}(D,x),function rh(x,D){var M,j,Y,J,pe;if(!(D.fcmOptions||null!==(M=D.notification)&&void 0!==M&&M.click_action))return;x.fcmOptions={};const Xe=null!==(Y=null===(j=D.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==Y?Y:null===(J=D.notification)||void 0===J?void 0:J.click_action;Xe&&(x.fcmOptions.link=Xe);const Ze=null===(pe=D.fcmOptions)||void 0===pe?void 0:pe.analytics_label;Ze&&(x.fcmOptions.analyticsLabel=Ze)}(D,x),D}function xa(x,D){const M=[];for(let j=0;j<x.length;j++)M.push(x.charAt(j)),j<D.length&&M.push(D.charAt(j));return M.join("")}function zo(x){return ui.create("missing-app-config-values",{valueName:x})}xa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),xa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vg{constructor(D,M,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function hl(x){if(!x||!x.options)throw zo("App Configuration Object");if(!x.name)throw zo("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=x;for(const j of D)if(!M[j])throw zo(j);return{appName:x.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:M,analyticsProvider:j}}_delete(){return Promise.resolve()}}function sm(x){return uc.apply(this,arguments)}function uc(){return(uc=(0,N.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(Ot,{scope:ic}),x.swRegistration.update().catch(()=>{})}catch(D){throw ui.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function $o(){return($o=(0,N.Z)(function*(x,D){if(!D&&!x.swRegistration&&(yield sm(x)),D||!x.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw ui.create("invalid-sw-registration");x.swRegistration=D}})).apply(this,arguments)}function fl(){return(fl=(0,N.Z)(function*(x,D){D?x.vapidKey=D:x.vapidKey||(x.vapidKey=om)})).apply(this,arguments)}function Ca(){return Ca=(0,N.Z)(function*(x,D){if(!navigator)throw ui.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ui.create("permission-blocked");return yield function wd(x,D){return fl.apply(this,arguments)}(x,D?.vapidKey),yield function oh(x,D){return $o.apply(this,arguments)}(x,D?.serviceWorkerRegistration),function yd(x){return th.apply(this,arguments)}(x)}),Ca.apply(this,arguments)}function ms(){return(ms=(0,N.Z)(function*(x,D,M){const j=function Fs(x){switch(x){case ye.NOTIFICATION_CLICKED:return"notification_open";case ye.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:M[fd],message_name:M[md],message_time:M[Gu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ls(){return Ls=(0,N.Z)(function*(x,D){const M=D.data;if(!M.isFirebaseMessaging)return;x.onMessageHandler&&M.messageType===ye.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(cc(M)):x.onMessageHandler.next(cc(M)));const j=M.data;(function dc(x){return"object"==typeof x&&!!x&&fd in x})(j)&&"1"===j[Wu]&&(yield function sh(x,D,M){return ms.apply(this,arguments)}(x,M.messageType,j))}),Ls.apply(this,arguments)}const Da="@firebase/messaging",pl=x=>{const D=new vg(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Ea(x,D){return Ls.apply(this,arguments)}(D,M)),D},xd=x=>{const D=x.getProvider("messaging").getImmediate();return{getToken:j=>function hc(x,D){return Ca.apply(this,arguments)}(D,j)}};function am(){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,N.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function gl(){(0,ae._registerComponent)(new ne.wA("messaging",pl,"PUBLIC")),(0,ae._registerComponent)(new ne.wA("messaging-internal",xd,"PRIVATE")),(0,ae.registerVersion)(Da,"0.12.4"),(0,ae.registerVersion)(Da,"0.12.4","esm2017")}();const ps="analytics",mc="firebase_id",ch="origin",_l=6e4,dh="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pc="https://www.googletagmanager.com/gtag/js",Ii=new Ee.Yd("@firebase/analytics"),Zn=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lm(x){if(!x.startsWith(pc)){const D=Zn.create("invalid-gtag-resource",{gtagURL:x});return Ii.warn(D.message),""}return x}function gs(x){return Promise.all(x.map(D=>D.catch(M=>M)))}function _s(){return(_s=(0,N.Z)(function*(x,D,M,j,Y,J){const pe=j[Y];try{if(pe)yield D[pe];else{const Ze=(yield gs(M)).find(yt=>yt.measurementId===Y);Ze&&(yield D[Ze.appId])}}catch(Xe){Ii.error(Xe)}x("config",Y,J)})).apply(this,arguments)}function Bs(){return(Bs=(0,N.Z)(function*(x,D,M,j,Y){try{let J=[];if(Y&&Y.send_to){let pe=Y.send_to;Array.isArray(pe)||(pe=[pe]);const Xe=yield gs(M);for(const Ze of pe){const yt=Xe.find(Bt=>Bt.measurementId===Ze),Pt=yt&&D[yt.appId];if(!Pt){J=[];break}J.push(Pt)}}0===J.length&&(J=Object.values(D)),yield Promise.all(J),x("event",j,Y||{})}catch(J){Ii.error(J)}})).apply(this,arguments)}const _c=30,js=new class uh{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function dm(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function hn(){return(hn=(0,N.Z)(function*(x){var D;const{appId:M,apiKey:j}=x,Y={method:"GET",headers:dm(j)},J=dh.replace("{app-id}",M),pe=yield fetch(J,Y);if(200!==pe.status&&304!==pe.status){let Xe="";try{const Ze=yield pe.json();null!==(D=Ze.error)&&void 0!==D&&D.message&&(Xe=Ze.error.message)}catch{}throw Zn.create("config-fetch-failed",{httpStatus:pe.status,responseMessage:Xe})}return pe.json()})).apply(this,arguments)}function fh(){return(fh=(0,N.Z)(function*(x,D=js,M){const{appId:j,apiKey:Y,measurementId:J}=x.options;if(!j)throw Zn.create("no-app-id");if(!Y){if(J)return{measurementId:J,appId:j};throw Zn.create("no-api-key")}const pe=D.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new qy;return setTimeout((0,N.Z)(function*(){Xe.abort()}),void 0!==M?M:_l),Md({appId:j,apiKey:Y,measurementId:J},pe,Xe,D)})).apply(this,arguments)}function Md(x,D,M){return kd.apply(this,arguments)}function kd(){return kd=(0,N.Z)(function*(x,{throttleEndTimeMillis:D,backoffCount:M},j,Y=js){var J;const{appId:pe,measurementId:Xe}=x;try{yield function um(x,D){return new Promise((M,j)=>{const Y=Math.max(D-Date.now(),0),J=setTimeout(M,Y);x.addEventListener(()=>{clearTimeout(J),j(Zn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(j,D)}catch(Ze){if(Xe)return Ii.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${Ze?.message}]`),{appId:pe,measurementId:Xe};throw Ze}try{const Ze=yield function hh(x){return hn.apply(this,arguments)}(x);return Y.deleteThrottleMetadata(pe),Ze}catch(Ze){const yt=Ze;if(!function Wy(x){if(!(x instanceof ue.ZR&&x.customData))return!1;const D=Number(x.customData.httpStatus);return 429===D||500===D||503===D||504===D}(yt)){if(Y.deleteThrottleMetadata(pe),Xe)return Ii.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${yt?.message}]`),{appId:pe,measurementId:Xe};throw Ze}const Pt=503===Number(null===(J=yt?.customData)||void 0===J?void 0:J.httpStatus)?(0,ue.$s)(M,Y.intervalMillis,_c):(0,ue.$s)(M,Y.intervalMillis),Bt={throttleEndTimeMillis:Date.now()+Pt,backoffCount:M+1};return Y.setThrottleMetadata(pe,Bt),Ii.debug(`Calling attemptFetch again in ${Pt} millis`),Md(x,Bt,j,Y)}}),kd.apply(this,arguments)}class qy{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Hs,Aa;function hm(){return(hm=(0,N.Z)(function*(x,D,M,j,Y){if(Y&&Y.global)x("event",M,j);else{const J=yield D;x("event",M,Object.assign(Object.assign({},j),{send_to:J}))}})).apply(this,arguments)}function Yr(){return(Yr=(0,N.Z)(function*(){if(!(0,ue.hl)())return Ii.warn(Zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(x){return Ii.warn(Zn.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ke(){return Ke=(0,N.Z)(function*(x,D,M,j,Y,J,pe){var Xe;const Ze=function Ad(x){return fh.apply(this,arguments)}(x);Ze.then(Qi=>{M[Qi.measurementId]=Qi.appId,x.options.measurementId&&Qi.measurementId!==x.options.measurementId&&Ii.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Qi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Qi=>Ii.error(Qi)),D.push(Ze);const yt=function Zr(){return Yr.apply(this,arguments)}().then(Qi=>{if(Qi)return j.getId()}),[Pt,Bt]=yield Promise.all([Ze,yt]);(function Us(x){const D=window.document.getElementsByTagName("script");for(const M of Object.values(D))if(M.src&&M.src.includes(pc)&&M.src.includes(x))return M;return null})(J)||function Ta(x,D){const M=function gc(x,D){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(x,D)),M}("firebase-js-sdk-policy",{createScriptURL:lm}),j=document.createElement("script"),Y=`${pc}?l=${x}&id=${D}`;j.src=M?M?.createScriptURL(Y):Y,j.async=!0,document.head.appendChild(j)}(J,Pt.measurementId),Aa&&(Y("consent","default",Aa),function bl(x){Aa=x}(void 0)),Y("js",new Date);const kr=null!==(Xe=pe?.config)&&void 0!==Xe?Xe:{};return kr[ch]="firebase",kr.update=!0,null!=Bt&&(kr[mc]=Bt),Y("config",Pt.measurementId,kr),Hs&&(Y("set",Hs),function bc(x){Hs=x}(void 0)),Pt.measurementId}),Ke.apply(this,arguments)}class fi{constructor(D){this.app=D}_delete(){return delete Fn[this.app.options.appId],Promise.resolve()}}let Fn={},Ur=[];const Go={};let xn,ze,Yn="dataLayer",ri="gtag",co=!1;function fm(x,D,M){!function wr(){const x=[];if((0,ue.ru)()&&x.push("This is a browser extension environment."),(0,ue.zI)()||x.push("Cookies are not available."),x.length>0){const D=x.map((j,Y)=>`(${Y+1}) ${j}`).join(" "),M=Zn.create("invalid-analytics-context",{errorInfo:D});Ii.warn(M.message)}}();const j=x.options.appId;if(!j)throw Zn.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Zn.create("no-api-key");Ii.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fn[j])throw Zn.create("already-exists",{id:j});if(!co){!function Id(x){let D=[];Array.isArray(window[x])?D=window[x]:window[x]=D}(Yn);const{wrappedGtag:J,gtagCore:pe}=function Vs(x,D,M,j,Y){let J=function(...pe){window[j].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(J=window[Y]),window[Y]=function yl(x,D,M,j){function J(){return J=(0,N.Z)(function*(pe,...Xe){try{if("event"===pe){const[Ze,yt]=Xe;yield function cm(x,D,M,j,Y){return Bs.apply(this,arguments)}(x,D,M,Ze,yt)}else if("config"===pe){const[Ze,yt]=Xe;yield function Td(x,D,M,j,Y,J){return _s.apply(this,arguments)}(x,D,M,j,Ze,yt)}else if("consent"===pe){const[Ze]=Xe;x("consent","update",Ze)}else if("get"===pe){const[Ze,yt,Pt]=Xe;x("get",Ze,yt,Pt)}else if("set"===pe){const[Ze]=Xe;x("set",Ze)}else x(pe,...Xe)}catch(Ze){Ii.error(Ze)}}),J.apply(this,arguments)}return function Y(pe){return J.apply(this,arguments)}}(J,x,D,M),{gtagCore:J,wrappedGtag:window[Y]}}(Fn,Ur,Go,Yn,ri);ze=J,xn=pe,co=!0}return Fn[j]=function on(x,D,M,j,Y,J,pe){return Ke.apply(this,arguments)}(x,Ur,Go,D,xn,Yn,M),new fi(x)}function ph(){return uo.apply(this,arguments)}function uo(){return(uo=(0,N.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const yh="@firebase/analytics";!function oi(){(0,ae._registerComponent)(new ne.wA(ps,(D,{options:M})=>fm(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ae._registerComponent)(new ne.wA("analytics-internal",function x(D){try{const M=D.getProvider(ps).getImmediate();return{logEvent:(j,Y,J)=>function _h(x,D,M,j){x=(0,ue.m9)(x),function Zy(x,D,M,j,Y){return hm.apply(this,arguments)}(ze,Fn[x.app.options.appId],D,M,j).catch(Y=>Ii.error(Y))}(M,j,Y,J)}}catch(M){throw Zn.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ae.registerVersion)(yh,"0.10.0"),(0,ae.registerVersion)(yh,"0.10.0","esm2017")}();var Fd=U(4408),Wo=U(7565);const Vd=new class Bd extends Wo.v{}(class Ld extends Fd.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(D,M,j):(D.flush(this),0)}});var pm=U(4986),El=U(9751),vh=U(8505),Ec=U(9468),$s=U(5363);const Dl=new s.GfV("7.6.1"),Ud="__angularfire_symbol__analyticsIsSupportedValue",bh="__angularfire_symbol__analyticsIsSupported",Il="__angularfire_symbol__remoteConfigIsSupportedValue",wh="__angularfire_symbol__remoteConfigIsSupported",gm="__angularfire_symbol__messagingIsSupportedValue",xh="__angularfire_symbol__messagingIsSupported";function Tl(x,D,M){if(D){if(1===D.length)return D[0];const J=D.filter(pe=>pe.app===M);if(1===J.length)return J[0]}return M.container.getProvider(x).getImmediate({optional:!0})}globalThis[bh]||(globalThis[bh]=ph().then(x=>globalThis[Ud]=x).catch(()=>globalThis[Ud]=!1)),globalThis[xh]||(globalThis[xh]=am().then(x=>globalThis[gm]=x).catch(()=>globalThis[gm]=!1)),globalThis[wh]||(globalThis[wh]=Hu().then(x=>globalThis[Il]=x).catch(()=>globalThis[Il]=!1));const _m=(x,D)=>{const M=D?[D]:(0,$.C6)(),j=[];return M.forEach(Y=>{Y.container.getProvider(x).instances.forEach(pe=>{j.includes(pe)||j.push(pe)})}),j};function Gs(){}class Dc{constructor(D,M=Vd){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,j){const Y=this.zone;return this.delegate.schedule(function(pe){Y.runGuarded(()=>{D.apply(this,[pe])})},M,j)}}class ho{constructor(D){this.zone=D,this.task=null}call(D,M){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gs,{},Gs,Gs)),M.pipe((0,vh.b)({next:j,complete:j,error:j})).subscribe(D).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ka=(()=>{class x{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Dc(Zone.current)),this.insideAngular=M.run(()=>new Dc(Zone.current,pm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(M){return new(M||x)(s.LFG(s.R0b))},x.\u0275prov=s.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Ws(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function vs(x){return Ws().ngZone.run(()=>x())}function Dh(x){return Ws(),function vm(x){return function(M){return(M=M.lift(new ho(x.ngZone))).pipe((0,Ec.R)(x.outsideAngular),(0,$s.Q)(x.insideAngular))}}(Ws())(x)}const bm=(x,D)=>function(){const j=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),vs(()=>x.apply(void 0,j))},Kn=(x,D)=>function(){let M;const j=arguments;for(let J=0;J<arguments.length;J++)"function"==typeof j[J]&&(D&&(M||(M=vs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gs,{},Gs,Gs)))),j[J]=bm(j[J],M));const Y=function Eh(x){return Ws().ngZone.runOutsideAngular(()=>x())}(()=>x.apply(this,j));if(!D){if(Y instanceof El.y){const J=Ws();return Y.pipe((0,Ec.R)(J.outsideAngular),(0,$s.Q)(J.insideAngular))}return vs(()=>Y)}return Y instanceof El.y?Y.pipe(Dh):Y instanceof Promise?vs(()=>new Promise((J,pe)=>Y.then(Xe=>vs(()=>J(Xe)),Xe=>vs(()=>pe(Xe))))):"function"==typeof Y&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),Y.apply(this,arguments)}:vs(()=>Y)}},1389:(wt,Ae,U)=>{U.d(Ae,{$:()=>Ot,A:()=>q,D:()=>Me,I:()=>ii,J:()=>Gr,L:()=>Do,N:()=>ir,P:()=>on,Q:()=>Uu,R:()=>vc,U:()=>ju,V:()=>Hu,W:()=>Jl,X:()=>Uo,Y:()=>ec,Z:()=>zu,_:()=>tc,a:()=>br,a0:()=>om,a1:()=>fd,a2:()=>pg,a3:()=>qu,a4:()=>qr,a5:()=>Zu,a6:()=>hs,a7:()=>Ki,a8:()=>fs,a9:()=>Io,aA:()=>de,aB:()=>bh,aC:()=>ci,aD:()=>_r,aE:()=>vh,aF:()=>gh,aG:()=>Cc,aH:()=>wn,aL:()=>So,aO:()=>ds,aa:()=>Ku,ab:()=>Qu,ac:()=>gg,ad:()=>Xu,ae:()=>Ju,af:()=>gd,ai:()=>eh,aj:()=>th,ak:()=>or,an:()=>rm,ao:()=>bd,aq:()=>fl,ar:()=>Da,as:()=>St,at:()=>It,au:()=>Ce,av:()=>Se,aw:()=>Bt,ax:()=>xh,ay:()=>Kt,az:()=>Te,b:()=>fc,c:()=>ze,d:()=>fm,e:()=>wl,f:()=>yh,g:()=>Bd,h:()=>Fd,i:()=>Sd,j:()=>pm,k:()=>Ra,l:()=>vl,m:()=>bs,o:()=>Oa,p:()=>be,r:()=>mh,s:()=>ys,u:()=>Zr});var s=U(5861),$=U(2090),N=U(6881),ae=U(7582),ue=U(1877),ne=U(4859);const be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ye=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pe=new ue.Yd("@firebase/auth");function Ue(w,...p){Pe.logLevel<=ue.in.ERROR&&Pe.error(`Auth (${N.SDK_VERSION}): ${w}`,...p)}function Se(w,...p){throw Be(w,...p)}function Te(w,...p){return Be(w,...p)}function Ne(w,p,y){const C=Object.assign(Object.assign({},Ye()),{[p]:y});return new $.LL("auth","Firebase",C).create(p,{appName:w.name})}function Ge(w,p,y){if(!(p instanceof y))throw y.name!==p.constructor.name&&Se(w,"argument-error"),Ne(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(w,...p){if("string"!=typeof w){const y=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=w.name),w._errorFactory.create(y,...C)}return lt.create(w,...p)}function de(w,p,...y){if(!w)throw Be(p,...y)}function rt(w){const p="INTERNAL ASSERTION FAILED: "+w;throw Ue(p),new Error(p)}function St(w,p){w||rt(p)}function ct(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Zt(){return"http:"===ft()||"https:"===ft()}function ft(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Tr{constructor(p,y){this.shortDelay=p,this.longDelay=y,St(y>p,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function Lo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zt()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Co(w,p){St(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return p?`${y}${p.startsWith("/")?p.slice(1):p}`:y}class he{static initialize(p,y,C){this.fetchImpl=p,y&&(this.headersImpl=y),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ve=new Tr(3e4,6e4);function oe(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function ke(w,p,y,C){return je.apply(this,arguments)}function je(){return(je=(0,s.Z)(function*(w,p,y,C,k={}){return dt(w,k,(0,s.Z)(function*(){let F={},ee={};C&&("GET"===p?ee=C:F={body:JSON.stringify(C)});const fe=(0,$.xO)(Object.assign({key:w.config.apiKey},ee)).slice(1),qe=yield w._getAdditionalHeaders();return qe["Content-Type"]="application/json",w.languageCode&&(qe["X-Firebase-Locale"]=w.languageCode),he.fetch()(ln(w,w.config.apiHost,y,fe),Object.assign({method:p,headers:qe,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function dt(w,p,y){return ht.apply(this,arguments)}function ht(){return(ht=(0,s.Z)(function*(w,p,y){w._canInitEmulator=!1;const C=Object.assign(Object.assign({},ge),p);try{const k=new Bn(w),F=yield Promise.race([y(),k.promise]);k.clearNetworkTimeout();const ee=yield F.json();if("needConfirmation"in ee)throw yn(w,"account-exists-with-different-credential",ee);if(F.ok&&!("errorMessage"in ee))return ee;{const fe=F.ok?ee.errorMessage:ee.error.message,[qe,Je]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw yn(w,"credential-already-in-use",ee);if("EMAIL_EXISTS"===qe)throw yn(w,"email-already-in-use",ee);if("USER_DISABLED"===qe)throw yn(w,"user-disabled",ee);const bt=C[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw Ne(w,bt,Je);Se(w,bt)}}catch(k){if(k instanceof $.ZR)throw k;Se(w,"network-request-failed",{message:String(k)})}})).apply(this,arguments)}function mn(w,p,y,C){return Et.apply(this,arguments)}function Et(){return(Et=(0,s.Z)(function*(w,p,y,C,k={}){const F=yield ke(w,p,y,C,k);return"mfaPendingCredential"in F&&Se(w,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function ln(w,p,y,C){const k=`${p}${y}?${C}`;return w.config.emulator?Co(w.config,k):`${w.config.apiScheme}://${k}`}class Bn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((y,C)=>{this.timer=setTimeout(()=>C(Te(this.auth,"network-request-failed")),ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yn(w,p,y){const C={appName:w.name};y.email&&(C.email=y.email),y.phoneNumber&&(C.phoneNumber=y.phoneNumber);const k=Te(w,p,C);return k.customData._tokenResponse=y,k}function Vn(){return(Vn=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function yi(){return(yi=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Jn(){return(Jn=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function _t(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function si(){return(si=(0,s.Z)(function*(w,p=!1){const y=(0,$.m9)(w),C=yield y.getIdToken(p),k=mr(C);de(k&&k.exp&&k.auth_time&&k.iat,y.auth,"internal-error");const F="object"==typeof k.firebase?k.firebase:void 0,ee=F?.sign_in_provider;return{claims:k,token:C,authTime:_t(nr(k.auth_time)),issuedAtTime:_t(nr(k.iat)),expirationTime:_t(nr(k.exp)),signInProvider:ee||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function nr(w){return 1e3*Number(w)}function mr(w){const[p,y,C]=w.split(".");if(void 0===p||void 0===y||void 0===C)return Ue("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,$.tV)(y);return k?JSON.parse(k):(Ue("Failed to decode base64 JWT payload"),null)}catch(k){return Ue("Caught error parsing JWT payload as JSON",k?.toString()),null}}function Yt(w,p){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(w,p,y=!1){if(y)return p;try{return yield p}catch(C){throw C instanceof $.ZR&&function Lt({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(C)&&w.auth.currentUser===w&&(yield w.auth.signOut()),C}})).apply(this,arguments)}class ai{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var y;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const k=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(p=!1){var y=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield y.iteration()}),C)}iteration(){var p=this;return(0,s.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&p.schedule(!0))}p.schedule()})()}}class Gi{constructor(p,y){this.createdAt=p,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=_t(this.lastLoginAt),this.creationTime=_t(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ti(w){return pr.apply(this,arguments)}function pr(){return pr=(0,s.Z)(function*(w){var p;const y=w.auth,C=yield w.getIdToken(),k=yield Yt(w,function Fr(w,p){return Jn.apply(this,arguments)}(y,{idToken:C}));de(k?.users.length,y,"internal-error");const F=k.users[0];w._notifyReloadListener(F);const ee=null!==(p=F.providerUserInfo)&&void 0!==p&&p.length?function Lr(w){return w.map(p=>{var{providerId:y}=p,C=(0,ae._T)(p,["providerId"]);return{providerId:y,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(F.providerUserInfo):[],fe=function Jt(w,p){return[...w.filter(C=>!p.some(k=>k.providerId===C.providerId)),...p]}(w.providerData,ee),bt=!!w.isAnonymous&&!(w.email&&F.passwordHash||fe?.length),qt={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:fe,metadata:new Gi(F.createdAt,F.lastLoginAt),isAnonymous:bt};Object.assign(w,qt)}),pr.apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(w){const p=(0,$.m9)(w);yield ti(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Sr(){return(Sr=(0,s.Z)(function*(w,p){const y=yield dt(w,{},(0,s.Z)(function*(){const C=(0,$.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:k,apiKey:F}=w.config,ee=ln(w,k,"/v1/token",`key=${F}`),fe=yield w._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",he.fetch()(ee,{method:"POST",headers:fe,body:C})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){de(p.idToken,"internal-error"),de(typeof p.idToken<"u","internal-error"),de(typeof p.refreshToken<"u","internal-error");const y="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function pn(w){const p=mr(w);return de(p,"internal-error"),de(typeof p.exp<"u","internal-error"),de(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,y)}getToken(p,y=!1){var C=this;return(0,s.Z)(function*(){return de(!C.accessToken||C.refreshToken,p,"user-token-expired"),y||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,y){var C=this;return(0,s.Z)(function*(){const{accessToken:k,refreshToken:F,expiresIn:ee}=yield function en(w,p){return Sr.apply(this,arguments)}(p,y);C.updateTokensAndExpiration(k,F,Number(ee))})()}updateTokensAndExpiration(p,y,C){this.refreshToken=y||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,y){const{refreshToken:C,accessToken:k,expirationTime:F}=y,ee=new zt;return C&&(de("string"==typeof C,"internal-error",{appName:p}),ee.refreshToken=C),k&&(de("string"==typeof k,"internal-error",{appName:p}),ee.accessToken=k),F&&(de("number"==typeof F,"internal-error",{appName:p}),ee.expirationTime=F),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new zt,this.toJSON())}_performRefresh(){return rt("not implemented")}}function li(w,p){de("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class Wn{constructor(p){var{uid:y,auth:C,stsTokenManager:k}=p,F=(0,ae._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=C,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Gi(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(p){var y=this;return(0,s.Z)(function*(){const C=yield Yt(y,y.stsTokenManager.getToken(y.auth,p));return de(C,y.auth,"internal-error"),y.accessToken!==C&&(y.accessToken=C,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),C})()}getIdTokenResult(p){return function Eo(w){return si.apply(this,arguments)}(this,p)}reload(){return function ni(w){return Ni.apply(this,arguments)}(this)}_assign(p){this!==p&&(de(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(y=>Object.assign({},y)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const y=new Wn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(p){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,y=!1){var C=this;return(0,s.Z)(function*(){let k=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),k=!0),y&&(yield ti(C)),yield C.auth._persistUserIfCurrent(C),k&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,s.Z)(function*(){const y=yield p.getIdToken();return yield Yt(p,function _i(w,p){return Vn.apply(this,arguments)}(p.auth,{idToken:y})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,y){var C,k,F,ee,fe,qe,Je,bt;const qt=null!==(C=y.displayName)&&void 0!==C?C:void 0,Or=null!==(k=y.email)&&void 0!==k?k:void 0,ws=null!==(F=y.phoneNumber)&&void 0!==F?F:void 0,Gd=null!==(ee=y.photoURL)&&void 0!==ee?ee:void 0,Ah=null!==(fe=y.tenantId)&&void 0!==fe?fe:void 0,Al=null!==(qe=y._redirectEventId)&&void 0!==qe?qe:void 0,Cm=null!==(Je=y.createdAt)&&void 0!==Je?Je:void 0,Mh=null!==(bt=y.lastLoginAt)&&void 0!==bt?bt:void 0,{uid:Wd,emailVerified:Em,isAnonymous:qd,providerData:Zd,stsTokenManager:Ml}=y;de(Wd&&Ml,p,"internal-error");const Yd=zt.fromJSON(this.name,Ml);de("string"==typeof Wd,p,"internal-error"),li(qt,p.name),li(Or,p.name),de("boolean"==typeof Em,p,"internal-error"),de("boolean"==typeof qd,p,"internal-error"),li(ws,p.name),li(Gd,p.name),li(Ah,p.name),li(Al,p.name),li(Cm,p.name),li(Mh,p.name);const Ic=new Wn({uid:Wd,auth:p,email:Or,emailVerified:Em,displayName:qt,isAnonymous:qd,photoURL:Gd,phoneNumber:ws,tenantId:Ah,stsTokenManager:Yd,createdAt:Cm,lastLoginAt:Mh});return Zd&&Array.isArray(Zd)&&(Ic.providerData=Zd.map(kh=>Object.assign({},kh))),Al&&(Ic._redirectEventId=Al),Ic}static _fromIdTokenResponse(p,y,C=!1){return(0,s.Z)(function*(){const k=new zt;k.updateFromServerResponse(y);const F=new Wn({uid:y.localId,auth:p,stsTokenManager:k,isAnonymous:C});return yield ti(F),F})()}}const Wi=new Map;function ci(w){St(w instanceof Function,"Expected a class definition");let p=Wi.get(w);return p?(St(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,Wi.set(w,p),p)}const ir=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(y,C){var k=this;return(0,s.Z)(function*(){k.storage[y]=C})()}_get(y){var C=this;return(0,s.Z)(function*(){const k=C.storage[y];return void 0===k?null:k})()}_remove(y){var C=this;return(0,s.Z)(function*(){delete C.storage[y]})()}_addListener(y,C){}_removeListener(y,C){}}return w.type="NONE",w})();function _r(w,p,y){return`firebase:${w}:${p}:${y}`}class W{constructor(p,y,C){this.persistence=p,this.auth=y,this.userKey=C;const{config:k,name:F}=this.auth;this.fullUserKey=_r(this.userKey,k.apiKey,F),this.fullPersistenceKey=_r("persistence",k.apiKey,F),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const y=yield p.persistence._get(p.fullUserKey);return y?Wn._fromJSON(p.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var y=this;return(0,s.Z)(function*(){if(y.persistence===p)return;const C=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=p,C?y.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,y,C="authUser"){return(0,s.Z)(function*(){if(!y.length)return new W(ci(ir),p,C);const k=(yield Promise.all(y.map(function(){var Je=(0,s.Z)(function*(bt){if(yield bt._isAvailable())return bt});return function(bt){return Je.apply(this,arguments)}}()))).filter(Je=>Je);let F=k[0]||ci(ir);const ee=_r(C,p.config.apiKey,p.name);let fe=null;for(const Je of y)try{const bt=yield Je._get(ee);if(bt){const qt=Wn._fromJSON(p,bt);Je!==F&&(fe=qt),F=Je;break}}catch{}const qe=k.filter(Je=>Je._shouldAllowMigration);return F._shouldAllowMigration&&qe.length?(F=qe[0],fe&&(yield F._set(ee,fe.toJSON())),yield Promise.all(y.map(function(){var Je=(0,s.Z)(function*(bt){if(bt!==F)try{yield bt._remove(ee)}catch{}});return function(bt){return Je.apply(this,arguments)}}())),new W(F,p,C)):new W(F,p,C)})()}}function G(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Q(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(L(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ot(p))return"Blackberry";if(At(p))return"Webos";if(V(p))return"Safari";if((p.includes("chrome/")||P(p))&&!p.includes("edge/"))return"Chrome";if(Ce(p))return"Android";{const C=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function L(w=(0,$.z$)()){return/firefox\//i.test(w)}function V(w=(0,$.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function P(w=(0,$.z$)()){return/crios\//i.test(w)}function Q(w=(0,$.z$)()){return/iemobile/i.test(w)}function Ce(w=(0,$.z$)()){return/android/i.test(w)}function ot(w=(0,$.z$)()){return/blackberry/i.test(w)}function At(w=(0,$.z$)()){return/webos/i.test(w)}function It(w=(0,$.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Kt(w=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function $t(w=(0,$.z$)()){return It(w)||Ce(w)||At(w)||ot(w)||/windows phone/i.test(w)||Q(w)}function Bo(w,p=[]){let y;switch(w){case"Browser":y=G((0,$.z$)());break;case"Worker":y=`${G((0,$.z$)())}-${w}`;break;default:y=w}const C=p.length?p.join(","):"FirebaseCore-web";return`${y}/JsCore/${N.SDK_VERSION}/${C}`}function le(){return(le=(0,s.Z)(function*(w){return(yield ke(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ve(w,p){return vt.apply(this,arguments)}function vt(){return(vt=(0,s.Z)(function*(w,p){return ke(w,"GET","/v2/recaptchaConfig",oe(w,p))})).apply(this,arguments)}function Mt(w){return void 0!==w&&void 0!==w.getResponse}function tn(w){return void 0!==w&&void 0!==w.enterprise}class xt{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function dn(w){return new Promise((p,y)=>{const C=document.createElement("script");C.setAttribute("src",w),C.onload=p,C.onerror=k=>{const F=Te("internal-error");F.customData=k,y(F)},C.type="text/javascript",C.charset="UTF-8",function bn(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(C)})}function rr(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Xf="NO_RECAPTCHA";class rs{constructor(p){this.type="recaptcha-enterprise",this.auth=wn(p)}verify(p="verify",y=!1){var C=this;return(0,s.Z)(function*(){function F(){return F=(0,s.Z)(function*(fe){if(!y){if(null==fe.tenantId&&null!=fe._agentRecaptchaConfig)return fe._agentRecaptchaConfig.siteKey;if(null!=fe.tenantId&&void 0!==fe._tenantRecaptchaConfigs[fe.tenantId])return fe._tenantRecaptchaConfigs[fe.tenantId].siteKey}return new Promise(function(){var qe=(0,s.Z)(function*(Je,bt){Ve(fe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(qt=>{if(void 0!==qt.recaptchaKey){const Or=new xt(qt);return null==fe.tenantId?fe._agentRecaptchaConfig=Or:fe._tenantRecaptchaConfigs[fe.tenantId]=Or,Je(Or.siteKey)}bt(new Error("recaptcha Enterprise site key undefined"))}).catch(qt=>{bt(qt)})});return function(Je,bt){return qe.apply(this,arguments)}}())}),F.apply(this,arguments)}function ee(fe,qe,Je){const bt=window.grecaptcha;tn(bt)?bt.enterprise.ready(()=>{bt.enterprise.execute(fe,{action:p}).then(qt=>{qe(qt)}).catch(()=>{qe(Xf)})}):Je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((fe,qe)=>{(function k(fe){return F.apply(this,arguments)})(C.auth).then(Je=>{if(!y&&tn(window.grecaptcha))ee(Je,fe,qe);else{if(typeof window>"u")return void qe(new Error("RecaptchaVerifier is only supported in browser"));dn("https://www.google.com/recaptcha/enterprise.js?render="+Je).then(()=>{ee(Je,fe,qe)}).catch(bt=>{qe(bt)})}}).catch(Je=>{qe(Je)})})})()}}function Bi(w,p,y){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*(w,p,y,C=!1){const k=new rs(w);let F;try{F=yield k.verify(y)}catch{F=yield k.verify(y,!0)}const ee=Object.assign({},p);return Object.assign(ee,C?{captchaResp:F}:{captchaResponse:F}),Object.assign(ee,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ee,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ee})).apply(this,arguments)}class Qt{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,y){const C=F=>new Promise((ee,fe)=>{try{ee(p(F))}catch(qe){fe(qe)}});C.onAbort=y,this.queue.push(C);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(p){var y=this;return(0,s.Z)(function*(){if(y.auth.currentUser===p)return;const C=[];try{for(const k of y.queue)yield k(p),k.onAbort&&C.push(k.onAbort)}catch(k){C.reverse();for(const F of C)try{F()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:k?.message})}})()}}class Un{constructor(p,y,C,k){this.app=p,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=C,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new os(this),this.idTokenSubscription=new os(this),this.beforeStateQueue=new Qt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(p,y){var C=this;return y&&(this._popupRedirectResolver=ci(y)),this._initializationPromise=this.queue((0,s.Z)(function*(){var k,F;if(!C._deleted&&(C.persistenceManager=yield W.create(C,p),!C._deleted)){if(null!==(k=C._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(y),C.lastNotifiedUid=(null===(F=C.currentUser)||void 0===F?void 0:F.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const y=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||y){if(p.currentUser&&y&&p.currentUser.uid===y.uid)return p._currentUser._assign(y),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(y,!0)}})()}initializeCurrentUser(p){var y=this;return(0,s.Z)(function*(){var C;const k=yield y.assertedPersistence.getCurrentUser();let F=k,ee=!1;if(p&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const fe=null===(C=y.redirectUser)||void 0===C?void 0:C._redirectEventId,qe=F?._redirectEventId,Je=yield y.tryRedirectSignIn(p);(!fe||fe===qe)&&Je?.user&&(F=Je.user,ee=!0)}if(!F)return y.directlySetCurrentUser(null);if(!F._redirectEventId){if(ee)try{yield y.beforeStateQueue.runMiddleware(F)}catch(fe){F=k,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(fe))}return F?y.reloadAndSetCurrentUserOrClear(F):y.directlySetCurrentUser(null)}return de(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===F._redirectEventId?y.directlySetCurrentUser(F):y.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(p){var y=this;return(0,s.Z)(function*(){let C=null;try{C=yield y._popupRedirectResolver._completeRedirectFn(y,p,!0)}catch{yield y._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var y=this;return(0,s.Z)(function*(){try{yield ti(p)}catch(C){if("auth/network-request-failed"!==C?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Pi(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var y=this;return(0,s.Z)(function*(){const C=p?(0,$.m9)(p):null;return C&&de(C.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(C&&C._clone(y))})()}_updateCurrentUser(p,y=!1){var C=this;return(0,s.Z)(function*(){if(!C._deleted)return p&&de(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),y||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,s.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var y=this;return this.queue((0,s.Z)(function*(){yield y.assertedPersistence.setPersistence(ci(p))}))}initializeRecaptchaConfig(){var p=this;return(0,s.Z)(function*(){const y=yield Ve(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new xt(y);null==p.tenantId?p._agentRecaptchaConfig=C:p._tenantRecaptchaConfigs[p.tenantId]=C,C.emailPasswordEnabled&&new rs(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new $.LL("auth","Firebase",p())}onAuthStateChanged(p,y,C){return this.registerStateListener(this.authStateSubscription,p,y,C)}beforeAuthStateChanged(p,y){return this.beforeStateQueue.pushCallback(p,y)}onIdTokenChanged(p,y,C){return this.registerStateListener(this.idTokenSubscription,p,y,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,y){var C=this;return(0,s.Z)(function*(){const k=yield C.getOrInitRedirectPersistenceManager(y);return null===p?k.removeCurrentUser():k.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var y=this;return(0,s.Z)(function*(){if(!y.redirectPersistenceManager){const C=p&&ci(p)||y._popupRedirectResolver;de(C,y,"argument-error"),y.redirectPersistenceManager=yield W.create(y,[ci(C._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(p){var y=this;return(0,s.Z)(function*(){var C,k;return y._isInitialized&&(yield y.queue((0,s.Z)(function*(){}))),(null===(C=y._currentUser)||void 0===C?void 0:C._redirectEventId)===p?y._currentUser:(null===(k=y.redirectUser)||void 0===k?void 0:k._redirectEventId)===p?y.redirectUser:null})()}_persistUserIfCurrent(p){var y=this;return(0,s.Z)(function*(){if(p===y.currentUser)return y.queue((0,s.Z)(function*(){return y.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(y=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,y,C,k){if(this._deleted)return()=>{};const F="function"==typeof y?y:y.next.bind(y),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return de(ee,this,"internal-error"),ee.then(()=>F(this.currentUser)),"function"==typeof y?p.addObserver(y,C,k):p.addObserver(y)}directlySetCurrentUser(p){var y=this;return(0,s.Z)(function*(){y.currentUser&&y.currentUser!==p&&y._currentUser._stopProactiveRefresh(),p&&y.isProactiveRefreshEnabled&&p._startProactiveRefresh(),y.currentUser=p,p?yield y.assertedPersistence.setCurrentUser(p):yield y.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Bo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var y;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const k=yield null===(y=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();k&&(C["X-Firebase-Client"]=k);const F=yield p._getAppCheckToken();return F&&(C["X-Firebase-AppCheck"]=F),C})()}_getAppCheckToken(){var p=this;return(0,s.Z)(function*(){var y;const C=yield null===(y=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return C?.error&&function Fe(w,...p){Pe.logLevel<=ue.in.WARN&&Pe.warn(`Auth (${N.SDK_VERSION}): ${w}`,...p)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function wn(w){return(0,$.m9)(w)}class os{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,$.ne)(y=>this.observer=y)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ii(w,p,y){const C=wn(w);de(C._canInitEmulator,C,"emulator-config-failed"),de(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const k=!!y?.disableWarnings,F=nl(p),{host:ee,port:fe}=function vi(w){const p=nl(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!y)return{host:"",port:null};const C=y[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(C);if(k){const F=k[1];return{host:F,port:Wt(C.substr(F.length+1))}}{const[F,ee]=C.split(":");return{host:F,port:Wt(ee)}}}(p);C.config.emulator={url:`${F}//${ee}${null===fe?"":`:${fe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ee,port:fe,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function Ql(){function w(){const p=document.createElement("p"),y=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function nl(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function Wt(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class Gr{constructor(p,y){this.providerId=p,this.signInMethod=y}toJSON(){return rt("not implemented")}_getIdTokenResponse(p){return rt("not implemented")}_linkToIdToken(p,y){return rt("not implemented")}_getReauthenticationResolver(p){return rt("not implemented")}}function ha(w,p){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:resetPassword",oe(w,p))})).apply(this,arguments)}function Ci(w,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Br(){return(Br=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:update",oe(w,p))})).apply(this,arguments)}function Ms(w,p){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,s.Z)(function*(w,p){return mn(w,"POST","/v1/accounts:signInWithPassword",oe(w,p))})).apply(this,arguments)}function An(w,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:sendOobCode",oe(w,p))})).apply(this,arguments)}function il(){return(il=(0,s.Z)(function*(w,p){return An(w,p)})).apply(this,arguments)}function fa(w,p){return ss.apply(this,arguments)}function ss(){return(ss=(0,s.Z)(function*(w,p){return An(w,p)})).apply(this,arguments)}function qi(w,p){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,s.Z)(function*(w,p){return An(w,p)})).apply(this,arguments)}function yr(){return(yr=(0,s.Z)(function*(w,p){return An(w,p)})).apply(this,arguments)}function ks(){return(ks=(0,s.Z)(function*(w,p){return mn(w,"POST","/v1/accounts:signInWithEmailLink",oe(w,p))})).apply(this,arguments)}function rl(){return(rl=(0,s.Z)(function*(w,p){return mn(w,"POST","/v1/accounts:signInWithEmailLink",oe(w,p))})).apply(this,arguments)}class Ar extends Gr{constructor(p,y,C,k=null){super("password",C),this._email=p,this._password=y,this._tenantId=k}static _fromEmailAndPassword(p,y){return new Ar(p,y,"password")}static _fromEmailAndCode(p,y,C=null){return new Ar(p,y,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(p){var y=this;return(0,s.Z)(function*(){var C;switch(y.signInMethod){case"password":const k={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=p._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const F=yield Bi(p,k,"signInWithPassword");return Ms(p,F)}return Ms(p,k).catch(function(){var F=(0,s.Z)(function*(ee){if("auth/missing-recaptcha-token"===ee.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const fe=yield Bi(p,k,"signInWithPassword");return Ms(p,fe)}return Promise.reject(ee)});return function(ee){return F.apply(this,arguments)}}());case"emailLink":return function lo(w,p){return ks.apply(this,arguments)}(p,{email:y._email,oobCode:y._password});default:Se(p,"internal-error")}})()}_linkToIdToken(p,y){var C=this;return(0,s.Z)(function*(){switch(C.signInMethod){case"password":return Ci(p,{idToken:y,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Xl(w,p){return rl.apply(this,arguments)}(p,{idToken:y,email:C._email,oobCode:C._password});default:Se(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function as(w,p){return ol.apply(this,arguments)}function ol(){return(ol=(0,s.Z)(function*(w,p){return mn(w,"POST","/v1/accounts:signInWithIdp",oe(w,p))})).apply(this,arguments)}class Do extends Gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const y=new Do(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(y.idToken=p.idToken),p.accessToken&&(y.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(y.nonce=p.nonce),p.pendingToken&&(y.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(y.accessToken=p.oauthToken,y.secret=p.oauthTokenSecret):Se("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:k}=y,F=(0,ae._T)(y,["providerId","signInMethod"]);if(!C||!k)return null;const ee=new Do(C,k);return ee.idToken=F.idToken||void 0,ee.accessToken=F.accessToken||void 0,ee.secret=F.secret,ee.nonce=F.nonce,ee.pendingToken=F.pendingToken||null,ee}_getIdTokenResponse(p){return as(p,this.buildRequest())}_linkToIdToken(p,y){const C=this.buildRequest();return C.idToken=y,as(p,C)}_getReauthenticationResolver(p){const y=this.buildRequest();return y.autoCreate=!1,as(p,y)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),p.postBody=(0,$.xO)(y)}return p}}function Nu(){return(Nu=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:sendVerificationCode",oe(w,p))})).apply(this,arguments)}function Fu(){return(Fu=(0,s.Z)(function*(w,p){return mn(w,"POST","/v1/accounts:signInWithPhoneNumber",oe(w,p))})).apply(this,arguments)}function Lu(){return(Lu=(0,s.Z)(function*(w,p){const y=yield mn(w,"POST","/v1/accounts:signInWithPhoneNumber",oe(w,p));if(y.temporaryProof)throw yn(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Bu={USER_NOT_FOUND:"user-not-found"};function em(){return(em=(0,s.Z)(function*(w,p){return mn(w,"POST","/v1/accounts:signInWithPhoneNumber",oe(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Bu)})).apply(this,arguments)}class ls extends Gr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,y){return new ls({verificationId:p,verificationCode:y})}static _fromTokenResponse(p,y){return new ls({phoneNumber:p,temporaryProof:y})}_getIdTokenResponse(p){return function Jf(w,p){return Fu.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,y){return function mg(w,p){return Lu.apply(this,arguments)}(p,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Vu(w,p){return em.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:y,verificationId:C,verificationCode:k}=this.params;return p&&y?{temporaryProof:p,phoneNumber:y}:{sessionInfo:C,code:k}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:y,verificationCode:C,phoneNumber:k,temporaryProof:F}=p;return C||y||k||F?new ls({verificationId:y,verificationCode:C,phoneNumber:k,temporaryProof:F}):null}}class ma{constructor(p){var y,C,k,F,ee,fe;const qe=(0,$.zd)((0,$.pd)(p)),Je=null!==(y=qe.apiKey)&&void 0!==y?y:null,bt=null!==(C=qe.oobCode)&&void 0!==C?C:null,qt=function Mn(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=qe.mode)&&void 0!==k?k:null);de(Je&&bt&&qt,"argument-error"),this.apiKey=Je,this.operation=qt,this.code=bt,this.continueUrl=null!==(F=qe.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(ee=qe.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(fe=qe.tenantId)&&void 0!==fe?fe:null}static parseLink(p){const y=function tm(w){const p=(0,$.zd)((0,$.pd)(w)).link,y=p?(0,$.zd)((0,$.pd)(p)).deep_link_id:null,C=(0,$.zd)((0,$.pd)(w)).deep_link_id;return(C?(0,$.zd)((0,$.pd)(C)).link:null)||C||y||p||w}(p);try{return new ma(y)}catch{return null}}}let Uu=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,C){return Ar._fromEmailAndPassword(y,C)}static credentialWithLink(y,C){const k=ma.parseLink(C);return de(k,"argument-error"),Ar._fromEmailAndCode(y,k.code,k.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class cs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class pa extends cs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Uo extends pa{static credentialFromJSON(p){const y="string"==typeof p?JSON.parse(p):p;return de("providerId"in y&&"signInMethod"in y,"argument-error"),Do._fromParams(y)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return de(p.idToken||p.accessToken,"argument-error"),Do._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Uo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Uo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:y,oauthAccessToken:C,oauthTokenSecret:k,pendingToken:F,nonce:ee,providerId:fe}=p;if(!C&&!k&&!y&&!F||!fe)return null;try{return new Uo(fe)._credential({idToken:y,accessToken:C,nonce:ee,pendingToken:F})}catch{return null}}}let ju=(()=>{class w extends pa{constructor(){super("facebook.com")}static credential(y){return Do._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Hu=(()=>{class w extends pa{constructor(){super("google.com"),this.addScope("profile")}static credential(y,C){return Do._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:C})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:C,oauthAccessToken:k}=y;if(!C&&!k)return null;try{return w.credential(C,k)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Jl=(()=>{class w extends pa{constructor(){super("github.com")}static credential(y){return Do._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class ds extends Gr{constructor(p,y){super(p,p),this.pendingToken=y}_getIdTokenResponse(p){return as(p,this.buildRequest())}_linkToIdToken(p,y){const C=this.buildRequest();return C.idToken=y,as(p,C)}_getReauthenticationResolver(p){const y=this.buildRequest();return y.autoCreate=!1,as(p,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:k,pendingToken:F}=y;return C&&k&&F&&C===k?new ds(C,F):null}static _create(p,y){return new ds(p,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ec extends cs{constructor(p){de(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return ec.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return ec.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const y=ds.fromJSON(p);return de(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:y,providerId:C}=p;if(!y||!C)return null;try{return ds._create(C,y)}catch{return null}}}let zu=(()=>{class w extends pa{constructor(){super("twitter.com")}static credential(y,C){return Do._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:C})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:C,oauthTokenSecret:k}=y;if(!C||!k)return null;try{return w.credential(C,k)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function ga(w,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,s.Z)(function*(w,p){return mn(w,"POST","/v1/accounts:signUp",oe(w,p))})).apply(this,arguments)}class qn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,y,C,k=!1){return(0,s.Z)(function*(){const F=yield Wn._fromIdTokenResponse(p,C,k),ee=sl(C);return new qn({user:F,providerId:ee,_tokenResponse:C,operationType:y})})()}static _forOperation(p,y,C){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const k=sl(C);return new qn({user:p,providerId:k,_tokenResponse:C,operationType:y})})()}}function sl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function tc(w){return Di.apply(this,arguments)}function Di(){return(Di=(0,s.Z)(function*(w){var p;const y=wn(w);if(yield y._initializationPromise,null!==(p=y.currentUser)&&void 0!==p&&p.isAnonymous)return new qn({user:y.currentUser,providerId:null,operationType:"signIn"});const C=yield ga(y,{returnSecureToken:!0}),k=yield qn._fromIdTokenResponse(y,"signIn",C,!0);return yield y._updateCurrentUser(k.user),k})).apply(this,arguments)}class Os extends $.ZR{constructor(p,y,C,k){var F;super(y.code,y.message),this.operationType=C,this.user=k,Object.setPrototypeOf(this,Os.prototype),this.customData={appName:p.name,tenantId:null!==(F=p.tenantId)&&void 0!==F?F:void 0,_serverResponse:y.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,y,C,k){return new Os(p,y,C,k)}}function Ps(w,p,y,C){return("reauthenticate"===p?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Os._fromErrorAndOperation(w,F,p,C):F})}function Yi(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function rm(w,p){return nc.apply(this,arguments)}function nc(){return nc=(0,s.Z)(function*(w,p){const y=(0,$.m9)(w);yield al(!0,y,p);const{providerUserInfo:C}=yield function Gn(w,p){return yi.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[p]}),k=Yi(C||[]);return y.providerData=y.providerData.filter(F=>k.has(F.providerId)),k.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),nc.apply(this,arguments)}function vr(w,p){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,s.Z)(function*(w,p,y=!1){const C=yield Yt(w,p._linkToIdToken(w.auth,yield w.getIdToken()),y);return qn._forOperation(w,"link",C)})).apply(this,arguments)}function al(w,p,y){return us.apply(this,arguments)}function us(){return(us=(0,s.Z)(function*(w,p,y){yield ti(p);const k=!1===w?"provider-already-linked":"no-such-provider";de(Yi(p.providerData).has(y)===w,p.auth,k)})).apply(this,arguments)}function $u(w,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,s.Z)(function*(w,p,y=!1){const{auth:C}=w,k="reauthenticate";try{const F=yield Yt(w,Ps(C,k,p,w),y);de(F.idToken,C,"internal-error");const ee=mr(F.idToken);de(ee,C,"internal-error");const{sub:fe}=ee;return de(w.uid===fe,C,"user-mismatch"),qn._forOperation(w,k,F)}catch(F){throw"auth/user-not-found"===F?.code&&Se(C,"user-mismatch"),F}})).apply(this,arguments)}function ll(w,p){return _a.apply(this,arguments)}function _a(){return(_a=(0,s.Z)(function*(w,p,y=!1){const C="signIn",k=yield Ps(w,C,p),F=yield qn._fromIdTokenResponse(w,C,k);return y||(yield w._updateCurrentUser(F.user)),F})).apply(this,arguments)}function Ot(w,p){return ic.apply(this,arguments)}function ic(){return(ic=(0,s.Z)(function*(w,p){return ll(wn(w),p)})).apply(this,arguments)}function om(w,p){return hd.apply(this,arguments)}function hd(){return(hd=(0,s.Z)(function*(w,p){const y=(0,$.m9)(w);return yield al(!1,y,p.providerId),vr(y,p)})).apply(this,arguments)}function fd(w,p){return md.apply(this,arguments)}function md(){return(md=(0,s.Z)(function*(w,p){return $u((0,$.m9)(w),p)})).apply(this,arguments)}function Wu(){return(Wu=(0,s.Z)(function*(w,p){return mn(w,"POST","/v1/accounts:signInWithCustomToken",oe(w,p))})).apply(this,arguments)}function pg(w,p){return ye.apply(this,arguments)}function ye(){return ye=(0,s.Z)(function*(w,p){const y=wn(w),C=yield function Gu(w,p){return Wu.apply(this,arguments)}(y,{token:p,returnSecureToken:!0}),k=yield qn._fromIdTokenResponse(y,"signIn",C);return yield y._updateCurrentUser(k.user),k}),ye.apply(this,arguments)}class Ut{constructor(p,y){this.factorId=p,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(p,y){return"phoneInfo"in y?pd._fromServerResponse(p,y):"totpInfo"in y?cl._fromServerResponse(p,y):Se(p,"internal-error")}}class pd extends Ut{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,y){return new pd(y)}}class cl extends Ut{constructor(p){super("totp",p)}static _fromServerResponse(p,y){return new cl(y)}}function di(w,p,y){var C;de((null===(C=y.url)||void 0===C?void 0:C.length)>0,w,"invalid-continue-uri"),de(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=y.url,p.dynamicLinkDomain=y.dynamicLinkDomain,p.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(de(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=y.iOS.bundleId),y.android&&(de(y.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=y.android.installApp,p.androidMinimumVersionCode=y.android.minimumVersion,p.androidPackageName=y.android.packageName)}function qu(w,p,y){return ya.apply(this,arguments)}function ya(){return ya=(0,s.Z)(function*(w,p,y){var C;const k=wn(w),F={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=k._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ee=yield Bi(k,F,"getOobCode",!0);y&&di(k,ee,y),yield fa(k,ee)}else y&&di(k,F,y),yield fa(k,F).catch(function(){var ee=(0,s.Z)(function*(fe){if("auth/missing-recaptcha-token"!==fe.code)return Promise.reject(fe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const qe=yield Bi(k,F,"getOobCode",!0);y&&di(k,qe,y),yield fa(k,qe)}});return function(fe){return ee.apply(this,arguments)}}())}),ya.apply(this,arguments)}function qr(w,p,y){return rc.apply(this,arguments)}function rc(){return(rc=(0,s.Z)(function*(w,p,y){yield ha((0,$.m9)(w),{oobCode:p,newPassword:y})})).apply(this,arguments)}function Zu(w,p){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,s.Z)(function*(w,p){yield function As(w,p){return Br.apply(this,arguments)}((0,$.m9)(w),{oobCode:p})}),Yu.apply(this,arguments)}function hs(w,p){return va.apply(this,arguments)}function va(){return(va=(0,s.Z)(function*(w,p){const y=(0,$.m9)(w),C=yield ha(y,{oobCode:p}),k=C.requestType;switch(de(k,y,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(C.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(C.mfaInfo,y,"internal-error");default:de(C.email,y,"internal-error")}let F=null;return C.mfaInfo&&(F=Ut._fromServerResponse(wn(y),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:F},operation:k}})).apply(this,arguments)}function Ki(w,p){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,s.Z)(function*(w,p){const{data:y}=yield hs((0,$.m9)(w),p);return y.email})).apply(this,arguments)}function fs(w,p,y){return Ho.apply(this,arguments)}function Ho(){return Ho=(0,s.Z)(function*(w,p,y){var C;const k=wn(w),F={returnSecureToken:!0,email:p,password:y,clientType:"CLIENT_TYPE_WEB"};let ee;if(null!==(C=k._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Je=yield Bi(k,F,"signUpPassword");ee=ga(k,Je)}else ee=ga(k,F).catch(function(){var Je=(0,s.Z)(function*(bt){if("auth/missing-recaptcha-token"===bt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const qt=yield Bi(k,F,"signUpPassword");return ga(k,qt)}return Promise.reject(bt)});return function(bt){return Je.apply(this,arguments)}}());const fe=yield ee.catch(Je=>Promise.reject(Je)),qe=yield qn._fromIdTokenResponse(k,"signIn",fe);return yield k._updateCurrentUser(qe.user),qe}),Ho.apply(this,arguments)}function Io(w,p,y){return Ot((0,$.m9)(w),Uu.credential(p,y))}function Ku(w,p,y){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,s.Z)(function*(w,p,y){var C;const k=wn(w),F={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function ee(fe,qe){de(qe.handleCodeInApp,k,"argument-error"),qe&&di(k,fe,qe)}if(null!==(C=k._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const fe=yield Bi(k,F,"getOobCode",!0);ee(fe,y),yield qi(k,fe)}else ee(F,y),yield qi(k,F).catch(function(){var fe=(0,s.Z)(function*(qe){if("auth/missing-recaptcha-token"!==qe.code)return Promise.reject(qe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Je=yield Bi(k,F,"getOobCode",!0);ee(Je,y),yield qi(k,Je)}});return function(qe){return fe.apply(this,arguments)}}())}),Ns.apply(this,arguments)}function Qu(w,p){return"EMAIL_SIGNIN"===ma.parseLink(p)?.operation}function gg(w,p,y){return ui.apply(this,arguments)}function ui(){return(ui=(0,s.Z)(function*(w,p,y){const C=(0,$.m9)(w),k=Uu.credentialWithLink(p,y||ct());return de(k._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Ot(C,k)})).apply(this,arguments)}function dl(){return(dl=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:createAuthUri",oe(w,p))})).apply(this,arguments)}function Xu(w,p){return sc.apply(this,arguments)}function sc(){return sc=(0,s.Z)(function*(w,p){const C={identifier:p,continueUri:Zt()?ct():"http://localhost"},{signinMethods:k}=yield function oc(w,p){return dl.apply(this,arguments)}((0,$.m9)(w),C);return k||[]}),sc.apply(this,arguments)}function Ju(w,p){return ba.apply(this,arguments)}function ba(){return ba=(0,s.Z)(function*(w,p){const y=(0,$.m9)(w),k={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&di(y.auth,k,p);const{email:F}=yield function dd(w,p){return il.apply(this,arguments)}(y.auth,k);F!==w.email&&(yield w.reload())}),ba.apply(this,arguments)}function gd(w,p,y){return ul.apply(this,arguments)}function ul(){return ul=(0,s.Z)(function*(w,p,y){const C=(0,$.m9)(w),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};y&&di(C.auth,F,y);const{email:ee}=yield function Pu(w,p){return yr.apply(this,arguments)}(C.auth,F);ee!==w.email&&(yield w.reload())}),ul.apply(this,arguments)}function ac(){return(ac=(0,s.Z)(function*(w,p){return ke(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function eh(w,p){return yd.apply(this,arguments)}function yd(){return yd=(0,s.Z)(function*(w,{displayName:p,photoURL:y}){if(void 0===p&&void 0===y)return;const C=(0,$.m9)(w),F={idToken:yield C.getIdToken(),displayName:p,photoUrl:y,returnSecureToken:!0},ee=yield Yt(C,function _d(w,p){return ac.apply(this,arguments)}(C.auth,F));C.displayName=ee.displayName||null,C.photoURL=ee.photoUrl||null;const fe=C.providerData.find(({providerId:qe})=>"password"===qe);fe&&(fe.displayName=C.displayName,fe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ee)}),yd.apply(this,arguments)}function th(w,p){return To((0,$.m9)(w),p,null)}function or(w,p){return To((0,$.m9)(w),null,p)}function To(w,p,y){return jn.apply(this,arguments)}function jn(){return(jn=(0,s.Z)(function*(w,p,y){const{auth:C}=w,F={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(F.email=p),y&&(F.password=y);const ee=yield Yt(w,Ci(C,F));yield w._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class wa{constructor(p,y,C={}){this.isNewUser=p,this.providerId=y,this.profile=C}}class lc extends wa{constructor(p,y,C,k){super(p,y,C),this.username=k}}class _g extends wa{constructor(p,y){super(p,"facebook.com",y)}}class nh extends lc{constructor(p,y){super(p,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class yg extends wa{constructor(p,y){super(p,"google.com",y)}}class cc extends lc{constructor(p,y,C){super(p,"twitter.com",y,C)}}function bd(w){const{user:p,_tokenResponse:y}=w;return p.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function vd(w){var p,y;if(!w)return null;const{providerId:C}=w,k=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},F=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!C&&w?.idToken){const ee=null===(y=null===(p=mr(w.idToken))||void 0===p?void 0:p.firebase)||void 0===y?void 0:y.sign_in_provider;if(ee)return new wa(F,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!C)return null;switch(C){case"facebook.com":return new _g(F,k);case"github.com":return new nh(F,k);case"google.com":return new yg(F,k);case"twitter.com":return new cc(F,k,w.screenName||null);case"custom":case"anonymous":return new wa(F,null);default:return new wa(F,C,k)}}(y)}class $o{constructor(p,y,C){this.type=p,this.credential=y,this.auth=C}static _fromIdtoken(p,y){return new $o("enroll",p,y)}static _fromMfaPendingCredential(p){return new $o("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var y,C;if(p?.multiFactorSession){if(null!==(y=p.multiFactorSession)&&void 0!==y&&y.pendingCredential)return $o._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return $o._fromIdtoken(p.multiFactorSession.idToken)}return null}}class wd{constructor(p,y,C){this.session=p,this.hints=y,this.signInResolver=C}static _fromError(p,y){const C=wn(p),k=y.customData._serverResponse,F=(k.mfaInfo||[]).map(fe=>Ut._fromServerResponse(C,fe));de(k.mfaPendingCredential,C,"internal-error");const ee=$o._fromMfaPendingCredential(k.mfaPendingCredential);return new wd(ee,F,function(){var fe=(0,s.Z)(function*(qe){const Je=yield qe._process(C,ee);delete k.mfaInfo,delete k.mfaPendingCredential;const bt=Object.assign(Object.assign({},k),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(y.operationType){case"signIn":const qt=yield qn._fromIdTokenResponse(C,y.operationType,bt);return yield C._updateCurrentUser(qt.user),qt;case"reauthenticate":return de(y.user,C,"internal-error"),qn._forOperation(y.user,y.operationType,bt);default:Se(C,"internal-error")}});return function(qe){return fe.apply(this,arguments)}}())}resolveSignIn(p){var y=this;return(0,s.Z)(function*(){return y.signInResolver(p)})()}}function fl(w,p){var y;const C=(0,$.m9)(w),k=p;return de(p.customData.operationType,C,"argument-error"),de(null===(y=k.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,C,"argument-error"),wd._fromError(C,k)}class Ea{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(C=>Ut._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Ea(p)}getSession(){var p=this;return(0,s.Z)(function*(){return $o._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,y){var C=this;return(0,s.Z)(function*(){const k=p,F=yield C.getSession(),ee=yield Yt(C.user,k._process(C.user.auth,F,y));return yield C.user._updateTokensIfNecessary(ee),C.user.reload()})()}unenroll(p){var y=this;return(0,s.Z)(function*(){const C="string"==typeof p?p:p.uid,k=yield y.user.getIdToken();try{const F=yield Yt(y.user,function Fs(w,p){return ke(w,"POST","/v2/accounts/mfaEnrollment:withdraw",oe(w,p))}(y.user.auth,{idToken:k,mfaEnrollmentId:C}));y.enrolledFactors=y.enrolledFactors.filter(({uid:ee})=>ee!==C),yield y.user._updateTokensIfNecessary(F),yield y.user.reload()}catch(F){throw F}})()}}const Ls=new WeakMap;function Da(w){const p=(0,$.m9)(w);return Ls.has(p)||Ls.set(p,Ea._fromUser(p)),Ls.get(p)}const ml="__sak";class pl{constructor(p,y){this.storageRetriever=p,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(ml,"1"),this.storage.removeItem(ml),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,y){return this.storage.setItem(p,JSON.stringify(y)),Promise.resolve()}_get(p){const y=this.storage.getItem(p);return Promise.resolve(y?JSON.parse(y):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const fc=(()=>{class w extends pl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,C)=>this.onStorageEvent(y,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xd(){const w=(0,$.z$)();return V(w)||It(w)}()&&function Fi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=$t(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const C of Object.keys(this.listeners)){const k=this.storage.getItem(C),F=this.localCache[C];k!==F&&y(C,F,k)}}onStorageEvent(y,C=!1){if(!y.key)return void this.forAllChangedKeys((fe,qe,Je)=>{this.notifyListeners(fe,Je)});const k=y.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(k);if(y.newValue!==fe)null!==y.newValue?this.storage.setItem(k,y.newValue):this.storage.removeItem(k);else if(this.localCache[k]===y.newValue&&!C)return}const F=()=>{const fe=this.storage.getItem(k);!C&&this.localCache[k]===fe||this.notifyListeners(k,fe)},ee=this.storage.getItem(k);!function Rn(){return(0,$.w1)()&&10===document.documentMode}()||ee===y.newValue||y.newValue===y.oldValue?F():setTimeout(F,10)}notifyListeners(y,C){this.localCache[y]=C;const k=this.listeners[y];if(k)for(const F of Array.from(k))F(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,C,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:C,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,C){var k=()=>super._set,F=this;return(0,s.Z)(function*(){yield k().call(F,y,C),F.localCache[y]=JSON.stringify(C)})()}_get(y){var C=()=>super._get,k=this;return(0,s.Z)(function*(){const F=yield C().call(k,y);return k.localCache[y]=JSON.stringify(F),F})()}_remove(y){var C=()=>super._remove,k=this;return(0,s.Z)(function*(){yield C().call(k,y),delete k.localCache[y]})()}}return w.type="LOCAL",w})(),br=(()=>{class w extends pl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,C){}_removeListener(y,C){}}return w.type="SESSION",w})();let Dd=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const C=this.receivers.find(F=>F.isListeningto(y));if(C)return C;const k=new w(y);return this.receivers.push(k),k}isListeningto(y){return this.eventTarget===y}handleEvent(y){var C=this;return(0,s.Z)(function*(){const k=y,{eventId:F,eventType:ee,data:fe}=k.data,qe=C.handlersMap[ee];if(!qe?.size)return;k.ports[0].postMessage({status:"ack",eventId:F,eventType:ee});const Je=Array.from(qe).map(function(){var qt=(0,s.Z)(function*(Or){return Or(k.origin,fe)});return function(Or){return qt.apply(this,arguments)}}()),bt=yield function ah(w){return Promise.all(w.map(function(){var p=(0,s.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(C){return{fulfilled:!1,reason:C}}});return function(y){return p.apply(this,arguments)}}()))}(Je);k.ports[0].postMessage({status:"done",eventId:F,eventType:ee,response:bt})})()}_subscribe(y,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(C)}_unsubscribe(y,C){this.handlersMap[y]&&C&&this.handlersMap[y].delete(C),(!C||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function So(w="",p=10){let y="";for(let C=0;C<p;C++)y+=Math.floor(10*Math.random());return w+y}class lh{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,y,C=50){var k=this;return(0,s.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let ee,fe;return new Promise((qe,Je)=>{const bt=So("",20);F.port1.start();const qt=setTimeout(()=>{Je(new Error("unsupported_event"))},C);fe={messageChannel:F,onMessage(Or){const ws=Or;if(ws.data.eventId===bt)switch(ws.data.status){case"ack":clearTimeout(qt),ee=setTimeout(()=>{Je(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),qe(ws.data.response);break;default:clearTimeout(qt),clearTimeout(ee),Je(new Error("invalid_response"))}}},k.handlers.add(fe),F.port1.addEventListener("message",fe.onMessage),k.target.postMessage({eventType:p,eventId:bt,data:y},[F.port2])}).finally(()=>{fe&&k.removeMessageHandler(fe)})})()}}function hi(){return window}function mc(){return typeof hi().WorkerGlobalScope<"u"&&"function"==typeof hi().importScripts}function _l(){return(_l=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ii="firebaseLocalStorageDb",Ia=1,Zn="firebaseLocalStorage",lm="fbase_key";class gs{constructor(p){this.request=p}toPromise(){return new Promise((p,y)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function gc(w,p){return w.transaction([Zn],p?"readwrite":"readonly").objectStore(Zn)}function Id(){const w=indexedDB.open(Ii,Ia);return new Promise((p,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const C=w.result;try{C.createObjectStore(Zn,{keyPath:lm})}catch(k){y(k)}}),w.addEventListener("success",(0,s.Z)(function*(){const C=w.result;C.objectStoreNames.contains(Zn)?p(C):(C.close(),yield function Ta(){const w=indexedDB.deleteDatabase(Ii);return new gs(w).toPromise()}(),p(yield Id()))}))})}function Td(w,p,y){return _s.apply(this,arguments)}function _s(){return(_s=(0,s.Z)(function*(w,p,y){const C=gc(w,!0).put({[lm]:p,value:y});return new gs(C).toPromise()})).apply(this,arguments)}function Bs(){return(Bs=(0,s.Z)(function*(w,p){const y=gc(w,!1).get(p),C=yield new gs(y).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function yl(w,p){const y=gc(w,!0).delete(p);return new gs(y).toPromise()}const Sd=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,s.Z)(function*(){return y.db||(y.db=yield Id()),y.db})()}_withRetries(y){var C=this;return(0,s.Z)(function*(){let k=0;for(;;)try{const F=yield C._openDb();return yield y(F)}catch(F){if(k++>3)throw F;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,s.Z)(function*(){return mc()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,s.Z)(function*(){y.receiver=Dd._getInstance(function pc(){return mc()?self:null}()),y.receiver._subscribe("keyChanged",function(){var C=(0,s.Z)(function*(k,F){return{keyProcessed:(yield y._poll()).includes(F.key)}});return function(k,F){return C.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var C=(0,s.Z)(function*(k,F){return["keyChanged"]});return function(k,F){return C.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,s.Z)(function*(){var C,k;if(y.activeServiceWorker=yield function ch(){return _l.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new lh(y.activeServiceWorker);const F=yield y.sender._send("ping",{},800);F&&null!==(C=F[0])&&void 0!==C&&C.fulfilled&&null!==(k=F[0])&&void 0!==k&&k.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var C=this;return(0,s.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function dh(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:y},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Id();return yield Td(y,ml,"1"),yield yl(y,ml),!0}catch{}return!1})()}_withPendingWrite(y){var C=this;return(0,s.Z)(function*(){C.pendingWrites++;try{yield y()}finally{C.pendingWrites--}})()}_set(y,C){var k=this;return(0,s.Z)(function*(){return k._withPendingWrite((0,s.Z)(function*(){return yield k._withRetries(F=>Td(F,y,C)),k.localCache[y]=C,k.notifyServiceWorker(y)}))})()}_get(y){var C=this;return(0,s.Z)(function*(){const k=yield C._withRetries(F=>function cm(w,p){return Bs.apply(this,arguments)}(F,y));return C.localCache[y]=k,k})()}_remove(y){var C=this;return(0,s.Z)(function*(){return C._withPendingWrite((0,s.Z)(function*(){return yield C._withRetries(k=>yl(k,y)),delete C.localCache[y],C.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,s.Z)(function*(){const C=yield y._withRetries(ee=>{const fe=gc(ee,!1).getAll();return new gs(fe).toPromise()});if(!C)return[];if(0!==y.pendingWrites)return[];const k=[],F=new Set;for(const{fbase_key:ee,value:fe}of C)F.add(ee),JSON.stringify(y.localCache[ee])!==JSON.stringify(fe)&&(y.notifyListeners(ee,fe),k.push(ee));for(const ee of Object.keys(y.localCache))y.localCache[ee]&&!F.has(ee)&&(y.notifyListeners(ee,null),k.push(ee));return k})()}notifyListeners(y,C){this.localCache[y]=C;const k=this.listeners[y];if(k)for(const F of Array.from(k))F(C)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),Ad=1e12;class fh{constructor(p){this.auth=p,this.counter=Ad,this._widgets=new Map}render(p,y){const C=this.counter;return this._widgets.set(C,new Md(p,this.auth.name,y||{})),this.counter++,C}reset(p){var y;const C=p||Ad;null===(y=this._widgets.get(C))||void 0===y||y.delete(),this._widgets.delete(C)}getResponse(p){var y;return(null===(y=this._widgets.get(p||Ad))||void 0===y?void 0:y.getResponse())||""}execute(p){var y=this;return(0,s.Z)(function*(){var C;return null===(C=y._widgets.get(p||Ad))||void 0===C||C.execute(),""})()}}class Md{constructor(p,y,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof p?document.getElementById(p):p;de(k,"argument-error",{appName:y}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function kd(w){const p=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<w;C++)p.push(y.charAt(Math.floor(Math.random()*y.length)));return p.join("")}(50);const{callback:p,"expired-callback":y}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const um=rr("rcb"),Wy=new Tr(3e4,6e4);class Hs{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=hi().grecaptcha)||void 0===p||!p.render)}load(p,y=""){return de(function Zy(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),p,"argument-error"),this.shouldResolveImmediately(y)&&Mt(hi().grecaptcha)?Promise.resolve(hi().grecaptcha):new Promise((C,k)=>{const F=hi().setTimeout(()=>{k(Te(p,"network-request-failed"))},Wy.get());hi()[um]=()=>{hi().clearTimeout(F),delete hi()[um];const fe=hi().grecaptcha;if(!fe||!Mt(fe))return void k(Te(p,"internal-error"));const qe=fe.render;fe.render=(Je,bt)=>{const qt=qe(Je,bt);return this.counter++,qt},this.hostLanguage=y,C(fe)},dn(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:um,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(F),k(Te(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var y;return!(null===(y=hi().grecaptcha)||void 0===y||!y.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class hm{load(p){return(0,s.Z)(function*(){return new fh(p)})()}clearedOneInstance(){}}const Ti="recaptcha",yc={theme:"light",type:"image"};class vc{constructor(p,y=Object.assign({},yc),C){this.parameters=y,this.type=Ti,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wn(C),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof p?document.getElementById(p):p;de(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hm:new Hs,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const y=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(y)||new Promise(F=>{const ee=fe=>{fe&&(p.tokenChangeListeners.delete(ee),F(fe))};p.tokenChangeListeners.add(ee),p.isInvisible&&C.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return y=>{if(this.tokenChangeListeners.forEach(C=>C(y)),"function"==typeof p)p(y);else if("string"==typeof p){const C=hi()[p];"function"==typeof C&&C(y)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let y=p.container;if(!p.isInvisible){const C=document.createElement("div");y.appendChild(C),y=C}p.widgetId=p.getAssertedRecaptcha().render(y,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){de(Zt()&&!mc(),p.auth,"internal-error"),yield function Rd(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const y=yield function _e(w){return le.apply(this,arguments)}(p.auth);de(y,p.auth,"internal-error"),p.parameters.sitekey=y})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vr{constructor(p,y){this.verificationId=p,this.onConfirmation=y}confirm(p){const y=ls._fromVerification(this.verificationId,p);return this.onConfirmation(y)}}function ys(w,p,y){return Od.apply(this,arguments)}function Od(){return(Od=(0,s.Z)(function*(w,p,y){const C=wn(w),k=yield bl(C,p,(0,$.m9)(y));return new Vr(k,F=>Ot(C,F))})).apply(this,arguments)}function vl(w,p,y){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,s.Z)(function*(w,p,y){const C=(0,$.m9)(w);yield al(!1,C,"phone");const k=yield bl(C.auth,p,(0,$.m9)(y));return new Vr(k,F=>om(C,F))})).apply(this,arguments)}function mh(w,p,y){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,s.Z)(function*(w,p,y){const C=(0,$.m9)(w),k=yield bl(C.auth,p,(0,$.m9)(y));return new Vr(k,F=>fd(C,F))})).apply(this,arguments)}function bl(w,p,y){return bc.apply(this,arguments)}function bc(){return bc=(0,s.Z)(function*(w,p,y){var C;const k=yield y.verify();try{let F;if(de("string"==typeof k,w,"argument-error"),de(y.type===Ti,w,"argument-error"),F="string"==typeof p?{phoneNumber:p}:p,"session"in F){const ee=F.session;if("phoneNumber"in F)return de("enroll"===ee.type,w,"internal-error"),(yield function hc(w,p){return ke(w,"POST","/v2/accounts/mfaEnrollment:start",oe(w,p))}(w,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{de("signin"===ee.type,w,"internal-error");const fe=(null===(C=F.multiFactorHint)||void 0===C?void 0:C.uid)||F.multiFactorUid;return de(fe,w,"missing-multi-factor-info"),(yield function uh(w,p){return ke(w,"POST","/v2/accounts/mfaSignIn:start",oe(w,p))}(w,{mfaPendingCredential:ee.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield function fg(w,p){return Nu.apply(this,arguments)}(w,{phoneNumber:F.phoneNumber,recaptchaToken:k});return ee}}finally{y._reset()}}),bc.apply(this,arguments)}function Zr(w,p){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,s.Z)(function*(w,p){yield vr((0,$.m9)(w),p)})).apply(this,arguments)}let on=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=wn(y)}verifyPhoneNumber(y,C){return bl(this.auth,y,(0,$.m9)(C))}static credential(y,C){return ls._fromVerification(y,C)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:C,temporaryProof:k}=y;return C&&k?ls._fromTokenResponse(C,k):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Ke(w,p){return p?ci(p):(de(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class fi extends Gr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return as(p,this._buildIdpRequest())}_linkToIdToken(p,y){return as(p,this._buildIdpRequest(y))}_getReauthenticationResolver(p){return as(p,this._buildIdpRequest())}_buildIdpRequest(p){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(y.idToken=p),y}}function Fn(w){return ll(w.auth,new fi(w),w.bypassAuthState)}function Ur(w){const{auth:p,user:y}=w;return de(y,p,"internal-error"),$u(y,new fi(w),w.bypassAuthState)}function Go(w){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,s.Z)(function*(w){const{auth:p,user:y}=w;return de(y,p,"internal-error"),vr(y,new fi(w),w.bypassAuthState)})).apply(this,arguments)}class ri{constructor(p,y,C,k,F=!1){this.auth=p,this.resolver=C,this.user=k,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var p=this;return new Promise(function(){var y=(0,s.Z)(function*(C,k){p.pendingPromise={resolve:C,reject:k};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(F){p.reject(F)}});return function(C,k){return y.apply(this,arguments)}}())}onAuthEvent(p){var y=this;return(0,s.Z)(function*(){const{urlResponse:C,sessionId:k,postBody:F,tenantId:ee,error:fe,type:qe}=p;if(fe)return void y.reject(fe);const Je={auth:y.auth,requestUri:C,sessionId:k,tenantId:ee||void 0,postBody:F||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(qe)(Je))}catch(bt){y.reject(bt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Fn;case"linkViaPopup":case"linkViaRedirect":return Go;case"reauthViaPopup":case"reauthViaRedirect":return Ur;default:Se(this.auth,"internal-error")}}resolve(p){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xn=new Tr(2e3,1e4);function ze(w,p,y){return co.apply(this,arguments)}function co(){return(co=(0,s.Z)(function*(w,p,y){const C=wn(w);Ge(w,p,cs);const k=Ke(C,y);return new Pd(C,"signInViaPopup",p,k).executeNotNull()})).apply(this,arguments)}function wl(w,p,y){return wr.apply(this,arguments)}function wr(){return(wr=(0,s.Z)(function*(w,p,y){const C=(0,$.m9)(w);Ge(C.auth,p,cs);const k=Ke(C.auth,y);return new Pd(C.auth,"reauthViaPopup",p,k,C).executeNotNull()})).apply(this,arguments)}function fm(w,p,y){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,s.Z)(function*(w,p,y){const C=(0,$.m9)(w);Ge(C.auth,p,cs);const k=Ke(C.auth,y);return new Pd(C.auth,"linkViaPopup",p,k,C).executeNotNull()})).apply(this,arguments)}let Pd=(()=>{class w extends ri{constructor(y,C,k,F,ee){super(y,C,F,ee),this.provider=k,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,s.Z)(function*(){const C=yield y.execute();return de(C,y.auth,"internal-error"),C})()}onExecution(){var y=this;return(0,s.Z)(function*(){St(1===y.filter.length,"Popup operations only handle one event");const C=So();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],C),y.authWindow.associatedEvent=C,y.resolver._originValidation(y.auth).catch(k=>{y.reject(k)}),y.resolver._isIframeWebStorageSupported(y.auth,k=>{k||y.reject(Te(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var C,k;this.pollId=null!==(k=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,xn.get())};y()}}return w.currentPopupAction=null,w})();const ph="pendingRedirect",uo=new Map;class wc extends ri{constructor(p,y,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,y=this;return(0,s.Z)(function*(){let C=uo.get(y.auth._key());if(!C){try{const F=(yield function xc(w,p){return Kr.apply(this,arguments)}(y.resolver,y.auth))?yield p().call(y):null;C=()=>Promise.resolve(F)}catch(k){C=()=>Promise.reject(k)}uo.set(y.auth._key(),C)}return y.bypassAuthState||uo.set(y.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var y=()=>super.onAuthEvent,C=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return y().call(C,p);if("unknown"!==p.type){if(p.eventId){const k=yield C.auth._redirectUserForId(p.eventId);if(k)return C.user=k,y().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Kr(){return(Kr=(0,s.Z)(function*(w,p){const y=Nd(p),C=_h(w);if(!(yield C._isAvailable()))return!1;const k="true"===(yield C._get(y));return yield C._remove(y),k})).apply(this,arguments)}function mm(w,p){return zs.apply(this,arguments)}function zs(){return(zs=(0,s.Z)(function*(w,p){return _h(w)._set(Nd(p),"true")})).apply(this,arguments)}function Cc(){uo.clear()}function gh(w,p){uo.set(w._key(),p)}function _h(w){return ci(w._redirectPersistence)}function Nd(w){return _r(ph,w.config.apiKey,w.name)}function yh(w,p,y){return function xl(w,p,y){return oi.apply(this,arguments)}(w,p,y)}function oi(){return(oi=(0,s.Z)(function*(w,p,y){const C=wn(w);Ge(w,p,cs),yield C._initializationPromise;const k=Ke(C,y);return yield mm(k,C),k._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Fd(w,p,y){return function Ld(w,p,y){return Wo.apply(this,arguments)}(w,p,y)}function Wo(){return(Wo=(0,s.Z)(function*(w,p,y){const C=(0,$.m9)(w);Ge(C.auth,p,cs),yield C.auth._initializationPromise;const k=Ke(C.auth,y);yield mm(k,C.auth);const F=yield $s(C);return k._openRedirect(C.auth,p,"reauthViaRedirect",F)})).apply(this,arguments)}function Bd(w,p,y){return function Vd(w,p,y){return Cl.apply(this,arguments)}(w,p,y)}function Cl(){return(Cl=(0,s.Z)(function*(w,p,y){const C=(0,$.m9)(w);Ge(C.auth,p,cs),yield C.auth._initializationPromise;const k=Ke(C.auth,y);yield al(!1,C,p.providerId),yield mm(k,C.auth);const F=yield $s(C);return k._openRedirect(C.auth,p,"linkViaRedirect",F)})).apply(this,arguments)}function pm(w,p){return El.apply(this,arguments)}function El(){return(El=(0,s.Z)(function*(w,p){return yield wn(w)._initializationPromise,vh(w,p,!1)})).apply(this,arguments)}function vh(w,p){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,s.Z)(function*(w,p,y=!1){const C=wn(w),k=Ke(C,p),ee=yield new wc(C,k,y).execute();return ee&&!y&&(delete ee.user._redirectEventId,yield C._persistUserIfCurrent(ee.user),yield C._setRedirectUser(null,p)),ee})).apply(this,arguments)}function $s(w){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,s.Z)(function*(w){const p=So(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class bh{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let y=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(y=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function gm(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wh(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=p,y=!0)),y}sendToConsumer(p,y){var C;if(p.error&&!wh(p)){const k=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";y.onError(Te(this.auth,k))}else y.onAuthEvent(p)}isEventForConsumer(p,y){const C=null===y.eventId||!!p.eventId&&p.eventId===y.eventId;return y.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Il(p))}saveEventToCache(p){this.cachedEventUids.add(Il(p)),this.lastProcessedEventTime=Date.now()}}function Il(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function wh({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===p?.code}function xh(w){return jd.apply(this,arguments)}function jd(){return(jd=(0,s.Z)(function*(w,p={}){return ke(w,"GET","/v1/projects",p)})).apply(this,arguments)}const Yy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bg=/^https?/;function Tl(){return(Tl=(0,s.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield xh(w);for(const y of p)try{if(_m(y))return}catch{}Se(w,"unauthorized-domain")})).apply(this,arguments)}function _m(w){const p=ct(),{protocol:y,hostname:C}=new URL(p);if(w.startsWith("chrome-extension://")){const ee=new URL(w);return""===ee.hostname&&""===C?"chrome-extension:"===y&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===y&&ee.hostname===C}if(!bg.test(y))return!1;if(Yy.test(w))return C===w;const k=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(C)}const Gs=new Tr(3e4,6e4);function Dc(){const w=hi().___jsl;if(w?.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let ka=null;const Eh=new Tr(5e3,15e3),vs="__/auth/iframe",Hd="emulator/auth/iframe",ym={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vm(w){const p=w.config;de(p.authDomain,w,"auth-domain-config-required");const y=p.emulator?Co(p,Hd):`https://${w.config.authDomain}/${vs}`,C={apiKey:p.apiKey,appName:w.name,v:N.SDK_VERSION},k=Dh.get(w.config.apiHost);k&&(C.eid=k);const F=w._getFrameworks();return F.length&&(C.fw=F.join(",")),`${y}?${(0,$.xO)(C).slice(1)}`}function Kn(){return Kn=(0,s.Z)(function*(w){const p=yield function Ws(w){return ka=ka||function ho(w){return new Promise((p,y)=>{var C,k,F;function ee(){Dc(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Dc(),y(Te(w,"network-request-failed"))},timeout:Gs.get()})}if(null!==(k=null===(C=hi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==k&&k.Iframe)p(gapi.iframes.getContext());else{if(null===(F=hi().gapi)||void 0===F||!F.load){const fe=rr("iframefcb");return hi()[fe]=()=>{gapi.load?ee():y(Te(w,"network-request-failed"))},dn(`https://apis.google.com/js/api.js?onload=${fe}`).catch(qe=>y(qe))}ee()}}).catch(p=>{throw ka=null,p})}(w),ka}(w),y=hi().gapi;return de(y,w,"internal-error"),p.open({where:document.body,url:vm(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ym,dontclear:!0},C=>new Promise(function(){var k=(0,s.Z)(function*(F,ee){yield C.restyle({setHideOnLeave:!1});const fe=Te(w,"network-request-failed"),qe=hi().setTimeout(()=>{ee(fe)},Eh.get());function Je(){hi().clearTimeout(qe),F(C)}C.ping(Je).then(Je,()=>{ee(fe)})});return function(F,ee){return k.apply(this,arguments)}}()))}),Kn.apply(this,arguments)}const x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D=500,M=600,j="_blank",Y="http://localhost";class J{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ze="__/auth/handler",yt="emulator/auth/handler",Pt=encodeURIComponent("fac");function Bt(w,p,y,C,k,F){return kr.apply(this,arguments)}function kr(){return(kr=(0,s.Z)(function*(w,p,y,C,k,F){de(w.config.authDomain,w,"auth-domain-config-required"),de(w.config.apiKey,w,"invalid-api-key");const ee={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:C,v:N.SDK_VERSION,eventId:k};if(p instanceof cs){p.setDefaultLanguage(w.languageCode),ee.providerId=p.providerId||"",(0,$.xb)(p.getCustomParameters())||(ee.customParameters=JSON.stringify(p.getCustomParameters()));for(const[bt,qt]of Object.entries(F||{}))ee[bt]=qt}if(p instanceof pa){const bt=p.getScopes().filter(qt=>""!==qt);bt.length>0&&(ee.scopes=bt.join(","))}w.tenantId&&(ee.tid=w.tenantId);const fe=ee;for(const bt of Object.keys(fe))void 0===fe[bt]&&delete fe[bt];const qe=yield w._getAppCheckToken(),Je=qe?`#${Pt}=${encodeURIComponent(qe)}`:"";return`${function Qi({config:w}){return w.emulator?Co(w,yt):`https://${w.authDomain}/${Ze}`}(w)}?${(0,$.xO)(fe).slice(1)}${Je}`})).apply(this,arguments)}const qs="webStorageSupport",Ra=class zd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=br,this._completeRedirectFn=vh,this._overrideRedirectResult=gh}_openPopup(p,y,C,k){var F=this;return(0,s.Z)(function*(){var ee;St(null===(ee=F.eventManagers[p._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const fe=yield Bt(p,y,C,ct(),k);return function pe(w,p,y,C=D,k=M){const F=Math.max((window.screen.availHeight-k)/2,0).toString(),ee=Math.max((window.screen.availWidth-C)/2,0).toString();let fe="";const qe=Object.assign(Object.assign({},x),{width:C.toString(),height:k.toString(),top:F,left:ee}),Je=(0,$.z$)().toLowerCase();y&&(fe=P(Je)?j:y),L(Je)&&(p=p||Y,qe.scrollbars="yes");const bt=Object.entries(qe).reduce((Or,[ws,Gd])=>`${Or}${ws}=${Gd},`,"");if(function kt(w=(0,$.z$)()){var p;return It(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Je)&&"_self"!==fe)return function Xe(w,p){const y=document.createElement("a");y.href=w,y.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(C)}(p||"",fe),new J(null);const qt=window.open(p||"",fe,bt);de(qt,w,"popup-blocked");try{qt.focus()}catch{}return new J(qt)}(p,fe,So())})()}_openRedirect(p,y,C,k){var F=this;return(0,s.Z)(function*(){return yield F._originValidation(p),function ps(w){hi().location.href=w}(yield Bt(p,y,C,ct(),k)),new Promise(()=>{})})()}_initialize(p){const y=p._key();if(this.eventManagers[y]){const{manager:k,promise:F}=this.eventManagers[y];return k?Promise.resolve(k):(St(F,"If manager is not set, promise should be"),F)}const C=this.initAndGetManager(p);return this.eventManagers[y]={promise:C},C.catch(()=>{delete this.eventManagers[y]}),C}initAndGetManager(p){var y=this;return(0,s.Z)(function*(){const C=yield function bm(w){return Kn.apply(this,arguments)}(p),k=new bh(p);return C.register("authEvent",F=>(de(F?.authEvent,p,"invalid-auth-event"),{status:k.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[p._key()]={manager:k},y.iframes[p._key()]=C,k})()}_isIframeWebStorageSupported(p,y){this.iframes[p._key()].send(qs,{type:qs},k=>{var F;const ee=null===(F=k?.[0])||void 0===F?void 0:F[qs];void 0!==ee&&y(!!ee),Se(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const y=p._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Ch(w){return Tl.apply(this,arguments)}(p)),this.originValidationPromises[y]}get _shouldInitProactively(){return $t()||V()||It()}};class Rr{constructor(p){this.factorId=p}_process(p,y,C){switch(y.type){case"enroll":return this._finalizeEnroll(p,y.credential,C);case"signin":return this._finalizeSignIn(p,y.credential);default:return rt("unexpected MultiFactorSessionType")}}}class Qr extends Rr{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Qr(p)}_finalizeEnroll(p,y,C){return function Ca(w,p){return ke(w,"POST","/v2/accounts/mfaEnrollment:finalize",oe(w,p))}(p,{idToken:y,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,y){return function js(w,p){return ke(w,"POST","/v2/accounts/mfaSignIn:finalize",oe(w,p))}(p,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bs=(()=>{class w{constructor(){}static assertion(y){return Qr._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var $d="@firebase/auth";class Ao{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var y=this;return(0,s.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const y=this.auth.onIdTokenChanged(C=>{p(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,y),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const y=this.internalListeners.get(p);y&&(this.internalListeners.delete(p),y(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xm=(0,$.Pz)("authIdTokenMaxAge")||300;let Cg=null;const Ky=w=>function(){var p=(0,s.Z)(function*(y){const C=y&&(yield y.getIdTokenResult()),k=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(k&&k>xm)return;const F=C?.token;Cg!==F&&(Cg=F,yield fetch(w,{method:F?"POST":"DELETE",headers:F?{Authorization:`Bearer ${F}`}:{}}))});return function(y){return p.apply(this,arguments)}}();function Oa(w=(0,N.getApp)()){const p=(0,N._getProvider)(w,"auth");if(p.isInitialized())return p.getImmediate();const y=function Vi(w,p){const y=(0,N._getProvider)(w,"auth");if(y.isInitialized()){const k=y.getImmediate(),F=y.getOptions();if((0,$.vZ)(F,p??{}))return k;Se(k,"already-initialized")}return y.initialize({options:p})}(w,{popupRedirectResolver:Ra,persistence:[Sd,fc,br]}),C=(0,$.Pz)("authTokenSyncURL");if(C){const F=Ky(C);(function xa(w,p,y){(0,$.m9)(w).beforeAuthStateChanged(p,y)})(y,F,()=>F(y.currentUser)),function dc(w,p,y,C){(0,$.m9)(w).onIdTokenChanged(p,y,C)}(y,ee=>F(ee))}const k=(0,$.q4)("auth");return k&&ii(y,`http://${k}`),y}!function wg(w){(0,N._registerComponent)(new ne.wA("auth",(p,{options:y})=>{const C=p.getProvider("app").getImmediate(),k=p.getProvider("heartbeat"),F=p.getProvider("app-check-internal"),{apiKey:ee,authDomain:fe}=C.options;de(ee&&!ee.includes(":"),"invalid-api-key",{appName:C.name});const qe={apiKey:ee,authDomain:fe,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bo(w)},Je=new Un(C,k,F,qe);return function ao(w,p){const y=p?.persistence||[],C=(Array.isArray(y)?y:[y]).map(ci);p?.errorMap&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(C,p?.popupRedirectResolver)}(Je,y),Je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,y,C)=>{p.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new ne.wA("auth-internal",p=>{const y=wn(p.getProvider("auth").getImmediate());return new Ao(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)($d,"0.23.2",function fo(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,N.registerVersion)($d,"0.23.2","esm2017")}("Browser")},2090:(wt,Ae,U)=>{U.d(Ae,{$s:()=>ci,BH:()=>Ne,DV:()=>yi,G6:()=>Co,GJ:()=>Vn,L:()=>xe,LL:()=>je,P0:()=>Ue,Pz:()=>Te,Sg:()=>Ge,UG:()=>rt,UI:()=>Jn,US:()=>ne,Wl:()=>Et,Yr:()=>Tr,ZB:()=>te,ZR:()=>ke,aH:()=>Se,b$:()=>Zt,cI:()=>mn,dS:()=>Lr,eu:()=>ge,g5:()=>N,gK:()=>pr,gQ:()=>pn,h$:()=>be,hl:()=>he,hu:()=>$,jU:()=>St,m9:()=>_r,ne:()=>Yt,p$:()=>q,pd:()=>mr,q4:()=>Fe,r3:()=>Gn,ru:()=>ct,tV:()=>Z,uI:()=>de,ug:()=>en,vZ:()=>_t,w1:()=>Lo,w9:()=>_i,xO:()=>si,xb:()=>Fr,z$:()=>Be,zI:()=>ve,zd:()=>nr});const s={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},$=function(W,G){if(!W)throw N(G)},N=function(W){return new Error("Firebase Database ("+s.SDK_VERSION+") INTERNAL ASSERT FAILED: "+W)},ae=function(W){const G=[];let L=0;for(let V=0;V<W.length;V++){let P=W.charCodeAt(V);P<128?G[L++]=P:P<2048?(G[L++]=P>>6|192,G[L++]=63&P|128):55296==(64512&P)&&V+1<W.length&&56320==(64512&W.charCodeAt(V+1))?(P=65536+((1023&P)<<10)+(1023&W.charCodeAt(++V)),G[L++]=P>>18|240,G[L++]=P>>12&63|128,G[L++]=P>>6&63|128,G[L++]=63&P|128):(G[L++]=P>>12|224,G[L++]=P>>6&63|128,G[L++]=63&P|128)}return G},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,G){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let P=0;P<W.length;P+=3){const Q=W[P],Ce=P+1<W.length,ot=Ce?W[P+1]:0,At=P+2<W.length,It=At?W[P+2]:0;let Rn=(15&ot)<<2|It>>6,$t=63&It;At||($t=64,Ce||(Rn=64)),V.push(L[Q>>2],L[(3&Q)<<4|ot>>4],L[Rn],L[$t])}return V.join("")},encodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(W):this.encodeByteArray(ae(W),G)},decodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(W):function(W){const G=[];let L=0,V=0;for(;L<W.length;){const P=W[L++];if(P<128)G[V++]=String.fromCharCode(P);else if(P>191&&P<224){const Q=W[L++];G[V++]=String.fromCharCode((31&P)<<6|63&Q)}else if(P>239&&P<365){const At=((7&P)<<18|(63&W[L++])<<12|(63&W[L++])<<6|63&W[L++])-65536;G[V++]=String.fromCharCode(55296+(At>>10)),G[V++]=String.fromCharCode(56320+(1023&At))}else{const Q=W[L++],Ce=W[L++];G[V++]=String.fromCharCode((15&P)<<12|(63&Q)<<6|63&Ce)}}return G.join("")}(this.decodeStringToByteArray(W,G))},decodeStringToByteArray(W,G){this.init_();const L=G?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let P=0;P<W.length;){const Q=L[W.charAt(P++)],ot=P<W.length?L[W.charAt(P)]:0;++P;const It=P<W.length?L[W.charAt(P)]:64;++P;const kt=P<W.length?L[W.charAt(P)]:64;if(++P,null==Q||null==ot||null==It||null==kt)throw new Ee;V.push(Q<<2|ot>>4),64!==It&&(V.push(ot<<4&240|It>>2),64!==kt&&V.push(It<<6&192|kt))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const be=function(W){const G=ae(W);return ne.encodeByteArray(G,!0)},xe=function(W){return be(W).replace(/\./g,"")},Z=function(W){try{return ne.decodeString(W,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function q(W){return te(void 0,W)}function te(W,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return G}for(const L in G)!G.hasOwnProperty(L)||!$e(L)||(W[L]=te(W[L],G[L]));return W}function $e(W){return"__proto__"!==W}const Pe=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=W&&Z(W[1]);return G&&JSON.parse(G)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},Fe=W=>{var G,L;return null===(L=null===(G=Pe())||void 0===G?void 0:G.emulatorHosts)||void 0===L?void 0:L[W]},Ue=W=>{const G=Fe(W);if(!G)return;const L=G.lastIndexOf(":");if(L<=0||L+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const V=parseInt(G.substring(L+1),10);return"["===G[0]?[G.substring(1,L-1),V]:[G.substring(0,L),V]},Se=()=>{var W;return null===(W=Pe())||void 0===W?void 0:W.config},Te=W=>{var G;return null===(G=Pe())||void 0===G?void 0:G[`_${W}`]};class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,L)=>{this.resolve=G,this.reject=L})}wrapCallback(G){return(L,V)=>{L?this.reject(L):this.resolve(V),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(L):G(L,V))}}}function Ge(W,G){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=G||"demo-project",P=W.iat||0,Q=W.sub||W.user_id;if(!Q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ce=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:P,exp:P+3600,auth_time:P,sub:Q,user_id:Q,firebase:{sign_in_provider:"custom",identities:{}}},W);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(Ce)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function rt(){var W;const G=null===(W=Pe())||void 0===W?void 0:W.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function St(){return"object"==typeof self&&self.self===self}function ct(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Lo(){const W=Be();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Tr(){return!0===s.NODE_CLIENT||!0===s.NODE_ADMIN}function Co(){return!rt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){try{return"object"==typeof indexedDB}catch{return!1}}function ge(){return new Promise((W,G)=>{try{let L=!0;const V="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(V);P.onsuccess=()=>{P.result.close(),L||self.indexedDB.deleteDatabase(V),W(!0)},P.onupgradeneeded=()=>{L=!1},P.onerror=()=>{var Q;G((null===(Q=P.error)||void 0===Q?void 0:Q.message)||"")}}catch(L){G(L)}})}function ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ke extends Error{constructor(G,L,V){super(L),this.code=G,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,je.prototype.create)}}class je{constructor(G,L,V){this.service=G,this.serviceName=L,this.errors=V}create(G,...L){const V=L[0]||{},P=`${this.service}/${G}`,Q=this.errors[G],Ce=Q?function dt(W,G){return W.replace(ht,(L,V)=>{const P=G[V];return null!=P?String(P):`<${V}?>`})}(Q,V):"Error";return new ke(P,`${this.serviceName}: ${Ce} (${P}).`,V)}}const ht=/\{\$([^}]+)}/g;function mn(W){return JSON.parse(W)}function Et(W){return JSON.stringify(W)}const ln=function(W){let G={},L={},V={},P="";try{const Q=W.split(".");G=mn(Z(Q[0])||""),L=mn(Z(Q[1])||""),P=Q[2],V=L.d||{},delete L.d}catch{}return{header:G,claims:L,data:V,signature:P}},_i=function(W){const L=ln(W).claims;return!!L&&"object"==typeof L&&L.hasOwnProperty("iat")},Vn=function(W){const G=ln(W).claims;return"object"==typeof G&&!0===G.admin};function Gn(W,G){return Object.prototype.hasOwnProperty.call(W,G)}function yi(W,G){if(Object.prototype.hasOwnProperty.call(W,G))return W[G]}function Fr(W){for(const G in W)if(Object.prototype.hasOwnProperty.call(W,G))return!1;return!0}function Jn(W,G,L){const V={};for(const P in W)Object.prototype.hasOwnProperty.call(W,P)&&(V[P]=G.call(L,W[P],P,W));return V}function _t(W,G){if(W===G)return!0;const L=Object.keys(W),V=Object.keys(G);for(const P of L){if(!V.includes(P))return!1;const Q=W[P],Ce=G[P];if(ei(Q)&&ei(Ce)){if(!_t(Q,Ce))return!1}else if(Q!==Ce)return!1}for(const P of V)if(!L.includes(P))return!1;return!0}function ei(W){return null!==W&&"object"==typeof W}function si(W){const G=[];for(const[L,V]of Object.entries(W))Array.isArray(V)?V.forEach(P=>{G.push(encodeURIComponent(L)+"="+encodeURIComponent(P))}):G.push(encodeURIComponent(L)+"="+encodeURIComponent(V));return G.length?"&"+G.join("&"):""}function nr(W){const G={};return W.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[P,Q]=V.split("=");G[decodeURIComponent(P)]=decodeURIComponent(Q)}}),G}function mr(W){const G=W.indexOf("?");if(!G)return"";const L=W.indexOf("#",G);return W.substring(G,L>0?L:void 0)}class pn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,L){L||(L=0);const V=this.W_;if("string"==typeof G)for(let kt=0;kt<16;kt++)V[kt]=G.charCodeAt(L)<<24|G.charCodeAt(L+1)<<16|G.charCodeAt(L+2)<<8|G.charCodeAt(L+3),L+=4;else for(let kt=0;kt<16;kt++)V[kt]=G[L]<<24|G[L+1]<<16|G[L+2]<<8|G[L+3],L+=4;for(let kt=16;kt<80;kt++){const Rn=V[kt-3]^V[kt-8]^V[kt-14]^V[kt-16];V[kt]=4294967295&(Rn<<1|Rn>>>31)}let It,Kt,P=this.chain_[0],Q=this.chain_[1],Ce=this.chain_[2],ot=this.chain_[3],At=this.chain_[4];for(let kt=0;kt<80;kt++){kt<40?kt<20?(It=ot^Q&(Ce^ot),Kt=1518500249):(It=Q^Ce^ot,Kt=1859775393):kt<60?(It=Q&Ce|ot&(Q|Ce),Kt=2400959708):(It=Q^Ce^ot,Kt=3395469782);const Rn=(P<<5|P>>>27)+It+At+Kt+V[kt]&4294967295;At=ot,ot=Ce,Ce=4294967295&(Q<<30|Q>>>2),Q=P,P=Rn}this.chain_[0]=this.chain_[0]+P&4294967295,this.chain_[1]=this.chain_[1]+Q&4294967295,this.chain_[2]=this.chain_[2]+Ce&4294967295,this.chain_[3]=this.chain_[3]+ot&4294967295,this.chain_[4]=this.chain_[4]+At&4294967295}update(G,L){if(null==G)return;void 0===L&&(L=G.length);const V=L-this.blockSize;let P=0;const Q=this.buf_;let Ce=this.inbuf_;for(;P<L;){if(0===Ce)for(;P<=V;)this.compress_(G,P),P+=this.blockSize;if("string"==typeof G){for(;P<L;)if(Q[Ce]=G.charCodeAt(P),++Ce,++P,Ce===this.blockSize){this.compress_(Q),Ce=0;break}}else for(;P<L;)if(Q[Ce]=G[P],++Ce,++P,Ce===this.blockSize){this.compress_(Q),Ce=0;break}}this.inbuf_=Ce,this.total_+=L}digest(){const G=[];let L=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let P=this.blockSize-1;P>=56;P--)this.buf_[P]=255&L,L/=256;this.compress_(this.buf_);let V=0;for(let P=0;P<5;P++)for(let Q=24;Q>=0;Q-=8)G[V]=this.chain_[P]>>Q&255,++V;return G}}function Yt(W,G){const L=new mt(W,G);return L.subscribe.bind(L)}class mt{constructor(G,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{G(this)}).catch(V=>{this.error(V)})}next(G){this.forEachObserver(L=>{L.next(G)})}error(G){this.forEachObserver(L=>{L.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,L,V){let P;if(void 0===G&&void 0===L&&void 0===V)throw new Error("Missing Observer.");P=function ai(W,G){if("object"!=typeof W||null===W)return!1;for(const L of G)if(L in W&&"function"==typeof W[L])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:L,complete:V},void 0===P.next&&(P.next=Gi),void 0===P.error&&(P.error=Gi),void 0===P.complete&&(P.complete=Gi);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch{}}),this.observers.push(P),Q}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,G)}sendOne(G,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{L(this.observers[G])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gi(){}function pr(W,G){return`${W} failed: ${G} argument `}const Lr=function(W){const G=[];let L=0;for(let V=0;V<W.length;V++){let P=W.charCodeAt(V);if(P>=55296&&P<=56319){const Q=P-55296;V++,$(V<W.length,"Surrogate pair missing trail surrogate."),P=65536+(Q<<10)+(W.charCodeAt(V)-56320)}P<128?G[L++]=P:P<2048?(G[L++]=P>>6|192,G[L++]=63&P|128):P<65536?(G[L++]=P>>12|224,G[L++]=P>>6&63|128,G[L++]=63&P|128):(G[L++]=P>>18|240,G[L++]=P>>12&63|128,G[L++]=P>>6&63|128,G[L++]=63&P|128)}return G},en=function(W){let G=0;for(let L=0;L<W.length;L++){const V=W.charCodeAt(L);V<128?G++:V<2048?G+=2:V>=55296&&V<=56319?(G+=4,L++):G+=3}return G},zt=1e3,li=2,Wn=144e5,Wi=.5;function ci(W,G=zt,L=li){const V=G*Math.pow(L,W),P=Math.round(Wi*V*(Math.random()-.5)*2);return Math.min(Wn,V+P)}function _r(W){return W&&W._delegate?W._delegate:W}},5920:(wt,Ae,U)=>{var s=U(4650);let $=null;function N(){return $}class ue{}const ne=new s.OlP("DocumentToken");let Ee=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function be(){return(0,s.LFG)(Z)}()},providedIn:"platform"}),n})();const xe=new s.OlP("Location Initialized");let Z=(()=>{class n extends Ee{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){q()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){q()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function te(){return new Z((0,s.LFG)(ne))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function $e(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Me(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ye(n){return n&&"?"!==n[0]?"?"+n:n}let lt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Pe)},providedIn:"root"}),n})();const we=new s.OlP("appBaseHref");let Pe=(()=>{class n extends lt{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return $e(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ye(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const c=this.prepareExternalUrl(r+Ye(o));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){const c=this.prepareExternalUrl(r+Ye(o));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ee),s.LFG(we,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fe=(()=>{class n extends lt{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=$e(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let c=this.prepareExternalUrl(r+Ye(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){let c=this.prepareExternalUrl(r+Ye(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ee),s.LFG(we,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Ge(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Me(Ne(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ye(i))}normalize(e){return n.stripTrailingSlash(function Te(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Ne(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ye(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ye(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ye,n.joinWithSlash=$e,n.stripTrailingSlash=Me,n.\u0275fac=function(e){return new(e||n)(s.LFG(lt))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Se(){return new Ue((0,s.LFG)(lt))}()},providedIn:"root"}),n})();function Ne(n){return n.replace(/\/index.html$/,"")}function rs(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}class Vi{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ao=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Vi(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,c),ii(u,r)}});for(let r=0,o=i.length;r<o;r++){const u=i.get(r).context;u.index=r,u.count=o,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ii(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ii(n,t){n.context.$implicit=t.item}let vi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Wt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ql("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ql("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Wt{constructor(){this.$implicit=null,this.ngIf=null}}function Ql(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class Gr{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ha=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Vo=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Gr(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(ha,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ei=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,o,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();class dd{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class il{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const fa=new il,ss=new dd;let qi=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return fa;if((0,s.F4k)(e))return ss;throw function Wr(n,t){return new s.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Mn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const tm="browser",ma="server";function pa(n){return n===ma}let Jl=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new im((0,s.LFG)(ne),window)}),n})();class im{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ud(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ds(this.window.history)||ds(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ds(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class zu{}class rh extends ue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dc extends rh{static makeCurrent(){!function ae(n){$||($=n)}(new dc)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function hl(){return xa=xa||document.querySelector("base"),xa?xa.getAttribute("href"):null}();return null==e?null:function vg(n){zo=zo||document.createElement("a"),zo.setAttribute("href",n);const t=zo.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){xa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return rs(document.cookie,t)}}let zo,xa=null;const sm=new s.OlP("TRANSITION_ID"),oh=[{provide:s.ip1,useFactory:function uc(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=N(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[sm,ne,s.zs3],multi:!0}];let wd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const fl=new s.OlP("EventManagerPlugins");let hc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fl),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ca{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=N().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let sh=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let o=r.get(e)??0;return o+=i,o>0?r.set(e,o):r.delete(e),o}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ms=(()=>{class n extends sh{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(o=>o.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Fs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ea=/%COMP%/g,gl=new s.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function fc(n,t){return t.flat(100).map(e=>e.replace(Ea,n))}function Ed(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let br=(()=>{class n{constructor(e,i,r,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new ah(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof mc?r.applyToHost(e):r instanceof ps&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const c=this.eventManager,u=this.sharedStylesHost,m=this.removeStylesOnCompDestory;switch(i.encapsulation){case s.ifc.Emulated:o=new mc(c,u,i,this.appId,m);break;case s.ifc.ShadowDom:return new hi(c,u,e,i);default:o=new ps(c,u,i,m)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hc),s.LFG(ms),s.LFG(s.AFp),s.LFG(gl))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class ah{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Fs[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(lh(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(lh(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Fs[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Fs[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ed(i)):this.eventManager.addEventListener(t,e,Ed(i))}}function lh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class hi extends ah{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=fc(r.id,r.styles);for(const c of o){const u=document.createElement("style");u.textContent=c,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ps extends ah{constructor(t,e,i,r,o=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=fc(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class mc extends ps{constructor(t,e,i,r,o){const c=r+"-"+i.id;super(t,e,i,o,c),this.contentAttr=function am(n){return"_ngcontent-%COMP%".replace(Ea,n)}(c),this.hostAttr=function Cd(n){return"_nghost-%COMP%".replace(Ea,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let ch=(()=>{class n extends Ca{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const _l=["alt","control","meta","shift"],dh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ii=(()=>{class n extends Ca{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,o.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),_l.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),c+=_+".")}),c+=o,0!=i.length||0===o.length)return null;const m={};return m.domEventName=r,m.fullKey=c,m}static matchEventFullKeyCode(e,i){let r=dh[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),_l.forEach(c=>{c!==r&&(0,pc[c])(e)&&(o+=c+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const cm=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:tm},{provide:s.g9A,useValue:function Ta(){dc.makeCurrent()},multi:!0},{provide:ne,useFactory:function Td(){return(0,s.RDi)(document),document},deps:[]}]),Bs=new s.OlP(""),yl=[{provide:s.rWj,useClass:class $o{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const u=function(m){c=c||m,o--,0==o&&i(c)};r.forEach(function(m){m.whenStable(u)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Vs=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Id(){return new s.qLn},deps:[]},{provide:fl,useClass:ch,multi:!0,deps:[ne,s.R0b,s.Lbi]},{provide:fl,useClass:Ii,multi:!0,deps:[ne]},{provide:br,useClass:br,deps:[hc,ms,s.AFp,gl]},{provide:s.FYo,useExisting:br},{provide:sh,useExisting:ms},{provide:ms,useClass:ms,deps:[ne]},{provide:hc,useClass:hc,deps:[fl,s.R0b]},{provide:zu,useClass:wd,deps:[]},[]];let Us=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:sm,useExisting:s.AFp},oh]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bs,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...Vs,...yl],imports:[Mn,s.hGG]}),n})(),dm=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function js(){return new dm((0,s.LFG)(ne))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var Yr=U(3269),on=U(8996);function Ke(...n){const t=(0,Yr.yG)(n);return(0,on.D)(n,t)}var fi=U(9751),Fn=U(5577),Ur=U(576);function Go(n,t){return(0,Ur.m)(t)?(0,Fn.z)(n,t,1):(0,Fn.z)(n,1)}var Yn=U(4482),ri=U(5403);function xn(n,t){return(0,Yn.e)((e,i)=>{let r=0;e.subscribe((0,ri.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var ze=U(4004);class co{}class wl{}class wr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(o=>o.toString()),r.length>0){const o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof wr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new wr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof wr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let c=this.headers.get(e);if(!c)return;c=c.filter(u=>-1===o.indexOf(u)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ma{encodeKey(t){return wc(t)}encodeValue(t){return wc(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const ph=/%(\d[a-f0-9])/gi,uo={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wc(n){return encodeURIComponent(n).replace(ph,(t,e)=>uo[e]??t)}function xc(n){return`${n}`}class Kr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ma,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Pd(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,u]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],m=e.get(c)||[];m.push(u),e.set(c,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(xc):[xc(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Kr({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(xc(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(xc(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class zs{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function gh(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function _h(n){return typeof Blob<"u"&&n instanceof Blob}function Nd(n){return typeof FormData<"u"&&n instanceof FormData}class xl{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Cc(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new wr),this.context||(this.context=new zs),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+c}}else this.params=new Kr,this.urlWithParams=e}serializeBody(){return null===this.body?null:gh(this.body)||_h(this.body)||Nd(this.body)||function yh(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Kr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Nd(this.body)?null:_h(this.body)?this.body.type||null:gh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Kr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let m=t.headers||this.headers,_=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(m=Object.keys(t.setHeaders).reduce((T,R)=>T.set(R,t.setHeaders[R]),m)),t.setParams&&(_=Object.keys(t.setParams).reduce((T,R)=>T.set(R,t.setParams[R]),_)),new xl(e,i,o,{params:_,headers:m,context:b,reportProgress:u,responseType:r,withCredentials:c})}}var oi=(()=>((oi=oi||{})[oi.Sent=0]="Sent",oi[oi.UploadProgress=1]="UploadProgress",oi[oi.ResponseHeader=2]="ResponseHeader",oi[oi.DownloadProgress=3]="DownloadProgress",oi[oi.Response=4]="Response",oi[oi.User=5]="User",oi))();class Fd{constructor(t,e=200,i="OK"){this.headers=t.headers||new wr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Ld extends Fd{constructor(t={}){super(t),this.type=oi.ResponseHeader}clone(t={}){return new Ld({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Wo extends Fd{constructor(t={}){super(t),this.type=oi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Wo({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Bd extends Fd{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Vd(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Cl=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof xl)o=e;else{let m,_;m=r.headers instanceof wr?r.headers:new wr(r.headers),r.params&&(_=r.params instanceof Kr?r.params:new Kr({fromObject:r.params})),o=new xl(e,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=Ke(o).pipe(Go(m=>this.handler.handle(m)));if(e instanceof xl||"events"===r.observe)return c;const u=c.pipe(xn(m=>m instanceof Wo));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe((0,ze.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return u.pipe((0,ze.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return u.pipe((0,ze.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return u.pipe((0,ze.U)(m=>m.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Kr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Vd(r,i))}post(e,i,r={}){return this.request("POST",e,Vd(r,i))}put(e,i,r={}){return this.request("PUT",e,Vd(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(co))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function pm(n,t){return t(n)}function El(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const Ec=new s.OlP("HTTP_INTERCEPTORS"),$s=new s.OlP("HTTP_INTERCEPTOR_FNS");function Dl(){let n=null;return(t,e)=>(null===n&&(n=((0,s.f3M)(Ec,{optional:!0})??[]).reduceRight(El,pm)),n(t,e))}let Ud=(()=>{class n extends co{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get($s)));this.chain=i.reduceRight((r,o)=>function vh(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(r,o,this.injector),pm)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wl),s.LFG(s.lqb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Gs=/^\)\]\}',?\n/;let ho=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new fi.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((B,z)=>r.setRequestHeader(B,z.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const B=e.detectContentTypeHeader();null!==B&&r.setRequestHeader("Content-Type",B)}if(e.responseType){const B=e.responseType.toLowerCase();r.responseType="json"!==B?B:"text"}const o=e.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const B=r.statusText||"OK",z=new wr(r.getAllResponseHeaders()),K=function Dc(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new Ld({headers:z,status:r.status,statusText:B,url:K}),c},m=()=>{let{headers:B,status:z,statusText:K,url:se}=u(),Re=null;204!==z&&(Re=typeof r.response>"u"?r.responseText:r.response),0===z&&(z=Re?200:0);let Qe=z>=200&&z<300;if("json"===e.responseType&&"string"==typeof Re){const et=Re;Re=Re.replace(Gs,"");try{Re=""!==Re?JSON.parse(Re):null}catch(ut){Re=et,Qe&&(Qe=!1,Re={error:ut,text:Re})}}Qe?(i.next(new Wo({body:Re,headers:B,status:z,statusText:K,url:se||void 0})),i.complete()):i.error(new Bd({error:Re,headers:B,status:z,statusText:K,url:se||void 0}))},_=B=>{const{url:z}=u(),K=new Bd({error:B,status:r.status||0,statusText:r.statusText||"Unknown Error",url:z||void 0});i.error(K)};let b=!1;const T=B=>{b||(i.next(u()),b=!0);let z={type:oi.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(z.total=B.total),"text"===e.responseType&&r.responseText&&(z.partialText=r.responseText),i.next(z)},R=B=>{let z={type:oi.UploadProgress,loaded:B.loaded};B.lengthComputable&&(z.total=B.total),i.next(z)};return r.addEventListener("load",m),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),e.reportProgress&&(r.addEventListener("progress",T),null!==o&&r.upload&&r.upload.addEventListener("progress",R)),r.send(o),i.next({type:oi.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",m),r.removeEventListener("timeout",_),e.reportProgress&&(r.removeEventListener("progress",T),null!==o&&r.upload&&r.upload.removeEventListener("progress",R)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zu))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ka=new s.OlP("XSRF_ENABLED"),Eh=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Hd=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ym{}let Dh=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=rs(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne),s.LFG(s.Lbi),s.LFG(Eh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function vm(n,t){const e=n.url.toLowerCase();if(!(0,s.f3M)(ka)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,s.f3M)(ym).getToken(),r=(0,s.f3M)(Hd);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Kn=(()=>((Kn=Kn||{})[Kn.Interceptors=0]="Interceptors",Kn[Kn.LegacyInterceptors=1]="LegacyInterceptors",Kn[Kn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Kn[Kn.NoXsrfProtection=3]="NoXsrfProtection",Kn[Kn.JsonpSupport=4]="JsonpSupport",Kn[Kn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Kn))();function x(n,t){return{\u0275kind:n,\u0275providers:t}}function D(...n){const t=[Cl,ho,Ud,{provide:co,useExisting:Ud},{provide:wl,useExisting:ho},{provide:$s,useValue:vm,multi:!0},{provide:ka,useValue:!0},{provide:ym,useClass:Dh}];for(const e of n)t.push(...e.\u0275providers);return(0,s.MR2)(t)}const j=new s.OlP("LEGACY_INTERCEPTOR_FN");let Pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[D(x(Kn.LegacyInterceptors,[{provide:j,useFactory:Dl},{provide:$s,useExisting:j,multi:!0}]))]}),n})();const{isArray:Qi}=Array,{getPrototypeOf:qs,prototype:zd,keys:Ra}=Object;function Rr(n){if(1===n.length){const t=n[0];if(Qi(t))return{args:t,keys:null};if(function Qr(n){return n&&"object"==typeof n&&qs(n)===zd}(t)){const e=Ra(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var bs=U(8421);const{isArray:Ih}=Array;function Th(n){return(0,ze.U)(t=>function wm(n,t){return Ih(t)?n(...t):n(t)}(n,t))}function Sl(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}let Sh=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Ao=(()=>{class n extends Sh{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const fo=new s.OlP("NgValueAccessor"),xm={provide:fo,useExisting:(0,s.Gpc)(()=>Oa),multi:!0},Ky=new s.OlP("CompositionEventMode");let Oa=(()=>{class n extends Sh{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Cg(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Ky,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([xm]),s.qOj]}),n})();const w=!1;function p(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function y(n){return null!=n&&"number"==typeof n.length}const C=new s.OlP("NgValidators"),k=new s.OlP("NgAsyncValidators"),F=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ee{static min(t){return function fe(n){return t=>{if(p(t.value)||p(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function qe(n){return t=>{if(p(t.value)||p(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Je(t)}static requiredTrue(t){return function bt(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function qt(n){return p(n.value)||F.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Or(n){return t=>p(t.value)||!y(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function ws(n){return t=>y(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Gd(n){if(!n)return Ah;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(p(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Zd(t)}static composeAsync(t){return Yd(t)}}function Je(n){return p(n.value)?{required:!0}:null}function Ah(n){return null}function Al(n){return null!=n}function Cm(n){const t=(0,s.QGY)(n)?(0,on.D)(n):n;if(w&&!(0,s.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new s.vHH(-1101,e)}return t}function Mh(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Wd(n,t){return t.map(e=>e(n))}function qd(n){return n.map(t=>function Em(n){return!n.validate}(t)?t:e=>t.validate(e))}function Zd(n){if(!n)return null;const t=n.filter(Al);return 0==t.length?null:function(e){return Mh(Wd(e,t))}}function Ml(n){return null!=n?Zd(qd(n)):null}function Yd(n){if(!n)return null;const t=n.filter(Al);return 0==t.length?null:function(e){return function $d(...n){const t=(0,Yr.jO)(n),{args:e,keys:i}=Rr(n),r=new fi.y(o=>{const{length:c}=e;if(!c)return void o.complete();const u=new Array(c);let m=c,_=c;for(let b=0;b<c;b++){let T=!1;(0,bs.Xf)(e[b]).subscribe((0,ri.x)(o,R=>{T||(T=!0,_--),u[b]=R},()=>m--,void 0,()=>{(!m||!T)&&(_||o.next(i?Sl(i,u):u),o.complete())}))}});return t?r.pipe(Th(t)):r}(Wd(e,t).map(Cm)).pipe((0,ze.U)(Mh))}}function Ic(n){return null!=n?Yd(qd(n)):null}function kh(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Eg(n){return n._rawValidators}function Dg(n){return n._rawAsyncValidators}function Kd(n){return n?Array.isArray(n)?n:[n]:[]}function Ig(n,t){return Array.isArray(n)?n.includes(t):n===t}function Qy(n,t){const e=Kd(t);return Kd(n).forEach(r=>{Ig(e,r)||e.push(r)}),e}function Gw(n,t){return Kd(t).filter(e=>!Ig(n,e))}class Ww{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ml(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ic(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class mo extends Ww{get formDirective(){return null}get path(){return null}}class Pa extends Ww{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xy{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zs=(()=>{class n extends Xy{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Pa,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),Rh=(()=>{class n extends Xy{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mo,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();function Yw(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const Ys=!1,Na="VALID",Tg="INVALID",Ph="PENDING",Im="DISABLED";function iv(n){return(Sg(n)?n.validators:n)||null}function rv(n,t){return(Sg(t)?t.asyncValidators:n)||null}function Sg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Qw(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,Ys?function QT(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new s.vHH(1001,Ys?function XT(n,t){return`Cannot find form control ${Yw(n,t)}`}(t,e):"")}function Xw(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,Ys?function JT(n,t){return`Must supply a value for form control ${Yw(n,t)}`}(t,r):"")})}class Ag{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Na}get invalid(){return this.status===Tg}get pending(){return this.status==Ph}get disabled(){return this.status===Im}get enabled(){return this.status!==Im}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Qy(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Qy(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Gw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Gw(t,this._rawAsyncValidators))}hasValidator(t){return Ig(this._rawValidators,t)}hasAsyncValidator(t){return Ig(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ph,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Im,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Na,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Na||this.status===Ph)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Im:Na}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ph,this._hasOwnPendingAsyncValidator=!0;const e=Cm(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Im:this.errors?Tg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ph)?Ph:this._anyControlsHaveStatus(Tg)?Tg:Na}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Sg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function eS(n){return Array.isArray(n)?Ml(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Kw(n){return Array.isArray(n)?Ic(n):n||null}(this._rawAsyncValidators)}}class jr extends Ag{constructor(t,e,i){super(iv(e),rv(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Xw(this,!0,t),Object.keys(t).forEach(i=>{Qw(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class ov extends jr{}const Qd=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>sv}),sv="always";function av(n,t){return[...t.path,n]}function kg(n,t,e=sv){Jw(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function nS(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ex(n,t)})}(n,t),function rS(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function iS(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ex(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function AF(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Nh(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Tm(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Fh(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Jw(n,t){const e=Eg(n);null!==t.validator?n.setValidators(kh(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Dg(n);null!==t.asyncValidator?n.setAsyncValidators(kh(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Fh(t._rawValidators,r),Fh(t._rawAsyncValidators,r)}function Tm(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Eg(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(c=>c!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=Dg(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(c=>c!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Fh(t._rawValidators,i),Fh(t._rawAsyncValidators,i),e}function ex(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function lv(n,t){Jw(n,t)}function hv(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const aS={provide:mo,useExisting:(0,s.Gpc)(()=>mv)},Lh=(()=>Promise.resolve())();let mv=(()=>{class n extends mo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new jr({},Ml(e),Ic(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Lh.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),kg(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Lh.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Lh.then(()=>{const i=this._findContainer(e.path),r=new jr({});lv(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Lh.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Lh.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,hv(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(C,10),s.Y36(k,10),s.Y36(Qd,8))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([aS]),s.qOj]}),n})();function lS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Bh(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const On=class extends Ag{constructor(t=null,e,i){super(iv(e),rv(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Bh(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){lS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){lS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Bh(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let pv=(()=>{class n extends mo{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return av(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),Xd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const rx={provide:fo,useExisting:(0,s.Gpc)(()=>kl),multi:!0};let kl=(()=>{class n extends Ao{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([rx]),s.qOj]}),n})(),Sm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Fg=new s.OlP("NgModelWithFormControlWarning"),pS={provide:mo,useExisting:(0,s.Gpc)(()=>Fa)};let Fa=(()=>{class n extends mo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return kg(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Nh(e.control||null,e,!1),function sS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,hv(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Nh(i||null,e),(n=>n instanceof On)(r)&&(kg(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);lv(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Rg(n,t){return Tm(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jw(this.form,this),this._oldForm&&Tm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(C,10),s.Y36(k,10),s.Y36(Qd,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([pS]),s.qOj,s.TTD]}),n})();const Vh={provide:mo,useExisting:(0,s.Gpc)(()=>Am)};let Am=(()=>{class n extends pv{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){Lg(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mo,13),s.Y36(C,10),s.Y36(k,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[s._Bn([Vh]),s.qOj]}),n})();const gS={provide:mo,useExisting:(0,s.Gpc)(()=>Mm)};let Mm=(()=>{class n extends mo{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return av(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Lg(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mo,13),s.Y36(C,10),s.Y36(k,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[s._Bn([gS]),s.qOj]}),n})();function Lg(n){return!(n instanceof Am||n instanceof Fa||n instanceof Mm)}const _S={provide:Pa,useExisting:(0,s.Gpc)(()=>Ac)};let Ac=(()=>{class n extends Pa{set isDisabled(e){}constructor(e,i,r,o,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function fv(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Oa?e=o:function tx(n){return Object.getPrototypeOf(n.constructor)===Ao}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){this._added||this._setUpControl(),function uv(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return av(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(mo,13),s.Y36(C,10),s.Y36(k,10),s.Y36(fo,10),s.Y36(Fg,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([_S]),s.qOj,s.TTD]}),n})();const yS={provide:fo,useExisting:(0,s.Gpc)(()=>Bg),multi:!0};function vv(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Bg=(()=>{class n extends Ao{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=vv(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function PF(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([yS]),s.qOj]}),n})(),Uh=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(vv(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Bg,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const vS={provide:fo,useExisting:(0,s.Gpc)(()=>Vg),multi:!0};function Jd(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Vg=(()=>{class n extends Ao{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,c)=>{o._setSelected(r.indexOf(c.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const c=o;for(let u=0;u<c.length;u++){const _=this._getOptionValue(c[u].value);r.push(_)}}else{const c=i.options;for(let u=0;u<c.length;u++){const m=c[u];if(m.selected){const _=this._getOptionValue(m.value);r.push(_)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function km(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([vS]),s.qOj]}),n})(),ax=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Jd(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Jd(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Vg,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Mc=(()=>{class n{constructor(){this._validator=Ah}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ah,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const wv={provide:C,useExisting:(0,s.Gpc)(()=>Om),multi:!0};let Om=(()=>{class n extends Mc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=e=>Je}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([wv]),s.qOj]}),n})(),gx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Sm]}),n})();class Pm extends Ag{constructor(t,e,i){super(iv(e),rv(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Xw(this,!1,t),t.forEach((i,r)=>{Qw(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function _x(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let xv=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return _x(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new jr(r,o)}record(e,i=null){const r=this._reduceControls(e);return new ov(r,i)}control(e,i,r){let o={};return this.useNonNullable?(_x(i)?o=i:(o.validators=i,o.asyncValidators=r),new On(e,{...o,nonNullable:!0})):new On(e,i,r)}array(e,i,r){const o=e.map(c=>this._createControl(c));return new Pm(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof On||e instanceof Ag?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ba=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Fg,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Qd,useValue:e.callSetDisabledState??sv}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[gx]}),n})();var Rt=U(7579);class Xi extends Rt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const jg=(0,U(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var jh=U(4671),IS=U(9672);function Nm(...n){const t=(0,Yr.yG)(n),e=(0,Yr.jO)(n),{args:i,keys:r}=Rr(n);if(0===i.length)return(0,on.D)([],t);const o=new fi.y(function TS(n,t,e=jh.y){return i=>{Xt(t,()=>{const{length:r}=n,o=new Array(r);let c=r,u=r;for(let m=0;m<r;m++)Xt(t,()=>{const _=(0,on.D)(n[m],t);let b=!1;_.subscribe((0,ri.x)(i,T=>{o[m]=T,b||(b=!0,u--),u||i.next(e(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>Sl(r,c):jh.y));return e?o.pipe(Th(e)):o}function Xt(n,t,e){n?(0,IS.f)(e,n,t):t()}var Hh=U(8189);function Fm(...n){return function yx(){return(0,Hh.J)(1)}()((0,on.D)(n,(0,Yr.yG)(n)))}function Hg(n){return new fi.y(t=>{(0,bs.Xf)(n()).subscribe(t)})}var SS=U(9635);function kc(n,t){const e=(0,Ur.m)(n)?n:()=>n,i=r=>r.error(e());return new fi.y(t?r=>t.schedule(i,0,r):i)}var Va=U(515),Ks=U(727);function Cv(){return(0,Yn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,ri.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Ev extends fi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Yn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ks.w0;const e=this.getSubject();t.add(this.source.subscribe((0,ri.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ks.w0.EMPTY)}return t}refCount(){return Cv()(this)}}function Hn(n,t){return(0,Yn.e)((e,i)=>{let r=null,o=0,c=!1;const u=()=>c&&!r&&i.complete();e.subscribe((0,ri.x)(i,m=>{r?.unsubscribe();let _=0;const b=o++;(0,bs.Xf)(n(m,b)).subscribe(r=(0,ri.x)(i,T=>i.next(t?t(m,T,b,_++):T),()=>{r=null,u()}))},()=>{c=!0,u()}))})}function ar(n){return n<=0?()=>Va.E:(0,Yn.e)((t,e)=>{let i=0;t.subscribe((0,ri.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function qo(...n){const t=(0,Yr.yG)(n);return(0,Yn.e)((e,i)=>{(t?Fm(n,e,t):Fm(n,e)).subscribe(i)})}function Ua(n){return(0,Yn.e)((t,e)=>{let i=!1;t.subscribe((0,ri.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function vx(n=Dv){return(0,Yn.e)((t,e)=>{let i=!1;t.subscribe((0,ri.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Dv(){return new jg}function Qs(n,t){const e=arguments.length>=2;return i=>i.pipe(n?xn((r,o)=>n(r,o,i)):jh.y,ar(1),e?Ua(t):vx(()=>new jg))}var ji=U(8505);function Rc(n){return(0,Yn.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,ri.x)(e,void 0,void 0,c=>{o=(0,bs.Xf)(n(c,Rc(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function zg(n,t){return(0,Yn.e)(function UF(n,t,e,i,r){return(o,c)=>{let u=e,m=t,_=0;o.subscribe((0,ri.x)(c,b=>{const T=_++;m=u?n(m,b,T):(u=!0,b),i&&c.next(m)},r&&(()=>{u&&c.next(m),c.complete()})))}}(n,t,arguments.length>=2,!0))}function Iv(n){return n<=0?()=>Va.E:(0,Yn.e)((t,e)=>{let i=[];t.subscribe((0,ri.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Tv(n,t){const e=arguments.length>=2;return i=>i.pipe(n?xn((r,o)=>n(r,o,i)):jh.y,Iv(1),e?Ua(t):vx(()=>new jg))}function Sv(n){return(0,ze.U)(()=>n)}function Ol(n){return(0,Yn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const sn="primary",zh=Symbol("RouteTitle");class $g{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function $h(n){return new $g(n)}function bx(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],u=n[o];if(c.startsWith(":"))r[c.substring(1)]=u;else if(c!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ja(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!wx(n[r],t[r]))return!1;return!0}function wx(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function xx(n){return Array.prototype.concat.apply([],n)}function Cx(n){return n.length>0?n[n.length-1]:null}function Hr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Pl(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,on.D)(Promise.resolve(n)):Ke(n)}const Lm=!1,Av={exact:function OS(n,t,e){if(!Nl(n.segments,t.segments)||!Bm(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!OS(n.children[i],t.children[i],e))return!1;return!0},subset:Mv},kS={exact:function RS(n,t){return ja(n,t)},subset:function Gh(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>wx(n[e],t[e]))},ignored:()=>!0};function Gg(n,t,e){return Av[e.paths](n.root,t.root,e.matrixParams)&&kS[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Mv(n,t,e){return Ex(n,t,t.segments,e)}function Ex(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Nl(r,e)||t.hasChildren()||!Bm(r,e,i))}if(n.segments.length===e.length){if(!Nl(n.segments,e)||!Bm(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Mv(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Nl(n.segments,r)&&Bm(n.segments,r,i)&&n.children[sn])&&Ex(n.children[sn],t,o,i)}}function Bm(n,t,e){return t.every((i,r)=>kS[e](n[r].parameters,i.parameters))}class Oc{constructor(t=new fn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$h(this.queryParams)),this._queryParamMap}toString(){return Dx.serialize(this)}}class fn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Hr(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zh(this)}}class Pc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=$h(this.parameters)),this._parameterMap}toString(){return Ix(this)}}function Nl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let tu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new qh},providedIn:"root"}),n})();class qh{parse(t){const e=new Pv(t);return new Oc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${nu(t.root,!0)}`,i=function Sx(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Um(e)}=${Um(r)}`).join("&"):`${Um(e)}=${Um(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function kv(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Dx=new qh;function Zh(n){return n.segments.map(t=>Ix(t)).join("/")}function nu(n,t){if(!n.hasChildren())return Zh(n);if(t){const e=n.children[sn]?nu(n.children[sn],!1):"",i=[];return Hr(n.children,(r,o)=>{o!==sn&&i.push(`${o}:${nu(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Vm(n,t){let e=[];return Hr(n.children,(i,r)=>{r===sn&&(e=e.concat(t(i,r)))}),Hr(n.children,(i,r)=>{r!==sn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===sn?[nu(n.children[sn],!1)]:[`${r}:${nu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[sn]?`${Zh(n)}/${e[0]}`:`${Zh(n)}/(${e.join("//")})`}}function Wg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Um(n){return Wg(n).replace(/%3B/gi,";")}function Rv(n){return Wg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qg(n){return decodeURIComponent(n)}function Ov(n){return qg(n.replace(/\+/g,"%20"))}function Ix(n){return`${Rv(n.path)}${function Tx(n){return Object.keys(n).map(t=>`;${Rv(t)}=${Rv(n[t])}`).join("")}(n.parameters)}`}const PS=/^[^\/()?;=#]+/;function Zg(n){const t=n.match(PS);return t?t[0]:""}const Zo=/^[^=?&#]+/,FS=/^[^&#]+/;class Pv{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[sn]=new fn(t,e)),i}parseSegment(){const t=Zg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,Lm);return this.capture(t),new Pc(qg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Zg(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Zg(this.remaining);r&&(i=r,this.capture(i))}t[qg(e)]=qg(i)}parseQueryParam(t){const e=function NS(n){const t=n.match(Zo);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function HF(n){const t=n.match(FS);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Ov(e),o=Ov(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Zg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,Lm);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=sn);const c=this.parseChildren();e[o]=1===Object.keys(c).length?c[sn]:new fn([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,Lm)}}function Yg(n){return n.segments.length>0?new fn([],{[sn]:n}):n}function Kg(n){const t={};for(const i of Object.keys(n.children)){const o=Kg(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function LS(n){if(1===n.numberOfChildren&&n.children[sn]){const t=n.children[sn];return new fn(n.segments.concat(t.segments),t.children)}return n}(new fn(n.segments,t))}function iu(n){return n instanceof Oc}const Qg=!1;function BS(n,t,e,i,r){if(0===e.length)return Yh(t.root,t.root,t.root,i,r);const o=function Jg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Xs(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const u={};return Hr(o.outlets,(m,_)=>{u[_]="string"==typeof m?m.split("/"):m}),[...r,{outlets:u}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((u,m)=>{0==m&&"."===u||(0==m&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,o]},[]);return new Xs(e,t,i)}(e);return o.toRoot()?Yh(t.root,t.root,new fn([],{}),i,r):function c(m){const _=function kx(n,t,e,i){if(n.isAbsolute)return new Kh(t.root,!0,0);if(-1===i)return new Kh(e,e===t.root,0);return function Rx(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,Qg&&"Invalid number of '../'");r=i.segments.length}return new Kh(i,!1,r-o)}(e,i+(jm(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,m),b=_.processChildren?Nc(_.segmentGroup,_.index,o.commands):Nv(_.segmentGroup,_.index,o.commands);return Yh(t.root,_.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function jm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Hm(n){return"object"==typeof n&&null!=n&&n.outlets}function Yh(n,t,e,i,r){let c,o={};i&&Hr(i,(m,_)=>{o[_]=Array.isArray(m)?m.map(b=>`${b}`):`${m}`}),c=n===t?e:Mx(n,t,e);const u=Yg(Kg(c));return new Oc(u,o,r)}function Mx(n,t,e){const i={};return Hr(n.children,(r,o)=>{i[o]=r===t?e:Mx(r,t,e)}),new fn(n.segments,i)}class Xs{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&jm(i[0]))throw new s.vHH(4003,Qg&&"Root segment cannot have matrix parameters");const r=i.find(Hm);if(r&&r!==Cx(i))throw new s.vHH(4004,Qg&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kh{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Nv(n,t,e){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return Nc(n,t,e);const i=function jS(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const c=n.segments[r],u=e[i];if(Hm(u))break;const m=`${u}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===m)break;if(m&&_&&"object"==typeof _&&void 0===_.outlets){if(!$m(m,_,c))return o;i+=2}else{if(!$m(m,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new fn(n.segments.slice(0,i.pathIndex),{});return o.children[sn]=new fn(n.segments.slice(i.pathIndex),n.children),Nc(o,0,r)}return i.match&&0===r.length?new fn(n.segments,{}):i.match&&!n.hasChildren()?Fv(n,t,e):i.match?Nc(n,0,r):Fv(n,t,e)}function Nc(n,t,e){if(0===e.length)return new fn(n.segments,{});{const i=function US(n){return Hm(n[0])?n[0].outlets:{[sn]:n}}(e),r={};if(!i[sn]&&n.children[sn]&&1===n.numberOfChildren&&0===n.children[sn].segments.length){const o=Nc(n.children[sn],t,e);return new fn(n.segments,o.children)}return Hr(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=Nv(n.children[c],t,o))}),Hr(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new fn(n.segments,r)}}function Fv(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Hm(o)){const m=e_(o.outlets);return new fn(i,m)}if(0===r&&jm(e[0])){i.push(new Pc(n.segments[t].path,zm(e[0]))),r++;continue}const c=Hm(o)?o.outlets[sn]:`${o}`,u=r<e.length-1?e[r+1]:null;c&&u&&jm(u)?(i.push(new Pc(c,zm(u))),r+=2):(i.push(new Pc(c,{})),r++)}return new fn(i,{})}function e_(n){const t={};return Hr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Fv(new fn([],{}),0,e))}),t}function zm(n){const t={};return Hr(n,(e,i)=>t[i]=`${e}`),t}function $m(n,t,e){return n==e.path&&ja(t,e.parameters)}const t_="imperative";class xs{constructor(t,e){this.id=t,this.url=e}}class Ox extends xs{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fc extends xs{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gm extends xs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wm extends xs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class n_ extends xs{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lv extends xs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fl extends xs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i_ extends xs{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class r_ extends xs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qm extends xs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HS{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Px{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nx{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zS{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $S{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zm{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fx{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let WS=(()=>{class n{createUrlTree(e,i,r,o,c,u){return BS(e||i.root,r,o,c,u)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ZS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){return WS.\u0275fac(t)},providedIn:"root"}),n})();class Lx{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Bv(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Bv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Vv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Vv(t,this._root).map(e=>e.value)}}function Bv(n,t){if(n===t.value)return t;for(const e of t.children){const i=Bv(n,e);if(i)return i}return null}function Vv(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Vv(n,e);if(i.length)return i.unshift(t),i}return[]}class Ha{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Lc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Bx extends Lx{constructor(t,e){super(t),this.snapshot=e,Uv(this,t)}toString(){return this.snapshot.toString()}}function o_(n,t){const e=function YS(n,t){const c=new s_([],{},{},"",{},sn,t,null,n.root,-1,{});return new Ux("",new Ha(c,[]))}(n,t),i=new Xi([new Pc("",{})]),r=new Xi({}),o=new Xi({}),c=new Xi({}),u=new Xi(""),m=new Js(i,r,c,u,o,sn,t,e.root);return m.snapshot=e.root,new Bx(new Ha(m,[]),e)}class Js{constructor(t,e,i,r,o,c,u,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=u,this.title=this.data?.pipe((0,ze.U)(_=>_[zh]))??Ke(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ze.U)(t=>$h(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ze.U)(t=>$h(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vx(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function KS(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class s_{get title(){return this.data?.[zh]}constructor(t,e,i,r,o,c,u,m,_,b,T){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=u,this.routeConfig=m,this._urlSegment=_,this._lastPathIndex=b,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$h(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$h(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ux extends Lx{constructor(t,e){super(e),this.url=t,Uv(this,e)}toString(){return jv(this._root)}}function Uv(n,t){t.value._routerState=n,t.children.forEach(e=>Uv(n,e))}function jv(n){const t=n.children.length>0?` { ${n.children.map(jv).join(", ")} } `:"";return`${n.value}${t}`}function a_(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ja(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ja(t.params,e.params)||n.params.next(e.params),function AS(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ja(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ja(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Hv(n,t){const e=ja(n.params,t.params)&&function Wh(n,t){return Nl(n,t)&&n.every((e,i)=>ja(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Hv(n.parent,t.parent))}function Qh(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function WF(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Qh(n,i,r);return Qh(n,i)})}(n,t,e);return new Ha(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(u=>Qh(n,u)),c}}const i=function l_(n){return new Js(new Xi(n.url),new Xi(n.params),new Xi(n.queryParams),new Xi(n.fragment),new Xi(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Qh(n,o));return new Ha(i,r)}}const zv="ngNavigationCancelingError";function jx(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=iu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=c_(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function c_(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[zv]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Hx(n){return ea(n)&&iu(n.url)}function ea(n){return n&&n[zv]}class Ym{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new lr,this.attachRef=null}}let lr=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Ym,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const za=!1;let Xh=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=sn,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(lr),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,za);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,za);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,za);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,za);this._activatedRoute=e;const r=this.location,c=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,m=new Cs(e,u,r.injector);if(i&&function $v(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(c);this.activated=r.createComponent(_,r.length,m)}else this.activated=r.createComponent(c,{index:r.length,injector:m,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class Cs{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Js?this.route:t===lr?this.childContexts:this.parent.get(t,e)}}let Bc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[Xh],encapsulation:2}),n})();function ru(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function d_(n){const t=n.children&&n.children.map(d_),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==sn&&(e.component=Bc),e}function Yo(n){return n.outlet||sn}function Gv(n,t){const e=n.filter(i=>Yo(i)===t);return e.push(...n.filter(i=>Yo(i)!==t)),e}function tf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Gx{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),a_(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Lc(e);t.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),Hr(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Lc(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Lc(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Lc(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Zm(o.value.snapshot))}),t.children.length&&this.forwardEvent(new zS(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(a_(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(u.contexts),c.attachRef=u.componentRef,c.route=u.route.value,c.outlet&&c.outlet.attach(u.componentRef,u.route.value),a_(u.route.value),this.activateChildRoutes(t,null,c.children)}else{const u=tf(r.snapshot),m=u?.get(s._Vd)??null;c.attachRef=null,c.route=r,c.resolver=m,c.injector=u,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class Wv{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ep{constructor(t,e){this.component=t,this.route=e}}function QS(n,t,e){const i=n._root;return tp(i,t?t._root:null,e,[i.value])}function ou(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function tp(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Lc(t);return n.children.forEach(c=>{(function Wx(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const m=function qv(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Nl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Nl(n.url,t.url)||!ja(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hv(n,t)||!ja(n.queryParams,t.queryParams);default:return!Hv(n,t)}}(c,o,o.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new Wv(i)):(o.data=c.data,o._resolvedData=c._resolvedData),tp(n,t,o.component?u?u.children:null:e,i,r),m&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new ep(u.outlet.component,c))}else c&&su(t,u,r),r.canActivateChecks.push(new Wv(i)),tp(n,null,o.component?u?u.children:null:e,i,r)})(c,o[c.value.outlet],e,i.concat([c.value]),r),delete o[c.value.outlet]}),Hr(o,(c,u)=>su(c,e.getContext(u),r)),r}function su(n,t,e){const i=Lc(n),r=n.value;Hr(i,(o,c)=>{su(o,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new ep(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function np(n){return"function"==typeof n}function ip(n){return n instanceof jg||"EmptyError"===n?.name}const rp=Symbol("INITIAL_VALUE");function au(){return Hn(n=>Nm(n.map(t=>t.pipe(ar(1),qo(rp)))).pipe((0,ze.U)(t=>{for(const e of t)if(!0!==e){if(e===rp)return rp;if(!1===e||e instanceof Oc)return e}return!0}),xn(t=>t!==rp),ar(1)))}function Qv(n){return(0,SS.z)((0,ji.b)(t=>{if(iu(t))throw jx(0,t)}),(0,ze.U)(t=>!0===t))}const op={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xv(n,t,e,i,r){const o=p_(n,t,e);return o.matched?function eC(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Ke(r.map(c=>{const u=ou(c,n);return Pl(function m_(n){return n&&np(n.canMatch)}(u)?u.canMatch(t,e):n.runInContext(()=>u(t,e)))})).pipe(au(),Qv()):Ke(!0)}(i=ru(t,i),t,e).pipe((0,ze.U)(c=>!0===c?o:{...op})):Ke(o)}function p_(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...op}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||bx)(e,n,t);if(!r)return{...op};const o={};Hr(r.posParams,(u,m)=>{o[m]=u.path});const c=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function sp(n,t,e,i){if(e.length>0&&function iC(n,t,e){return e.some(i=>ap(n,t,i)&&Yo(i)!==sn)}(n,e,i)){const o=new fn(t,function nC(n,t,e,i){const r={};r[sn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Yo(o)!==sn){const c=new fn([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[Yo(o)]=c}return r}(n,t,i,new fn(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function rC(n,t,e){return e.some(i=>ap(n,t,i))}(n,e,i)){const o=new fn(n.segments,function tC(n,t,e,i,r){const o={};for(const c of i)if(ap(n,e,c)&&!r[Yo(c)]){const u=new fn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,o[Yo(c)]=u}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new fn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function ap(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function lp(n,t,e,i){return!!(Yo(n)===i||i!==sn&&ap(t,e,n))&&("**"===n.path||p_(t,n,e).matched)}function Ll(n,t,e){return 0===t.length&&!n.children[e]}const g_=!1;class __{constructor(t){this.segmentGroup=t||null}}class y_{constructor(t){this.urlTree=t}}function ta(n){return kc(new __(n))}function v_(n){return kc(new y_(n))}class ZF{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=sp(this.urlTree.root,[],[],this.config).segmentGroup,e=new fn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,sn).pipe((0,ze.U)(o=>this.createUrlTree(Kg(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Rc(o=>{if(o instanceof y_)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof __?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,sn).pipe((0,ze.U)(r=>this.createUrlTree(Kg(r),t.queryParams,t.fragment))).pipe(Rc(r=>{throw r instanceof __?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,g_)}createUrlTree(t,e,i){const r=Yg(t);return new Oc(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,ze.U)(o=>new fn([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,on.D)(r).pipe(Go(o=>{const c=i.children[o],u=Gv(e,o);return this.expandSegmentGroup(t,u,c,o).pipe((0,ze.U)(m=>({segment:m,outlet:o})))}),zg((o,c)=>(o[c.outlet]=c.segment,o),{}),Tv())}expandSegment(t,e,i,r,o,c){return(0,on.D)(i).pipe(Go(u=>this.expandSegmentAgainstRoute(t,e,i,u,r,o,c).pipe(Rc(_=>{if(_ instanceof __)return Ke(null);throw _}))),Qs(u=>!!u),Rc((u,m)=>{if(ip(u))return Ll(e,r,o)?Ke(new fn([],{})):ta(e);throw u}))}expandSegmentAgainstRoute(t,e,i,r,o,c,u){return lp(r,e,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,c):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c):ta(e):ta(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?v_(o):this.lineralizeSegments(i,o).pipe((0,Fn.z)(c=>{const u=new fn(c,{});return this.expandSegment(t,u,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){const{matched:u,consumedSegments:m,remainingSegments:_,positionalParamSegments:b}=p_(e,r,o);if(!u)return ta(e);const T=this.applyRedirectCommands(m,r.redirectTo,b);return r.redirectTo.startsWith("/")?v_(T):this.lineralizeSegments(r,T).pipe((0,Fn.z)(R=>this.expandSegment(t,e,i,R.concat(_),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=ru(i,t),i.loadChildren?(i._loadedRoutes?Ke({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,ze.U)(u=>(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,new fn(r,{})))):Ke(new fn(r,{}))):Xv(e,i,r,t).pipe(Hn(({matched:c,consumedSegments:u,remainingSegments:m})=>c?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Fn.z)(b=>{const T=b.injector??t,R=b.routes,{segmentGroup:B,slicedSegments:z}=sp(e,u,m,R),K=new fn(B.segments,B.children);if(0===z.length&&K.hasChildren())return this.expandChildren(T,R,K).pipe((0,ze.U)(et=>new fn(u,et)));if(0===R.length&&0===z.length)return Ke(new fn(u,{}));const se=Yo(i)===o;return this.expandSegment(T,K,R,z,se?sn:o,!0).pipe((0,ze.U)(Qe=>new fn(u.concat(Qe.segments),Qe.children)))})):ta(e)))}getChildConfig(t,e,i){return e.children?Ke({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ke({routes:e._loadedRoutes,injector:e._loadedInjector}):function Jx(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Ke(!0):Ke(r.map(c=>{const u=ou(c,n);return Pl(function h_(n){return n&&np(n.canLoad)}(u)?u.canLoad(t,e):n.runInContext(()=>u(t,e)))})).pipe(au(),Qv())}(t,e,i).pipe((0,Fn.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,ji.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Jv(n){return kc(c_(g_,3))}())):Ke({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ke(i);if(r.numberOfChildren>1||!r.children[sn])return t.redirectTo,kc(new s.vHH(4e3,g_));r=r.children[sn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Oc(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Hr(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[o]=e[u]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let c={};return Hr(e.children,(u,m)=>{c[m]=this.createSegmentGroup(t,u,i,r)}),new fn(o,c)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,g_);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class sC{}class aC{constructor(t,e,i,r,o,c,u){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.urlSerializer=u}recognize(){const t=sp(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,sn).pipe((0,ze.U)(e=>{if(null===e)return null;const i=new s_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},sn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ha(i,e),o=new Ux(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=Vx(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,on.D)(Object.keys(i.children)).pipe(Go(r=>{const o=i.children[r],c=Gv(e,r);return this.processSegmentGroup(t,c,o,r)}),zg((r,o)=>r&&o?(r.push(...o),r):null),function jF(n,t=!1){return(0,Yn.e)((e,i)=>{let r=0;e.subscribe((0,ri.x)(i,o=>{const c=n(o,r++);(c||t)&&i.next(o),!c&&i.complete()}))})}(r=>null!==r),Ua(null),Tv(),(0,ze.U)(r=>{if(null===r)return null;const o=cC(r);return function oA(n){n.sort((t,e)=>t.value.outlet===sn?-1:e.value.outlet===sn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,on.D)(e).pipe(Go(c=>this.processSegmentAgainstRoute(c._injector??t,c,i,r,o)),Qs(c=>!!c),Rc(c=>{if(ip(c))return Ll(i,r,o)?Ke([]):Ke(null);throw c}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!lp(e,i,r,o))return Ke(null);let c;if("**"===e.path){const u=r.length>0?Cx(r).parameters:{},m=lu(i)+r.length;c=Ke({snapshot:new s_(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uC(e),Yo(e),e.component??e._loadedComponent??null,e,eb(i),m,tb(e)),consumedSegments:[],remainingSegments:[]})}else c=Xv(i,e,r,t).pipe((0,ze.U)(({matched:u,consumedSegments:m,remainingSegments:_,parameters:b})=>{if(!u)return null;const T=lu(i)+m.length;return{snapshot:new s_(m,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uC(e),Yo(e),e.component??e._loadedComponent??null,e,eb(i),T,tb(e)),consumedSegments:m,remainingSegments:_}}));return c.pipe(Hn(u=>{if(null===u)return Ke(null);const{snapshot:m,consumedSegments:_,remainingSegments:b}=u;t=e._injector??t;const T=e._loadedInjector??t,R=function sA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:B,slicedSegments:z}=sp(i,_,b,R.filter(se=>void 0===se.redirectTo));if(0===z.length&&B.hasChildren())return this.processChildren(T,R,B).pipe((0,ze.U)(se=>null===se?null:[new Ha(m,se)]));if(0===R.length&&0===z.length)return Ke([new Ha(m,[])]);const K=Yo(e)===o;return this.processSegment(T,R,B,z,K?sn:o).pipe((0,ze.U)(se=>null===se?null:[new Ha(m,se)]))}))}}function lC(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function cC(n){const t=[],e=new Set;for(const i of n){if(!lC(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=cC(i.children);t.push(new Ha(i.value,r))}return t.filter(i=>!e.has(i))}function eb(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function lu(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function uC(n){return n.data||{}}function tb(n){return n.resolve||{}}function fC(n){return"string"==typeof n.title||null===n.title}function rb(n){return Hn(t=>{const e=n(t);return e?(0,on.D)(e).pipe((0,ze.U)(()=>t)):Ke(t)})}const Xr=new s.OlP("ROUTES");let Ko=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.f3M)(s.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ke(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Pl(e.loadComponent()).pipe((0,ze.U)(ob),(0,ji.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Ol(()=>{this.componentLoaders.delete(e)})),r=new Ev(i,()=>new Rt.x).pipe(Cv());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ke({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ze.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let m,_,b=!1;Array.isArray(u)?_=u:(m=u.create(e).injector,_=xx(m.get(Xr,[],s.XFs.Self|s.XFs.Optional)));return{routes:_.map(d_),injector:m}}),Ol(()=>{this.childrenLoaders.delete(i)})),c=new Ev(o,()=>new Rt.x).pipe(Cv());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(e){return Pl(e()).pipe((0,ze.U)(ob),(0,Fn.z)(i=>i instanceof s.YKP||Array.isArray(i)?Ke(i):(0,on.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ob(n){return function mC(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let w_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Rt.x,this.configLoader=(0,s.f3M)(Ko),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(tu),this.rootContexts=(0,s.f3M)(lr),this.navigationId=0,this.afterPreactivation=()=>Ke(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Px(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new HS(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Xi({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:t_,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xn(i=>0!==i.id),(0,ze.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Hn(i=>{let r=!1,o=!1;return Ke(i).pipe((0,ji.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Hn(c=>{const u=e.browserUrlTree.toString(),m=!e.navigated||c.extractedUrl.toString()!==u||u!==e.currentUrlTree.toString();if(!m&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const b="";return this.events.next(new Wm(c.id,e.serializeUrl(i.rawUrl),b,0)),e.rawUrlTree=c.rawUrl,c.resolve(null),Va.E}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return pC(c.source)&&(e.browserUrlTree=c.extractedUrl),Ke(c).pipe(Hn(b=>{const T=this.transitions?.getValue();return this.events.next(new Ox(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),T!==this.transitions?.getValue()?Va.E:Promise.resolve(b)}),function iA(n,t,e,i){return Hn(r=>function qF(n,t,e,i,r){return new ZF(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,ze.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,ji.b)(b=>{this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},i.urlAfterRedirects=b.urlAfterRedirects}),function aA(n,t,e,i,r){return(0,Fn.z)(o=>function xr(n,t,e,i,r,o,c="emptyOnly"){return new aC(n,t,e,i,r,c,o).recognize().pipe(Hn(u=>null===u?function rA(n){return new fi.y(t=>t.error(n))}(new sC):Ke(u)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,ze.U)(c=>({...o,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,ji.b)(b=>{if(i.targetSnapshot=b.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!b.extras.skipLocationChange){const R=e.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);e.setBrowserUrl(R,b)}e.browserUrlTree=b.urlAfterRedirects}const T=new Lv(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(T)}));if(m&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:b,extractedUrl:T,source:R,restoredState:B,extras:z}=c,K=new Ox(b,this.urlSerializer.serialize(T),R,B);this.events.next(K);const se=o_(T,this.rootComponentType).snapshot;return Ke(i={...c,targetSnapshot:se,urlAfterRedirects:T,extras:{...z,skipLocationChange:!1,replaceUrl:!1}})}{const b="";return this.events.next(new Wm(c.id,e.serializeUrl(i.extractedUrl),b,1)),e.rawUrlTree=c.rawUrl,c.resolve(null),Va.E}}),(0,ji.b)(c=>{const u=new Fl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),(0,ze.U)(c=>i={...c,guards:QS(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function Yv(n,t){return(0,Fn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return 0===c.length&&0===o.length?Ke({...e,guardsResult:!0}):function Kv(n,t,e,i){return(0,on.D)(n).pipe((0,Fn.z)(r=>function tA(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Ke(o.map(u=>{const m=tf(t)??r,_=ou(u,m);return Pl(function f_(n){return n&&np(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):m.runInContext(()=>_(n,t,e,i))).pipe(Qs())})).pipe(au()):Ke(!0)}(r.component,r.route,e,t,i)),Qs(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Fn.z)(u=>u&&function u_(n){return"boolean"==typeof n}(u)?function eA(n,t,e,i){return(0,on.D)(t).pipe(Go(r=>Fm(function Kx(n,t){return null!==n&&t&&t(new Nx(n)),Ke(!0)}(r.route.parent,i),function Yx(n,t){return null!==n&&t&&t(new $S(n)),Ke(!0)}(r.route,i),function Xx(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>function XS(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>Hg(()=>Ke(c.guards.map(m=>{const _=tf(c.node)??e,b=ou(m,_);return Pl(function JS(n){return n&&np(n.canActivateChild)}(b)?b.canActivateChild(i,n):_.runInContext(()=>b(i,n))).pipe(Qs())})).pipe(au())));return Ke(o).pipe(au())}(n,r.path,e),function Qx(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ke(!0);const r=i.map(o=>Hg(()=>{const c=tf(t)??e,u=ou(o,c);return Pl(function Zv(n){return n&&np(n.canActivate)}(u)?u.canActivate(t,n):c.runInContext(()=>u(t,n))).pipe(Qs())}));return Ke(r).pipe(au())}(n,r.route,e))),Qs(r=>!0!==r,!0))}(i,o,n,t):Ke(u)),(0,ze.U)(u=>({...e,guardsResult:u})))})}(this.environmentInjector,c=>this.events.next(c)),(0,ji.b)(c=>{if(i.guardsResult=c.guardsResult,iu(c.guardsResult))throw jx(0,c.guardsResult);const u=new i_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),xn(c=>!!c.guardsResult||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),rb(c=>{if(c.guards.canActivateChecks.length)return Ke(c).pipe((0,ji.b)(u=>{const m=new r_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}),Hn(u=>{let m=!1;return Ke(u).pipe(function hC(n,t){return(0,Fn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ke(e);let o=0;return(0,on.D)(r).pipe(Go(c=>function KF(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!fC(r)&&(o[zh]=r.title),function nb(n,t,e,i){const r=function ib(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ke({});const o={};return(0,on.D)(r).pipe((0,Fn.z)(c=>function $a(n,t,e,i){const r=tf(t)??i,o=ou(n,r);return Pl(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[c],t,e,i).pipe(Qs(),(0,ji.b)(u=>{o[c]=u}))),Iv(1),Sv(o),Rc(c=>ip(c)?Va.E:kc(c)))}(o,n,t,i).pipe((0,ze.U)(c=>(n._resolvedData=c,n.data=Vx(n,e).resolve,r&&fC(r)&&(n.data[zh]=r.title),null)))}(c.route,i,n,t)),(0,ji.b)(()=>o++),Iv(1),(0,Fn.z)(c=>o===r.length?Ke(e):Va.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,ji.b)({next:()=>m=!0,complete:()=>{m||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),(0,ji.b)(u=>{const m=new qm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}))}),rb(c=>{const u=m=>{const _=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,ji.b)(b=>{m.component=b}),(0,ze.U)(()=>{})));for(const b of m.children)_.push(...u(b));return _};return Nm(u(c.targetSnapshot.root)).pipe(Ua(),ar(1))}),rb(()=>this.afterPreactivation()),(0,ze.U)(c=>{const u=function GF(n,t,e){const i=Qh(n,t._root,e?e._root:void 0);return new Bx(i,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return i={...c,targetRouterState:u}}),(0,ji.b)(c=>{e.currentUrlTree=c.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),e.routerState=c.targetRouterState,"deferred"===e.urlUpdateStrategy&&(c.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,c),e.browserUrlTree=c.urlAfterRedirects)}),((n,t,e)=>(0,ze.U)(i=>(new Gx(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c)),ar(1),(0,ji.b)({next:c=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Fc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{r=!0}}),Ol(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Rc(c=>{if(o=!0,ea(c)){Hx(c)||(e.navigated=!0,e.restoreHistory(i,!0));const u=new Gm(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode);if(this.events.next(u),Hx(c)){const m=e.urlHandlingStrategy.merge(c.url,e.rawUrlTree),_={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||pC(i.source)};e.scheduleNavigation(m,t_,null,_,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const u=new n_(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);this.events.next(u);try{i.resolve(e.errorHandler(c))}catch(m){i.reject(m)}}return Va.E}))}))}cancelNavigationTransition(e,i,r){const o=new Gm(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pC(n){return n!==t_}let gC=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===sn);return i}getResolvedTitleForRoute(e){return e.data[zh]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(sb)},providedIn:"root"}),n})(),sb=(()=>{class n extends gC{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(dm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(_C)},providedIn:"root"}),n})();class lA{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let _C=(()=>{class n extends lA{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x_=new s.OlP("",{providedIn:"root",factory:()=>({})});let yC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(vC)},providedIn:"root"}),n})(),vC=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dA(n){throw n}function bC(n,t,e){return t.parse("/")}const wC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ab={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ji=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)(x_,{optional:!0})||{},this.errorHandler=this.options.errorHandler||dA,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||bC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(yC),this.routeReuseStrategy=(0,s.f3M)(cp),this.urlCreationStrategy=(0,s.f3M)(ZS),this.titleStrategy=(0,s.f3M)(gC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=xx((0,s.f3M)(Xr,{optional:!0})??[]),this.navigationTransitions=(0,s.f3M)(w_),this.urlSerializer=(0,s.f3M)(tu),this.location=(0,s.f3M)(Ue),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Oc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=o_(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),t_,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},c=r?.navigationId?r:null;if(r){const m={...r};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const u=this.parseUrl(e);this.scheduleNavigation(u,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(d_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:m}=i,_=m?this.currentUrlTree.fragment:c;let b=null;switch(u){case"merge":b={...this.currentUrlTree.queryParams,...o};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=o||null}return null!==b&&(b=this.removeEmptyProps(b)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,b,_??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=iu(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,t_,null,i)}navigate(e,i={skipLocationChange:!1}){return function lb(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...wC}:!1===i?{...ab}:i,iu(e))return Gg(this.currentUrlTree,e,r);const o=this.parseUrl(e);return Gg(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,c){if(this.disposed)return Promise.resolve(!1);let u,m,_,b;return c?(u=c.resolve,m=c.reject,_=c.promise):_=new Promise((T,R)=>{u=T,m=R}),b="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:b,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:u,reject:m,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(T=>Promise.reject(T))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",c)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cu=(()=>{class n{constructor(e,i,r,o,c,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.locationStrategy=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Rt.x;const m=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=e.events.subscribe(_=>{_ instanceof Fc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ji),s.Y36(Js),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(lt))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class cb{}let EC=(()=>{class n{constructor(e,i,r,o,c){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(xn(e=>e instanceof Fc),Go(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const c=o._injector??e,u=o._loadedInjector??c;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(c,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(u,o.children??o._loadedRoutes))}return(0,on.D)(r).pipe((0,Hh.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Ke(null);const o=r.pipe((0,Fn.z)(c=>null===c?Ke(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,on.D)([o,c]).pipe((0,Hh.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ji),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(cb),s.LFG(Ko))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const db=new s.OlP("");let DC=(()=>{class n{constructor(e,i,r,o,c={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ox?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Fc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Fx&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fx(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();var Qo=(()=>((Qo=Qo||{})[Qo.COMPLETE=0]="COMPLETE",Qo[Qo.FAILED=1]="FAILED",Qo[Qo.REDIRECTING=2]="REDIRECTING",Qo))();const rf=!1;function Uc(n,t){return{\u0275kind:n,\u0275providers:t}}const ub=new s.OlP("",{providedIn:"root",factory:()=>!1});function TC(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(Ji),r=n.get(SC);1===n.get(hb)&&i.initialNavigation(),n.get(fb,null,s.XFs.Optional)?.setUpPreloading(),n.get(db,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const SC=new s.OlP(rf?"bootstrap done indicator":"",{factory:()=>new Rt.x}),hb=new s.OlP(rf?"initial navigation":"",{providedIn:"root",factory:()=>1});function _A(){let n=[];return n=rf?[{provide:s.Xts,multi:!0,useFactory:()=>{const t=(0,s.f3M)(Ji);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function $F(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],Uc(1,n)}const fb=new s.OlP(rf?"router preloader":"");function AC(n){return Uc(0,[{provide:fb,useExisting:EC},{provide:cb,useExisting:n}])}const sf=!1,mb=new s.OlP(sf?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),MC=[Ue,{provide:tu,useClass:qh},Ji,lr,{provide:Js,useFactory:function IC(n){return n.routerState.root},deps:[Ji]},Ko,sf?{provide:ub,useValue:!0}:[]];function pb(){return new s.PXZ("Router",Ji)}let Bl=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[MC,sf&&i?.enableTracing?_A().\u0275providers:[],{provide:Xr,multi:!0,useValue:e},{provide:mb,useFactory:af,deps:[[Ji,new s.FiY,new s.tp0]]},{provide:x_,useValue:i||{}},i?.useHash?{provide:lt,useClass:Fe}:{provide:lt,useClass:Pe},{provide:db,useFactory:()=>{const n=(0,s.f3M)(Jl),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)(x_),i=(0,s.f3M)(w_),r=(0,s.f3M)(tu);return e.scrollOffset&&n.setOffset(e.scrollOffset),new DC(r,i,n,t,e)}},i?.preloadingStrategy?AC(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:pb},i?.initialNavigation?eL(i):[],[{provide:C_,useFactory:TC},{provide:s.tb,multi:!0,useExisting:C_}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Xr,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(mb,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bc]}),n})();function af(n){if(sf&&n)throw new s.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function eL(n){return["disabled"===n.initialNavigation?Uc(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(Ji);return()=>{t.setUpLocationChangeListener()}}},{provide:hb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Uc(2,[{provide:hb,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(xe,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Ji),o=t.get(SC);(function fA(n,t){n.events.pipe(xn(e=>e instanceof Fc||e instanceof Gm||e instanceof n_||e instanceof Wm),(0,ze.U)(e=>e instanceof Fc||e instanceof Wm?Qo.COMPLETE:e instanceof Gm&&(0===e.code||1===e.code)?Qo.REDIRECTING:Qo.FAILED),xn(e=>e!==Qo.REDIRECTING),ar(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(w_).afterPreactivation=()=>(i(!0),o.closed?Ke(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const C_=new s.OlP(sf?"Router Initializer":"");let E_;try{E_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E_=!1}let lf,cr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function cs(n){return n===tm}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!E_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kC=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function RC(){if(lf)return lf;if("object"!=typeof document||!document)return lf=new Set(kC),lf;let n=document.createElement("input");return lf=new Set(kC.filter(t=>(n.setAttribute("type",t),n.type===t))),lf}let Ga,uu,zn,D_;function Vl(n){return function DA(){if(null==Ga&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ga=!0}))}finally{Ga=Ga||!1}return Ga}()?n:!!n.capture}function IA(){if(null==zn){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return zn=!1,zn;if("scrollBehavior"in document.documentElement.style)zn=!0;else{const n=Element.prototype.scrollTo;zn=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return zn}function cf(){if("object"!=typeof document||!document)return 0;if(null==uu){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),uu=0,0===n.scrollLeft&&(n.scrollLeft=1,uu=0===n.scrollLeft?1:2),n.remove()}return uu}function dp(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Ul(n){return n.composedPath?n.composedPath()[0]:n.target}function I_(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function df(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var k_=U(4986);function R_(n,t=k_.z){return(0,Yn.e)((e,i)=>{let r=null,o=null,c=null;const u=()=>{if(r){r.unsubscribe(),r=null;const _=o;o=null,i.next(_)}};function m(){const _=c+n,b=t.now();if(b<_)return r=this.schedule(void 0,_-b),void i.add(r);u()}e.subscribe((0,ri.x)(i,_=>{o=_,c=t.now(),r||(r=t.schedule(m,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{o=r=null}))})}function ZC(n){return xn((t,e)=>n<=e)}function jc(n,t=jh.y){return n=n??YC,(0,Yn.e)((e,i)=>{let r,o=!0;e.subscribe((0,ri.x)(i,c=>{const u=t(c);(o||!n(r,u))&&(o=!1,r=u,i.next(c))}))})}function YC(n,t){return n===t}var KC=U(5032);function mi(n){return(0,Yn.e)((t,e)=>{(0,bs.Xf)(n).subscribe((0,ri.x)(e,()=>e.complete(),KC.Z)),!e.closed&&t.subscribe(e)})}function Cn(n){return null!=n&&"false"!=`${n}`}function Hc(n,t=0){return function QC(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function O_(n){return Array.isArray(n)?n:[n]}function Cr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Wa(n){return n instanceof s.SBq?n.nativeElement:n}let XC=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uM=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Wa(e);return new fi.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Rt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(XC))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JC=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=Cn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Hc(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(R_(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uM),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),zc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[XC]}),n})();const P_=new Set;let po,hM=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pp}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function N_(n){if(!P_.has(n))try{po||(po=document.createElement("style"),po.setAttribute("type","text/css"),document.head.appendChild(po)),po.sheet&&(po.sheet.insertRule(`@media ${n} {body{ }}`,0),P_.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(cr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pp(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let fM=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Rt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return eE(O_(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Nm(eE(O_(e)).map(c=>this._registerQuery(c).observable));return o=Fm(o.pipe(ar(1)),o.pipe(ZC(1),R_(0))),o.pipe((0,ze.U)(c=>{const u={matches:!1,breakpoints:{}};return c.forEach(({matches:m,query:_})=>{u.matches=u.matches||m,u.breakpoints[_]=m}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new fi.y(c=>{const u=m=>this._zone.run(()=>c.next(m));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(qo(i),(0,ze.U)(({matches:c})=>({query:e,matches:c})),mi(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hM),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eE(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class yb{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Rt.x,this._typeaheadSubscription=Ks.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Rt.x,this.change=new Rt.x,t instanceof s.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ji.b)(e=>this._pressedLetters.push(e)),R_(t),xn(()=>this._pressedLetters.length>0),(0,ze.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,c=i[o];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,c=this._getItemsArray().length;this._setActiveItemByIndex(o<c?o:c-1,-1);break}return;default:return void((r||df(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class lE extends yb{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let _p=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function cE(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function gM(n){try{return n.frameElement}catch{return null}}(function gE(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===bb(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=bb(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function pE(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function _M(n){return!function dE(n){return function hE(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function vb(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function uE(n){return function fE(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||mE(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(cr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mE(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function bb(n){if(!mE(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class _E{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ar(1)).subscribe(t)}}let Pr=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new _E(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_p),s.LFG(s.R0b),s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function F_(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function uf(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const vM=new s.OlP("cdk-input-modality-detector-options"),wb={ignoreKeys:[18,17,224,91,16]},hu=Vl({passive:!0,capture:!0});let bM=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Xi(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(u=>u===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ul(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(F_(c)?"keyboard":"mouse"),this._mostRecentTarget=Ul(c))},this._onTouchstart=c=>{uf(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ul(c))},this._options={...wb,...o},this.modalityDetected=this._modality.pipe(ZC(1)),this.modalityChanged=this.modalityDetected.pipe(jc()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,hu),r.addEventListener("mousedown",this._onMousedown,hu),r.addEventListener("touchstart",this._onTouchstart,hu)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,hu),document.removeEventListener("mousedown",this._onMousedown,hu),document.removeEventListener("touchstart",this._onTouchstart,hu))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(cr),s.LFG(s.R0b),s.LFG(ne),s.LFG(vM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cb=new s.OlP("cdk-focus-monitor-default-options"),Eb=Vl({passive:!0,capture:!0});let fu=(()=>{class n{constructor(e,i,r,o,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Rt.x,this._rootNodeFocusAndBlurListener=u=>{for(let _=Ul(u);_;_=_.parentElement)"focus"===u.type?this._onFocus(u,_):this._onBlur(u,_)},this._document=o,this._detectionMode=c?.detectionMode||0}monitor(e,i=!1){const r=Wa(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ke(null);const o=function OC(n){if(function TA(){if(null==D_){const n=typeof document<"u"?document.head:null;D_=!(!n||!n.createShadowRoot&&!n.attachShadow)}return D_}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const u={checkChildren:i,subject:new Rt.x,rootNode:o};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const i=Wa(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Wa(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([u,m])=>this._originChanged(u,i,m)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Ul(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Eb),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Eb)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(mi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Eb),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Eb),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let c=0;c<o.length;c++)if(o[c].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(cr),s.LFG(bM),s.LFG(ne,8),s.LFG(Cb,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Db="cdk-high-contrast-black-on-white",mu="cdk-high-contrast-white-on-black",Ib="cdk-high-contrast-active";let Tb=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(fM).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Ib,Db,mu),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Ib,Db):2===i&&e.add(Ib,mu)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(cr),s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L_=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tb))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[zc]}),n})();const u2=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function EM(){return(0,s.f3M)(ne)}}),h2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let jl=(()=>{class n{constructor(e){this.value="ltr",this.change=new s.vpe,e&&(this.value=function DM(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?h2.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(u2,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const OM=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function RM(){return!0}});let Ln=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!I_()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tb),s.LFG(OM,8),s.LFG(ne))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hf,hf]}),n})();function y2(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Cn(t)}constructor(...t){super(...t),this._disabled=!1}}}function NM(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function v2(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Cn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function b2(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Hc(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function w2(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let UM=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class T2{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const jM=Vl({passive:!0,capture:!0});class S2{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Ul(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const c=o.get(i);c?c.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,jM)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,jM)))}}const wE={enterDuration:225,exitDuration:150},xE=Vl({passive:!0,capture:!0}),zM=["mousedown","touchstart"],CE=["mouseup","mouseleave","touchend","touchcancel"];class pu{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Wa(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...wE,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function EE(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),u=t-r.left,m=e-r.top,_=o.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=u-c+"px",b.style.top=m-c+"px",b.style.height=2*c+"px",b.style.width=2*c+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);const T=window.getComputedStyle(b),B=T.transitionDuration,z="none"===T.transitionProperty||"0s"===B||"0s, 0s"===B||0===r.width&&0===r.height,K=new T2(this,b,i,z);b.style.transform="scale3d(1, 1, 1)",K.state=0,i.persistent||(this._mostRecentTransientRipple=K);let se=null;return!z&&(_||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Re=()=>this._finishRippleTransition(K),Qe=()=>this._destroyRipple(K);b.addEventListener("transitionend",Re),b.addEventListener("transitioncancel",Qe),se={onTransitionEnd:Re,onTransitionCancel:Qe}}),this._activeRipples.set(K,se),(z||!_)&&this._finishRippleTransition(K),K}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...wE,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Wa(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,zM.forEach(i=>{pu._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{CE.forEach(e=>{this._triggerElement.addEventListener(e,this,xE)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=F_(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!uf(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(zM.forEach(e=>pu._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&CE.forEach(e=>t.removeEventListener(e,this,xE)))}}pu._eventManager=new S2;const DE=new s.OlP("mat-ripple-global-options");let Es=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new pu(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(cr),s.Y36(DE,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),B_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ln,Ln]}),n})(),TE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ln]}),n})(),V_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[B_,Mn,Ln,TE]}),n})();const ME=["*",[["mat-toolbar-row"]]],ZM=["*","mat-toolbar-row"],Rb=NM(class{constructor(n){this._elementRef=n}});let Hl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Gc=(()=>{class n extends Rb{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(cr),s.Y36(ne))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,Hl,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:ZM,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(ME),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Ob=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ln,Ln]}),n})();const kE=["mat-button",""],KM=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],O2=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Pb=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],RE=NM(y2(v2(class{constructor(n){this._elementRef=n}})));let OE=(()=>{class n extends RE{constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,s.f3M)(fu),this._isFab=!1;const c=e.nativeElement.classList;for(const u of Pb)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(m=>{c.add(m)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(Es,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},features:[s.qOj]}),n})(),ff=(()=>{class n extends OE{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(cr),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:kE,ngContentSelectors:O2,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(s.F$t(KM),s._UZ(0,"span",0),s.Hsn(1),s.TgZ(2,"span",1),s.Hsn(3,1),s.qZA(),s.Hsn(4,2),s._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(s.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),s.xp6(6),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Es],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),vp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ln,B_,Ln]}),n})();var $2=U(1144);const G2=["addListener","removeListener"],W2=["addEventListener","removeEventListener"],q2=["on","off"];function bp(n,t,e,i){if((0,Ur.m)(e)&&(i=e,e=void 0),i)return bp(n,t,e).pipe(Th(i));const[r,o]=function NE(n){return(0,Ur.m)(n.addEventListener)&&(0,Ur.m)(n.removeEventListener)}(n)?W2.map(c=>u=>n[c](t,u,e)):function ok(n){return(0,Ur.m)(n.addListener)&&(0,Ur.m)(n.removeListener)}(n)?G2.map(wp(n,t)):function sk(n){return(0,Ur.m)(n.on)&&(0,Ur.m)(n.off)}(n)?q2.map(wp(n,t)):[];if(!r&&(0,$2.z)(n))return(0,Fn.z)(c=>bp(c,t,e))((0,bs.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new fi.y(c=>{const u=(...m)=>c.next(1<m.length?m:m[0]);return r(u),()=>o(u)})}function wp(n,t){return e=>i=>n[e](t,i)}var Wc=U(4408);const mf={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=mf;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Ks.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=mf;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=mf;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var U_=U(7565);const Lb=new class ak extends U_.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Fb extends Wc.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=mf.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(mf.cancelAnimationFrame(e),t._scheduled=void 0)}});let LE,j_=1;const Bb={};function lk(n){return n in Bb&&(delete Bb[n],!0)}const Z2={setImmediate(n){const t=j_++;return Bb[t]=!0,LE||(LE=Promise.resolve()),LE.then(()=>lk(t)&&n()),t},clearImmediate(n){lk(n)}},{setImmediate:dk,clearImmediate:uk}=Z2,H_={setImmediate(...n){const{delegate:t}=H_;return(t?.setImmediate||dk)(...n)},clearImmediate(n){const{delegate:t}=H_;return(t?.clearImmediate||uk)(n)},delegate:void 0},VE=new class BE extends U_.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class hk extends Wc.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=H_.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(H_.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var pk=U(3532);function jE(n,t=k_.z){return function mk(n){return(0,Yn.e)((t,e)=>{let i=!1,r=null,o=null,c=!1;const u=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const _=r;r=null,e.next(_)}c&&e.complete()},m=()=>{o=null,c&&e.complete()};t.subscribe((0,ri.x)(e,_=>{i=!0,r=_,o||(0,bs.Xf)(n(_)).subscribe(o=(0,ri.x)(e,u,m))},()=>{c=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function Vb(n=0,t,e=k_.P){let i=-1;return null!=t&&((0,pk.K)(t)?e=t:i=t),new fi.y(r=>{let o=function UE(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}const HE=["contentWrapper"],Ub=["*"],gk=new s.OlP("VIRTUAL_SCROLL_STRATEGY");let pf=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Rt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new fi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(jE(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ke()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(xn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Wa(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>bp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(cr),s.LFG(ne,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gu=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Rt.x,this._elementScrolled=new fi.y(c=>this.ngZone.runOutsideAngular(()=>bp(this.elementRef.nativeElement,"scroll").pipe(mi(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=cf()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==cf()?e.left=e.right:1==cf()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;IA()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==cf()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&1==cf()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(pf),s.Y36(s.R0b),s.Y36(jl,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),z_=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Rt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(jE(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(cr),s.LFG(s.R0b),s.LFG(ne,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yk=new s.OlP("VIRTUAL_SCROLLABLE");let Q2=(()=>{class n extends gu{constructor(e,i,r,o){super(e,i,r,o)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(pf),s.Y36(s.R0b),s.Y36(jl,8))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const X2=typeof requestAnimationFrame<"u"?Lb:VE;let J2=(()=>{class n extends Q2{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Cn(e)}constructor(e,i,r,o,c,u,m,_){super(e,u,r,c),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=_,this._platform=(0,s.f3M)(cr),this._detachedSubject=new Rt.x,this._renderedRangeSubject=new Rt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new fi.y(b=>this._scrollStrategy.scrolledIndexChange.subscribe(T=>Promise.resolve().then(()=>this.ngZone.run(()=>b.next(T))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ks.w0.EMPTY,this._viewportChanges=m.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(qo(null),jE(0,X2)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(mi(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function vk(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const o="horizontal"==this.orientation,c=o?"X":"Y";let m=`translate${c}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(m+=` translate${c}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=m&&(this._renderedContentTransform=m,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",o="right",c="rtl"==this.dir?.value;i="start"==e?c?o:r:"end"==e?c?r:o:e||("horizontal"===this.orientation?"left":"top");const u=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-u}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(gk,8),s.Y36(jl,8),s.Y36(pf),s.Y36(z_),s.Y36(yk,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&s.Gf(HE,7),2&e){let r;s.iGM(r=s.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[s._Bn([{provide:gu,useFactory:(t,e)=>t||e,deps:[[new s.FiY,new s.tBr(yk)],n]}]),s.qOj,s.jDz],ngContentSelectors:Ub,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(3),s.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),a=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),l=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hf,a,J2,hf,a]}),n})();var d=U(6451);class h{}class f{}const g="*";function v(n,t){return{type:7,name:n,definitions:t,options:{}}}function E(n,t=null){return{type:4,styles:t,timings:n}}function S(n,t=null){return{type:2,steps:n,options:t}}function O(n){return{type:6,styles:n,offset:null}}function H(n,t,e){return{type:0,name:n,styles:t,options:e}}function re(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Le(n){Promise.resolve().then(n)}class jt{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Le(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class pi{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?Le(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,u)=>Math.max(c,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Si="!",jb=["*"],cG=["content"];function dG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function uG(n,t){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const hG=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],fG=["mat-drawer","mat-drawer-content","*"];function mG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function pG(n,t){1&n&&(s.TgZ(0,"mat-sidenav-content"),s.Hsn(1,2),s.qZA())}const gG=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],_G=["mat-sidenav","mat-sidenav-content","*"],eB={transformDrawer:v("transform",[H("open, open-instant",O({transform:"none",visibility:"visible"})),H("void",O({"box-shadow":"none",visibility:"hidden"})),re("void => open-instant",E("0ms")),re("void <=> open, open-instant => void",E("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},vG=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function bG(){return!1}}),bk=new s.OlP("MAT_DRAWER_CONTAINER");let zE=(()=>{class n extends gu{constructor(e,i,r,o,c){super(r,o,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>nB)),s.Y36(s.SBq),s.Y36(pf),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:gu,useExisting:n}]),s.qOj],ngContentSelectors:jb,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),tB=(()=>{class n{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Cn(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Cn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Cn(e))}constructor(e,i,r,o,c,u,m,_){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=c,this._interactivityChecker=u,this._doc=m,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Rt.x,this._animationEnd=new Rt.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(xn(b=>b),(0,ze.U)(()=>{})),this.openedStart=this._animationStarted.pipe(xn(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),Sv(void 0)),this._closedStream=this.openedChange.pipe(xn(b=>!b),(0,ze.U)(()=>{})),this.closedStart=this._animationStarted.pipe(xn(b=>b.fromState!==b.toState&&"void"===b.toState),Sv(void 0)),this._destroyed=new Rt.x,this.onPositionChanged=new s.vpe,this._modeChanged=new Rt.x,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{bp(this._elementRef.nativeElement,"keydown").pipe(xn(b=>27===b.keyCode&&!this.disableClose&&!df(b)),mi(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe(jc((b,T)=>b.fromState===T.fromState&&b.toState===T.toState)).subscribe(b=>{const{fromState:T,toState:R}=b;(0===R.indexOf("open")&&"void"===T||"void"===R&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(ar(1)).subscribe(c=>o(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Pr),s.Y36(fu),s.Y36(cr),s.Y36(s.R0b),s.Y36(_p),s.Y36(ne,8),s.Y36(bk,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&s.Gf(cG,5),2&e){let r;s.iGM(r=s.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&s.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(s.uIk("align",null),s.d8E("@transform",i._animationState),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:jb,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[gu],encapsulation:2,data:{animation:[eB.transformDrawer]},changeDetection:0}),n})(),nB=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Cn(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Cn(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,o,c,u=!1,m){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=m,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new Rt.x,this._doCheckSubject=new Rt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Rt.x,e&&e.change.pipe(mi(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(mi(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=u}ngAfterContentInit(){this._allDrawers.changes.pipe(qo(this._allDrawers),mi(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(qo(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(R_(10),mi(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(xn(i=>i.fromState!==i.toState),mi(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(mi(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(mi(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(ar(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(mi((0,d.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(jl,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(z_),s.Y36(vG),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,zE,5),s.Suo(r,tB,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(zE,5),2&e){let r;s.iGM(r=s.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:bk,useExisting:n}])],ngContentSelectors:fG,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(hG),s.YNc(0,dG,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,uG,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[vi,zE],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),wk=(()=>{class n extends zE{constructor(e,i,r,o,c){super(e,i,r,o,c)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>iB)),s.Y36(s.SBq),s.Y36(pf),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:gu,useExisting:n}]),s.qOj],ngContentSelectors:jb,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),wG=(()=>{class n extends tB{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Cn(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Hc(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Hc(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(s.uIk("align",null),s.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[s.qOj],ngContentSelectors:jb,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[gu],encapsulation:2,data:{animation:[eB.transformDrawer]},changeDetection:0}),n})(),iB=(()=>{class n extends nB{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,wk,5),s.Suo(r,wG,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[s._Bn([{provide:bk,useExisting:n}]),s.qOj],ngContentSelectors:_G,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(gG),s.YNc(0,mG,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,pG,2,0,"mat-sidenav-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[vi,wk],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),xG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Ln,a,a,Ln]}),n})();const CG=["*"];let EG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-navigation"]],ngContentSelectors:CG,decls:13,vars:2,consts:[[1,"bg-cadetblue","text-ghostwhite"],[1,"d-flex-center"],[1,"font-family"],["mat-button","",1,"mx-2",3,"routerLink"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"mat-toolbar",0)(1,"div",1)(2,"div",2)(3,"span"),s._uU(4,"StrefaDwuboju"),s.qZA()()(),s.TgZ(5,"div")(6,"button",3),s._uU(7," Treningi "),s.qZA(),s.TgZ(8,"button",3),s._uU(9," Podopieczni "),s.qZA()()(),s.TgZ(10,"mat-sidenav-container")(11,"mat-sidenav-content"),s.Hsn(12),s.qZA()()),2&e&&(s.xp6(6),s.Q6J("routerLink","/training-plans"),s.xp6(2),s.Q6J("routerLink","/users-list"))},dependencies:[Gc,cu,ff,iB,wk],encapsulation:2,changeDetection:0}),n})(),DG=(()=>{class n{constructor(){this.title="ng-material-starter-kit-acms"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"app-navigation"),s._UZ(1,"router-outlet"),s.qZA())},dependencies:[Xh,EG]}),n})();var In=U(4976);function xk(){return(0,Yn.e)((n,t)=>{let e,i=!1;n.subscribe((0,ri.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var at,zl=U(2011),IG=(U(9568),U(3942)),De=U(5861),Xo=U(6881),Hb=U(4859),qc=U(1877),ie=U(2090),TG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$l={},Ck=Ck||{},an=TG||self;function $E(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function zb(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Ek="closure_uid_"+(1e9*Math.random()>>>0),AG=0;function MG(n,t,e){return n.call.apply(n.bind,arguments)}function kG(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Mo(n,t,e){return(Mo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?MG:kG).apply(null,arguments)}function GE(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Jr(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var c=Array(arguments.length-2),u=2;u<arguments.length;u++)c[u-2]=arguments[u];return t.prototype[r].apply(i,c)}}function gf(){this.s=this.s,this.o=this.o}gf.prototype.s=!1,gf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function SG(n){Object.prototype.hasOwnProperty.call(n,Ek)&&n[Ek]||(n[Ek]=++AG)}(this)},gf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rB=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function Dk(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function oB(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if($E(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let c=0;c<o;c++)n[r+c]=i[c]}else n.push(i)}}function ko(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}ko.prototype.h=function(){this.defaultPrevented=!0};var OG=function(){if(!an.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{an.addEventListener("test",()=>{},t),an.removeEventListener("test",()=>{},t)}catch{}return n}();function $b(n){return/^[\s\xa0]*$/.test(n)}function WE(){var n=an.navigator;return n&&(n=n.userAgent)?n:""}function Zc(n){return-1!=WE().indexOf(n)}function Ik(n){return Ik[" "](n),n}Ik[" "]=function(){};var Sk,n,NG=Zc("Opera"),$_=Zc("Trident")||Zc("MSIE"),sB=Zc("Edge"),Tk=sB||$_,aB=Zc("Gecko")&&!(-1!=WE().toLowerCase().indexOf("webkit")&&!Zc("Edge"))&&!(Zc("Trident")||Zc("MSIE"))&&!Zc("Edge"),FG=-1!=WE().toLowerCase().indexOf("webkit")&&!Zc("Edge");function lB(){var n=an.document;return n?n.documentMode:void 0}e:{var Ak="",Mk=(n=WE(),aB?/rv:([^\);]+)(\)|;)/.exec(n):sB?/Edge\/([\d\.]+)/.exec(n):$_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):FG?/WebKit\/(\S+)/.exec(n):NG?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Mk&&(Ak=Mk?Mk[1]:""),$_){var kk=lB();if(null!=kk&&kk>parseFloat(Ak)){Sk=String(kk);break e}}Sk=Ak}var LG=an.document&&$_&&(lB()||parseInt(Sk,10))||void 0;function Gb(n,t){if(ko.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(aB){e:{try{Ik(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:BG[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Gb.$.h.call(this)}}Jr(Gb,ko);var BG={2:"touch",3:"pen",4:"mouse"};Gb.prototype.h=function(){Gb.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wb="closure_listenable_"+(1e6*Math.random()|0),VG=0;function UG(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++VG,this.fa=this.ia=!1}function qE(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Ok(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function dB(n){const t={};for(const e in n)t[e]=n[e];return t}const uB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hB(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<uB.length;o++)e=uB[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function ZE(n){this.src=n,this.g={},this.h=0}function Pk(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=rB(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(qE(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Nk(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}ZE.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=Nk(n,t,i,r);return-1<c?(t=n[c],e||(t.ia=!1)):((t=new UG(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var Fk="closure_lm_"+(1e6*Math.random()|0),Lk={};function fB(n,t,e,i,r){if(i&&i.once)return pB(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)fB(n,t[o],e,i,r);return null}return e=jk(e),n&&n[Wb]?n.O(t,e,zb(i)?!!i.capture:!!i,r):mB(n,t,e,!1,i,r)}function mB(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var c=zb(r)?!!r.capture:!!r,u=Vk(n);if(u||(n[Fk]=u=new ZE(n)),(e=u.add(t,e,i,c,o)).proxy)return e;if(i=function HG(){const t=zG;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)OG||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(_B(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function pB(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)pB(n,t[o],e,i,r);return null}return e=jk(e),n&&n[Wb]?n.P(t,e,zb(i)?!!i.capture:!!i,r):mB(n,t,e,!0,i,r)}function gB(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)gB(n,t[o],e,i,r);else i=zb(i)?!!i.capture:!!i,e=jk(e),n&&n[Wb]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Nk(o=n.g[t],e,i,r))&&(qE(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Vk(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Nk(t,e,i,r)),(e=-1<n?t[n]:null)&&Bk(e))}function Bk(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Wb])Pk(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(_B(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Vk(t))?(Pk(e,n),0==e.h&&(e.src=null,t[Fk]=null)):qE(n)}}}function _B(n){return n in Lk?Lk[n]:Lk[n]="on"+n}function zG(n,t){if(n.fa)n=!0;else{t=new Gb(t,this);var e=n.listener,i=n.la||n.src;n.ia&&Bk(n),n=e.call(i,t)}return n}function Vk(n){return(n=n[Fk])instanceof ZE?n:null}var Uk="__closure_events_fn_"+(1e9*Math.random()>>>0);function jk(n){return"function"==typeof n?n:(n[Uk]||(n[Uk]=function(t){return n.handleEvent(t)}),n[Uk])}function eo(){gf.call(this),this.i=new ZE(this),this.S=this,this.J=null}function go(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new ko(t,n);else if(t instanceof ko)t.target=t.target||n;else{var r=t;hB(t=new ko(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var c=t.g=e[o];r=YE(c,i,!0,t)&&r}if(r=YE(c=t.g=n,i,!0,t)&&r,r=YE(c,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=YE(c=t.g=e[o],i,!1,t)&&r}function YE(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var c=t[o];if(c&&!c.fa&&c.capture==e){var u=c.listener,m=c.la||c.src;c.ia&&Pk(n.i,c),r=!1!==u.call(m,i)&&r}}return r&&!i.defaultPrevented}Jr(eo,gf),eo.prototype[Wb]=!0,eo.prototype.removeEventListener=function(n,t,e,i){gB(this,n,t,e,i)},eo.prototype.N=function(){if(eo.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)qE(e[i]);delete n.g[t],n.h--}}this.J=null},eo.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},eo.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Hk=an.JSON.stringify;function GG(){var n=zk;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var yB=new class $G{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new qG,n=>n.reset());class qG{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function ZG(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function YG(n){an.setTimeout(()=>{throw n},0)}let qb,Zb=!1,zk=new class WG{constructor(){this.h=this.g=null}add(t,e){const i=yB.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},vB=()=>{const n=an.Promise.resolve(void 0);qb=()=>{n.then(KG)}};var KG=()=>{for(var n;n=GG();){try{n.h.call(n.g)}catch(e){YG(e)}var t=yB;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Zb=!1};function KE(n,t){eo.call(this),this.h=n||1,this.g=t||an,this.j=Mo(this.qb,this),this.l=Date.now()}function $k(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Gk(n,t,e){if("function"==typeof n)e&&(n=Mo(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Mo(n.handleEvent,n)}return 2147483647<Number(t)?-1:an.setTimeout(n,t||0)}function bB(n){n.g=Gk(()=>{n.g=null,n.i&&(n.i=!1,bB(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Jr(KE,eo),(at=KE.prototype).ga=!1,at.T=null,at.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),go(this,"tick"),this.ga&&($k(this),this.start()))}},at.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.N=function(){KE.$.N.call(this),$k(this),delete this.g};class QG extends gf{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:bB(this)}N(){super.N(),this.g&&(an.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yb(n){gf.call(this),this.h=n,this.g={}}Jr(Yb,gf);var wB=[];function xB(n,t,e,i){Array.isArray(e)||(e&&(wB[0]=e.toString()),e=wB);for(var r=0;r<e.length;r++){var o=fB(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function CB(n){Ok(n.g,function(t,e){this.g.hasOwnProperty(e)&&Bk(t)},n),n.g={}}function QE(){this.g=!0}function G_(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function t5(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return Hk(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Yb.prototype.N=function(){Yb.$.N.call(this),CB(this)},Yb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},QE.prototype.Ea=function(){this.g=!1},QE.prototype.info=function(){};var xp={},EB=null;function XE(){return EB=EB||new eo}function DB(n){ko.call(this,xp.Ta,n)}function Kb(n){const t=XE();go(t,new DB(t))}function IB(n,t){ko.call(this,xp.STAT_EVENT,n),this.stat=t}function Jo(n){const t=XE();go(t,new IB(t,n))}function TB(n,t){ko.call(this,xp.Ua,n),this.size=t}function Qb(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return an.setTimeout(function(){n()},t)}xp.Ta="serverreachability",Jr(DB,ko),xp.STAT_EVENT="statevent",Jr(IB,ko),xp.Ua="timingevent",Jr(TB,ko);var JE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},SB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wk(){}function MB(){}Wk.prototype.h=null;var Yk,Xb={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qk(){ko.call(this,"d")}function Zk(){ko.call(this,"c")}function eD(){}function Jb(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Yb(this),this.P=n5,this.V=new KE(n=Tk?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new kB}function kB(){this.i=null,this.g="",this.h=!1}Jr(qk,ko),Jr(Zk,ko),Jr(eD,Wk),eD.prototype.g=function(){return new XMLHttpRequest},eD.prototype.i=function(){return{}},Yk=new eD;var n5=45e3,Kk={},tD={};function Qk(n,t,e){n.L=1,n.v=oD(_u(t)),n.s=e,n.S=!0,RB(n,null)}function RB(n,t){n.G=Date.now(),e0(n),n.A=_u(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),HB(e.i,"t",i),n.C=0,e=n.l.J,n.h=new kB,n.g=hV(n.l,e?t:null,!n.s),0<n.O&&(n.M=new QG(Mo(n.Pa,n,n.g),n.O)),xB(n.U,n.g,"readystatechange",n.nb),t=n.I?dB(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Kb(),function XG(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",u=o.split("&"),m=0;m<u.length;m++){var _=u[m].split("=");if(1<_.length){var b=_[0];_=_[1];var T=b.split("_");c=2<=T.length&&"type"==T[1]?c+(b+"=")+_+"&":c+(b+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function OB(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function PB(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=r5(n,e),r==tD){4==t&&(n.o=4,Jo(14),i=!1),G_(n.j,n.m,null,"[Incomplete Response]");break}if(r==Kk){n.o=4,Jo(15),G_(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}G_(n.j,n.m,r,null),Xk(n,r)}OB(n)&&r!=tD&&r!=Kk&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Jo(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),s1(t),t.M=!0,Jo(11))):(G_(n.j,n.m,e,"[Invalid Chunked Response]"),Cp(n),t0(n))}function r5(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?tD:(e=Number(t.substring(e,i)),isNaN(e)?Kk:(i+=1)+e>t.length?tD:(t=t.slice(i,i+e),n.C=i+e,t))}function e0(n){n.Y=Date.now()+n.P,NB(n,n.P)}function NB(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Qb(Mo(n.lb,n),t)}function nD(n){n.B&&(an.clearTimeout(n.B),n.B=null)}function t0(n){0==n.l.H||n.J||lV(n.l,n)}function Cp(n){nD(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,$k(n.V),CB(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function Xk(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||Jk(e.i,n)))if(!n.K&&Jk(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;uD(e),cD(e)}o1(e),Jo(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Qb(Mo(e.ib,e),6e3));if(1>=GB(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Dp(e,11)}else if((n.K||e.g==n)&&uD(e),!$b(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.V=_[0],_=_[1],2==e.H)if("c"==_[0]){e.K=_[1],e.pa=_[2];const b=_[3];null!=b&&(e.ra=b,e.l.info("VER="+e.ra));const T=_[4];null!=T&&(e.Ga=T,e.l.info("SVER="+e.Ga));const R=_[5];null!=R&&"number"==typeof R&&0<R&&(e.L=i=1.5*R,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const z=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var o=i.i;o.g||-1==z.indexOf("spdy")&&-1==z.indexOf("quic")&&-1==z.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(e1(o,o.h),o.h=null))}if(i.F){const K=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(i.Da=K,Ai(i.I,i.F,K))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var c=n;if((i=e).wa=uV(i,i.J?i.pa:null,i.Y),c.K){WB(i.i,c);var u=c,m=i.L;m&&u.setTimeout(m),u.B&&(nD(u),e0(u)),i.g=c}else sV(i);0<e.j.length&&dD(e)}else"stop"!=_[0]&&"close"!=_[0]||Dp(e,7);else 3==e.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Dp(e,7):r1(e):"noop"!=_[0]&&e.h&&e.h.Aa(_),e.A=0)}Kb()}catch{}}function FB(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if($E(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function s5(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if($E(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function o5(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if($E(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(at=Jb.prototype).setTimeout=function(n){this.P=n},at.nb=function(n){n=n.target;const t=this.M;t&&3==Yc(n)?t.l():this.Pa(n)},at.Pa=function(n){try{if(n==this.g)e:{const b=Yc(this.g);var t=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||Tk||this.g&&(this.h.h||this.g.ja()||eV(this.g)))){this.J||4!=b||7==t||Kb(),nD(this);var e=this.g.da();this.ca=e;t:if(OB(this)){var i=eV(this.g);n="";var r=i.length,o=4==Yc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cp(this),t0(this);var c="";break t}this.h.i=new an.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==e,function JG(n,t,e,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.W,b,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,m=this.g;if((u=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$b(u)){var _=u;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,Jo(12),Cp(this),t0(this);break e}G_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xk(this,e)}this.S?(PB(this,b,c),Tk&&this.i&&3==b&&(xB(this.U,this.V,"tick",this.mb),this.V.start())):(G_(this.j,this.m,c,null),Xk(this,c)),4==b&&Cp(this),this.i&&!this.J&&(4==b?lV(this.l,this):(this.i=!1,e0(this)))}else(function E5(n){const t={};n=(n.g&&2<=Yc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if($b(n[i]))continue;var e=ZG(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function jG(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<c.indexOf("Unknown SID")?(this.o=3,Jo(12)):(this.o=0,Jo(13)),Cp(this),t0(this)}}}catch{}},at.mb=function(){if(this.g){var n=Yc(this.g),t=this.g.ja();this.C<t.length&&(nD(this),PB(this,n,t),this.i&&4!=n&&e0(this))}},at.cancel=function(){this.J=!0,Cp(this)},at.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function e5(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Kb(),Jo(17)),Cp(this),this.o=2,t0(this)):NB(this,this.Y-n)};var LB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ep(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ep){this.h=n.h,iD(this,n.j),this.s=n.s,this.g=n.g,rD(this,n.m),this.l=n.l;var t=n.i,e=new o0;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),BB(this,e),this.o=n.o}else n&&(t=String(n).match(LB))?(this.h=!1,iD(this,t[1]||"",!0),this.s=n0(t[2]||""),this.g=n0(t[3]||"",!0),rD(this,t[4]),this.l=n0(t[5]||"",!0),BB(this,t[6]||"",!0),this.o=n0(t[7]||"")):(this.h=!1,this.i=new o0(null,this.h))}function _u(n){return new Ep(n)}function iD(n,t,e){n.j=e?n0(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function rD(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function BB(n,t,e){t instanceof o0?(n.i=t,function f5(n,t){t&&!n.j&&(_f(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(UB(this,i),HB(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=r0(t,u5)),n.i=new o0(t,n.h))}function Ai(n,t,e){n.i.set(t,e)}function oD(n){return Ai(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function n0(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function r0(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,l5),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function l5(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ep.prototype.toString=function(){var n=[],t=this.j;t&&n.push(r0(t,VB,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(r0(t,VB,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(r0(e,"/"==e.charAt(0)?d5:c5,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",r0(e,h5)),n.join("")};var VB=/[#\/\?@]/g,c5=/[#\?:]/g,d5=/[#\?]/g,u5=/[#\?@]/g,h5=/#/g;function o0(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function _f(n){n.g||(n.g=new Map,n.h=0,n.i&&function a5(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function UB(n,t){_f(n),t=W_(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function jB(n,t){return _f(n),t=W_(n,t),n.g.has(t)}function HB(n,t,e){UB(n,t),0<e.length&&(n.i=null,n.g.set(W_(n,t),Dk(e)),n.h+=e.length)}function W_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function zB(n){this.l=n||p5,n=an.PerformanceNavigationTiming?0<(n=an.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(an.g&&an.g.Ka&&an.g.Ka()&&an.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=o0.prototype).add=function(n,t){_f(this),this.i=null,n=W_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},at.forEach=function(n,t){_f(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},at.ta=function(){_f(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},at.Z=function(n){_f(this);let t=[];if("string"==typeof n)jB(this,n)&&(t=t.concat(this.g.get(W_(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},at.set=function(n,t){return _f(this),this.i=null,jB(this,n=W_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},at.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),c=this.Z(i);for(i=0;i<c.length;i++){var r=o;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var p5=10;function $B(n){return!!n.h||!!n.g&&n.g.size>=n.j}function GB(n){return n.h?1:n.g?n.g.size:0}function Jk(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function e1(n,t){n.g?n.g.add(t):n.h=t}function WB(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function qB(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return Dk(n.i)}zB.prototype.cancel=function(){if(this.i=qB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var g5=class{stringify(n){return an.JSON.stringify(n,void 0)}parse(n){return an.JSON.parse(n,void 0)}};function _5(){this.g=new g5}function y5(n,t,e){const i=e||"";try{FB(n,function(r,o){let c=r;zb(r)&&(c=Hk(r)),t.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function sD(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function s0(n){this.l=n.fc||null,this.j=n.ob||!1}function aD(n,t){eo.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=t1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jr(s0,Wk),s0.prototype.g=function(){return new aD(this.l,this.j)},s0.prototype.i=function(n){return function(){return n}}({}),Jr(aD,eo);var t1=0;function ZB(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function a0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,l0(n)}function l0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=aD.prototype).open=function(n,t){if(this.readyState!=t1)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,l0(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||an).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,a0(this)),this.readyState=t1},at.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,l0(this)),this.g&&(this.readyState=3,l0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof an.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZB(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},at.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?a0(this):l0(this),3==this.readyState&&ZB(this)}},at.Za=function(n){this.g&&(this.response=this.responseText=n,a0(this))},at.Ya=function(n){this.g&&(this.response=n,a0(this))},at.ka=function(){this.g&&a0(this)},at.setRequestHeader=function(n,t){this.v.append(n,t)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(aD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var b5=an.JSON.parse;function dr(n){eo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=YB,this.L=this.M=!1}Jr(dr,eo);var YB="",w5=/^https?$/i,x5=["POST","PUT"];function KB(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,QB(n),lD(n)}function QB(n){n.F||(n.F=!0,go(n,"complete"),go(n,"error"))}function XB(n){if(n.h&&typeof Ck<"u"&&(!n.C[1]||4!=Yc(n)||2!=n.da()))if(n.v&&4==Yc(n))Gk(n.La,0,n);else if(go(n,"readystatechange"),4==Yc(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===c){var r=String(n.I).match(LB)[1]||null;!r&&an.self&&an.self.location&&(r=an.self.location.protocol.slice(0,-1)),i=!w5.test(r?r.toLowerCase():"")}e=i}if(e)go(n,"complete"),go(n,"success");else{n.m=6;try{var o=2<Yc(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",QB(n)}}finally{lD(n)}}}function lD(n,t){if(n.g){JB(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||go(n,"ready");try{e.onreadystatechange=i}catch{}}}function JB(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(an.clearTimeout(n.A),n.A=null)}function Yc(n){return n.g?n.g.readyState:0}function eV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case YB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function tV(n){let t="";return Ok(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function n1(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=tV(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Ai(n,t,e))}function c0(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function nV(n){this.Ga=0,this.j=[],this.l=new QE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=c0("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=c0("baseRetryDelayMs",5e3,n),this.hb=c0("retryDelaySeedMs",1e4,n),this.eb=c0("forwardChannelMaxRetries",2,n),this.xa=c0("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new zB(n&&n.concurrentRequestLimit),this.Ja=new _5,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function r1(n){if(iV(n),3==n.H){var t=n.W++,e=_u(n.I);if(Ai(e,"SID",n.K),Ai(e,"RID",t),Ai(e,"TYPE","terminate"),d0(n,e),(t=new Jb(n,n.l,t)).L=2,t.v=oD(_u(e)),e=!1,an.navigator&&an.navigator.sendBeacon)try{e=an.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&an.Image&&((new Image).src=t.v,e=!0),e||(t.g=hV(t.l,null),t.g.ha(t.v)),t.G=Date.now(),e0(t)}dV(n)}function cD(n){n.g&&(s1(n),n.g.cancel(),n.g=null)}function iV(n){cD(n),n.u&&(an.clearTimeout(n.u),n.u=null),uD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&an.clearTimeout(n.m),n.m=null)}function dD(n){if(!$B(n.i)&&!n.m){n.m=!0;var t=n.Na;qb||vB(),Zb||(qb(),Zb=!0),zk.add(t,n),n.C=0}}function rV(n,t){var e;e=t?t.m:n.W++;const i=_u(n.I);Ai(i,"SID",n.K),Ai(i,"RID",e),Ai(i,"AID",n.V),d0(n,i),n.o&&n.s&&n1(i,n.o,n.s),e=new Jb(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=oV(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),e1(n.i,e),Qk(e,i,t)}function d0(n,t){n.na&&Ok(n.na,function(e,i){Ai(t,i,e)}),n.h&&FB({},function(e,i){Ai(t,i,e)})}function oV(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Mo(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const c=["count="+e];-1==o?0<e?(o=r[0].g,c.push("ofs="+o)):o=0:c.push("ofs="+o);let u=!0;for(let m=0;m<e;m++){let _=r[m].g;const b=r[m].map;if(_-=o,0>_)o=Math.max(0,r[m].g-100),u=!1;else try{y5(b,c,"req"+_+"_")}catch{i&&i(b)}}if(u){i=c.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function sV(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;qb||vB(),Zb||(qb(),Zb=!0),zk.add(t,n),n.A=0}}function o1(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Qb(Mo(n.Ma,n),cV(n,n.A)),n.A++,0))}function s1(n){null!=n.B&&(an.clearTimeout(n.B),n.B=null)}function aV(n){n.g=new Jb(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=_u(n.wa);Ai(t,"RID","rpc"),Ai(t,"SID",n.K),Ai(t,"AID",n.V),Ai(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ai(t,"TO",n.qa),Ai(t,"TYPE","xmlhttp"),d0(n,t),n.o&&n.s&&n1(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=oD(_u(t)),e.s=null,e.S=!0,RB(e,n)}function uD(n){null!=n.v&&(an.clearTimeout(n.v),n.v=null)}function lV(n,t){var e=null;if(n.g==t){uD(n),s1(n),n.g=null;var i=2}else{if(!Jk(n.i,t))return;e=t.F,WB(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;go(i=XE(),new TB(i,e)),dD(n)}else sV(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function D5(n,t){return!(GB(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Qb(Mo(n.Na,n,t),cV(n,n.C)),n.C++,0)))}(n,t)||2==i&&o1(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Dp(n,5);break;case 4:Dp(n,10);break;case 3:Dp(n,6);break;default:Dp(n,2)}}function cV(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Dp(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Mo(n.pb,n);e||(e=new Ep("//www.google.com/images/cleardot.gif"),an.location&&"http"==an.location.protocol||iD(e,"https"),oD(e)),function v5(n,t){const e=new QE;if(an.Image){const i=new Image;i.onload=GE(sD,e,i,"TestLoadImage: loaded",!0,t),i.onerror=GE(sD,e,i,"TestLoadImage: error",!1,t),i.onabort=GE(sD,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=GE(sD,e,i,"TestLoadImage: timeout",!1,t),an.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Jo(2);n.H=0,n.h&&n.h.za(t),dV(n),iV(n)}function dV(n){if(n.H=0,n.ma=[],n.h){const t=qB(n.i);(0!=t.length||0!=n.j.length)&&(oB(n.ma,t),oB(n.ma,n.j),n.i.i.length=0,Dk(n.j),n.j.length=0),n.h.ya()}}function uV(n,t,e){var i=e instanceof Ep?_u(e):new Ep(e);if(""!=i.g)t&&(i.g=t+"."+i.g),rD(i,i.m);else{var r=an.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Ep(null);i&&iD(o,i),t&&(o.g=t),r&&rD(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&Ai(i,e,t),Ai(i,"VER",n.ra),d0(n,i),i}function hV(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new dr(e&&n.Ha&&!n.va?new s0({ob:!0}):n.va)).Oa(n.J),t}function fV(){}function hD(){if($_&&!(10<=Number(LG)))throw Error("Environmental error: no available transport.")}function ra(n,t){eo.call(this),this.g=new nV(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!$b(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$b(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new q_(this)}function mV(n){qk.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function pV(){Zk.call(this),this.status=1}function q_(n){this.g=n}function Gl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function a1(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],c=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;c=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(c<<7&4294967295|c>>>25))+((c=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((o=(t=e+((c=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((r=o+((c=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Qn(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(at=dr.prototype).Oa=function(n){this.M=n},at.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yk.g(),this.C=function AB(n){return n.h||(n.h=n.i())}(this.u?this.u:Yk),this.g.onreadystatechange=Mo(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void KB(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=an.FormData&&n instanceof an.FormData,!(0<=rB(x5,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of e)this.g.setRequestHeader(o,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{JB(this),0<this.B&&((this.L=function C5(n){return $_&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mo(this.ua,this)):this.A=Gk(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){KB(this,o)}},at.ua=function(){typeof Ck<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,go(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,go(this,"complete"),go(this,"abort"),lD(this))},at.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lD(this,!0)),dr.$.N.call(this)},at.La=function(){this.s||(this.G||this.v||this.l?XB(this):this.kb())},at.kb=function(){XB(this)},at.isActive=function(){return!!this.g},at.da=function(){try{return 2<Yc(this)?this.g.status:-1}catch{return-1}},at.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},at.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),b5(t)}},at.Ia=function(){return this.m},at.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=nV.prototype).ra=8,at.H=1,at.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Jb(this,this.l,n);let o=this.s;if(this.U&&(o?(o=dB(o),hB(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=oV(this,r,t),Ai(e=_u(this.I),"RID",n),Ai(e,"CVER",22),this.F&&Ai(e,"X-HTTP-Session-Id",this.F),d0(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(tV(o)))+"&"+t:this.o&&n1(e,this.o,o)),e1(this.i,r),this.bb&&Ai(e,"TYPE","init"),this.P?(Ai(e,"$req",t),Ai(e,"SID","null"),r.aa=!0,Qk(r,e,null)):Qk(r,e,t),this.H=2}}else 3==this.H&&(n?rV(this,n):0==this.j.length||$B(this.i)||rV(this))},at.Ma=function(){if(this.u=null,aV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Qb(Mo(this.jb,this),n)}},at.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Jo(10),cD(this),aV(this))},at.ib=function(){null!=this.v&&(this.v=null,cD(this),o1(this),Jo(19))},at.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Jo(2)):(this.l.info("Failed to ping google.com"),Jo(1))},at.isActive=function(){return!!this.h&&this.h.isActive(this)},(at=fV.prototype).Ba=function(){},at.Aa=function(){},at.za=function(){},at.ya=function(){},at.isActive=function(){return!0},at.Va=function(){},hD.prototype.g=function(n,t){return new ra(n,t)},Jr(ra,eo),ra.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Jo(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=uV(n,null,n.Y),dD(n)},ra.prototype.close=function(){r1(this.g)},ra.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Hk(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&dD(t)},ra.prototype.N=function(){this.g.h=null,delete this.j,r1(this.g),delete this.g,ra.$.N.call(this)},Jr(mV,qk),Jr(pV,Zk),Jr(q_,fV),q_.prototype.Ba=function(){go(this.g,"a")},q_.prototype.Aa=function(n){go(this.g,new mV(n))},q_.prototype.za=function(n){go(this.g,new pV)},q_.prototype.ya=function(){go(this.g,"b")},Jr(Gl,function I5(){this.blockSize=-1}),Gl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Gl.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)a1(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){a1(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){a1(this,i),r=0;break}}this.h=r,this.i+=t},Gl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var T5={};function l1(n){return-128<=n&&128>n?function PG(n,t){var e=T5;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Qn([0|t],0>t?-1:0)}):new Qn([0|n],0>n?-1:0)}function Kc(n){if(isNaN(n)||!isFinite(n))return Z_;if(0>n)return _o(Kc(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=c1;return new Qn(t,0)}var c1=4294967296,Z_=l1(0),d1=l1(1),_V=l1(16777216);function yu(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function qa(n){return-1==n.h}function _o(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Qn(e,~n.h).add(d1)}function fD(n,t){return n.add(_o(t))}function mD(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function u0(n,t){this.g=n,this.h=t}function pD(n,t){if(yu(t))throw Error("division by zero");if(yu(n))return new u0(Z_,Z_);if(qa(n))return t=pD(_o(n),t),new u0(_o(t.g),_o(t.h));if(qa(t))return t=pD(n,_o(t)),new u0(_o(t.g),t.h);if(30<n.g.length){if(qa(n)||qa(t))throw Error("slowDivide_ only works with positive integers.");for(var e=d1,i=t;0>=i.X(n);)e=yV(e),i=yV(i);var r=Y_(e,1),o=Y_(i,1);for(i=Y_(i,2),e=Y_(e,2);!yu(i);){var c=o.add(i);0>=c.X(n)&&(r=r.add(e),o=c),i=Y_(i,1),e=Y_(e,1)}return t=fD(n,r.R(t)),new u0(r,t)}for(r=Z_;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),c=(o=Kc(e)).R(t);qa(c)||0<c.X(n);)c=(o=Kc(e-=i)).R(t);yu(o)&&(o=d1),r=r.add(o),n=fD(n,c)}return new u0(r,n)}function yV(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Qn(e,n.h)}function Y_(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new Qn(r,n.h)}(at=Qn.prototype).ea=function(){if(qa(this))return-_o(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:c1+i)*t,t*=c1}return n},at.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(yu(this))return"0";if(qa(this))return"-"+_o(this).toString(n);for(var t=Kc(Math.pow(n,6)),e=this,i="";;){var r=pD(e,t).g,o=((0<(e=fD(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(yu(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},at.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},at.X=function(n){return qa(n=fD(this,n))?-1:yu(n)?0:1},at.abs=function(){return qa(this)?_o(this):this},at.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),c=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=c>>>16,e[r]=(c&=65535)<<16|(o&=65535)}return new Qn(e,-2147483648&e[e.length-1]?-1:0)},at.R=function(n){if(yu(this)||yu(n))return Z_;if(qa(this))return qa(n)?_o(this).R(_o(n)):_o(_o(this).R(n));if(qa(n))return _o(this.R(_o(n)));if(0>this.X(_V)&&0>n.X(_V))return Kc(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,c=65535&this.D(i),u=n.D(r)>>>16,m=65535&n.D(r);e[2*i+2*r]+=c*m,mD(e,2*i+2*r),e[2*i+2*r+1]+=o*m,mD(e,2*i+2*r+1),e[2*i+2*r+1]+=c*u,mD(e,2*i+2*r+1),e[2*i+2*r+2]+=o*u,mD(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Qn(e,0)},at.gb=function(n){return pD(this,n).h},at.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Qn(e,this.h&n.h)},at.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Qn(e,this.h|n.h)},at.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Qn(e,this.h^n.h)},hD.prototype.createWebChannel=hD.prototype.g,ra.prototype.send=ra.prototype.u,ra.prototype.open=ra.prototype.m,ra.prototype.close=ra.prototype.close,JE.NO_ERROR=0,JE.TIMEOUT=8,JE.HTTP_ERROR=6,SB.COMPLETE="complete",MB.EventType=Xb,Xb.OPEN="a",Xb.CLOSE="b",Xb.ERROR="c",Xb.MESSAGE="d",eo.prototype.listen=eo.prototype.O,dr.prototype.listenOnce=dr.prototype.P,dr.prototype.getLastError=dr.prototype.Sa,dr.prototype.getLastErrorCode=dr.prototype.Ia,dr.prototype.getStatus=dr.prototype.da,dr.prototype.getResponseJson=dr.prototype.Wa,dr.prototype.getResponseText=dr.prototype.ja,dr.prototype.send=dr.prototype.ha,dr.prototype.setWithCredentials=dr.prototype.Oa,Gl.prototype.digest=Gl.prototype.l,Gl.prototype.reset=Gl.prototype.reset,Gl.prototype.update=Gl.prototype.j,Qn.prototype.add=Qn.prototype.add,Qn.prototype.multiply=Qn.prototype.R,Qn.prototype.modulo=Qn.prototype.gb,Qn.prototype.compare=Qn.prototype.X,Qn.prototype.toNumber=Qn.prototype.ea,Qn.prototype.toString=Qn.prototype.toString,Qn.prototype.getBits=Qn.prototype.D,Qn.fromNumber=Kc,Qn.fromString=function gV(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return _o(gV(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Kc(Math.pow(t,8)),i=Z_,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),c=parseInt(n.substring(r,r+o),t);8>o?(o=Kc(Math.pow(t,o)),i=i.R(o).add(Kc(c))):i=(i=i.R(e)).add(Kc(c))}return i};var S5=$l.createWebChannelTransport=function(){return new hD},A5=$l.getStatEventTarget=function(){return XE()},u1=$l.ErrorCode=JE,M5=$l.EventType=SB,k5=$l.Event=xp,vV=$l.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},R5=$l.FetchXmlHttpFactory=s0,gD=$l.WebChannel=MB,O5=$l.XhrIo=dr,P5=$l.Md5=Gl,K_=$l.Integer=Qn;const bV="@firebase/firestore";class to{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}to.UNAUTHENTICATED=new to(null),to.GOOGLE_CREDENTIALS=new to("google-credentials-uid"),to.FIRST_PARTY=new to("first-party-uid"),to.MOCK_USER=new to("mock-user");let Q_="9.23.0";const yf=new qc.Yd("@firebase/firestore");function h1(){return yf.logLevel}function He(n,...t){if(yf.logLevel<=qc.in.DEBUG){const e=t.map(f1);yf.debug(`Firestore (${Q_}): ${n}`,...e)}}function Er(n,...t){if(yf.logLevel<=qc.in.ERROR){const e=t.map(f1);yf.error(`Firestore (${Q_}): ${n}`,...e)}}function Za(n,...t){if(yf.logLevel<=qc.in.WARN){const e=t.map(f1);yf.warn(`Firestore (${Q_}): ${n}`,...e)}}function f1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function gt(n="Unexpected state"){const t=`FIRESTORE (${Q_}) INTERNAL ASSERTION FAILED: `+n;throw Er(t),new Error(t)}function Dt(n,t){n||gt()}function st(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends ie.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class wV{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class L5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(to.UNAUTHENTICATED))}shutdown(){}}class B5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class V5{constructor(t){this.t=t,this.currentUser=to.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let c=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new zr,t.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const _=c;t.enqueueRetryable((0,De.Z)(function*(){yield _.promise,yield o(i.currentUser)}))},m=_=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(_=>m(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new zr)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Dt("string"==typeof i.accessToken),new wV(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Dt(null===t||"string"==typeof t),new to(t)}}class U5{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=to.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class j5{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new U5(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(to.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xV{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H5{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=o=>{null!=o.error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.T;return this.T=o.token,He("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Dt("string"==typeof e.token),this.T=e.token,new xV(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function z5(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class CV{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=z5(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function nn(n,t){return n<t?-1:n>t?1:0}function X_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function EV(n){return n+"\0"}class Hi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Hi.fromMillis(Date.now())}static fromDate(t){return Hi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Hi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?nn(this.nanoseconds,t.nanoseconds):nn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Hi(0,0))}static max(){return new Tt(new Hi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class h0{constructor(t,e,i){void 0===e?e=0:e>t.length&&gt(),void 0===i?i=t.length-e:i>t.length-e&&gt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===h0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof h0?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),c=e.get(r);if(o<c)return-1;if(o>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Tn extends h0{construct(t,e,i){return new Tn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Tn(e)}static emptyPath(){return new Tn([])}}const $5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ur extends h0{construct(t,e,i){return new ur(t,e,i)}static isValidIdentifier(t){return $5.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ur.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ur(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const u=t[r];if("\\"===u){if(r+1===t.length)throw new Oe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Oe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,r+=2}else"`"===u?(c=!c,r++):"."!==u||c?(i+=u,r++):(o(),r++)}if(o(),c)throw new Oe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ur(e)}static emptyPath(){return new ur([])}}class nt{constructor(t){this.path=t}static fromPath(t){return new nt(Tn.fromString(t))}static fromName(t){return new nt(Tn.fromString(t).popFirst(5))}static empty(){return new nt(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Tn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Tn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new nt(new Tn(t.slice()))}}class _D{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function m1(n){return n.fields.find(t=>2===t.kind)}function Ip(n){return n.fields.filter(t=>2!==t.kind)}_D.UNKNOWN_ID=-1;class yD{constructor(t,e){this.fieldPath=t,this.kind=e}}class f0{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new f0(0,oa.min())}}function DV(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Tt.fromTimestamp(1e9===i?new Hi(e+1,0):new Hi(e,i));return new oa(r,nt.empty(),t)}function IV(n){return new oa(n.readTime,n.key,-1)}class oa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new oa(Tt.min(),nt.empty(),-1)}static max(){return new oa(Tt.max(),nt.empty(),-1)}}function p1(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=nt.comparator(n.documentKey,t.documentKey),0!==e?e:nn(n.largestBatchId,t.largestBatchId))}const TV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function vf(n){return g1.apply(this,arguments)}function g1(){return g1=(0,De.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==TV)throw n;He("LocalStore","Unexpectedly lost primary lease")}),g1.apply(this,arguments)}class ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ce((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ce?e:ce.resolve(e)}catch(e){return ce.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ce.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ce.reject(e)}static resolve(t){return new ce((e,i)=>{e(t)})}static reject(t){return new ce((e,i)=>{i(t)})}static waitFor(t){return new ce((e,i)=>{let r=0,o=0,c=!1;t.forEach(u=>{++r,u.next(()=>{++o,c&&o===r&&e()},m=>i(m))}),c=!0,o===r&&e()})}static or(t){let e=ce.resolve(!1);for(const i of t)e=e.next(r=>r?ce.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ce((i,r)=>{const o=t.length,c=new Array(o);let u=0;for(let m=0;m<o;m++){const _=m;e(t[_]).next(b=>{c[_]=b,++u,u===o&&i(c)},b=>r(b))}})}static doWhile(t,e){return new ce((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class vD{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new zr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new m0(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=_1(i.target.error);this.v.reject(new m0(t,r))}}static open(t,e,i,r){try{return new vD(e,t.transaction(r,i))}catch(o){throw new m0(e,o)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(He("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Z5(e)}}class Wl{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===Wl.S((0,ie.z$)())&&Er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return He("SimpleDb","Removing database:",t),Tp(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,ie.hl)())return!1;if(Wl.C())return!0;const t=(0,ie.z$)(),e=Wl.S(t),i=0<e&&e<10,r=Wl.N(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,De.Z)(function*(){return e.db||(He("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new m0(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const u=c.target.error;r("VersionError"===u.name?new Oe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new Oe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new m0(t,u))},o.onupgradeneeded=c=>{He("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.V.O(c.target.result,o.transaction,c.oldVersion,e.version).next(()=>{He("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,De.Z)(function*(){const c="readonly"===e;let u=0;for(;;){++u;try{o.db=yield o.$(t);const m=vD.open(o.db,t,c?"readonly":"readwrite",i),_=r(m).next(b=>(m.P(),b)).catch(b=>(m.abort(b),ce.reject(b))).toPromise();return _.catch(()=>{}),yield m.R,_}catch(m){const _=m,b="FirebaseError"!==_.name&&u<3;if(He("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),o.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class q5{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Tp(this.L.delete())}}class m0 extends Oe{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function bf(n){return"IndexedDbTransactionError"===n.name}class Z5{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(He("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Tp(i)}add(t){return He("SimpleDb","ADD",this.store.name,t,t),Tp(this.store.add(t))}get(t){return Tp(this.store.get(t)).next(e=>(void 0===e&&(e=null),He("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return He("SimpleDb","DELETE",this.store.name,t),Tp(this.store.delete(t))}count(){return He("SimpleDb","COUNT",this.store.name),Tp(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(c,u)=>{o.push(u)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ce((o,c)=>{r.onerror=u=>{c(u.target.error)},r.onsuccess=u=>{o(u.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ce((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}J(t,e){He("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,c,u)=>u.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new ce((i,r)=>{e.onerror=o=>{const c=_1(o.target.error);r(c)},e.onsuccess=o=>{const c=o.target.result;c?t(c.primaryKey,c.value).next(u=>{u?c.continue():i()}):i()}})}W(t,e){const i=[];return new ce((r,o)=>{t.onerror=c=>{o(c.target.error)},t.onsuccess=c=>{const u=c.target.result;if(!u)return void r();const m=new q5(u),_=e(u.primaryKey,u.value,m);if(_ instanceof ce){const b=_.catch(T=>(m.done(),ce.reject(T)));i.push(b)}m.isDone?r():null===m.K?u.continue():u.continue(m.K)}}).next(()=>ce.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Tp(n){return new ce((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=_1(i.target.error);e(r)}})}let AV=!1;function _1(n){const t=Wl.S((0,ie.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return AV||(AV=!0,setTimeout(()=>{throw i},0)),i}}return n}class Y5{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;He("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,De.Z)(function*(){e.task=null;try{He("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){bf(i)?He("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield vf(i)}yield e.et(6e4)}))}}class K5{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,De.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,o=!0;return ce.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return He("IndexBackiller",`Processing collection: ${c}`),this.it(t,c,r).next(u=>{r-=u,i.add(c)});o=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.rt(r,o)).next(u=>(He("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(t,e,u))).next(()=>c.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,o)=>{const c=IV(o);p1(c,i)>0&&(i=c)}),new oa(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let sa=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function p0(n){return null==n}function g0(n){return 0===n&&1/n==-1/0}function MV(n){return"number"==typeof n&&Number.isInteger(n)&&!g0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ro(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=kV(t)),t=Q5(n.get(e),t);return kV(t)}function Q5(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function kV(n){return n+"\x01\x01"}function Qc(n){const t=n.length;if(Dt(t>=2),2===t)return Dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const c=n.indexOf("\x01",o);switch((c<0||c>e)&&gt(),n.charAt(c+1)){case"\x01":const u=n.substring(o,c);let m;0===r.length?m=u:(r+=u,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:gt()}o=c+2}return new Tn(i)}const RV=["userId","batchId"];function bD(n,t){return[n,Ro(t)]}function OV(n,t,e){return[n,Ro(t),e]}const X5={},J5=["prefixPath","collectionGroup","readTime","documentId"],eW=["prefixPath","collectionGroup","documentId"],tW=["collectionGroup","readTime","prefixPath","documentId"],nW=["canonicalId","targetId"],iW=["targetId","path"],rW=["path","targetId"],oW=["collectionId","parent"],sW=["indexId","uid"],aW=["uid","sequenceNumber"],lW=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cW=["indexId","uid","orderedDocumentKey"],dW=["userId","collectionPath","documentId"],uW=["userId","collectionPath","largestBatchId"],hW=["userId","collectionGroup","largestBatchId"],PV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fW=[...PV,"documentOverlays"],NV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FV=NV,mW=[...FV,"indexConfiguration","indexState","indexEntries"];class y1 extends SV{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function no(n,t){const e=st(n);return Wl.M(e.ht,t)}function LV(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function wf(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function BV(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class bi{constructor(t,e){this.comparator=t,this.root=e||yo.EMPTY}insert(t,e){return new bi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,yo.BLACK,null,null))}remove(t){return new bi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wD(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wD(this.root,t,this.comparator,!1)}getReverseIterator(){return new wD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wD(this.root,t,this.comparator,!0)}}class wD{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class yo{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??yo.RED,this.left=r??yo.EMPTY,this.right=o??yo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new yo(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return yo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return yo.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,yo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,yo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const t=this.left.check();if(t!==this.right.check())throw gt();return t+(this.isRed()?0:1)}}yo.EMPTY=null,yo.RED=!0,yo.BLACK=!1,yo.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new yo(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mi{constructor(t){this.comparator=t,this.data=new bi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new VV(this.data.getIterator())}getIteratorFrom(t){return new VV(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Mi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Mi(this.comparator);return e.data=t,e}}class VV{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function J_(n){return n.hasNext()?n.getNext():void 0}class Ds{constructor(t){this.fields=t,t.sort(ur.comparator)}static empty(){return new Ds([])}unionWith(t){let e=new Mi(ur.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Ds(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return X_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class UV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $r{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new UV("Invalid base64 string: "+r):r}}(t);return new $r(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new $r(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return nn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const gW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xf(n){if(Dt(!!n),"string"==typeof n){let t=0;const e=gW.exec(n);if(Dt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:hr(n.seconds),nanos:hr(n.nanos)}}function hr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vu(n){return"string"==typeof n?$r.fromBase64String(n):$r.fromUint8Array(n)}function xD(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function CD(n){const t=n.mapValue.fields.__previous_value__;return xD(t)?CD(t):t}function _0(n){const t=xf(n.mapValue.fields.__local_write_time__.timestampValue);return new Hi(t.seconds,t.nanos)}class _W{constructor(t,e,i,r,o,c,u,m,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=m,this.useFetchStreams=_}}class Cf{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Cf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Cf&&t.projectId===this.projectId&&t.database===this.database}}const Ef={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ED={nullValue:"NULL_VALUE"};function Df(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xD(n)?4:$V(n)?9007199254740991:10:gt()}function Xc(n,t){if(n===t)return!0;const e=Df(n);if(e!==Df(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return _0(n).isEqual(_0(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=xf(i.timestampValue),c=xf(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,vu(n.bytesValue).isEqual(vu(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return hr(i.geoPointValue.latitude)===hr(r.geoPointValue.latitude)&&hr(i.geoPointValue.longitude)===hr(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return hr(i.integerValue)===hr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=hr(i.doubleValue),c=hr(r.doubleValue);return o===c?g0(o)===g0(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return X_(n.arrayValue.values||[],t.arrayValue.values||[],Xc);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(LV(o)!==LV(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===c[u]||!Xc(o[u],c[u])))return!1;return!0}(n,t);default:return gt()}var r}function y0(n,t){return void 0!==(n.values||[]).find(e=>Xc(e,t))}function If(n,t){if(n===t)return 0;const e=Df(n),i=Df(t);if(e!==i)return nn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return nn(n.booleanValue,t.booleanValue);case 2:return function(r,o){const c=hr(r.integerValue||r.doubleValue),u=hr(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,t);case 3:return jV(n.timestampValue,t.timestampValue);case 4:return jV(_0(n),_0(t));case 5:return nn(n.stringValue,t.stringValue);case 6:return function(r,o){const c=vu(r),u=vu(o);return c.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const c=r.split("/"),u=o.split("/");for(let m=0;m<c.length&&m<u.length;m++){const _=nn(c[m],u[m]);if(0!==_)return _}return nn(c.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const c=nn(hr(r.latitude),hr(o.latitude));return 0!==c?c:nn(hr(r.longitude),hr(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const c=r.values||[],u=o.values||[];for(let m=0;m<c.length&&m<u.length;++m){const _=If(c[m],u[m]);if(_)return _}return nn(c.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Ef.mapValue&&o===Ef.mapValue)return 0;if(r===Ef.mapValue)return 1;if(o===Ef.mapValue)return-1;const c=r.fields||{},u=Object.keys(c),m=o.fields||{},_=Object.keys(m);u.sort(),_.sort();for(let b=0;b<u.length&&b<_.length;++b){const T=nn(u[b],_[b]);if(0!==T)return T;const R=If(c[u[b]],m[_[b]]);if(0!==R)return R}return nn(u.length,_.length)}(n.mapValue,t.mapValue);default:throw gt()}}function jV(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return nn(n,t);const e=xf(n),i=xf(t),r=nn(e.seconds,i.seconds);return 0!==r?r:nn(e.nanos,i.nanos)}function ey(n){return v1(n)}function v1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=xf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vu(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=v1(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const u of r)c?c=!1:o+=",",o+=`${u}:${v1(i.fields[u])}`;return o+"}"}(n.mapValue):gt();var t}function Sp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function b1(n){return!!n&&"integerValue"in n}function v0(n){return!!n&&"arrayValue"in n}function HV(n){return!!n&&"nullValue"in n}function zV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ID(n){return!!n&&"mapValue"in n}function b0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return wf(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=b0(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=b0(n.arrayValue.values[e]);return t}return Object.assign({},n)}function $V(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function yW(n){return"nullValue"in n?ED:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Sp(Cf.empty(),nt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:gt()}function vW(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Sp(Cf.empty(),nt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ef:gt()}function GV(n,t){const e=If(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function WV(n,t){const e=If(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class vo{constructor(t){this.value=t}static empty(){return new vo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!ID(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=b0(e)}setAll(t){let e=ur.emptyPath(),i={},r=[];t.forEach((c,u)=>{if(!e.isImmediateParentOf(u)){const m=this.getFieldsMap(e);this.applyChanges(m,i,r),i={},r=[],e=u.popLast()}c?i[u.lastSegment()]=b0(c):r.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());ID(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Xc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];ID(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){wf(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new vo(b0(this.value))}}function qV(n){const t=[];return wf(n.fields,(e,i)=>{const r=new ur([e]);if(ID(i)){const o=qV(i.mapValue).fields;if(0===o.length)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new Ds(t)}class ki{constructor(t,e,i,r,o,c,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(t){return new ki(t,0,Tt.min(),Tt.min(),Tt.min(),vo.empty(),0)}static newFoundDocument(t,e,i,r){return new ki(t,1,e,Tt.min(),i,r,0)}static newNoDocument(t,e){return new ki(t,2,e,Tt.min(),Tt.min(),vo.empty(),0)}static newUnknownDocument(t,e){return new ki(t,3,e,Tt.min(),Tt.min(),vo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Tt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ki&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Tf{constructor(t,e){this.position=t,this.inclusive=e}}function ZV(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(i=o.field.isKeyField()?nt.comparator(nt.fromName(c.referenceValue),e.key):If(c,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function YV(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Xc(n.position[e],t.position[e]))return!1;return!0}class ty{constructor(t,e="asc"){this.field=t,this.dir=e}}function bW(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class KV{}class En extends KV{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new wW(t,e,i):"array-contains"===e?new EW(t,i):"in"===e?new nU(t,i):"not-in"===e?new DW(t,i):"array-contains-any"===e?new IW(t,i):new En(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new xW(t,i):new CW(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(If(e,this.value)):null!==e&&Df(this.value)===Df(e)&&this.matchesComparison(If(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xn extends KV{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new Xn(t,e)}matches(t){return ny(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function ny(n){return"and"===n.op}function w1(n){return"or"===n.op}function x1(n){return QV(n)&&ny(n)}function QV(n){for(const t of n.filters)if(t instanceof Xn)return!1;return!0}function C1(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+ey(n.value);if(x1(n))return n.filters.map(t=>C1(t)).join(",");{const t=n.filters.map(e=>C1(e)).join(",");return`${n.op}(${t})`}}function XV(n,t){return n instanceof En?(e=n,(i=t)instanceof En&&e.op===i.op&&e.field.isEqual(i.field)&&Xc(e.value,i.value)):n instanceof Xn?function(e,i){return i instanceof Xn&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,c)=>r&&XV(o,i.filters[c]),!0)}(n,t):void gt();var e,i}function JV(n,t){const e=n.filters.concat(t);return Xn.create(e,n.op)}function eU(n){return n instanceof En?`${(t=n).field.canonicalString()} ${t.op} ${ey(t.value)}`:n instanceof Xn?function(t){return t.op.toString()+" {"+t.getFilters().map(eU).join(" ,")+"}"}(n):"Filter";var t}class wW extends En{constructor(t,e,i){super(t,e,i),this.key=nt.fromName(i.referenceValue)}matches(t){const e=nt.comparator(t.key,this.key);return this.matchesComparison(e)}}class xW extends En{constructor(t,e){super(t,"in",e),this.keys=tU(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class CW extends En{constructor(t,e){super(t,"not-in",e),this.keys=tU(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function tU(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>nt.fromName(i.referenceValue))}class EW extends En{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return v0(e)&&y0(e.arrayValue,this.value)}}class nU extends En{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&y0(this.value.arrayValue,e)}}class DW extends En{constructor(t,e){super(t,"not-in",e)}matches(t){if(y0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!y0(this.value.arrayValue,e)}}class IW extends En{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!v0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>y0(this.value.arrayValue,i))}}class TW{constructor(t,e=null,i=[],r=[],o=null,c=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=u,this.dt=null}}function E1(n,t=null,e=[],i=[],r=null,o=null,c=null){return new TW(n,t,e,i,r,o,c)}function Ap(n){const t=st(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>C1(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),p0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ey(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ey(i)).join(",")),t.dt=e}return t.dt}function w0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!bW(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!XV(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!YV(n.startAt,t.startAt)&&YV(n.endAt,t.endAt)}function TD(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function SD(n,t){return n.filters.filter(e=>e instanceof En&&e.field.isEqual(t))}function iU(n,t,e){let i=ED,r=!0;for(const o of SD(n,t)){let c=ED,u=!0;switch(o.op){case"<":case"<=":c=yW(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,u=!1;break;case"!=":case"not-in":c=ED}GV({value:i,inclusive:r},{value:c,inclusive:u})<0&&(i=c,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];GV({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function rU(n,t,e){let i=Ef,r=!0;for(const o of SD(n,t)){let c=Ef,u=!0;switch(o.op){case">=":case">":c=vW(o.value),u=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,u=!1;break;case"!=":case"not-in":c=Ef}WV({value:i,inclusive:r},{value:c,inclusive:u})>0&&(i=c,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];WV({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class bu{constructor(t,e=null,i=[],r=[],o=null,c="F",u=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=m,this.wt=null,this._t=null}}function oU(n,t,e,i,r,o,c,u){return new bu(n,t,e,i,r,o,c,u)}function iy(n){return new bu(n)}function sU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function D1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function AD(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function I1(n){return null!==n.collectionGroup}function Mp(n){const t=st(n);if(null===t.wt){t.wt=[];const e=AD(t),i=D1(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new ty(e)),t.wt.push(new ty(ur.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new ty(ur.keyField(),o))}}}return t.wt}function es(n){const t=st(n);if(!t._t)if("F"===t.limitType)t._t=E1(t.path,t.collectionGroup,Mp(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Mp(t))e.push(new ty(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Tf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tf(t.startAt.position,t.startAt.inclusive):null;t._t=E1(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function T1(n,t){t.getFirstInequalityField(),AD(n);const e=n.filters.concat([t]);return new bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function MD(n,t,e){return new bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function x0(n,t){return w0(es(n),es(t))&&n.limitType===t.limitType}function aU(n){return`${Ap(es(n))}|lt:${n.limitType}`}function S1(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>eU(i)).join(", ")}]`),p0(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ey(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ey(i)).join(",")),`Target(${e})`}(es(n))}; limitType=${n.limitType})`}function C0(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):nt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Mp(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,c){const u=ZV(r,o,c);return r.inclusive?u<=0:u<0}(e.startAt,Mp(e),i)||e.endAt&&!function(r,o,c){const u=ZV(r,o,c);return r.inclusive?u>=0:u>0}(e.endAt,Mp(e),i)));var e,i}function lU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cU(n){return(t,e)=>{let i=!1;for(const r of Mp(n)){const o=SW(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function SW(n,t,e){const i=n.field.isKeyField()?nt.comparator(t.key,e.key):function(r,o,c){const u=o.data.field(r),m=c.data.field(r);return null!==u&&null!==m?If(u,m):gt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return gt()}}class wu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){wf(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return BV(this.inner)}size(){return this.innerSize}}const AW=new bi(nt.comparator);function Is(){return AW}const dU=new bi(nt.comparator);function E0(...n){let t=dU;for(const e of n)t=t.insert(e.key,e);return t}function uU(n){let t=dU;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Jc(){return D0()}function hU(){return D0()}function D0(){return new wu(n=>n.toString(),(n,t)=>n.isEqual(t))}const MW=new bi(nt.comparator),kW=new Mi(nt.comparator);function un(...n){let t=kW;for(const e of n)t=t.add(e);return t}const RW=new Mi(nn);function A1(){return RW}function fU(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:g0(t)?"-0":t}}function mU(n){return{integerValue:""+n}}function pU(n,t){return MV(t)?mU(t):fU(n,t)}class kD{constructor(){this._=void 0}}function OW(n,t,e){return n instanceof ry?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&xD(r)&&(r=CD(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof kp?_U(n,t):n instanceof Rp?yU(n,t):function(i,r){const o=gU(i,r),c=vU(o)+vU(i.gt);return b1(o)&&b1(i.gt)?mU(c):fU(i.serializer,c)}(n,t)}function PW(n,t,e){return n instanceof kp?_U(n,t):n instanceof Rp?yU(n,t):e}function gU(n,t){return n instanceof oy?b1(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class ry extends kD{}class kp extends kD{constructor(t){super(),this.elements=t}}function _U(n,t){const e=bU(t);for(const i of n.elements)e.some(r=>Xc(r,i))||e.push(i);return{arrayValue:{values:e}}}class Rp extends kD{constructor(t){super(),this.elements=t}}function yU(n,t){let e=bU(t);for(const i of n.elements)e=e.filter(r=>!Xc(r,i));return{arrayValue:{values:e}}}class oy extends kD{constructor(t,e){super(),this.serializer=t,this.gt=e}}function vU(n){return hr(n.integerValue||n.doubleValue)}function bU(n){return v0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class I0{constructor(t,e){this.field=t,this.transform=e}}class FW{constructor(t,e){this.version=t,this.transformResults=e}}class zi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new zi}static exists(t){return new zi(void 0,t)}static updateTime(t){return new zi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function RD(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class OD{}function wU(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new ay(n.key,zi.none()):new sy(n.key,n.data,zi.none());{const e=n.data,i=vo.empty();let r=new Mi(ur.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);null===c&&o.length>1&&(o=o.popLast(),c=e.field(o)),null===c?i.delete(o):i.set(o,c),r=r.add(o)}return new xu(n.key,i,new Ds(r.toArray()),zi.none())}}function LW(n,t,e){n instanceof sy?function(i,r,o){const c=i.value.clone(),u=EU(i.fieldTransforms,r,o.transformResults);c.setAll(u),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof xu?function(i,r,o){if(!RD(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=EU(i.fieldTransforms,r,o.transformResults),u=r.data;u.setAll(CU(i)),u.setAll(c),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function T0(n,t,e,i){return n instanceof sy?function(r,o,c,u){if(!RD(r.precondition,o))return c;const m=r.value.clone(),_=DU(r.fieldTransforms,u,o);return m.setAll(_),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null}(n,t,e,i):n instanceof xu?function(r,o,c,u){if(!RD(r.precondition,o))return c;const m=DU(r.fieldTransforms,u,o),_=o.data;return _.setAll(CU(r)),_.setAll(m),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,t,e,i):(c=e,RD(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function BW(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=gU(i.transform,r||null);null!=o&&(null===e&&(e=vo.empty()),e.set(i.field,o))}return e||null}function xU(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&X_(e,i,(r,o)=>function NW(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof kp&&i instanceof kp||e instanceof Rp&&i instanceof Rp?X_(e.elements,i.elements,Xc):e instanceof oy&&i instanceof oy?Xc(e.gt,i.gt):e instanceof ry&&i instanceof ry);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class sy extends OD{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xu extends OD{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function CU(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function EU(n,t,e){const i=new Map;Dt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,u=t.data.field(o.field);i.set(o.field,PW(c,u,e[r]))}return i}function DU(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,OW(o,c,t))}return i}class ay extends OD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M1 extends OD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class k1{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&LW(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=T0(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=T0(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=hU();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=e.has(r.key)?null:u;const m=wU(c,u);null!==m&&i.set(r.key,m),c.isValidDocument()||c.convertToNoDocument(Tt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),un())}isEqual(t){return this.batchId===t.batchId&&X_(this.mutations,t.mutations,(e,i)=>xU(e,i))&&X_(this.baseMutations,t.baseMutations,(e,i)=>xU(e,i))}}class R1{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Dt(t.mutations.length===i.length);let r=MW;const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new R1(t,e,i,r)}}class O1{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class UW{constructor(t,e){this.count=t,this.unchangedNames=e}}var Nr,Sn;function IU(n){switch(n){default:return gt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function TU(n){if(void 0===n)return Er("GRPC error has no .code"),me.UNKNOWN;switch(n){case Nr.OK:return me.OK;case Nr.CANCELLED:return me.CANCELLED;case Nr.UNKNOWN:return me.UNKNOWN;case Nr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Nr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Nr.INTERNAL:return me.INTERNAL;case Nr.UNAVAILABLE:return me.UNAVAILABLE;case Nr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Nr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Nr.NOT_FOUND:return me.NOT_FOUND;case Nr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Nr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Nr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Nr.ABORTED:return me.ABORTED;case Nr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Nr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Nr.DATA_LOSS:return me.DATA_LOSS;default:return gt()}}(Sn=Nr||(Nr={}))[Sn.OK=0]="OK",Sn[Sn.CANCELLED=1]="CANCELLED",Sn[Sn.UNKNOWN=2]="UNKNOWN",Sn[Sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sn[Sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sn[Sn.NOT_FOUND=5]="NOT_FOUND",Sn[Sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sn[Sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sn[Sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sn[Sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sn[Sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sn[Sn.ABORTED=10]="ABORTED",Sn[Sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sn[Sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sn[Sn.INTERNAL=13]="INTERNAL",Sn[Sn.UNAVAILABLE=14]="UNAVAILABLE",Sn[Sn.DATA_LOSS=15]="DATA_LOSS";class P1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return PD}static getOrCreateInstance(){return null===PD&&(PD=new P1),PD}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let PD=null;function SU(){return new TextEncoder}const jW=new K_([4294967295,4294967295],0);function AU(n){const t=SU().encode(n),e=new P5;return e.update(t),new Uint8Array(e.digest())}function MU(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new K_([e,i],0),new K_([r,o],0)]}class N1{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new S0(`Invalid padding: ${e}`);if(i<0)throw new S0(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new S0(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new S0(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=K_.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(K_.fromNumber(i)));return 1===r.compare(jW)&&(r=new K_([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=AU(t),[i,r]=MU(e);for(let o=0;o<this.hashCount;o++){const c=this.Et(i,r,o);if(!this.At(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new N1(o,r,e);return i.forEach(u=>c.insert(u)),c}insert(t){if(0===this.It)return;const e=AU(t),[i,r]=MU(e);for(let o=0;o<this.hashCount;o++){const c=this.Et(i,r,o);this.Rt(c)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class S0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class A0{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,M0.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new A0(Tt.min(),r,new bi(nn),Is(),un())}}class M0{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new M0(i,e,un(),un(),un())}}class ND{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class kU{constructor(t,e){this.targetId=t,this.Vt=e}}class RU{constructor(t,e,i=$r.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class OU{constructor(){this.St=0,this.Dt=NU(),this.Ct=$r.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=un(),e=un(),i=un();return this.Dt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:gt()}}),new M0(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=NU()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class HW{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Is(),this.zt=PU(),this.Wt=new bi(nn)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:gt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,o=this.se(i);if(o){const c=o.target;if(TD(c))if(0===r){const u=new nt(c.path);this.Yt(i,u,ki.newNoDocument(u,Tt.min()))}else Dt(1===r);else{const u=this.ie(i);if(u!==r){const m=this.re(t,u);0!==m&&(this.ee(i),this.Wt=this.Wt.insert(i,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=P1.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(_,b,T){var R,B,z,K,se,Re;const Qe={localCacheCount:b,existenceFilterCount:T.count},et=T.unchangedNames;return et&&(Qe.bloomFilter={applied:0===_,hashCount:null!==(R=et?.hashCount)&&void 0!==R?R:0,bitmapLength:null!==(K=null===(z=null===(B=et?.bits)||void 0===B?void 0:B.bitmap)||void 0===z?void 0:z.length)&&void 0!==K?K:0,padding:null!==(Re=null===(se=et?.bits)||void 0===se?void 0:se.padding)&&void 0!==Re?Re:0}),Qe}(m,u,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:c=0},hashCount:u=0}=i;let m,_;try{m=vu(o).toUint8Array()}catch(b){if(b instanceof UV)return Za("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{_=new N1(m,c,u)}catch(b){return Za(b instanceof S0?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===_.It?1:r!==e-this.oe(t.targetId,_)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const c=this.Gt.ue(),u=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.vt(u)||(this.Yt(t,o,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((o,c)=>{const u=this.se(c);if(u){if(o.current&&TD(u.target)){const m=new nt(u.target.path);null!==this.jt.get(m)||this.ae(c,m)||this.Yt(c,m,ki.newNoDocument(m,t))}o.Mt&&(e.set(c,o.Ot()),o.Ft())}});let i=un();this.zt.forEach((o,c)=>{let u=!0;c.forEachWhile(m=>{const _=this.se(m);return!_||"TargetPurposeLimboResolution"===_.purpose||(u=!1,!1)}),u&&(i=i.add(o))}),this.jt.forEach((o,c)=>c.setReadTime(t));const r=new A0(t,e,this.Wt,this.jt,i);return this.jt=Is(),this.zt=PU(),this.Wt=new bi(nn),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new OU,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Mi(nn),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||He("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new OU),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function PU(){return new bi(nt.comparator)}function NU(){return new bi(nt.comparator)}const zW={asc:"ASCENDING",desc:"DESCENDING"},$W={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GW={and:"AND",or:"OR"};class WW{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function F1(n,t){return n.useProto3Json||p0(t)?t:{value:t}}function ly(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function FU(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function qW(n,t){return ly(n,t.toTimestamp())}function Dr(n){return Dt(!!n),Tt.fromTimestamp(function(t){const e=xf(t);return new Hi(e.seconds,e.nanos)}(n))}function L1(n,t){return(e=n,new Tn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function LU(n){const t=Tn.fromString(n);return Dt(WU(t)),t}function k0(n,t){return L1(n.databaseId,t.path)}function ed(n,t){const e=LU(t);if(e.get(1)!==n.databaseId.projectId)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new nt(VU(e))}function B1(n,t){return L1(n.databaseId,t)}function BU(n){const t=LU(n);return 4===t.length?Tn.emptyPath():VU(t)}function R0(n){return new Tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VU(n){return Dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function UU(n,t,e){return{name:k0(n,t),fields:e.value.mapValue.fields}}function jU(n,t,e){const i=ed(n,t.name),r=Dr(t.updateTime),o=t.createTime?Dr(t.createTime):Tt.min(),c=new vo({mapValue:{fields:t.fields}}),u=ki.newFoundDocument(i,r,o,c);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function O0(n,t){let e;if(t instanceof sy)e={update:UU(n,t.key,t.value)};else if(t instanceof ay)e={delete:k0(n,t.key)};else if(t instanceof xu)e={update:UU(n,t.key,t.data),updateMask:tq(t.fieldMask)};else{if(!(t instanceof M1))return gt();e={verify:k0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof ry)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof kp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Rp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof oy)return{fieldPath:o.field.canonicalString(),increment:c.gt};throw gt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:qW(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:gt()),e;var r}function V1(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?zi.updateTime(Dr(r.updateTime)):void 0!==r.exists?zi.exists(r.exists):zi.none():zi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let u=null;"setToServerValue"in c?(Dt("REQUEST_TIME"===c.setToServerValue),u=new ry):"appendMissingElements"in c?u=new kp(c.appendMissingElements.values||[]):"removeAllFromArray"in c?u=new Rp(c.removeAllFromArray.values||[]):"increment"in c?u=new oy(o,c.increment):gt();const m=ur.fromServerFormat(c.fieldPath);return new I0(m,u)}(n,r)):[];var r;if(t.update){const r=ed(n,t.update.name),o=new vo({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Ds((t.updateMask.fieldPaths||[]).map(_=>ur.fromServerFormat(_)));return new xu(r,o,c,e,i)}return new sy(r,o,e,i)}if(t.delete){const r=ed(n,t.delete);return new ay(r,e)}if(t.verify){const r=ed(n,t.verify);return new M1(r,e)}return gt()}function HU(n,t){return{documents:[B1(n,t.path)]}}function U1(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=B1(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=B1(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0!==m.length)return GU(Xn.create(m,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(m){if(0!==m.length)return m.map(_=>{return{field:Sf((b=_).field),direction:XW(b.dir)};var b})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=F1(n,t.limit);var u,m;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt={before:!(m=t.endAt).inclusive,values:m.position}),e}function zU(n){let t=BU(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Dt(1===i);const b=e.from[0];b.allDescendants?r=b.collectionId:t=t.child(b.collectionId)}let o=[];e.where&&(o=function(b){const T=$U(b);return T instanceof Xn&&x1(T)?T.getFilters():[T]}(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(b=>{return new ty(cy((T=b).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let u=null;e.limit&&(u=function(b){let T;return T="object"==typeof b?b.value:b,p0(T)?null:T}(e.limit));let m=null;var b;e.startAt&&(m=new Tf((b=e.startAt).values||[],!!b.before));let _=null;return e.endAt&&(_=function(b){return new Tf(b.values||[],!b.before)}(e.endAt)),oU(t,r,c,o,u,"F",m,_)}function $U(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=cy(t.unaryFilter.field);return En.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=cy(t.unaryFilter.field);return En.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=cy(t.unaryFilter.field);return En.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cy(t.unaryFilter.field);return En.create(o,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(n):void 0!==n.fieldFilter?En.create(cy((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Xn.create(t.compositeFilter.filters.map(e=>$U(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return gt()}}(t.compositeFilter.op))}(n):gt();var t}function XW(n){return zW[n]}function JW(n){return $W[n]}function eq(n){return GW[n]}function Sf(n){return{fieldPath:n.canonicalString()}}function cy(n){return ur.fromServerFormat(n.fieldPath)}function GU(n){return n instanceof En?function(t){if("=="===t.op){if(zV(t.value))return{unaryFilter:{field:Sf(t.field),op:"IS_NAN"}};if(HV(t.value))return{unaryFilter:{field:Sf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(zV(t.value))return{unaryFilter:{field:Sf(t.field),op:"IS_NOT_NAN"}};if(HV(t.value))return{unaryFilter:{field:Sf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sf(t.field),op:JW(t.op),value:t.value}}}(n):n instanceof Xn?function(t){const e=t.getFilters().map(i=>GU(i));return 1===e.length?e[0]:{compositeFilter:{op:eq(t.op),filters:e}}}(n):gt()}function tq(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function WU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Cu{constructor(t,e,i,r,o=Tt.min(),c=Tt.min(),u=$r.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=m}withSequenceNumber(t){return new Cu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class qU{constructor(t){this.fe=t}}function ZU(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:FD(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:k0(r=n.fe,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:ly(r,o.version.toTimestamp()),createTime:ly(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Op(t.version)};else{if(!t.isUnknownDocument())return gt();i.unknownDocument={path:e.path.toArray(),version:Op(t.version)}}var r,o;return i}function FD(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Op(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Pp(n){const t=new Hi(n.seconds,n.nanoseconds);return Tt.fromTimestamp(t)}function Np(n,t){const e=(t.baseMutations||[]).map(o=>V1(n.fe,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>V1(n.fe,o)),r=Hi.fromMillis(t.localWriteTimeMs);return new k1(t.batchId,r,e,i)}function P0(n){const t=Pp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Pp(n.lastLimboFreeSnapshotVersion):Tt.min();let i;var r;return void 0!==n.query.documents?(Dt(1===(r=n.query).documents.length),i=es(iy(BU(r.documents[0])))):i=es(zU(n.query)),new Cu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,$r.fromBase64String(n.resumeToken))}function YU(n,t){const e=Op(t.snapshotVersion),i=Op(t.lastLimboFreeSnapshotVersion);let r;r=TD(t.target)?HU(n.fe,t.target):U1(n.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ap(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function j1(n){const t=zU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?MD(t,t.limit,"L"):t}function H1(n,t){return new O1(t.largestBatchId,V1(n.fe,t.overlayMutation))}function KU(n,t){const e=t.path.lastSegment();return[n,Ro(t.path.popLast()),e]}function QU(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Op(i.readTime),documentKey:Ro(i.documentKey.path),largestBatchId:i.largestBatchId}}class iq{getBundleMetadata(t,e){return XU(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Pp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return XU(t).put({bundleId:(i=e).id,createTime:Op(Dr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return JU(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:j1(r.bundledQuery),readTime:Pp(r.readTime)};var r})}saveNamedQuery(t,e){return JU(t).put({name:(i=e).name,readTime:Op(Dr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function XU(n){return no(n,"bundles")}function JU(n){return no(n,"namedQueries")}class LD{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new LD(t,e.uid||"")}getOverlay(t,e){return N0(t).get(KU(this.userId,e)).next(i=>i?H1(this.serializer,i):null)}getOverlays(t,e){const i=Jc();return ce.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,c)=>{const u=new O1(e,c);r.push(this.we(t,u))}),ce.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(Ro(c.getCollectionPath())));const o=[];return r.forEach(c=>{const u=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(N0(t).J("collectionPathOverlayIndex",u))}),ce.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Jc(),o=Ro(e),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return N0(t).j("collectionPathOverlayIndex",c).next(u=>{for(const m of u){const _=H1(this.serializer,m);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Jc();let c;const u=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return N0(t).X({index:"collectionGroupOverlayIndex",range:u},(m,_,b)=>{const T=H1(this.serializer,_);o.size()<r||T.largestBatchId===c?(o.set(T.getKey(),T),c=T.largestBatchId):b.done()}).next(()=>o)}we(t,e){return N0(t).put(function(i,r,o){const[c,u,m]=KU(r,o.mutation.key);return{userId:r,collectionPath:u,documentId:m,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:O0(i.fe,o.mutation)}}(this.serializer,this.userId,e))}}function N0(n){return no(n,"documentOverlays")}class Fp{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(hr(t.integerValue));else if("doubleValue"in t){const i=hr(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),g0(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(vu(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?$V(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):gt()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),nt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function rq(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function e3(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=rq(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Fp.Ve=new Fp;class oq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=e3(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=e3(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class sq{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class aq{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class F0{constructor(){this.je=new oq,this.ze=new sq(this.je),this.We=new aq(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Lp{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Lp(this.indexId,this.documentKey,this.arrayValue,i)}}function Af(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=t3(n.arrayValue,t.arrayValue),0!==e?e:(e=t3(n.directionalValue,t.directionalValue),0!==e?e:nt.comparator(n.documentKey,t.documentKey)))}function t3(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class lq{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){Dt(t.collectionGroup===this.collectionId);const e=m1(t);if(void 0!==e&&!this.en(e))return!1;const i=Ip(t);let r=new Set,o=0,c=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const u=i[o];if(!this.nn(this.Ze,u)||!this.sn(this.Ye[c++],u))return!1}++o}for(;o<i.length;++o)if(c>=this.Ye.length||!this.sn(this.Ye[c++],i[o]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function n3(n){var t,e;if(Dt(n instanceof En||n instanceof Xn),n instanceof En){if(n instanceof nU){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>En.create(n.field,"==",o)))||[];return Xn.create(r,"or")}return n}const i=n.filters.map(r=>n3(r));return Xn.create(i,n.op)}function cq(n){if(0===n.getFilters().length)return[];const t=G1(n3(n));return Dt(r3(t)),z1(t)||$1(t)?[t]:t.getFilters()}function z1(n){return n instanceof En}function $1(n){return n instanceof Xn&&x1(n)}function r3(n){return z1(n)||$1(n)||function(t){if(t instanceof Xn&&w1(t)){for(const e of t.getFilters())if(!z1(e)&&!$1(e))return!1;return!0}return!1}(n)}function G1(n){if(Dt(n instanceof En||n instanceof Xn),n instanceof En)return n;if(1===n.filters.length)return G1(n.filters[0]);const t=n.filters.map(i=>G1(i));let e=Xn.create(t,n.op);return e=BD(e),r3(e)?e:(Dt(e instanceof Xn),Dt(ny(e)),Dt(e.filters.length>1),e.filters.reduce((i,r)=>W1(i,r)))}function W1(n,t){let e;return Dt(n instanceof En||n instanceof Xn),Dt(t instanceof En||t instanceof Xn),e=n instanceof En?t instanceof En?Xn.create([n,t],"and"):o3(n,t):t instanceof En?o3(t,n):function(i,r){if(Dt(i.filters.length>0&&r.filters.length>0),ny(i)&&ny(r))return JV(i,r.getFilters());const o=w1(i)?i:r,c=w1(i)?r:i,u=o.filters.map(m=>W1(m,c));return Xn.create(u,"or")}(n,t),BD(e)}function o3(n,t){if(ny(t))return JV(t,n.getFilters());{const e=t.filters.map(i=>W1(n,i));return Xn.create(e,"or")}}function BD(n){if(Dt(n instanceof En||n instanceof Xn),n instanceof En)return n;const t=n.getFilters();if(1===t.length)return BD(t[0]);if(QV(n))return n;const e=t.map(r=>BD(r)),i=[];return e.forEach(r=>{r instanceof En?i.push(r):r instanceof Xn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Xn.create(i,n.op)}class dq{constructor(){this.rn=new q1}addToCollectionParentIndex(t,e){return this.rn.add(e),ce.resolve()}getCollectionParents(t,e){return ce.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return ce.resolve()}deleteFieldIndex(t,e){return ce.resolve()}getDocumentsMatchingTarget(t,e){return ce.resolve(null)}getIndexType(t,e){return ce.resolve(0)}getFieldIndexes(t,e){return ce.resolve([])}getNextCollectionGroupToUpdate(t){return ce.resolve(null)}getMinOffset(t,e){return ce.resolve(oa.min())}getMinOffsetFromCollectionGroup(t,e){return ce.resolve(oa.min())}updateCollectionGroup(t,e,i){return ce.resolve()}updateIndexEntries(t,e){return ce.resolve()}}class q1{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Mi(Tn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Mi(Tn.comparator)).toArray()}}const VD=new Uint8Array(0);class uq{constructor(t,e){this.user=t,this.databaseId=e,this.on=new q1,this.un=new wu(i=>Ap(i),(i,r)=>w0(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const o={collectionId:i,parent:Ro(r)};return s3(t).put(o)}return ce.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[EV(e),""],!1,!0);return s3(t).j(r).next(o=>{for(const c of o){if(c.collectionId!==e)break;i.push(Qc(c.parent))}return i})}addFieldIndex(t,e){const i=UD(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var c;delete r.indexId;const o=i.add(r);if(e.indexState){const c=B0(t);return o.next(u=>{c.put(QU(u,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=UD(t),r=B0(t),o=L0(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=L0(t);let r=!0;const o=new Map;return ce.forEach(this.cn(e),c=>this.an(t,c).next(u=>{r&&(r=!!u),o.set(c,u)})).next(()=>{if(r){let c=un();const u=[];return ce.forEach(o,(m,_)=>{var b;He("IndexedDbIndexManager",`Using index ${b=m,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(et=>`${et.fieldPath}:${et.kind}`).join(",")}`} to execute ${Ap(e)}`);const T=function(et,ut){const Ht=m1(ut);if(void 0===Ht)return null;for(const rn of SD(et,Ht.fieldPath))switch(rn.op){case"array-contains-any":return rn.value.arrayValue.values||[];case"array-contains":return[rn.value]}return null}(_,m),R=function(et,ut){const Ht=new Map;for(const rn of Ip(ut))for(const Nn of SD(et,rn.fieldPath))switch(Nn.op){case"==":case"in":Ht.set(rn.fieldPath.canonicalString(),Nn.value);break;case"not-in":case"!=":return Ht.set(rn.fieldPath.canonicalString(),Nn.value),Array.from(Ht.values())}return null}(_,m),B=function(et,ut){const Ht=[];let rn=!0;for(const Nn of Ip(ut)){const xo=0===Nn.kind?iU(et,Nn.fieldPath,et.startAt):rU(et,Nn.fieldPath,et.startAt);Ht.push(xo.value),rn&&(rn=xo.inclusive)}return new Tf(Ht,rn)}(_,m),z=function(et,ut){const Ht=[];let rn=!0;for(const Nn of Ip(ut)){const xo=0===Nn.kind?rU(et,Nn.fieldPath,et.endAt):iU(et,Nn.fieldPath,et.endAt);Ht.push(xo.value),rn&&(rn=xo.inclusive)}return new Tf(Ht,rn)}(_,m),K=this.hn(m,_,B),se=this.hn(m,_,z),Re=this.ln(m,_,R),Qe=this.fn(m.indexId,T,K,B.inclusive,se,z.inclusive,Re);return ce.forEach(Qe,et=>i.H(et,e.limit).next(ut=>{ut.forEach(Ht=>{const rn=nt.fromSegments(Ht.documentKey);c.has(rn)||(c=c.add(rn),u.push(rn))})}))}).next(()=>u)}return ce.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:cq(Xn.create(t.filters,"and")).map(i=>E1(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,o,c,u){const m=(null!=e?e.length:1)*Math.max(i.length,o.length),_=m/(null!=e?e.length:1),b=[];for(let T=0;T<m;++T){const R=e?this.dn(e[T/_]):VD,B=this.wn(t,R,i[T%_],r),z=this._n(t,R,o[T%_],c),K=u.map(se=>this.wn(t,R,se,!0));b.push(...this.createRange(B,z,K))}return b}wn(t,e,i,r){const o=new Lp(t,nt.empty(),e,i);return r?o:o.Je()}_n(t,e,i,r){const o=new Lp(t,nt.empty(),e,i);return r?o.Je():o}an(t,e){const i=new lq(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let c=null;for(const u of o)i.tn(u)&&(!c||u.fields.length>c.fields.length)&&(c=u);return c})}getIndexType(t,e){let i=2;const r=this.cn(e);return ce.forEach(r,o=>this.an(t,o).next(c=>{c?0!==i&&c.fields.length<function(u){let m=new Mi(ur.comparator),_=!1;for(const b of u.filters)for(const T of b.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?_=!0:m=m.add(T.field));for(const b of u.orderBy)b.field.isKeyField()||(m=m.add(b.field));return m.size+(_?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new F0;for(const r of Ip(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const c=i.He(r.kind);Fp.Ve._e(o,c)}return i.Qe()}dn(t){const e=new F0;return Fp.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new F0;return Fp.Ve._e(Sp(this.databaseId,e),i.He(function(r){const o=Ip(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new F0);let o=0;for(const c of Ip(t)){const u=i[o++];for(const m of r)if(this.yn(e,c.fieldPath)&&v0(u))r=this.pn(r,c,u);else{const _=m.He(c.kind);Fp.Ve._e(u,_)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],o=[];for(const c of i.arrayValue.values||[])for(const u of r){const m=new F0;m.seed(u.Qe()),Fp.Ve._e(c,m.He(e.kind)),o.push(m)}return o}yn(t,e){return!!t.filters.find(i=>i instanceof En&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=UD(t),r=B0(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(o=>{const c=[];return ce.forEach(o,u=>r.get([u.indexId,this.uid]).next(m=>{c.push(function(_,b){const T=b?new f0(b.sequenceNumber,new oa(Pp(b.readTime),new nt(Qc(b.documentKey)),b.largestBatchId)):f0.empty(),R=_.fields.map(([B,z])=>new yD(ur.fromServerFormat(B),z));return new _D(_.indexId,_.collectionGroup,R,T)}(u,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:nn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=UD(t),o=B0(t);return this.Tn(t).next(c=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(u=>ce.forEach(u,m=>o.put(QU(m.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return ce.forEach(e,(r,o)=>{const c=i.get(r.collectionGroup);return(c?ce.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(u=>(i.set(r.collectionGroup,u),ce.forEach(u,m=>this.En(t,r,m).next(_=>{const b=this.An(o,m);return _.isEqual(b)?ce.resolve():this.vn(t,o,m,_,b)}))))})}Rn(t,e,i,r){return L0(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return L0(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=L0(t);let o=new Mi(Af);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(c,u)=>{o=o.add(new Lp(i.indexId,e,u.arrayValue,u.directionalValue))}).next(()=>o)}An(t,e){let i=new Mi(Af);const r=this.mn(e,t);if(null==r)return i;const o=m1(e);if(null!=o){const c=t.data.field(o.fieldPath);if(v0(c))for(const u of c.arrayValue.values||[])i=i.add(new Lp(e.indexId,t.key,this.dn(u),r))}else i=i.add(new Lp(e.indexId,t.key,VD,r));return i}vn(t,e,i,r,o){He("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(u,m,_,b,T){const R=u.getIterator(),B=m.getIterator();let z=J_(R),K=J_(B);for(;z||K;){let se=!1,Re=!1;if(z&&K){const Qe=_(z,K);Qe<0?Re=!0:Qe>0&&(se=!0)}else null!=z?Re=!0:se=!0;se?(b(K),K=J_(B)):Re?(T(z),z=J_(R)):(z=J_(R),K=J_(B))}}(r,o,Af,u=>{c.push(this.Rn(t,e,i,u))},u=>{c.push(this.Pn(t,e,i,u))}),ce.waitFor(c)}Tn(t){let e=1;return B0(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,u)=>Af(c,u)).filter((c,u,m)=>!u||0!==Af(c,m[u-1]));const r=[];r.push(t);for(const c of i){const u=Af(c,t),m=Af(c,e);if(0===u)r[0]=t.Je();else if(u>0&&m<0)r.push(c),r.push(c.Je());else if(m>0)break}r.push(e);const o=[];for(let c=0;c<r.length;c+=2){if(this.bn(r[c],r[c+1]))return[];o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,VD,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,VD,[]]))}return o}bn(t,e){return Af(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(a3)}getMinOffset(t,e){return ce.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||gt())).next(a3)}}function s3(n){return no(n,"collectionParents")}function L0(n){return no(n,"indexEntries")}function UD(n){return no(n,"indexConfiguration")}function B0(n){return no(n,"indexState")}function a3(n){Dt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;p1(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new oa(t.readTime,t.documentKey,e)}const l3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Oo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Oo(t,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function c3(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(e.batchId);let u=0;const m=i.X({range:c},(b,T,R)=>(u++,R.delete()));o.push(m.next(()=>{Dt(1===u)}));const _=[];for(const b of e.mutations){const T=OV(t,b.key.path,e.batchId);o.push(r.delete(T)),_.push(b.key)}return ce.waitFor(o).next(()=>_)}function jD(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw gt();t=n.noDocument}return JSON.stringify(t).length}Oo.DEFAULT_COLLECTION_PERCENTILE=10,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oo.DEFAULT=new Oo(41943040,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oo.DISABLED=new Oo(-1,0,0);class HD{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){Dt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new HD(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mf(t).X({index:"userMutationsIndex",range:i},(r,o,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=dy(t),c=Mf(t);return c.add({}).next(u=>{Dt("number"==typeof u);const m=new k1(u,e,i,r),_=function(R,B,z){const K=z.baseMutations.map(Re=>O0(R.fe,Re)),se=z.mutations.map(Re=>O0(R.fe,Re));return{userId:B,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:K,mutations:se}}(this.serializer,this.userId,m),b=[];let T=new Mi((R,B)=>nn(R.canonicalString(),B.canonicalString()));for(const R of r){const B=OV(this.userId,R.key.path,u);T=T.add(R.key.path.popLast()),b.push(c.put(_)),b.push(o.put(B,X5))}return T.forEach(R=>{b.push(this.indexManager.addToCollectionParentIndex(t,R))}),t.addOnCommittedListener(()=>{this.Vn[u]=m.keys()}),ce.waitFor(b).next(()=>m)})}lookupMutationBatch(t,e){return Mf(t).get(e).next(i=>i?(Dt(i.userId===this.userId),Np(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?ce.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Mf(t).X({index:"userMutationsIndex",range:r},(c,u,m)=>{u.userId===this.userId&&(Dt(u.batchId>=i),o=Np(this.serializer,u)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Mf(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mf(t).j("userMutationsIndex",e).next(i=>i.map(r=>Np(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=bD(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return dy(t).X({range:r},(c,u,m)=>{const[_,b,T]=c,R=Qc(b);if(_===this.userId&&e.path.isEqual(R))return Mf(t).get(T).next(B=>{if(!B)throw gt();Dt(B.userId===this.userId),o.push(Np(this.serializer,B))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Mi(nn);const r=[];return e.forEach(o=>{const c=bD(this.userId,o.path),u=IDBKeyRange.lowerBound(c),m=dy(t).X({range:u},(_,b,T)=>{const[R,B,z]=_,K=Qc(B);R===this.userId&&o.path.isEqual(K)?i=i.add(z):T.done()});r.push(m)}),ce.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=bD(this.userId,i),c=IDBKeyRange.lowerBound(o);let u=new Mi(nn);return dy(t).X({range:c},(m,_,b)=>{const[T,R,B]=m,z=Qc(R);T===this.userId&&i.isPrefixOf(z)?z.length===r&&(u=u.add(B)):b.done()}).next(()=>this.Dn(t,u))}Dn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Mf(t).get(o).next(c=>{if(null===c)throw gt();Dt(c.userId===this.userId),i.push(Np(this.serializer,c))}))}),ce.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return c3(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return dy(t).X({range:i},(o,c,u)=>{if(o[0]===this.userId){const m=Qc(o[1]);r.push(m)}else u.done()}).next(()=>{Dt(0===r.length)})})}containsKey(t,e){return d3(t,this.userId,e)}xn(t){return u3(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function d3(n,t,e){const i=bD(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return dy(n).X({range:o,Y:!0},(u,m,_)=>{const[b,T,R]=u;b===t&&T===r&&(c=!0),_.done()}).next(()=>c)}function Mf(n){return no(n,"mutations")}function dy(n){return no(n,"documentMutations")}function u3(n){return no(n,"mutationQueues")}class Bp{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Bp(0)}static Mn(){return new Bp(-1)}}class hq{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new Bp(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>Tt.fromTimestamp(new Hi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>uy(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(Dt(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return uy(t).X((c,u)=>{const m=P0(u);m.sequenceNumber<=e&&null===i.get(m.targetId)&&(r++,o.push(this.removeTargetData(t,m)))}).next(()=>ce.waitFor(o)).next(()=>r)}forEachTarget(t,e){return uy(t).X((i,r)=>{const o=P0(r);e(o)})}$n(t){return h3(t).get("targetGlobalKey").next(e=>(Dt(null!==e),e))}On(t,e){return h3(t).put("targetGlobalKey",e)}Fn(t,e){return uy(t).put(YU(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Ap(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return uy(t).X({range:r,index:"queryTargetsIndex"},(c,u,m)=>{const _=P0(u);w0(e,_.target)&&(o=_,m.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=kf(t);return e.forEach(c=>{const u=Ro(c.path);r.push(o.put({targetId:i,path:u})),r.push(this.referenceDelegate.addReference(t,i,c))}),ce.waitFor(r)}removeMatchingKeys(t,e,i){const r=kf(t);return ce.forEach(e,o=>{const c=Ro(o.path);return ce.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=kf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=kf(t);let o=un();return r.X({range:i,Y:!0},(c,u,m)=>{const _=Qc(c[1]),b=new nt(_);o=o.add(b)}).next(()=>o)}containsKey(t,e){const i=Ro(e.path),r=IDBKeyRange.bound([i],[EV(i)],!1,!0);let o=0;return kf(t).X({index:"documentTargetsIndex",Y:!0,range:r},([c,u],m,_)=>{0!==c&&(o++,_.done())}).next(()=>o>0)}le(t,e){return uy(t).get(e).next(i=>i?P0(i):null)}}function uy(n){return no(n,"targets")}function h3(n){return no(n,"targetGlobal")}function kf(n){return no(n,"targetDocuments")}function f3([n,t],[e,i]){const r=nn(n,e);return 0===r?nn(t,i):r}class fq{constructor(t){this.Ln=t,this.buffer=new Mi(f3),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();f3(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class m3{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;He("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,De.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){bf(i)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield vf(i)}yield e.Qn(3e5)}))}}class mq{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ce.resolve(sa.ct);const i=new fq(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(l3)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l3):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,o,c,u,m,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,c=Date.now(),this.nthSequenceNumber(t,r))).next(T=>(i=T,u=Date.now(),this.removeTargets(t,i,e))).next(T=>(o=T,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(_=Date.now(),h1()<=qc.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-b}ms\n\tDetermined least recently used ${r} in `+(u-c)+`ms\n\tRemoved ${o} targets in `+(m-u)+`ms\n\tRemoved ${T} documents in `+(_-m)+`ms\nTotal Duration: ${_-b}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:T})))}}class pq{constructor(t,e){this.db=t,this.garbageCollector=function p3(n,t){return new mq(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return zD(t,i)}removeReference(t,e,i){return zD(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return zD(t,e)}Xn(t,e){return function(i,r){let o=!1;return u3(i).Z(c=>d3(i,c,r).next(u=>(u&&(o=!0),ce.resolve(!u)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(t,(c,u)=>{if(u<=e){const m=this.Xn(t,c).next(_=>{if(!_)return o++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Tt.min()),kf(t).delete([0,Ro(c.path)])))});r.push(m)}}).next(()=>ce.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return zD(t,e)}Yn(t,e){const i=kf(t);let r,o=sa.ct;return i.X({index:"documentTargetsIndex"},([c,u],{path:m,sequenceNumber:_})=>{0===c?(o!==sa.ct&&e(new nt(Qc(r)),o),o=_,r=m):o=sa.ct}).next(()=>{o!==sa.ct&&e(new nt(Qc(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function zD(n,t){return kf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ro(t.path),sequenceNumber:i}));var i}class g3{constructor(){this.changes=new wu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ki.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ce.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class gq{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Vp(t).put(i)}removeEntry(t,e,i){return Vp(t).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],FD(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=ki.newInvalidDocument(e);return Vp(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(V0(e))},(r,o)=>{i=this.ts(e,o)}).next(()=>i)}es(t,e){let i={size:0,document:ki.newInvalidDocument(e)};return Vp(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(V0(e))},(r,o)=>{i={document:this.ts(e,o),size:jD(o)}}).next(()=>i)}getEntries(t,e){let i=Is();return this.ns(t,e,(r,o)=>{const c=this.ts(r,o);i=i.insert(r,c)}).next(()=>i)}ss(t,e){let i=Is(),r=new bi(nt.comparator);return this.ns(t,e,(o,c)=>{const u=this.ts(o,c);i=i.insert(o,u),r=r.insert(o,jD(c))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return ce.resolve();let r=new Mi(b3);e.forEach(m=>r=r.add(m));const o=IDBKeyRange.bound(V0(r.first()),V0(r.last())),c=r.getIterator();let u=c.getNext();return Vp(t).X({index:"documentKeyIndex",range:o},(m,_,b)=>{const T=nt.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;u&&b3(u,T)<0;)i(u,null),u=c.getNext();u&&u.isEqual(T)&&(i(u,_),u=c.hasNext()?c.getNext():null),u?b.G(V0(u)):b.done()}).next(()=>{for(;u;)i(u,null),u=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,c=[o.popLast().toArray(),o.lastSegment(),FD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vp(t).j(IDBKeyRange.bound(c,u,!0)).next(m=>{let _=Is();for(const b of m){const T=this.ts(nt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);T.isFoundDocument()&&(C0(e,T)||r.has(T.key))&&(_=_.insert(T.key,T))}return _})}getAllFromCollectionGroup(t,e,i,r){let o=Is();const c=v3(e,i),u=v3(e,oa.max());return Vp(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,u,!0)},(m,_,b)=>{const T=this.ts(nt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);o=o.insert(T.key,T),o.size===r&&b.done()}).next(()=>o)}newChangeBuffer(t){return new _q(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return y3(t).get("remoteDocumentGlobalKey").next(e=>(Dt(!!e),e))}Zn(t,e){return y3(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function nq(n,t){let e;if(t.document)e=jU(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=nt.fromSegments(t.noDocument.path),r=Pp(t.noDocument.readTime);e=ki.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return gt();{const i=nt.fromSegments(t.unknownDocument.path),r=Pp(t.unknownDocument.version);e=ki.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Hi(i[0],i[1]);return Tt.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Tt.min()))return i}return ki.newInvalidDocument(t)}}function _3(n){return new gq(n)}class _q extends g3{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new wu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Mi((o,c)=>nn(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const u=this.us.get(o);if(e.push(this.os.removeEntry(t,o,u.readTime)),c.isValidDocument()){const m=ZU(this.os.serializer,c);r=r.add(o.path.popLast());const _=jD(m);i+=_-u.size,e.push(this.os.addEntry(t,o,m))}else if(i-=u.size,this.trackRemovals){const m=ZU(this.os.serializer,c.convertToNoDocument(Tt.min()));e.push(this.os.addEntry(t,o,m))}}),r.forEach(o=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.os.updateMetadata(t,i)),ce.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((o,c)=>{this.us.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function y3(n){return no(n,"remoteDocumentGlobal")}function Vp(n){return no(n,"remoteDocumentsV14")}function V0(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function v3(n,t){const e=t.documentKey.path.toArray();return[n,FD(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function b3(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=nn(e[o],i[o]),r)return r;return r=nn(e.length,i.length),r||(r=nn(e[e.length-2],i[i.length-2]),r||nn(e[e.length-1],i[i.length-1]))}class yq{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class w3{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&T0(i.mutation,r,Ds.empty(),Hi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,un()).next(()=>i))}getLocalViewOfDocuments(t,e,i=un()){const r=Jc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=E0();return o.forEach((u,m)=>{c=c.insert(u,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=Jc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,un()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,u)=>{e.set(c,u)})})}computeViews(t,e,i,r){let o=Is();const c=D0(),u=D0();return e.forEach((m,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof xu)?o=o.insert(_.key,_):void 0!==b?(c.set(_.key,b.mutation.getFieldMask()),T0(b.mutation,_,b.mutation.getFieldMask(),Hi.now())):c.set(_.key,Ds.empty())}),this.recalculateAndSaveOverlays(t,o).next(m=>(m.forEach((_,b)=>c.set(_,b)),e.forEach((_,b)=>{var T;return u.set(_,new yq(b,null!==(T=c.get(_))&&void 0!==T?T:null))}),u))}recalculateAndSaveOverlays(t,e){const i=D0();let r=new bi((c,u)=>c-u),o=un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const u of c)u.keys().forEach(m=>{const _=e.get(m);if(null===_)return;let b=i.get(m)||Ds.empty();b=u.applyToLocalView(_,b),i.set(m,b);const T=(r.get(u.batchId)||un()).add(m);r=r.insert(u.batchId,T)})}).next(()=>{const c=[],u=r.getReverseIterator();for(;u.hasNext();){const m=u.getNext(),_=m.key,b=m.value,T=hU();b.forEach(R=>{if(!o.has(R)){const B=wU(e.get(R),i.get(R));null!==B&&T.set(R,B),o=o.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(t,_,T))}return ce.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return nt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):I1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ce.resolve(Jc());let u=-1,m=o;return c.next(_=>ce.forEach(_,(b,T)=>(u<T.largestBatchId&&(u=T.largestBatchId),o.get(b)?ce.resolve():this.remoteDocumentCache.getEntry(t,b).next(R=>{m=m.insert(b,R)}))).next(()=>this.populateOverlays(t,_,o)).next(()=>this.computeViews(t,m,_,un())).next(b=>({batchId:u,changes:uU(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new nt(e)).next(i=>{let r=E0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=E0();return this.indexManager.getCollectionParents(t,r).next(c=>ce.forEach(c,u=>{const m=(_=e,b=u.child(r),new bu(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(t,m,i).next(_=>{_.forEach((b,T)=>{o=o.insert(b,T)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((u,m)=>{const _=m.getKey();null===o.get(_)&&(o=o.insert(_,ki.newInvalidDocument(_)))});let c=E0();return o.forEach((u,m)=>{const _=r.get(u);void 0!==_&&T0(_.mutation,m,Ds.empty(),Hi.now()),C0(e,m)&&(c=c.insert(u,m))}),c})}}class vq{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return ce.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:Dr(i.createTime)}),ce.resolve()}getNamedQuery(t,e){return ce.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:j1(i.bundledQuery),readTime:Dr(i.readTime)}),ce.resolve();var i}}class bq{constructor(){this.overlays=new bi(nt.comparator),this.ls=new Map}getOverlay(t,e){return ce.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Jc();return ce.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.we(t,e,o)}),ce.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),ce.resolve()}getOverlaysForCollection(t,e,i){const r=Jc(),o=e.length+1,c=new nt(e.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const m=u.getNext().value,_=m.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===o&&m.largestBatchId>i&&r.set(m.getKey(),m)}return ce.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new bi((_,b)=>_-b);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let b=o.get(_.largestBatchId);null===b&&(b=Jc(),o=o.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const u=Jc(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((_,b)=>u.set(_,b)),!(u.size()>=r)););return ce.resolve(u)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new O1(e,i));let o=this.ls.get(e);void 0===o&&(o=un(),this.ls.set(e,o)),this.ls.set(e,o.add(i.key))}}class Z1{constructor(){this.fs=new Mi(io.ds),this.ws=new Mi(io._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new io(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new io(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new nt(new Tn([])),i=new io(e,t),r=new io(e,t+1),o=[];return this.ws.forEachInRange([i,r],c=>{this.ys(c),o.push(c.key)}),o}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new nt(new Tn([])),i=new io(e,t),r=new io(e,t+1);let o=un();return this.ws.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new io(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class io{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return nt.comparator(t.key,e.key)||nn(t.As,e.As)}static _s(t,e){return nn(t.As,e.As)||nt.comparator(t.key,e.key)}}class wq{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Mi(io.ds)}checkEmpty(t){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.vs;this.vs++;const c=new k1(o,e,i,r);this.mutationQueue.push(c);for(const u of r)this.Rs=this.Rs.add(new io(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(t,e){return ce.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),o=r<0?0:r;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new io(e,0),r=new io(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],c=>{const u=this.Ps(c.As);o.push(u)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Mi(nn);return e.forEach(r=>{const o=new io(r,0),c=new io(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,c],u=>{i=i.add(u.As)})}),ce.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;nt.isDocumentKey(o)||(o=o.child(""));const c=new io(new nt(o),0);let u=new Mi(nn);return this.Rs.forEachWhile(m=>{const _=m.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(u=u.add(m.As)),!0)},c),ce.resolve(this.Vs(u))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Dt(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ce.forEach(e.mutations,r=>{const o=new io(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new io(e,0),r=this.Rs.firstAfterOrEqual(i);return ce.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ce.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class xq{constructor(t){this.Ds=t,this.docs=new bi(nt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ce.resolve(i?i.document.mutableCopy():ki.newInvalidDocument(e))}getEntries(t,e){let i=Is();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ki.newInvalidDocument(r))}),ce.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Is();const c=e.path,u=new nt(c.child("")),m=this.docs.getIteratorFrom(u);for(;m.hasNext();){const{key:_,value:{document:b}}=m.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||p1(IV(b),i)<=0||(r.has(b.key)||C0(e,b))&&(o=o.insert(b.key,b.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(t,e,i,r){gt()}Cs(t,e){return ce.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Cq(this)}getSize(t){return ce.resolve(this.size)}}class Cq extends g3{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),ce.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class Eq{constructor(t){this.persistence=t,this.xs=new wu(e=>Ap(e),w0),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Z1,this.targetCount=0,this.Ms=Bp.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),ce.resolve()}getLastRemoteSnapshotVersion(t){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ce.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),ce.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new Bp(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,ce.resolve()}updateTargetData(t,e){return this.Fn(e),ce.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,ce.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.xs.forEach((c,u)=>{u.sequenceNumber<=e&&null===i.get(u.targetId)&&(this.xs.delete(c),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),ce.waitFor(o).next(()=>r)}getTargetCount(t){return ce.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return ce.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),ce.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),ce.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),ce.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return ce.resolve(i)}containsKey(t,e){return ce.resolve(this.ks.containsKey(e))}}class Y1{constructor(t,e){this.$s={},this.overlays={},this.Os=new sa(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new Eq(this),this.indexManager=new dq,this.remoteDocumentCache=new xq(i=>this.referenceDelegate.Ls(i)),this.serializer=new qU(e),this.qs=new vq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new bq,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new wq(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){He("MemoryPersistence","Starting transaction:",t);const r=new Dq(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(t,e){return ce.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class Dq extends SV{constructor(t){super(),this.currentSequenceNumber=t}}class $D{constructor(t){this.persistence=t,this.Qs=new Z1,this.js=null}static zs(t){return new $D(t)}get Ws(){if(this.js)return this.js;throw gt()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),ce.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),ce.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ws,i=>{const r=nt.fromPath(i);return this.Hs(t,r).next(o=>{o||e.removeEntry(r,Tt.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return ce.or([()=>ce.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class Iq{constructor(t){this.serializer=t}O(t,e,i,r){const o=new vD("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RV,{unique:!0}),u.createObjectStore("documentMutations"),x3(t),function(u){u.createObjectStore("remoteDocuments")}(t));let c=ce.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),x3(t)),c=c.next(()=>function(u){const m=u.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",_)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(u,m){return m.store("mutations").j().next(_=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RV,{unique:!0});const b=m.store("mutations"),T=_.map(R=>b.put(R));return ce.waitFor(T)})}(t,o))),c=c.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Ys(o))),i<6&&r>=6&&(c=c.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(o)))),i<7&&r>=7&&(c=c.next(()=>this.Zs(o))),i<8&&r>=8&&(c=c.next(()=>this.ti(t,o))),i<9&&r>=9&&(c=c.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.ei(o))),i<11&&r>=11&&(c=c.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(u){const m=u.createObjectStore("documentOverlays",{keyPath:dW});m.createIndex("collectionPathOverlayIndex",uW,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",hW,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(u){const m=u.createObjectStore("remoteDocumentsV14",{keyPath:J5});m.createIndex("documentKeyIndex",eW),m.createIndex("collectionGroupIndex",tW)}(t)).next(()=>this.ni(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.si(t,o))),i<15&&r>=15&&(c=c.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:sW}).createIndex("sequenceNumberIndex",aW,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:lW}).createIndex("documentKeyIndex",cW,{unique:!1})}(t))),c}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=jD(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>ce.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",c).next(u=>ce.forEach(u,m=>{Dt(m.userId===o.userId);const _=Np(this.serializer,m);return c3(t,o.userId,_).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((c,u)=>{const m=new Tn(c),_=[0,Ro(m)];o.push(e.get(_).next(b=>b?ce.resolve():e.put({targetId:0,path:Ro(m),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ce.waitFor(o))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:oW});const i=e.store("collectionParents"),r=new q1,o=c=>{if(r.add(c)){const u=c.lastSegment(),m=c.popLast();return i.put({collectionId:u,parent:Ro(m)})}};return e.store("remoteDocuments").X({Y:!0},(c,u)=>{const m=new Tn(c);return o(m.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([c,u,m],_)=>{const b=Qc(u);return o(b.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const o=P0(r),c=YU(this.serializer,o);return e.put(c)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((o,c)=>{const u=e.store("remoteDocumentsV14"),m=(_=c,_.document?new nt(Tn.fromString(_.document.name).popFirst(5)):_.noDocument?nt.fromSegments(_.noDocument.path):_.unknownDocument?nt.fromSegments(_.unknownDocument.path):gt()).path.toArray();var _;const b={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(u.put(b))}).next(()=>ce.waitFor(r))}si(t,e){const i=e.store("mutations"),r=_3(this.serializer),o=new Y1($D.zs,this.serializer.fe);return i.j().next(c=>{const u=new Map;return c.forEach(m=>{var _;let b=null!==(_=u.get(m.userId))&&void 0!==_?_:un();Np(this.serializer,m).keys().forEach(T=>b=b.add(T)),u.set(m.userId,b)}),ce.forEach(u,(m,_)=>{const b=new to(_),T=LD.de(this.serializer,b),R=o.getIndexManager(b),B=HD.de(b,this.serializer,R,o.referenceDelegate);return new w3(r,B,T,R).recalculateAndSaveOverlaysForDocumentKeys(new y1(e,sa.ct),m).next()})})}}function x3(n){n.createObjectStore("targetDocuments",{keyPath:iW}).createIndex("documentTargetsIndex",rW,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nW,{unique:!0}),n.createObjectStore("targetGlobal")}const K1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Q1{constructor(t,e,i,r,o,c,u,m,_,b,T=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=o,this.window=c,this.document=u,this.ri=_,this.oi=b,this.ui=T,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=R=>Promise.resolve(),!Q1.D())throw new Oe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pq(this,r),this.di=e+"main",this.serializer=new qU(m),this.wi=new Wl(this.di,this.ui,new Iq(this.serializer)),this.Bs=new hq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_3(this.serializer),this.qs=new iq,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&Er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,K1);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new sa(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,De.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,De.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,De.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>WD(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(bf(t))return He("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return U0(t).get("owner").next(e=>ce.resolve(this.Ri(e)))}Pi(t){return WD(t).delete(this.clientId)}bi(){var t=this;return(0,De.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=no(i,"clientMetadata");return r.j().next(o=>{const c=t.Si(o,18e5),u=o.filter(m=>-1===c.indexOf(m));return ce.forEach(u,m=>r.delete(m.clientId)).next(()=>u)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?ce.resolve(!0):U0(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,K1);return!1}}return!(!this.networkEnabled||!this.inForeground)||WD(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&He("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,De.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new y1(e,sa.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>WD(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return HD.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new uq(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return LD.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){He("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(c=this.ui)?mW:14===c?FV:13===c?NV:12===c?fW:11===c?PV:void gt();var c;let u;return this.wi.runTransaction(t,r,o,m=>(u=new y1(m,this.Os?this.Os.next():sa.ct),"readwrite-primary"===e?this.Ti(u).next(_=>!!_||this.Ei(u)).next(_=>{if(!_)throw Er(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Oe(me.FAILED_PRECONDITION,TV);return i(u)}).next(_=>this.vi(u).next(()=>_)):this.Oi(u).next(()=>i(u)))).then(m=>(u.raiseOnCommittedEvent(),m))}Oi(t){return U0(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Oe(me.FAILED_PRECONDITION,K1)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return U0(t).put("owner",e)}static D(){return Wl.D()}Ai(t){const e=U0(t);return e.get("owner").next(i=>this.Ri(i)?(He("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ce.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Er(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,ie.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return He("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Er("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){Er("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function U0(n){return no(n,"owner")}function WD(n){return no(n,"clientMetadata")}function X1(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class J1{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=un(),r=un();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new J1(t,e.fromCache,i,r)}}class C3{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(o=>o||this.Gi(t,e,r,i)).next(o=>o||this.Qi(t,e))}Ki(t,e){if(sU(e))return ce.resolve(null);let i=es(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=MD(e,null,"F"),i=es(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=un(...o);return this.Ui.getDocuments(t,c).next(u=>this.indexManager.getMinOffset(t,i).next(m=>{const _=this.ji(e,u);return this.zi(e,_,c,m.readTime)?this.Ki(t,MD(e,null,"F")):this.Wi(t,_,e,m)}))})))}Gi(t,e,i,r){return sU(e)||r.isEqual(Tt.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(o=>{const c=this.ji(e,o);return this.zi(e,c,i,r)?this.Qi(t,e):(h1()<=qc.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),S1(e)),this.Wi(t,c,e,DV(r,-1)))})}ji(t,e){let i=new Mi(cU(t));return e.forEach((r,o)=>{C0(t,o)&&(i=i.add(o))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(t,e){return h1()<=qc.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",S1(e)),this.Ui.getDocumentsMatchingQuery(t,e,oa.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}class Tq{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new bi(nn),this.Yi=new wu(o=>Ap(o),w0),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new w3(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function E3(n,t,e,i){return new Tq(n,t,e,i)}function D3(n,t){return eR.apply(this,arguments)}function eR(){return eR=(0,De.Z)(function*(n,t){const e=st(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],u=[];let m=un();for(const _ of r){c.push(_.batchId);for(const b of _.mutations)m=m.add(b.key)}for(const _ of o){u.push(_.batchId);for(const b of _.mutations)m=m.add(b.key)}return e.localDocuments.getDocuments(i,m).next(_=>({er:_,removedBatchIds:c,addedBatchIds:u}))})})}),eR.apply(this,arguments)}function I3(n){const t=st(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function T3(n,t,e){let i=un(),r=un();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=Is();return e.forEach((u,m)=>{const _=o.get(u);m.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(u)),m.isNoDocument()&&m.version.isEqual(Tt.min())?(t.removeEntry(u,m.readTime),c=c.insert(u,m)):!_.isValidDocument()||m.version.compareTo(_.version)>0||0===m.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(m),c=c.insert(u,m)):He("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",m.version)}),{nr:c,sr:r}})}function Mq(n,t){const e=st(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function hy(n,t){const e=st(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(o=>o?(r=o,ce.resolve(r)):e.Bs.allocateTargetId(i).next(c=>(r=new Cu(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function fy(n,t,e){return tR.apply(this,arguments)}function tR(){return tR=(0,De.Z)(function*(n,t,e){const i=st(n),r=i.Ji.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!bf(c))throw c;He("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),tR.apply(this,arguments)}function qD(n,t,e){const i=st(n);let r=Tt.min(),o=un();return i.persistence.runTransaction("Execute query","readonly",c=>function(u,m,_){const b=st(u),T=b.Yi.get(_);return void 0!==T?ce.resolve(b.Ji.get(T)):b.Bs.getTargetData(m,_)}(i,c,es(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(c,u.targetId).next(m=>{o=m})}).next(()=>i.Hi.getDocumentsMatchingQuery(c,t,e?r:Tt.min(),e?o:un())).next(u=>(M3(i,lU(t),u),{documents:u,ir:o})))}function S3(n,t){const e=st(n),i=st(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.le(o,t).next(c=>c?c.target:null))}function A3(n,t){const e=st(n),i=e.Xi.get(t)||Tt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,DV(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(M3(e,t,r),r))}function M3(n,t,e){let i=n.Xi.get(t)||Tt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(t,i)}function nR(){return nR=(0,De.Z)(function*(n,t,e,i){const r=st(n);let o=un(),c=Is();for(const _ of e){const b=t.rr(_.metadata.name);_.document&&(o=o.add(b));const T=t.ur(_);T.setReadTime(t.cr(_.metadata.readTime)),c=c.insert(b,T)}const u=r.Zi.newChangeBuffer({trackRemovals:!0}),m=yield hy(r,(_=i,es(iy(Tn.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>T3(_,u,c).next(b=>(u.apply(_),b)).next(b=>r.Bs.removeMatchingKeysForTargetId(_,m.targetId).next(()=>r.Bs.addMatchingKeys(_,o,m.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,b.nr,b.sr)).next(()=>b.nr)))}),nR.apply(this,arguments)}function Rq(n,t){return iR.apply(this,arguments)}function iR(){return iR=(0,De.Z)(function*(n,t,e=un()){const i=yield hy(n,es(j1(t.bundledQuery))),r=st(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=Dr(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.qs.saveNamedQuery(o,t);const u=i.withResumeToken($r.EMPTY_BYTE_STRING,c);return r.Ji=r.Ji.insert(u.targetId,u),r.Bs.updateTargetData(o,u).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,e,i.targetId)).next(()=>r.qs.saveNamedQuery(o,t))})}),iR.apply(this,arguments)}function k3(n,t){return`firestore_clients_${n}_${t}`}function R3(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function rR(n,t){return`firestore_targets_${n}_${t}`}class ZD{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Oe(r.error.code,r.error.message))),c?new ZD(t,e,r.state,o):(Er("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class j0{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Oe(i.error.code,i.error.message))),o?new j0(t,i.state,r):(Er("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class YD{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=A1();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=MV(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new YD(t,o):(Er("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class oR{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new oR(e.clientId,e.onlineState):(Er("SharedClientState",`Failed to parse online state: ${t}`),null)}}class sR{constructor(){this.activeTargetIds=A1()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aR{constructor(t,e,i,r,o){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new bi(nn),this.started=!1,this.yr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=k3(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new sR),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,De.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const o=t.getItem(k3(t.persistenceKey,r));if(o){const c=YD.ar(r,o);c&&(t.gr=t.gr.insert(c.clientId,c))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(rR(this.persistenceKey,t));if(i){const r=j0.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(rR(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return He("SharedClientState","READ",t,e),e}setItem(t,e){He("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){He("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(He("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,De.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(o){let c=sa.ct;if(null!=o)try{const u=JSON.parse(o);Dt("number"==typeof u),c=u}catch(u){Er("SharedClientState","Failed to read sequence number from WebStorage",u)}return c}(i.newValue);r!==sa.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Qr(o)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new ZD(this.currentUser,t,e,i),o=R3(this.persistenceKey,this.currentUser,t);this.setItem(o,r.hr())}Cr(t){const e=R3(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=rR(this.persistenceKey,t),o=new j0(t,e,i);this.setItem(r,o.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return YD.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return ZD.ar(new to(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return j0.ar(r,e)}br(t){return oR.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,De.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);He("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),o=this.Sr(i),c=[],u=[];return o.forEach(m=>{r.has(m)||c.push(m)}),r.forEach(m=>{o.has(m)||u.push(m)}),this.syncEngine.Wr(c,u).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=A1();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class O3{constructor(){this.Hr=new sR,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new sR,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Oq{Yr(t){}shutdown(){}}class P3{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let KD=null;function lR(){return null===KD?KD=268435456+Math.round(2147483648*Math.random()):KD++,"0x"+KD.toString(16)}const Pq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nq{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Po="WebChannelConnection";class Fq extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,o){const c=lR(),u=this.To(t,e);He("RestConnection",`Sending RPC '${t}' ${c}:`,u,i);const m={};return this.Eo(m,r,o),this.Ao(t,u,m,i).then(_=>(He("RestConnection",`Received RPC '${t}' ${c}: `,_),_),_=>{throw Za("RestConnection",`RPC '${t}' ${c} failed with error: `,_,"url: ",u,"request:",i),_})}vo(t,e,i,r,o,c){return this.Io(t,e,i,r,o)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Q_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}To(t,e){return`${this.mo}/v1/${e}:${Pq[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const o=lR();return new Promise((c,u)=>{const m=new O5;m.setWithCredentials(!0),m.listenOnce(M5.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case u1.NO_ERROR:const b=m.getResponseJson();He(Po,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(b)),c(b);break;case u1.TIMEOUT:He(Po,`RPC '${t}' ${o} timed out`),u(new Oe(me.DEADLINE_EXCEEDED,"Request time out"));break;case u1.HTTP_ERROR:const T=m.getStatus();if(He(Po,`RPC '${t}' ${o} failed with status:`,T,"response text:",m.getResponseText()),T>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const B=R?.error;if(B&&B.status&&B.message){const z=function(K){const se=K.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(se)>=0?se:me.UNKNOWN}(B.status);u(new Oe(z,B.message))}else u(new Oe(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else u(new Oe(me.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{He(Po,`RPC '${t}' ${o} completed.`)}});const _=JSON.stringify(r);He(Po,`RPC '${t}' ${o} sending request:`,r),m.send(e,"POST",_,i,15)})}Ro(t,e,i){const r=lR(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=S5(),u=A5(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;void 0!==_&&(m.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(m.xmlHttpFactory=new R5({})),this.Eo(m.initMessageHeaders,e,i),m.encodeInitMessageHeaders=!0;const b=o.join("");He(Po,`Creating RPC '${t}' stream ${r}: ${b}`,m);const T=c.createWebChannel(b,m);let R=!1,B=!1;const z=new Nq({ro:se=>{B?He(Po,`Not sending because RPC '${t}' stream ${r} is closed:`,se):(R||(He(Po,`Opening RPC '${t}' stream ${r} transport.`),T.open(),R=!0),He(Po,`RPC '${t}' stream ${r} sending:`,se),T.send(se))},oo:()=>T.close()}),K=(se,Re,Qe)=>{se.listen(Re,et=>{try{Qe(et)}catch(ut){setTimeout(()=>{throw ut},0)}})};return K(T,gD.EventType.OPEN,()=>{B||He(Po,`RPC '${t}' stream ${r} transport opened.`)}),K(T,gD.EventType.CLOSE,()=>{B||(B=!0,He(Po,`RPC '${t}' stream ${r} transport closed`),z.wo())}),K(T,gD.EventType.ERROR,se=>{B||(B=!0,Za(Po,`RPC '${t}' stream ${r} transport errored:`,se),z.wo(new Oe(me.UNAVAILABLE,"The operation could not be completed")))}),K(T,gD.EventType.MESSAGE,se=>{var Re;if(!B){const Qe=se.data[0];Dt(!!Qe);const ut=Qe.error||(null===(Re=Qe[0])||void 0===Re?void 0:Re.error);if(ut){He(Po,`RPC '${t}' stream ${r} received error:`,ut);const Ht=ut.status;let rn=function(xo){const el=Nr[xo];if(void 0!==el)return TU(el)}(Ht),Nn=ut.message;void 0===rn&&(rn=me.INTERNAL,Nn="Unknown error status: "+Ht+" with message "+ut.message),B=!0,z.wo(new Oe(rn,Nn)),T.close()}else He(Po,`RPC '${t}' stream ${r} received:`,Qe),z._o(Qe)}}),K(u,k5.STAT_EVENT,se=>{se.stat===vV.PROXY?He(Po,`RPC '${t}' stream ${r} detected buffering proxy`):se.stat===vV.NOPROXY&&He(Po,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{z.fo()},0),z}}function N3(){return typeof window<"u"?window:null}function QD(){return typeof document<"u"?document:null}function H0(n){return new WW(n,!0)}class cR{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&He("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class F3{constructor(t,e,i,r,o,c,u,m){this.ii=t,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new cR(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,De.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,De.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,De.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(Er(e.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new Oe(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,De.Z)(function*(){t.state=0,t.start()}))}tu(t){return He("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lq extends F3{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function YW(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:gt(),r=t.targetChange.targetIds||[],o=function(m,_){return m.useProto3Json?(Dt(void 0===_||"string"==typeof _),$r.fromBase64String(_||"")):(Dt(void 0===_||_ instanceof Uint8Array),$r.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,u=c&&function(m){const _=void 0===m.code?me.UNKNOWN:TU(m.code);return new Oe(_,m.message||"")}(c);e=new RU(i,r,o,u||null)}else if("documentChange"in t){const i=t.documentChange,r=ed(n,i.document.name),o=Dr(i.document.updateTime),c=i.document.createTime?Dr(i.document.createTime):Tt.min(),u=new vo({mapValue:{fields:i.document.fields}}),m=ki.newFoundDocument(r,o,c,u);e=new ND(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const i=t.documentDelete,r=ed(n,i.document),o=i.readTime?Dr(i.readTime):Tt.min(),c=ki.newNoDocument(r,o);e=new ND([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=ed(n,i.document);e=new ND([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return gt();{const i=t.filter,{count:r=0,unchangedNames:o}=i,c=new UW(r,o);e=new kU(i.targetId,c)}}var m;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return Tt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Tt.min():o.readTime?Dr(o.readTime):Tt.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=R0(this.serializer),e.addTarget=function(r,o){let c;const u=o.target;if(c=TD(u)?{documents:HU(r,u)}:{query:U1(r,u)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=FU(r,o.resumeToken);const m=F1(r,o.expectedCount);null!==m&&(c.expectedCount=m)}else if(o.snapshotVersion.compareTo(Tt.min())>0){c.readTime=ly(r,o.snapshotVersion.toTimestamp());const m=F1(r,o.expectedCount);null!==m&&(c.expectedCount=m)}return c}(this.serializer,t);const i=function QW(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=R0(this.serializer),e.removeTarget=t,this.Wo(e)}}class Bq extends F3{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(Dt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function KW(n,t){return n&&n.length>0?(Dt(void 0!==t),n.map(e=>function(i,r){let o=Dr(i.updateTime?i.updateTime:r);return o.isEqual(Tt.min())&&(o=Dr(r)),new FW(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Dr(t.commitTime);return this.listener.cu(i,e)}return Dt(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=R0(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>O0(this.serializer,i))};this.Wo(e)}}class Vq extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(me.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.vo(t,e,i,o,c,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(me.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class jq{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Er(e),this.mu=!1):He("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Hq{constructor(t,e,i,r,o){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(u=>{i.enqueueAndForget((0,De.Z)(function*(){var m;Rf(c)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,De.Z)(function*(_){const b=st(_);b.vu.add(4),yield my(b),b.bu.set("Unknown"),b.vu.delete(4),yield z0(b)}),function(_){return m.apply(this,arguments)})(c))}))}),this.bu=new jq(i,r)}}function z0(n){return uR.apply(this,arguments)}function uR(){return uR=(0,De.Z)(function*(n){if(Rf(n))for(const t of n.Ru)yield t(!0)}),uR.apply(this,arguments)}function my(n){return hR.apply(this,arguments)}function hR(){return hR=(0,De.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),hR.apply(this,arguments)}function XD(n,t){const e=st(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),pR(e)?mR(e):gy(e).Ko()&&fR(e,t))}function $0(n,t){const e=st(n),i=gy(e);e.Au.delete(t),i.Ko()&&L3(e,t),0===e.Au.size&&(i.Ko()?i.jo():Rf(e)&&e.bu.set("Unknown"))}function fR(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}gy(n).su(t)}function L3(n,t){n.Vu.qt(t),gy(n).iu(t)}function mR(n){n.Vu=new HW({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),gy(n).start(),n.bu.gu()}function pR(n){return Rf(n)&&!gy(n).Uo()&&n.Au.size>0}function Rf(n){return 0===st(n).vu.size}function B3(n){n.Vu=void 0}function zq(n){return gR.apply(this,arguments)}function gR(){return gR=(0,De.Z)(function*(n){n.Au.forEach((t,e)=>{fR(n,t)})}),gR.apply(this,arguments)}function $q(n,t){return _R.apply(this,arguments)}function _R(){return _R=(0,De.Z)(function*(n,t){B3(n),pR(n)?(n.bu.Iu(t),mR(n)):n.bu.set("Unknown")}),_R.apply(this,arguments)}function Gq(n,t,e){return yR.apply(this,arguments)}function yR(){return yR=(0,De.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof RU&&2===t.state&&t.cause)try{yield(i=(0,De.Z)(function*(r,o){const c=o.cause;for(const u of o.targetIds)r.Au.has(u)&&(yield r.remoteSyncer.rejectListen(u,c),r.Au.delete(u),r.Vu.removeTarget(u))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){He("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield JD(n,i)}else if(t instanceof ND?n.Vu.Ht(t):t instanceof kU?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(Tt.min()))try{const i=yield I3(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const c=r.Vu.ce(o);return c.targetChanges.forEach((u,m)=>{if(u.resumeToken.approximateByteSize()>0){const _=r.Au.get(m);_&&r.Au.set(m,_.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,m)=>{const _=r.Au.get(u);if(!_)return;r.Au.set(u,_.withResumeToken($r.EMPTY_BYTE_STRING,_.snapshotVersion)),L3(r,u);const b=new Cu(_.target,u,m,_.sequenceNumber);fR(r,b)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){He("RemoteStore","Failed to raise snapshot:",i),yield JD(n,i)}var i}),yR.apply(this,arguments)}function JD(n,t,e){return vR.apply(this,arguments)}function vR(){return vR=(0,De.Z)(function*(n,t,e){if(!bf(t))throw t;n.vu.add(1),yield my(n),n.bu.set("Offline"),e||(e=()=>I3(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield z0(n)}))}),vR.apply(this,arguments)}function V3(n,t){return t().catch(e=>JD(n,e,t))}function py(n){return bR.apply(this,arguments)}function bR(){return bR=(0,De.Z)(function*(n){const t=st(n),e=Of(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Wq(t);)try{const r=yield Mq(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,qq(t,r)}catch(r){yield JD(t,r)}U3(t)&&j3(t)}),bR.apply(this,arguments)}function Wq(n){return Rf(n)&&n.Eu.length<10}function qq(n,t){n.Eu.push(t);const e=Of(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function U3(n){return Rf(n)&&!Of(n).Uo()&&n.Eu.length>0}function j3(n){Of(n).start()}function Zq(n){return wR.apply(this,arguments)}function wR(){return wR=(0,De.Z)(function*(n){Of(n).hu()}),wR.apply(this,arguments)}function Yq(n){return xR.apply(this,arguments)}function xR(){return xR=(0,De.Z)(function*(n){const t=Of(n);for(const e of n.Eu)t.uu(e.mutations)}),xR.apply(this,arguments)}function Kq(n,t,e){return CR.apply(this,arguments)}function CR(){return CR=(0,De.Z)(function*(n,t,e){const i=n.Eu.shift(),r=R1.from(i,t,e);yield V3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield py(n)}),CR.apply(this,arguments)}function Qq(n,t){return ER.apply(this,arguments)}function ER(){return ER=(0,De.Z)(function*(n,t){var e;t&&Of(n).ou&&(yield(e=(0,De.Z)(function*(i,r){if(IU(o=r.code)&&o!==me.ABORTED){const c=i.Eu.shift();Of(i).Qo(),yield V3(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield py(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),U3(n)&&j3(n)}),ER.apply(this,arguments)}function H3(n,t){return DR.apply(this,arguments)}function DR(){return DR=(0,De.Z)(function*(n,t){const e=st(n);e.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const i=Rf(e);e.vu.add(3),yield my(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield z0(e)}),DR.apply(this,arguments)}function IR(n,t){return TR.apply(this,arguments)}function TR(){return TR=(0,De.Z)(function*(n,t){const e=st(n);t?(e.vu.delete(2),yield z0(e)):t||(e.vu.add(2),yield my(e),e.bu.set("Unknown"))}),TR.apply(this,arguments)}function gy(n){return n.Su||(n.Su=function(t,e,i){const r=st(t);return r.fu(),new Lq(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:zq.bind(null,n),ao:$q.bind(null,n),nu:Gq.bind(null,n)}),n.Ru.push(function(){var t=(0,De.Z)(function*(e){e?(n.Su.Qo(),pR(n)?mR(n):n.bu.set("Unknown")):(yield n.Su.stop(),B3(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Of(n){return n.Du||(n.Du=function(t,e,i){const r=st(t);return r.fu(),new Bq(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Zq.bind(null,n),ao:Qq.bind(null,n),au:Yq.bind(null,n),cu:Kq.bind(null,n)}),n.Ru.push(function(){var t=(0,De.Z)(function*(e){e?(n.Du.Qo(),yield py(n)):(yield n.Du.stop(),n.Eu.length>0&&(He("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class SR{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,u=new SR(t,e,c,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _y(n,t){if(Er("AsyncQueue",`${t}: ${n}`),bf(n))return new Oe(me.UNAVAILABLE,`${t}: ${n}`);throw n}class yy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||nt.comparator(e.key,i.key):(e,i)=>nt.comparator(e.key,i.key),this.keyedMap=E0(),this.sortedSet=new bi(this.comparator)}static emptySet(t){return new yy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof yy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new yy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class z3{constructor(){this.Cu=new bi(nt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):gt():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class vy{constructor(t,e,i,r,o,c,u,m,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=m,this.hasCachedResults=_}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach(u=>{c.push({type:0,doc:u})}),new vy(t,e,yy.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&x0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Xq{constructor(){this.Nu=void 0,this.listeners=[]}}class Jq{constructor(){this.queries=new wu(t=>aU(t),x0),this.onlineState="Unknown",this.ku=new Set}}function AR(n,t){return MR.apply(this,arguments)}function MR(){return MR=(0,De.Z)(function*(n,t){const e=st(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new Xq),r)try{o.Nu=yield e.onListen(i)}catch(c){const u=_y(c,`Initialization of query '${S1(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,o),o.listeners.push(t),t.Mu(e.onlineState),o.Nu&&t.$u(o.Nu)&&OR(e)}),MR.apply(this,arguments)}function kR(n,t){return RR.apply(this,arguments)}function RR(){return RR=(0,De.Z)(function*(n,t){const e=st(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const c=o.listeners.indexOf(t);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),RR.apply(this,arguments)}function e8(n,t){const e=st(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const u of c.listeners)u.$u(r)&&(i=!0);c.Nu=r}}i&&OR(e)}function t8(n,t,e){const i=st(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function OR(n){n.ku.forEach(t=>{t.next()})}class PR{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new vy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=vy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class n8{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class $3{constructor(t){this.serializer=t}rr(t){return ed(this.serializer,t)}ur(t){return t.metadata.exists?jU(this.serializer,t.document,!1):ki.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return Dr(t)}}class r8{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=G3(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=Tn.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new $3(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const c of r.metadata.queries){const u=(e.get(c)||un()).add(o);e.set(c,u)}}return e}complete(){var t=this;return(0,De.Z)(function*(){const e=yield function kq(n,t,e,i){return nR.apply(this,arguments)}(t.localStore,new $3(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield Rq(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function G3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class W3{constructor(t){this.key=t}}class q3{constructor(t){this.key=t}}class Z3{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=un(),this.mutatedKeys=un(),this.tc=cU(t),this.ec=new yy(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new z3,r=e?e.ec:this.ec;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,u=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((b,T)=>{const R=r.get(b),B=C0(this.query,T)?T:null,z=!!R&&this.mutatedKeys.has(R.key),K=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let se=!1;R&&B?R.data.isEqual(B.data)?z!==K&&(i.track({type:3,doc:B}),se=!0):this.rc(R,B)||(i.track({type:2,doc:B}),se=!0,(m&&this.tc(B,m)>0||_&&this.tc(B,_)<0)&&(u=!0)):!R&&B?(i.track({type:0,doc:B}),se=!0):R&&!B&&(i.track({type:1,doc:R}),se=!0,(m||_)&&(u=!0)),se&&(B?(c=c.add(B),o=K?o.add(b):o.delete(b)):(c=c.delete(b),o=o.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),o=o.delete(b.key),i.track({type:1,doc:b})}return{ec:c,ic:i,zi:u,mutatedKeys:o}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const o=t.ic.xu();o.sort((_,b)=>function(T,R){const B=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return B(T)-B(R)}(_.type,b.type)||this.tc(_.doc,b.doc)),this.oc(i);const c=e?this.uc():[],u=0===this.Zu.size&&this.current?1:0,m=u!==this.Xu;return this.Xu=u,0!==o.length||m?{snapshot:new vy(this.query,t.ec,r,o,t.mutatedKeys,0===u,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new z3,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=un(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new q3(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new W3(i))}),e}hc(t){this.Yu=t.ir,this.Zu=un();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return vy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class o8{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class s8{constructor(t){this.key=t,this.fc=!1}}class a8{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new wu(u=>aU(u),x0),this._c=new Map,this.mc=new Set,this.gc=new bi(nt.comparator),this.yc=new Map,this.Ic=new Z1,this.Tc={},this.Ec=new Map,this.Ac=Bp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function l8(n,t){return NR.apply(this,arguments)}function NR(){return NR=(0,De.Z)(function*(n,t){const e=rO(n);let i,r;const o=e.wc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const c=yield hy(e.localStore,es(t)),u=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield FR(e,t,i,"current"===u,c.resumeToken),e.isPrimaryClient&&XD(e.remoteStore,c)}return r}),NR.apply(this,arguments)}function FR(n,t,e,i,r){return LR.apply(this,arguments)}function LR(){return LR=(0,De.Z)(function*(n,t,e,i,r){n.Rc=(T,R,B)=>{return(z=(0,De.Z)(function*(K,se,Re,Qe){let et=se.view.sc(Re);et.zi&&(et=yield qD(K.localStore,se.query,!1).then(({documents:rn})=>se.view.sc(rn,et)));const ut=Qe&&Qe.targetChanges.get(se.targetId),Ht=se.view.applyChanges(et,K.isPrimaryClient,ut);return qR(K,se.targetId,Ht.cc),Ht.snapshot}),function(K,se,Re,Qe){return z.apply(this,arguments)})(n,T,R,B);var z};const o=yield qD(n.localStore,t,!0),c=new Z3(t,o.ir),u=c.sc(o.documents),m=M0.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),_=c.applyChanges(u,n.isPrimaryClient,m);qR(n,e,_.cc);const b=new o8(t,e,c);return n.wc.set(t,b),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),_.snapshot}),LR.apply(this,arguments)}function c8(n,t){return BR.apply(this,arguments)}function BR(){return BR=(0,De.Z)(function*(n,t){const e=st(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(o=>!x0(o,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),$0(e.remoteStore,i.targetId),by(e,i.targetId)}).catch(vf))):(by(e,i.targetId),yield fy(e.localStore,i.targetId,!0))}),BR.apply(this,arguments)}function VR(){return VR=(0,De.Z)(function*(n,t,e){const i=oO(n);try{const r=yield function(o,c){const u=st(o),m=Hi.now(),_=c.reduce((R,B)=>R.add(B.key),un());let b,T;return u.persistence.runTransaction("Locally write mutations","readwrite",R=>{let B=Is(),z=un();return u.Zi.getEntries(R,_).next(K=>{B=K,B.forEach((se,Re)=>{Re.isValidDocument()||(z=z.add(se))})}).next(()=>u.localDocuments.getOverlayedDocuments(R,B)).next(K=>{b=K;const se=[];for(const Re of c){const Qe=BW(Re,b.get(Re.key).overlayedDocument);null!=Qe&&se.push(new xu(Re.key,Qe,qV(Qe.value.mapValue),zi.exists(!0)))}return u.mutationQueue.addMutationBatch(R,m,se,c)}).next(K=>{T=K;const se=K.applyToLocalDocumentSet(b,z);return u.documentOverlayCache.saveOverlays(R,K.batchId,se)})}).then(()=>({batchId:T.batchId,changes:uU(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,u){let m=o.Tc[o.currentUser.toKey()];m||(m=new bi(nn)),m=m.insert(c,u),o.Tc[o.currentUser.toKey()]=m}(i,r.batchId,e),yield Eu(i,r.changes),yield py(i.remoteStore)}catch(r){const o=_y(r,"Failed to persist write");e.reject(o)}}),VR.apply(this,arguments)}function Y3(n,t){return UR.apply(this,arguments)}function UR(){return UR=(0,De.Z)(function*(n,t){const e=st(n);try{const i=yield function Aq(n,t){const e=st(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const u=[];t.targetChanges.forEach((b,T)=>{const R=r.get(T);if(!R)return;u.push(e.Bs.removeMatchingKeys(o,b.removedDocuments,T).next(()=>e.Bs.addMatchingKeys(o,b.addedDocuments,T)));let B=R.withSequenceNumber(o.currentSequenceNumber);var z,K,se;null!==t.targetMismatches.get(T)?B=B.withResumeToken($r.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):b.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(b.resumeToken,i)),r=r.insert(T,B),K=B,se=b,(0===(z=R).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0)&&u.push(e.Bs.updateTargetData(o,B))});let m=Is(),_=un();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,b))}),u.push(T3(o,c,t.documentUpdates).next(b=>{m=b.nr,_=b.sr})),!i.isEqual(Tt.min())){const b=e.Bs.getLastRemoteSnapshotVersion(o).next(T=>e.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(b)}return ce.waitFor(u).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,m,_)).next(()=>m)}).then(o=>(e.Ji=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.yc.get(o);c&&(Dt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.fc=!0:r.modifiedDocuments.size>0?Dt(c.fc):r.removedDocuments.size>0&&(Dt(c.fc),c.fc=!1))}),yield Eu(e,i,t)}catch(i){yield vf(i)}}),UR.apply(this,arguments)}function K3(n,t,e){const i=st(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((o,c)=>{const u=c.view.Mu(t);u.snapshot&&r.push(u.snapshot)}),function(o,c){const u=st(o);u.onlineState=c;let m=!1;u.queries.forEach((_,b)=>{for(const T of b.listeners)T.Mu(c)&&(m=!0)}),m&&OR(u)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function u8(n,t,e){return jR.apply(this,arguments)}function jR(){return jR=(0,De.Z)(function*(n,t,e){const i=st(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),o=r&&r.key;if(o){let c=new bi(nt.comparator);c=c.insert(o,ki.newNoDocument(o,Tt.min()));const u=un().add(o),m=new A0(Tt.min(),new Map,new bi(nn),c,u);yield Y3(i,m),i.gc=i.gc.remove(o),i.yc.delete(t),ZR(i)}else yield fy(i.localStore,t,!1).then(()=>by(i,t,e)).catch(vf)}),jR.apply(this,arguments)}function h8(n,t){return HR.apply(this,arguments)}function HR(){return HR=(0,De.Z)(function*(n,t){const e=st(n),i=t.batch.batchId;try{const r=yield function Sq(n,t){const e=st(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Zi.newChangeBuffer({trackRemovals:!0});return function(c,u,m,_){const b=m.batch,T=b.keys();let R=ce.resolve();return T.forEach(B=>{R=R.next(()=>_.getEntry(u,B)).next(z=>{const K=m.docVersions.get(B);Dt(null!==K),z.version.compareTo(K)<0&&(b.applyToRemoteDocument(z,m),z.isValidDocument()&&(z.setReadTime(m.commitVersion),_.addEntry(z)))})}),R.next(()=>c.mutationQueue.removeMutationBatch(u,b))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=un();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(u=u.add(c.batch.mutations[m].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);WR(e,i,null),GR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Eu(e,r)}catch(r){yield vf(r)}}),HR.apply(this,arguments)}function f8(n,t,e){return zR.apply(this,arguments)}function zR(){return zR=(0,De.Z)(function*(n,t,e){const i=st(n);try{const r=yield function(o,c){const u=st(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return u.mutationQueue.lookupMutationBatch(m,c).next(b=>(Dt(null!==b),_=b.keys(),u.mutationQueue.removeMutationBatch(m,b))).next(()=>u.mutationQueue.performConsistencyCheck(m)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(m,_,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>u.localDocuments.getDocuments(m,_))})}(i.localStore,t);WR(i,t,e),GR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Eu(i,r)}catch(r){yield vf(r)}}),zR.apply(this,arguments)}function $R(){return $R=(0,De.Z)(function*(n,t){const e=st(n);Rf(e.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=st(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>c.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=_y(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),$R.apply(this,arguments)}function GR(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function WR(n,t,e){const i=st(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function by(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||Q3(n,i)})}function Q3(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&($0(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),ZR(n))}function qR(n,t,e){for(const i of e)i instanceof W3?(n.Ic.addReference(i.key,t),p8(n,i)):i instanceof q3?(He("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||Q3(n,i.key)):gt()}function p8(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(He("SyncEngine","New document in limbo: "+e),n.mc.add(i),ZR(n))}function ZR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new nt(Tn.fromString(t)),i=n.Ac.next();n.yc.set(i,new s8(e)),n.gc=n.gc.insert(e,i),XD(n.remoteStore,new Cu(es(iy(e.path)),i,"TargetPurposeLimboResolution",sa.ct))}}function Eu(n,t,e){return YR.apply(this,arguments)}function YR(){return YR=(0,De.Z)(function*(n,t,e){const i=st(n),r=[],o=[],c=[];var u;i.wc.isEmpty()||(i.wc.forEach((u,m)=>{c.push(i.Rc(m,t,e).then(_=>{if((_||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,_?.fromCache?"not-current":"current"),_){r.push(_);const b=J1.Li(m.targetId,_);o.push(b)}}))}),yield Promise.all(c),i.dc.nu(r),yield(u=(0,De.Z)(function*(m,_){const b=st(m);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ce.forEach(_,R=>ce.forEach(R.Fi,B=>b.persistence.referenceDelegate.addReference(T,R.targetId,B)).next(()=>ce.forEach(R.Bi,B=>b.persistence.referenceDelegate.removeReference(T,R.targetId,B)))))}catch(T){if(!bf(T))throw T;He("LocalStore","Failed to update sequence numbers: "+T)}for(const T of _){const R=T.targetId;if(!T.fromCache){const B=b.Ji.get(R),K=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);b.Ji=b.Ji.insert(R,K)}}}),function(m,_){return u.apply(this,arguments)})(i.localStore,o))}),YR.apply(this,arguments)}function g8(n,t){return KR.apply(this,arguments)}function KR(){return KR=(0,De.Z)(function*(n,t){const e=st(n);if(!e.currentUser.isEqual(t)){He("SyncEngine","User change. New user:",t.toKey());const i=yield D3(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(c=>{c.forEach(u=>{u.reject(new Oe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Eu(e,i.er)}var r}),KR.apply(this,arguments)}function _8(n,t){const e=st(n),i=e.yc.get(t);if(i&&i.fc)return un().add(i.key);{let r=un();const o=e._c.get(t);if(!o)return r;for(const c of o){const u=e.wc.get(c);r=r.unionWith(u.view.nc)}return r}}function y8(n,t){return QR.apply(this,arguments)}function QR(){return QR=(0,De.Z)(function*(n,t){const e=st(n),i=yield qD(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&qR(e,t.targetId,r.cc),r}),QR.apply(this,arguments)}function v8(n,t){return XR.apply(this,arguments)}function XR(){return XR=(0,De.Z)(function*(n,t){const e=st(n);return A3(e.localStore,t).then(i=>Eu(e,i))}),XR.apply(this,arguments)}function b8(n,t,e,i){return JR.apply(this,arguments)}function JR(){return JR=(0,De.Z)(function*(n,t,e,i){const r=st(n),o=yield function(c,u){const m=st(c),_=st(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Sn(b,u).next(T=>T?m.localDocuments.getDocuments(b,T):ce.resolve(null)))}(r.localStore,t);var u;null!==o?("pending"===e?yield py(r.remoteStore):"acknowledged"===e||"rejected"===e?(WR(r,t,i||null),GR(r,t),u=t,st(st(r.localStore).mutationQueue).Cn(u)):gt(),yield Eu(r,o)):He("SyncEngine","Cannot apply mutation batch with id: "+t)}),JR.apply(this,arguments)}function eO(){return eO=(0,De.Z)(function*(n,t){const e=st(n);if(rO(e),oO(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield X3(e,i.toArray());e.vc=!0,yield IR(e.remoteStore,!0);for(const o of r)XD(e.remoteStore,o)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((o,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(by(e,c),fy(e.localStore,c,!0))),$0(e.remoteStore,c)}),yield r,yield X3(e,i),function(o){const c=st(o);c.yc.forEach((u,m)=>{$0(c.remoteStore,m)}),c.Ic.Ts(),c.yc=new Map,c.gc=new bi(nt.comparator)}(e),e.vc=!1,yield IR(e.remoteStore,!1)}}),eO.apply(this,arguments)}function X3(n,t,e){return tO.apply(this,arguments)}function tO(){return tO=(0,De.Z)(function*(n,t,e){const i=st(n),r=[],o=[];for(const c of t){let u;const m=i._c.get(c);if(m&&0!==m.length){u=yield hy(i.localStore,es(m[0]));for(const _ of m){const b=i.wc.get(_),T=yield y8(i,b);T.snapshot&&o.push(T.snapshot)}}else{const _=yield S3(i.localStore,c);u=yield hy(i.localStore,_),yield FR(i,J3(_),c,!1,u.resumeToken)}r.push(u)}return i.dc.nu(o),r}),tO.apply(this,arguments)}function J3(n){return oU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function x8(n){const t=st(n);return st(st(t.localStore).persistence).$i()}function C8(n,t,e,i){return nO.apply(this,arguments)}function nO(){return nO=(0,De.Z)(function*(n,t,e,i){const r=st(n);if(r.vc)return void He("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const c=yield A3(r.localStore,lU(o[0])),u=A0.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,$r.EMPTY_BYTE_STRING);yield Eu(r,c,u);break}case"rejected":yield fy(r.localStore,t,!0),by(r,t,i);break;default:gt()}}),nO.apply(this,arguments)}function E8(n,t,e){return iO.apply(this,arguments)}function iO(){return iO=(0,De.Z)(function*(n,t,e){const i=rO(n);if(i.vc){for(const r of t){if(i._c.has(r)){He("SyncEngine","Adding an already active target "+r);continue}const o=yield S3(i.localStore,r),c=yield hy(i.localStore,o);yield FR(i,J3(o),c.targetId,!1,c.resumeToken),XD(i.remoteStore,c)}for(const r of e)i._c.has(r)&&(yield fy(i.localStore,r,!1).then(()=>{$0(i.remoteStore,r),by(i,r)}).catch(vf))}}),iO.apply(this,arguments)}function rO(n){const t=st(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Y3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=u8.bind(null,t),t.dc.nu=e8.bind(null,t.eventManager),t.dc.Pc=t8.bind(null,t.eventManager),t}function oO(n){const t=st(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=h8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=f8.bind(null,t),t}class G0{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,De.Z)(function*(){e.serializer=H0(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return E3(this.persistence,new C3,t.initialUser,this.serializer)}createPersistence(t){return new Y1($D.zs,this.serializer)}createSharedClientState(t){return new O3}terminate(){var t=this;return(0,De.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class sO extends G0{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,De.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield oO(i.Vc.syncEngine),yield py(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return E3(this.persistence,new C3,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new m3(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new K5(e,this.persistence);return new Y5(t.asyncQueue,i)}createPersistence(t){const e=X1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Oo.withCacheSize(this.cacheSizeBytes):Oo.DEFAULT;return new Q1(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,N3(),QD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new O3}}class ej extends sO{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,De.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof aR&&(i.sharedClientState.syncEngine={jr:b8.bind(null,r),zr:C8.bind(null,r),Wr:E8.bind(null,r),$i:x8.bind(null,r),Qr:v8.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var o=(0,De.Z)(function*(c){yield function w8(n,t){return eO.apply(this,arguments)}(i.Vc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=N3();if(!aR.D(e))throw new Oe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=X1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new aR(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class wy{initialize(t,e){var i=this;return(0,De.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>K3(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=g8.bind(null,i.syncEngine),yield IR(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Jq}createDatastore(t){const e=H0(t.databaseInfo.databaseId),i=new Fq(t.databaseInfo);return new Vq(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=u=>K3(this.syncEngine,u,0),c=P3.D()?new P3:new Oq,new Hq(e,i,r,o,c);var e,i,r,o,c}createSyncEngine(t,e){return function(i,r,o,c,u,m,_){const b=new a8(i,r,o,c,u,m);return _&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,De.Z)(function*(e){const i=st(e);He("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield my(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function tj(n,t=10240){let e=0;return{read:()=>(0,De.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class eI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Er("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class T8{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new zr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,De.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,De.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,De.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const o=yield t.$c(r);return new n8(JSON.parse(o),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,De.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,De.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,De.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class S8{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Oe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,De.Z)(function*(o,c){const u=st(o),m=R0(u.serializer)+"/documents",_={documents:c.map(B=>k0(u.serializer,B))},b=yield u.vo("BatchGetDocuments",m,_,c.length),T=new Map;b.forEach(B=>{const z=function ZW(n,t){return"found"in t?function(e,i){Dt(!!i.found);const r=ed(e,i.found.name),o=Dr(i.found.updateTime),c=i.found.createTime?Dr(i.found.createTime):Tt.min(),u=new vo({mapValue:{fields:i.found.fields}});return ki.newFoundDocument(r,o,c,u)}(n,t):"missing"in t?function(e,i){Dt(!!i.missing),Dt(!!i.readTime);const r=ed(e,i.missing),o=Dr(i.readTime);return ki.newNoDocument(r,o)}(n,t):gt()}(u.serializer,B);T.set(z.key.toString(),z)});const R=[];return c.forEach(B=>{const z=T.get(B.toString());Dt(!!z),R.push(z)}),R}),function(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new ay(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=nt.fromPath(r);t.mutations.push(new M1(o,t.precondition(o)))}),yield(i=(0,De.Z)(function*(r,o){const c=st(r),u=R0(c.serializer)+"/documents",m={writes:o.map(_=>O0(c.serializer,_))};yield c.Io("Commit",u,m)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw gt();e=Tt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Oe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Tt.min())?zi.exists(!1):zi.updateTime(e):zi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Tt.min()))throw new Oe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zi.updateTime(e)}return zi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class A8{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new cR(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,De.Z)(function*(){const e=new S8(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Uc(o)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!p0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!IU(e)}return!1}}class M8{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=to.UNAUTHENTICATED,this.clientId=CV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,De.Z)(function*(u){He("FirestoreClient","Received user=",u.uid),yield o.authCredentialListener(u),o.user=u});return function(u){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(He("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,De.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=_y(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function tI(n,t){return aO.apply(this,arguments)}function aO(){return aO=(0,De.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,De.Z)(function*(o){i.isEqual(o)||(yield D3(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),aO.apply(this,arguments)}function lO(n,t){return cO.apply(this,arguments)}function cO(){return cO=(0,De.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield dO(n);He("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>H3(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>H3(t.remoteStore,o)),n._onlineComponents=t}),cO.apply(this,arguments)}function nj(n){return"FirebaseError"===n.name?n.code===me.FAILED_PRECONDITION||n.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function dO(n){return uO.apply(this,arguments)}function uO(){return uO=(0,De.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){He("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tI(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!nj(e))throw e;Za("Error using user provided cache. Falling back to memory cache: "+e),yield tI(n,new G0)}}else He("FirestoreClient","Using default OfflineComponentProvider"),yield tI(n,new G0);return n._offlineComponents}),uO.apply(this,arguments)}function nI(n){return hO.apply(this,arguments)}function hO(){return hO=(0,De.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(He("FirestoreClient","Using user provided OnlineComponentProvider"),yield lO(n,n._uninitializedComponentsProvider._online)):(He("FirestoreClient","Using default OnlineComponentProvider"),yield lO(n,new wy))),n._onlineComponents}),hO.apply(this,arguments)}function ij(n){return dO(n).then(t=>t.persistence)}function iI(n){return dO(n).then(t=>t.localStore)}function rj(n){return nI(n).then(t=>t.remoteStore)}function fO(n){return nI(n).then(t=>t.syncEngine)}function xy(n){return mO.apply(this,arguments)}function mO(){return mO=(0,De.Z)(function*(n){const t=yield nI(n),e=t.eventManager;return e.onListen=l8.bind(null,t.syncEngine),e.onUnlisten=c8.bind(null,t.syncEngine),e}),mO.apply(this,arguments)}function sj(n,t,e={}){const i=new zr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(r,o,c,u,m){const _=new eI({next:T=>{o.enqueueAndForget(()=>kR(r,b));const R=T.docs.has(c);!R&&T.fromCache?m.reject(new Oe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&u&&"server"===u.source?m.reject(new Oe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),b=new PR(iy(c.path),_,{includeMetadataChanges:!0,Ku:!0});return AR(r,b)}(yield xy(n),n.asyncQueue,t,e,i)})),i.promise}function aj(n,t,e={}){const i=new zr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(r,o,c,u,m){const _=new eI({next:T=>{o.enqueueAndForget(()=>kR(r,b)),T.fromCache&&"server"===u.source?m.reject(new Oe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),b=new PR(c,_,{includeMetadataChanges:!0,Ku:!0});return AR(r,b)}(yield xy(n),n.asyncQueue,t,e,i)})),i.promise}function lj(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const cj=new Map;function pO(n,t,e){if(!e)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function dj(n,t,e,i){if(!0===t&&!0===i)throw new Oe(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function uj(n){if(!nt.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hj(n){if(nt.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":gt()}function Dn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Oe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=rI(n);throw new Oe(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function fj(n,t){if(t<=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class mj{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Oe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Oe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dj("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=lj(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class W0{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mj(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new L5;switch(e.type){case"firstParty":return new j5(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Oe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=cj.get(t);e&&(He("ComponentProvider","Removing Datastore"),cj.delete(t),e.terminate())}(this),Promise.resolve()}}function pj(n,t,e,i={}){var r;const o=(n=Dn(n,W0))._getSettings(),c=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==c&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),i.mockUserToken){let u,m;if("string"==typeof i.mockUserToken)u=i.mockUserToken,m=to.MOCK_USER;else{u=(0,ie.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Oe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new to(_)}n._authCredentials=new B5(new wV(u,m))}}class Ri{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new td(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ri(this.firestore,t,this._key)}}class bo{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new bo(this.firestore,t,this._query)}}class td extends bo{constructor(t,e,i){super(t,e,iy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ri(this.firestore,null,new nt(t))}withConverter(t){return new td(this.firestore,t,this._path)}}function gj(n,t,...e){if(n=(0,ie.m9)(n),pO("collection","path",t),n instanceof W0){const i=Tn.fromString(t,...e);return hj(i),new td(n,null,i)}{if(!(n instanceof Ri||n instanceof td))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tn.fromString(t,...e));return hj(i),new td(n.firestore,null,i)}}function oI(n,t,...e){if(n=(0,ie.m9)(n),1===arguments.length&&(t=CV.A()),pO("doc","path",t),n instanceof W0){const i=Tn.fromString(t,...e);return uj(i),new Ri(n,null,new nt(i))}{if(!(n instanceof Ri||n instanceof td))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tn.fromString(t,...e));return uj(i),new Ri(n.firestore,n instanceof td?n.converter:null,new nt(i))}}function _j(n,t){return n=(0,ie.m9)(n),t=(0,ie.m9)(t),(n instanceof Ri||n instanceof td)&&(t instanceof Ri||t instanceof td)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function gO(n,t){return n=(0,ie.m9)(n),t=(0,ie.m9)(t),n instanceof bo&&t instanceof bo&&n.firestore===t.firestore&&x0(n._query,t._query)&&n.converter===t.converter}class U8{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new cR(this,"async_queue_retry"),this.Xc=()=>{const e=QD();e&&He("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=QD();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=QD();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new zr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,De.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!bf(e))throw e;He("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,Er("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=SR.createAndSchedule(this,t,e,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&gt()}verifyOperationInProgress(){}sa(){var t=this;return(0,De.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function _O(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class j8{constructor(){this._progressObserver={},this._taskCompletionResolver=new zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Oi extends W0{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new U8,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yj(this),this._firestoreClient.terminate()}}function z8(n,t){const e="object"==typeof n?n:(0,Xo.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,Xo._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,ie.P0)("firestore");o&&pj(r,...o)}return r}function Ir(n){return n._firestoreClient||yj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function yj(n){var t,e,i;const r=n._freezeSettings(),o=(u=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new _W(n._databaseId,u,n._persistenceKey,(_=r).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,lj(_.experimentalLongPollingOptions),_.useFetchStreams));var u,_;n._firestoreClient=new M8(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function vj(n,t,e){const i=new zr;return n.asyncQueue.enqueue((0,De.Z)(function*(){try{yield tI(n,e),yield lO(n,t),i.resolve()}catch(r){const o=r;if(!nj(o))throw o;Za("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function bj(n){if(n._initialized||n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class nd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new nd($r.fromBase64String(t))}catch(e){throw new Oe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new nd($r.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Du{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Oe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Up{constructor(t){this._methodName=t}}class sI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Oe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Oe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return nn(this._lat,t._lat)||nn(this._long,t._long)}}const J8=/^__.*__$/;class eZ{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new xu(t,this.data,this.fieldMask,e,this.fieldTransforms):new sy(t,this.data,e,this.fieldTransforms)}}class wj{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new xu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function xj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class aI{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new aI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return dI(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(xj(this.ca)&&J8.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class tZ{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||H0(t)}ya(t,e,i,r=!1){return new aI({ca:t,methodName:e,ga:i,path:ur.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jp(n){const t=n._freezeSettings(),e=H0(n._databaseId);return new tZ(n._databaseId,!!t.ignoreUndefinedProperties,e)}function lI(n,t,e,i,r,o={}){const c=n.ya(o.merge||o.mergeFields?2:0,t,e,r);wO("Data must be an object, but it was:",c,i);const u=Dj(i,c);let m,_;if(o.merge)m=new Ds(c.fieldMask),_=c.fieldTransforms;else if(o.mergeFields){const b=[];for(const T of o.mergeFields){const R=Y0(t,T,e);if(!c.contains(R))throw new Oe(me.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Tj(b,R)||b.push(R)}m=new Ds(b),_=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,_=c.fieldTransforms;return new eZ(new vo(u),m,_)}class Z0 extends Up{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Z0}}function Cj(n,t,e){return new aI({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class yO extends Up{_toFieldTransform(t){return new I0(t.path,new ry)}isEqual(t){return t instanceof yO}}class nZ extends Up{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=Cj(this,t,!0),i=this.pa.map(o=>Hp(o,e)),r=new kp(i);return new I0(t.path,r)}isEqual(t){return this===t}}class iZ extends Up{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=Cj(this,t,!0),i=this.pa.map(o=>Hp(o,e)),r=new Rp(i);return new I0(t.path,r)}isEqual(t){return this===t}}class rZ extends Up{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new oy(t.serializer,pU(t.serializer,this.Ia));return new I0(t.path,e)}isEqual(t){return this===t}}function vO(n,t,e,i){const r=n.ya(1,t,e);wO("Data must be an object, but it was:",r,i);const o=[],c=vo.empty();wf(i,(m,_)=>{const b=cI(t,m,e);_=(0,ie.m9)(_);const T=r.da(b);if(_ instanceof Z0)o.push(b);else{const R=Hp(_,T);null!=R&&(o.push(b),c.set(b,R))}});const u=new Ds(o);return new wj(c,u,r.fieldTransforms)}function bO(n,t,e,i,r,o){const c=n.ya(1,t,e),u=[Y0(t,i,e)],m=[r];if(o.length%2!=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<o.length;R+=2)u.push(Y0(t,o[R])),m.push(o[R+1]);const _=[],b=vo.empty();for(let R=u.length-1;R>=0;--R)if(!Tj(_,u[R])){const B=u[R];let z=m[R];z=(0,ie.m9)(z);const K=c.da(B);if(z instanceof Z0)_.push(B);else{const se=Hp(z,K);null!=se&&(_.push(B),b.set(B,se))}}const T=new Ds(_);return new wj(b,T,c.fieldTransforms)}function Ej(n,t,e,i=!1){return Hp(e,n.ya(i?4:3,t))}function Hp(n,t){if(Ij(n=(0,ie.m9)(n)))return wO("Unsupported field value:",t,n),Dj(n,t);if(n instanceof Up)return function(e,i){if(!xj(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const c of e){let u=Hp(c,i.wa(o));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,ie.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pU(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Hi.fromDate(e);return{timestampValue:ly(i.serializer,r)}}if(e instanceof Hi){const r=new Hi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ly(i.serializer,r)}}if(e instanceof sI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof nd)return{bytesValue:FU(i.serializer,e._byteString)};if(e instanceof Ri){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:L1(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${rI(e)}`)}(n,t)}function Dj(n,t){const e={};return BV(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wf(n,(i,r)=>{const o=Hp(r,t.ha(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function Ij(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Hi||n instanceof sI||n instanceof nd||n instanceof Ri||n instanceof Up)}function wO(n,t,e){if(!Ij(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=rI(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Y0(n,t,e){if((t=(0,ie.m9)(t))instanceof Du)return t._internalPath;if("string"==typeof t)return cI(n,t);throw dI("Field path arguments must be of type string or ",n,!1,void 0,e)}const oZ=new RegExp("[~\\*/\\[\\]]");function cI(n,t,e){if(t.search(oZ)>=0)throw dI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Du(...t.split("."))._internalPath}catch{throw dI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function dI(n,t,e,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${i}`),c&&(m+=` in document ${r}`),m+=")"),new Oe(me.INVALID_ARGUMENT,u+n+m)}function Tj(n,t){return n.some(e=>e.isEqual(t))}class K0{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ri(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new sZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(uI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class sZ extends K0{data(){return super.data()}}function uI(n,t){return"string"==typeof t?cI(n,t):t instanceof Du?t._internalPath:t._delegate._internalPath}function Sj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xO{}class Q0 extends xO{}function Pf(n,t,...e){let i=[];t instanceof xO&&i.push(t),i=i.concat(e),function(r){const o=r.filter(u=>u instanceof Cy).length,c=r.filter(u=>u instanceof X0).length;if(o>1||o>0&&c>0)throw new Oe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class X0 extends Q0{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new X0(t,e,i)}_apply(t){const e=this._parse(t);return Rj(t._query,e),new bo(t.firestore,t.converter,T1(t._query,e))}_parse(t){const e=jp(t.firestore);return function(r,o,c,u,m,_,b){let T;if(m.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){kj(b,_);const R=[];for(const B of b)R.push(Mj(u,r,B));T={arrayValue:{values:R}}}else T=Mj(u,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||kj(b,_),T=Ej(c,"where",b,"in"===_||"not-in"===_);return En.create(m,_,T)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Cy extends xO{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Cy(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Xn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const c=r.getFlattenedFilters();for(const u of c)Rj(o,u),o=T1(o,u)}(t._query,e),new bo(t.firestore,t.converter,T1(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class CO extends Q0{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new CO(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new ty(r,o);return function(u,m){if(null===D1(u)){const _=AD(u);null!==_&&Oj(0,_,m.field)}}(i,c),c}(t._query,this._field,this._direction);return new bo(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new bu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class hI extends Q0{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new hI(t,e,i)}_apply(t){return new bo(t.firestore,t.converter,MD(t._query,this._limit,this._limitType))}}class fI extends Q0{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new fI(t,e,i)}_apply(t){const e=Aj(t,this.type,this._docOrFields,this._inclusive);return new bo(t.firestore,t.converter,(r=e,new bu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class mI extends Q0{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new mI(t,e,i)}_apply(t){const e=Aj(t,this.type,this._docOrFields,this._inclusive);return new bo(t.firestore,t.converter,(r=e,new bu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Aj(n,t,e,i){if(e[0]=(0,ie.m9)(e[0]),e[0]instanceof K0)return function(r,o,c,u,m){if(!u)throw new Oe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const b of Mp(r))if(b.field.isKeyField())_.push(Sp(o,u.key));else{const T=u.data.field(b.field);if(xD(T))throw new Oe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const R=b.field.canonicalString();throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}_.push(T)}return new Tf(_,m)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=jp(n.firestore);return function(o,c,u,m,_,b){const T=o.explicitOrderBy;if(_.length>T.length)throw new Oe(me.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let B=0;B<_.length;B++){const z=_[B];if(T[B].field.isKeyField()){if("string"!=typeof z)throw new Oe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof z}`);if(!I1(o)&&-1!==z.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${z}' contains a slash.`);const K=o.path.child(Tn.fromString(z));if(!nt.isDocumentKey(K))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const se=new nt(K);R.push(Sp(c,se))}else{const K=Ej(u,m,z);R.push(K)}}return new Tf(R,b)}(n._query,n.firestore._databaseId,r,t,e,i)}}function Mj(n,t,e){if("string"==typeof(e=(0,ie.m9)(e))){if(""===e)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I1(t)&&-1!==e.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Tn.fromString(e));if(!nt.isDocumentKey(i))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Sp(n,new nt(i))}if(e instanceof Ri)return Sp(n,e._key);throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rI(e)}.`)}function kj(n,t){if(!Array.isArray(n)||0===n.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Rj(n,t){if(t.isInequality()){const i=AD(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=D1(n);null!==o&&Oj(0,r,o)}const e=function(i,r){for(const o of i)for(const c of o.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Oe(me.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function Oj(n,t,e){if(!e.isEqual(t))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class EO{convertValue(t,e="none"){switch(Df(t)){case 0:return null;case 1:return t.booleanValue;case 2:return hr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(vu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw gt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return wf(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new sI(hr(t.latitude),hr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=CD(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(_0(t));default:return null}}convertTimestamp(t){const e=xf(t);return new Hi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Tn.fromString(t);Dt(WU(i));const r=new Cf(i.get(1),i.get(3)),o=new nt(i.popFirst(5));return r.isEqual(e)||Er(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function pI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class pZ extends EO{constructor(t){super(),this.firestore=t}convertBytes(t){return new nd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ri(this.firestore,null,e)}}class zp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Iu extends K0{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new J0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(uI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class J0 extends Iu{data(t={}){return super.data(t)}}class Nf{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new zp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new J0(this._firestore,this._userDataWriter,i.key,i,new zp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Oe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new J0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new zp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const u=new J0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new zp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,_=-1;return 0!==c.type&&(m=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),_=o.indexOf(c.doc.key)),{type:_Z(c.type),doc:u,oldIndex:m,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function _Z(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function Nj(n,t){return n instanceof Iu&&t instanceof Iu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Nf&&t instanceof Nf&&n._firestore===t._firestore&&gO(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Ff extends EO{constructor(t){super(),this.firestore=t}convertBytes(t){return new nd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ri(this.firestore,null,e)}}function Fj(n,t,e){n=Dn(n,Ri);const i=Dn(n.firestore,Oi),r=pI(n.converter,t,e);return Ey(i,[lI(jp(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,zi.none())])}function Lj(n,t,e,...i){n=Dn(n,Ri);const r=Dn(n.firestore,Oi),o=jp(r);let c;return c="string"==typeof(t=(0,ie.m9)(t))||t instanceof Du?bO(o,"updateDoc",n._key,t,e,i):vO(o,"updateDoc",n._key,t),Ey(r,[c.toMutation(n._key,zi.exists(!0))])}function Bj(n,...t){var e,i,r;n=(0,ie.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||_O(t[c])||(o=t[c],c++);const u={includeMetadataChanges:o.includeMetadataChanges};if(_O(t[c])){const T=t[c];t[c]=null===(e=T.next)||void 0===e?void 0:e.bind(T),t[c+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),t[c+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let m,_,b;if(n instanceof Ri)_=Dn(n.firestore,Oi),b=iy(n._key.path),m={next:T=>{t[c]&&t[c](DO(_,n,T))},error:t[c+1],complete:t[c+2]};else{const T=Dn(n,bo);_=Dn(T.firestore,Oi),b=T._query;const R=new Ff(_);m={next:B=>{t[c]&&t[c](new Nf(_,R,T,B))},error:t[c+1],complete:t[c+2]},Sj(n._query)}return function(T,R,B,z){const K=new eI(z),se=new PR(R,K,B);return T.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return AR(yield xy(T),se)})),()=>{K.Dc(),T.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return kR(yield xy(T),se)}))}}(Ir(_),b,u,m)}function Ey(n,t){return function(e,i){const r=new zr;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function d8(n,t,e){return VR.apply(this,arguments)}(yield fO(e),i,r)})),r.promise}(Ir(n),t)}function DO(n,t,e){const i=e.docs.get(t._key),r=new Ff(n);return new Iu(n,r,t._key,i,new zp(e.hasPendingWrites,e.fromCache),t.converter)}const NZ={maxAttempts:5};class Vj{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=jp(t)}set(t,e,i){this._verifyNotCommitted();const r=Lf(t,this._firestore),o=pI(r.converter,e,i),c=lI(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,zi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Lf(t,this._firestore);let c;return c="string"==typeof(e=(0,ie.m9)(e))||e instanceof Du?bO(this._dataReader,"WriteBatch.update",o._key,e,i,r):vO(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,zi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Lf(t,this._firestore);return this._mutations=this._mutations.concat(new ay(e._key,zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lf(n,t){if((n=(0,ie.m9)(n)).firestore!==t)throw new Oe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class FZ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=jp(t)}get(t){const e=Lf(t,this._firestore),i=new pZ(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return gt();const o=r[0];if(o.isFoundDocument())return new K0(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new K0(this._firestore,i,e._key,null,e.converter);throw gt()})}set(t,e,i){const r=Lf(t,this._firestore),o=pI(r.converter,e,i),c=lI(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const o=Lf(t,this._firestore);let c;return c="string"==typeof(e=(0,ie.m9)(e))||e instanceof Du?bO(this._dataReader,"Transaction.update",o._key,e,i,r):vO(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,c),this}delete(t){const e=Lf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Lf(t,this._firestore),i=new Ff(this._firestore);return super.get(t).then(r=>new Iu(this._firestore,i,e._key,r._document,new zp(!1,!1),e.converter))}}!function(n,t=!0){Q_=Xo.SDK_VERSION,(0,Xo._registerComponent)(new Hb.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),c=new Oi(new V5(e.getProvider("auth-internal")),new H5(e.getProvider("app-check-internal")),function(u,m){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Oe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cf(u.options.projectId,m)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Xo.registerVersion)(bV,"3.13.0",n),(0,Xo.registerVersion)(bV,"3.13.0","esm2017")}();function IO(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function jj(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function Hj(){if(!function pW(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ew{constructor(t){this._delegate=t}static fromBase64String(t){return Hj(),new ew(nd.fromBase64String(t))}static fromUint8Array(t){return jj(),new ew(nd.fromUint8Array(t))}toBase64(){return Hj(),this._delegate.toBase64()}toUint8Array(){return jj(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function TO(n){return function GZ(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class WZ{enableIndexedDbPersistence(t,e){return function $8(n,t){bj(n=Dn(n,Oi));const e=Ir(n);if(e._uninitializedComponentsProvider)throw new Oe(me.FAILED_PRECONDITION,"SDK cache is already specified.");Za("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new wy;return vj(e,r,new sO(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function G8(n){bj(n=Dn(n,Oi));const t=Ir(n);if(t._uninitializedComponentsProvider)throw new Oe(me.FAILED_PRECONDITION,"SDK cache is already specified.");Za("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new wy;return vj(t,i,new ej(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function W8(n){if(n._initialized&&!n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new zr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(e=(0,De.Z)(function*(i){if(!Wl.D())return Promise.resolve();const r=i+"main";yield Wl.delete(r)}),function(i){return e.apply(this,arguments)})(X1(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class zj{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Cf||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Za("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){pj(this._delegate,t,e,i)}enableNetwork(){return function Z8(n){return function k8(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const t=yield ij(n),e=yield rj(n);return t.setNetworkEnabled(!0),function(i){const r=st(i);return r.vu.delete(0),z0(r)}(e)}))}(Ir(n=Dn(n,Oi)))}(this._delegate)}disableNetwork(){return function Y8(n){return function R8(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const t=yield ij(n),e=yield rj(n);return t.setNetworkEnabled(!1),(i=(0,De.Z)(function*(r){const o=st(r);o.vu.add(0),yield my(o),o.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Ir(n=Dn(n,Oi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,dj("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function q8(n){return function(t){const e=new zr;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function m8(n,t){return $R.apply(this,arguments)}(yield fO(t),e)})),e.promise}(Ir(n=Dn(n,Oi)))}(this._delegate)}onSnapshotsInSync(t){return function IZ(n,t){return function N8(n,t){const e=new eI(t);return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return i=yield xy(n),r=e,st(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return i=yield xy(n),r=e,void st(i).ku.delete(r);var i,r}))}}(Ir(n=Dn(n,Oi)),_O(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Dy(this,gj(this._delegate,t))}catch(e){throw ts(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ya(this,oI(this._delegate,t))}catch(e){throw ts(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ns(this,function V8(n,t){if(n=Dn(n,W0),pO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bo(n,null,(e=t,new bu(Tn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw ts(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function LZ(n,t,e){n=Dn(n,Oi);const i=Object.assign(Object.assign({},NZ),e);return function(r){if(r.maxAttempts<1)throw new Oe(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,c){const u=new zr;return r.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const m=yield function oj(n){return nI(n).then(t=>t.datastore)}(r);new A8(r.asyncQueue,m,c,o,u).run()})),u.promise}(Ir(n),r=>t(new FZ(n,r)),i)}(this._delegate,e=>t(new $j(this,e)))}batch(){return Ir(this._delegate),new Gj(new Vj(this._delegate,t=>Ey(this._delegate,t)))}loadBundle(t){return function K8(n,t){const e=Ir(n=Dn(n,Oi)),i=new j8;return function F8(n,t,e,i){const r=function(o,c){let u;return u="string"==typeof o?SU().encode(o):o,m=function(m,_){if(m instanceof Uint8Array)return tj(m,_);if(m instanceof ArrayBuffer)return tj(new Uint8Array(m),_);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new T8(m,c);var m}(e,H0(t));n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function D8(n,t,e){const i=st(n);var r;(r=(0,De.Z)(function*(o,c,u){try{const m=yield c.getMetadata();if(yield function(R,B){const z=st(R),K=Dr(B.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",se=>z.qs.getBundleMetadata(se,B.id)).then(se=>!!se&&se.createTime.compareTo(K)>=0)}(o.localStore,m))return yield c.close(),u._completeWith({taskState:"Success",documentsLoaded:(R=m).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);u._updateProgress(G3(m));const _=new r8(m,o.localStore,c.serializer);let b=yield c.bc();for(;b;){const R=yield _.zu(b);R&&u._updateProgress(R),b=yield c.bc()}const T=yield _.complete();return yield Eu(o,T.Ju,void 0),yield function(R,B){const z=st(R);return z.persistence.runTransaction("Save bundle","readwrite",K=>z.qs.saveBundleMetadata(K,B))}(o.localStore,m),u._completeWith(T.progress),Promise.resolve(T.Hu)}catch(m){return Za("SyncEngine",`Loading bundle failed with ${m}`),u._failWith(m),Promise.resolve(new Set)}var R}),function(o,c,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield fO(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Q8(n,t){return function L8(n,t){return n.asyncQueue.enqueue((0,De.Z)(function*(){return function(e,i){const r=st(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(yield iI(n),t)}))}(Ir(n=Dn(n,Oi)),t).then(e=>e?new bo(n,null,e.query):null)}(this._delegate,t).then(e=>e?new ns(this,e):null)}}class gI extends EO{constructor(t){super(),this.firestore=t}convertBytes(t){return new ew(new nd(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ya.forKey(e,this.firestore,null)}}class $j{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new gI(t)}get(t){const e=Gp(t);return this._delegate.get(e).then(i=>new tw(this._firestore,new Iu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Gp(t);return i?(IO("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Gp(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Gp(t);return this._delegate.delete(e),this}}class Gj{constructor(t){this._delegate=t}set(t,e,i){const r=Gp(t);return i?(IO("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Gp(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Gp(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class $p{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new J0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new nw(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=$p.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new $p(t,new gI(t),e),r.set(e,o)),o}}$p.INSTANCES=new WeakMap;class Ya{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ya(e,new Ri(e._delegate,i,new nt(t)))}static forKey(t,e,i){return new Ya(e,new Ri(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Dy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Dy(this.firestore,gj(this._delegate,t))}catch(e){throw ts(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,ie.m9)(t))instanceof Ri&&_j(this._delegate,t)}set(t,e){e=IO("DocumentReference.set",e);try{return e?Fj(this._delegate,t,e):Fj(this._delegate,t)}catch(i){throw ts(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?Lj(this._delegate,t):Lj(this._delegate,t,e,...i)}catch(r){throw ts(r,"updateDoc()","DocumentReference.update()")}}delete(){return function EZ(n){return Ey(Dn(n.firestore,Oi),[new ay(n._key,zi.none())])}(this._delegate)}onSnapshot(...t){const e=Wj(t),i=qj(t,r=>new tw(this.firestore,new Iu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Bj(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function vZ(n){n=Dn(n,Ri);const t=Dn(n.firestore,Oi),e=Ir(t),i=new Ff(t);return function O8(n,t){const e=new zr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(i=(0,De.Z)(function*(r,o,c){try{const u=yield function(m,_){const b=st(m);return b.persistence.runTransaction("read document","readonly",T=>b.localDocuments.getDocument(T,_))}(r,o);u.isFoundDocument()?c.resolve(u):u.isNoDocument()?c.resolve(null):c.reject(new Oe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const m=_y(u,`Failed to get document '${o} from cache`);c.reject(m)}}),function(r,o,c){return i.apply(this,arguments)})(yield iI(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Iu(t,i,n._key,r,new zp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function bZ(n){n=Dn(n,Ri);const t=Dn(n.firestore,Oi);return sj(Ir(t),n._key,{source:"server"}).then(e=>DO(t,n,e))}(this._delegate):function yZ(n){n=Dn(n,Ri);const t=Dn(n.firestore,Oi);return sj(Ir(t),n._key).then(e=>DO(t,n,e))}(this._delegate),e.then(i=>new tw(this.firestore,new Iu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ya(this.firestore,this._delegate.withConverter(t?$p.getInstance(this.firestore,t):null))}}function ts(n,t,e){return n.message=n.message.replace(t,e),n}function Wj(n){for(const t of n)if("object"==typeof t&&!TO(t))return t;return{}}function qj(n,t){var e,i;let r;return r=TO(n[0])?n[0]:TO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class tw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Nj(this._delegate,t._delegate)}}class nw extends tw{data(t){const e=this._delegate.data(t);return function F5(n,t){n||gt()}(void 0!==e),e}}class ns{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gI(t)}where(t,e,i){try{return new ns(this.firestore,Pf(this._delegate,function aZ(n,t,e){const i=t,r=uI("where",n);return X0._create(r,i,e)}(t,e,i)))}catch(r){throw ts(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new ns(this.firestore,Pf(this._delegate,function lZ(n,t="asc"){const e=t,i=uI("orderBy",n);return CO._create(i,e)}(t,e)))}catch(i){throw ts(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ns(this.firestore,Pf(this._delegate,function cZ(n){return fj("limit",n),hI._create("limit",n,"F")}(t)))}catch(e){throw ts(e,"limit()","Query.limit()")}}limitToLast(t){try{return new ns(this.firestore,Pf(this._delegate,function dZ(n){return fj("limitToLast",n),hI._create("limitToLast",n,"L")}(t)))}catch(e){throw ts(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ns(this.firestore,Pf(this._delegate,function uZ(...n){return fI._create("startAt",n,!0)}(...t)))}catch(e){throw ts(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ns(this.firestore,Pf(this._delegate,function hZ(...n){return fI._create("startAfter",n,!1)}(...t)))}catch(e){throw ts(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ns(this.firestore,Pf(this._delegate,function fZ(...n){return mI._create("endBefore",n,!1)}(...t)))}catch(e){throw ts(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ns(this.firestore,Pf(this._delegate,function mZ(...n){return mI._create("endAt",n,!0)}(...t)))}catch(e){throw ts(e,"endAt()","Query.endAt()")}}isEqual(t){return gO(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function xZ(n){n=Dn(n,bo);const t=Dn(n.firestore,Oi),e=Ir(t),i=new Ff(t);return function P8(n,t){const e=new zr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(i=(0,De.Z)(function*(r,o,c){try{const u=yield qD(r,o,!0),m=new Z3(o,u.ir),_=m.sc(u.documents),b=m.applyChanges(_,!1);c.resolve(b.snapshot)}catch(u){const m=_y(u,`Failed to execute query '${o} against cache`);c.reject(m)}}),function(r,o,c){return i.apply(this,arguments)})(yield iI(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Nf(t,i,n,r))}(this._delegate):"server"===t?.source?function CZ(n){n=Dn(n,bo);const t=Dn(n.firestore,Oi),e=Ir(t),i=new Ff(t);return aj(e,n._query,{source:"server"}).then(r=>new Nf(t,i,n,r))}(this._delegate):function wZ(n){n=Dn(n,bo);const t=Dn(n.firestore,Oi),e=Ir(t),i=new Ff(t);return Sj(n._query),aj(e,n._query).then(r=>new Nf(t,i,n,r))}(this._delegate),e.then(i=>new SO(this.firestore,new Nf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=Wj(t),i=qj(t,r=>new SO(this.firestore,new Nf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Bj(this._delegate,e,i)}withConverter(t){return new ns(this.firestore,this._delegate.withConverter(t?$p.getInstance(this.firestore,t):null))}}class ZZ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new nw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SO{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new nw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new ZZ(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new nw(this._firestore,i))})}isEqual(t){return Nj(this._delegate,t._delegate)}}class Dy extends ns{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ya(this.firestore,t):null}doc(t){try{return new Ya(this.firestore,void 0===t?oI(this._delegate):oI(this._delegate,t))}catch(e){throw ts(e,"doc()","CollectionReference.doc()")}}add(t){return function DZ(n,t){const e=Dn(n.firestore,Oi),i=oI(n),r=pI(n.converter,t);return Ey(e,[lI(jp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,zi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ya(this.firestore,e))}isEqual(t){return _j(this._delegate,t._delegate)}withConverter(t){return new Dy(this.firestore,this._delegate.withConverter(t?$p.getInstance(this.firestore,t):null))}}function Gp(n){return Dn(n,Ri)}class AO{constructor(...t){this._delegate=new Du(...t)}static documentId(){return new AO(ur.keyField().canonicalString())}isEqual(t){return(t=(0,ie.m9)(t))instanceof Du&&this._delegate._internalPath.isEqual(t._internalPath)}}class Wp{constructor(t){this._delegate=t}static serverTimestamp(){const t=function VZ(){return new yO("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Wp(t)}static delete(){const t=function BZ(){return new Z0("deleteField")}();return t._methodName="FieldValue.delete",new Wp(t)}static arrayUnion(...t){const e=function UZ(...n){return new nZ("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Wp(e)}static arrayRemove(...t){const e=function jZ(...n){return new iZ("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Wp(e)}static increment(t){const e=function HZ(n){return new rZ("increment",n)}(t);return e._methodName="FieldValue.increment",new Wp(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const YZ={Firestore:zj,GeoPoint:sI,Timestamp:Hi,Blob:ew,Transaction:$j,WriteBatch:Gj,DocumentReference:Ya,DocumentSnapshot:tw,Query:ns,QueryDocumentSnapshot:nw,QuerySnapshot:SO,CollectionReference:Dy,FieldPath:AO,FieldValue:Wp,setLogLevel:function qZ(n){!function N5(n){yf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function QZ(n){(function KZ(n,t){n.INTERNAL.registerComponent(new Hb.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},YZ)))})(n,(t,e)=>new zj(t,e,new WZ)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(IG.Z);var _I=U(5363),XZ=U(6063);class JZ extends Rt.x{constructor(t=1/0,e=1/0,i=XZ.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;e||(i.push(t),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!t.closed;c+=i?1:2)t.next(o[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=e.now();let u=0;for(let m=1;m<i.length&&i[m]<=c;m+=2)u=m;u&&i.splice(0,u+1)}}}var Zj=U(3099);function Yj(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,Zj.B)({connector:()=>new JZ(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Kj(n,t){return(0,Ur.m)(t)?Hn(()=>n,t):Hn(()=>n)}var MO=U(9468),Tu=U(259);class qp{constructor(t){return t}}class yI{constructor(){return(0,Tu.C6)()}}const kO=new s.OlP("angularfire2._apps"),t7={provide:qp,useFactory:function e7(n){return n&&1===n.length?n[0]:new qp((0,Tu.Mq)())},deps:[[new s.FiY,kO]]},n7={provide:yI,deps:[[new s.FiY,kO]]};function r7(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new qp(i)}}let o7=(()=>{class n{constructor(e){(0,Tu.KN)("angularfire",In.q4.full,"core"),(0,Tu.KN)("angularfire",In.q4.full,"app"),(0,Tu.KN)("angular",s.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[t7,n7]}),n})();function s7(n,...t){return{ngModule:o7,providers:[{provide:kO,useFactory:r7(n),multi:!0,deps:[s.R0b,s.zs3,In.HU,...t]}]}}const a7=(0,In.u3)(Tu.ZF,!0),RO=new Map,Qj={activated:!1,tokenObservers:[]},l7={initialized:!1,enabled:!1};function fr(n){return RO.get(n)||Object.assign({},Qj)}function vI(){return l7}const OO="https://content-firebaseappcheck.googleapis.com/v1",h7="exchangeDebugToken",Xj={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class m7{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,De.Z)(function*(){e.stop();try{e.pending=new ie.BH,yield function p7(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new ie.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const wo=new ie.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function PO(n){if(!fr(n).activated)throw wo.create("use-before-activation",{appName:n.name})}function xI(n,t){return FO.apply(this,arguments)}function FO(){return FO=(0,De.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const T=yield r.getHeartbeatsHeader();T&&(i["X-Firebase-Client"]=T)}const o={method:"POST",body:JSON.stringify(t),headers:i};let c,u;try{c=yield fetch(n,o)}catch(T){throw wo.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==c.status)throw wo.create("fetch-status-error",{httpStatus:c.status});try{u=yield c.json()}catch(T){throw wo.create("fetch-parse-error",{originalErrorMessage:T?.message})}const m=u.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw wo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const _=1e3*Number(m[1]),b=Date.now();return{token:u.token,expireTimeMillis:b+_,issuedAtTimeMillis:b}}),FO.apply(this,arguments)}function Jj(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${OO}/projects/${e}/apps/${i}:${h7}?key=${r}`,body:{debug_token:t}}}const v7="firebase-app-check-database",b7=1,iw="firebase-app-check-store";let CI=null;function LO(){return LO=(0,De.Z)(function*(n,t){const i=(yield function tH(){return CI||(CI=new Promise((n,t)=>{try{const e=indexedDB.open(v7,b7);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(wo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(iw,{keyPath:"compositeKey"})}}catch(e){t(wo.create("storage-open",{originalErrorMessage:e?.message}))}}),CI)}()).transaction(iw,"readwrite"),o=i.objectStore(iw).put({compositeKey:n,value:t});return new Promise((c,u)=>{o.onsuccess=m=>{c()},i.onerror=m=>{var _;u(wo.create("storage-set",{originalErrorMessage:null===(_=m.target.error)||void 0===_?void 0:_.message}))}})}),LO.apply(this,arguments)}const rw=new qc.Yd("@firebase/app-check");function UO(n,t){return(0,ie.hl)()?function x7(n,t){return function nH(n,t){return LO.apply(this,arguments)}(function rH(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{rw.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function HO(){return vI().enabled}function zO(){return $O.apply(this,arguments)}function $O(){return $O=(0,De.Z)(function*(){const n=vI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),$O.apply(this,arguments)}const S7={error:"UNKNOWN_ERROR"};function A7(n){return ie.US.encodeString(JSON.stringify(n),!1)}function EI(n){return GO.apply(this,arguments)}function GO(){return GO=(0,De.Z)(function*(n,t=!1){const e=n.app;PO(e);const i=fr(e);let o,r=i.token;if(r&&!Iy(r)&&(i.token=void 0,r=void 0),!r){const m=yield i.cachedTokenPromise;m&&(Iy(m)?r=m:yield UO(e,void 0))}if(!t&&r&&Iy(r))return{token:r.token};let u,c=!1;if(HO()){i.exchangeTokenPromise||(i.exchangeTokenPromise=xI(Jj(e,yield zO()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const m=yield i.exchangeTokenPromise;return yield UO(e,m),i.token=m,{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield fr(e).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?rw.warn(m.message):rw.error(m),o=m}return r?o?u=Iy(r)?{token:r.token,internalError:o}:lH(o):(u={token:r.token},i.token=r,yield UO(e,r)):u=lH(o),c&&function aH(n,t){const e=fr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,u),u}),GO.apply(this,arguments)}function WO(){return WO=(0,De.Z)(function*(n){const t=n.app;PO(t);const{provider:e}=fr(t);if(HO()){const i=yield zO(),{token:r}=yield xI(Jj(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}}),WO.apply(this,arguments)}function ZO(n,t){const e=fr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function sH(n){const{app:t}=n,e=fr(t);let i=e.tokenRefresher;i||(i=function M7(n){const{app:t}=n;return new m7((0,De.Z)(function*(){let i;if(i=fr(t).token?yield EI(n,!0):yield EI(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=fr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},Xj.RETRIAL_MIN_WAIT,Xj.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Iy(n){return n.expireTimeMillis-Date.now()>0}function lH(n){return{token:A7(S7),error:n}}class k7{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=fr(this.app);for(const e of t)ZO(this.app,e.next);return Promise.resolve()}}const gH="app-check-internal";!function G7(){(0,Xo._registerComponent)(new Hb.wA("app-check",n=>function R7(n,t){return new k7(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(gH).initialize()})),(0,Xo._registerComponent)(new Hb.wA(gH,n=>function O7(n){return{getToken:t=>EI(n,t),getLimitedUseToken:()=>function oH(n){return WO.apply(this,arguments)}(n),addTokenListener:t=>function qO(n,t,e,i){const{app:r}=n,o=fr(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&Iy(o.token)){const u=o.token;Promise.resolve().then(()=>{e({token:u.token}),sH(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>sH(n))}(n,"INTERNAL",t),removeTokenListener:t=>ZO(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xo.registerVersion)("@firebase/app-check","0.8.0")}();class Ty{constructor(){return(0,In.vb)("app-check")}}typeof window<"u"&&window,U(9260);const yH=new s.OlP("angularfire2.auth.use-emulator"),vH=new s.OlP("angularfire2.auth.settings"),bH=new s.OlP("angularfire2.auth.tenant-id"),wH=new s.OlP("angularfire2.auth.langugage-code"),xH=new s.OlP("angularfire2.auth.use-device-language"),CH=new s.OlP("angularfire.auth.persistence"),EH=(n,t,e,i,r,o,c,u)=>(0,zl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),i&&(m.tenantId=i),m.languageCode=r,o&&m.useDeviceLanguage(),c)for(const[_,b]of Object.entries(c))m.settings[_]=b;return u&&m.setPersistence(u),m},[e,i,r,o,c,u]);let JO=(()=>{class n{constructor(e,i,r,o,c,u,m,_,b,T,R,B){const z=new Rt.x,K=Ke(void 0).pipe((0,_I.Q)(c.outsideAngular),Hn(()=>o.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,9568)))),(0,ze.U)(()=>(0,zl.on)(e,o,i)),(0,ze.U)(se=>EH(se,o,u,_,b,T,m,R)),Yj({bufferSize:1,refCount:!1}));if(pa(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ke(null);else{K.pipe(Qs()).subscribe();const Re=K.pipe(Hn(ut=>ut.getRedirectResult().then(Ht=>Ht,()=>null)),In.iC,Yj({bufferSize:1,refCount:!1})),Qe=K.pipe(Hn(ut=>new fi.y(Ht=>({unsubscribe:o.runOutsideAngular(()=>ut.onAuthStateChanged(rn=>Ht.next(rn),rn=>Ht.error(rn),()=>Ht.complete()))})))),et=K.pipe(Hn(ut=>new fi.y(Ht=>({unsubscribe:o.runOutsideAngular(()=>ut.onIdTokenChanged(rn=>Ht.next(rn),rn=>Ht.error(rn),()=>Ht.complete()))}))));this.authState=Re.pipe(Kj(Qe),(0,MO.R)(c.outsideAngular),(0,_I.Q)(c.insideAngular)),this.user=Re.pipe(Kj(et),(0,MO.R)(c.outsideAngular),(0,_I.Q)(c.insideAngular)),this.idToken=this.user.pipe(Hn(ut=>ut?(0,on.D)(ut.getIdToken()):Ke(null))),this.idTokenResult=this.user.pipe(Hn(ut=>ut?(0,on.D)(ut.getIdTokenResult()):Ke(null))),this.credential=(0,d.T)(Re,z,this.authState.pipe(xn(ut=>!ut))).pipe((0,ze.U)(ut=>ut?.user?ut:null),(0,MO.R)(c.outsideAngular),(0,_I.Q)(c.insideAngular))}return(0,zl.pX)(this,K,o,{spy:{apply:(se,Re,Qe)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&Qe.then(et=>z.next(et))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zl.Dh),s.LFG(zl.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(In.HU),s.LFG(yH,8),s.LFG(vH,8),s.LFG(bH,8),s.LFG(wH,8),s.LFG(xH,8),s.LFG(CH,8),s.LFG(Ty,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function DH(n,t){return function Q7(n,t=k_.z){return new fi.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function eP(n,t){return DH(n,t).pipe((0,ze.U)(e=>({payload:e,type:"query"})))}function II(n,t){return eP(n,t).pipe(qo(void 0),xk(),(0,ze.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,u)=>{const m=r.find(b=>b.doc.ref.isEqual(c.ref)),_=e?.payload.docs.find(b=>b.ref.isEqual(c.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(c.metadata)||!m&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:c}})}),o}))}function IH(n,t,e){return II(n,e).pipe(zg((i,r)=>function J7(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function e9(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return tP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return tP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return tP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),jc(),(0,ze.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function tP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function TH(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class SH{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=II(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ze.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(qo(void 0),xk(),xn(([i,r])=>r.length>0||!i),(0,ze.U)(([i,r])=>r),In.iC)}auditTrail(t){return this.stateChanges(t).pipe(zg((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=TH(t);return IH(this.query,e,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(t={}){return eP(this.query,this.afs.schedulers.outsideAngular).pipe((0,ze.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),In.iC)}get(t){return(0,on.D)(this.query.get(t)).pipe(In.iC)}add(t){return this.ref.add(t)}doc(t){return new AH(this.ref.doc(t),this.afs)}}class AH{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=MH(i,e);return new SH(r,o,this.afs)}snapshotChanges(){return function X7(n,t){return DH(n,t).pipe(qo(void 0),xk(),(0,ze.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ze.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,on.D)(this.ref.get(t)).pipe(In.iC)}}class t9{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?II(this.query,this.afs.schedulers.outsideAngular).pipe((0,ze.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),xn(e=>e.length>0),In.iC):II(this.query,this.afs.schedulers.outsideAngular).pipe(In.iC)}auditTrail(t){return this.stateChanges(t).pipe(zg((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=TH(t);return IH(this.query,e,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(t={}){return eP(this.query,this.afs.schedulers.outsideAngular).pipe((0,ze.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),In.iC)}get(t){return(0,on.D)(this.query.get(t)).pipe(In.iC)}}const n9=new s.OlP("angularfire2.enableFirestorePersistence"),i9=new s.OlP("angularfire2.firestore.persistenceSettings"),r9=new s.OlP("angularfire2.firestore.settings"),o9=new s.OlP("angularfire2.firestore.use-emulator");function MH(n,t=(e=>e)){return{query:t(n),ref:n}}let kH=(()=>{class n{constructor(e,i,r,o,c,u,m,_,b,T,R,B,z,K,se,Re,Qe){this.schedulers=m;const et=(0,zl.on)(e,u,i),ut=b;T&&EH(et,u,R,z,K,se,B,Re),[this.firestore,this.persistenceEnabled$]=(0,zl.cc)(`${et.name}.firestore`,"AngularFirestore",et.name,()=>{const Ht=u.runOutsideAngular(()=>et.firestore());if(o&&Ht.settings(o),ut&&Ht.useEmulator(...ut),r&&!pa(c)){const rn=()=>{try{return(0,on.D)(Ht.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(Nn){return typeof console<"u"&&console.warn(Nn),Ke(!1)}};return[Ht,u.runOutsideAngular(rn)]}return[Ht,Ke(!1)]},[o,ut,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:c}=MH(r,i),u=this.schedulers.ngZone.run(()=>o);return new SH(u,c,this)}collectionGroup(e,i){const r=i||(c=>c),o=this.firestore.collectionGroup(e);return new t9(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new AH(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zl.Dh),s.LFG(zl.xv,8),s.LFG(n9,8),s.LFG(r9,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(In.HU),s.LFG(i9,8),s.LFG(o9,8),s.LFG(JO,8),s.LFG(yH,8),s.LFG(vH,8),s.LFG(bH,8),s.LFG(wH,8),s.LFG(xH,8),s.LFG(CH,8),s.LFG(Ty,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ow=(()=>{class n{constructor(e){this._client=e,this._traningSubject=new Xi([]),this.traning$=this._traningSubject.asObservable(),this._isEdit=new Xi({isEdit:!1,index:0}),this.isEdit$=this._isEdit.asObservable()}addTraining(e,i){return(0,on.D)(this._client.collection("plans").add({trainingWeek:e,userId:i,trainingElement:this._traningSubject.value,createAt:(new Date).getTime()})).pipe((0,ze.U)(()=>{this._traningSubject.next([])}))}getOneTraining(e){return this._client.collection("plans").valueChanges({idField:"id"}).pipe((0,ze.U)(i=>i.filter(r=>r.id===e).shift()))}setTraining(e){return(0,on.D)(this._client.doc("plans/"+e).update({trainingElement:this._traningSubject.value})).pipe((0,ze.U)(()=>{}))}addTrainingElementToContext(e){return this._traningSubject.next([...this._traningSubject.value,{...e,index:this._traningSubject.value.length+1}]),Ke(void 0)}addTrainingElementsToContext(e){return this._traningSubject.next(e),Ke(void 0)}getAllPlans(){return this._client.collection("plans",e=>e.orderBy("createAt","desc")).valueChanges({idField:"id"})}getMonths(){return this._client.collection("months",e=>e.orderBy("index","asc")).valueChanges({idField:"id"})}getWeeks(){return this._client.collection("weeks",e=>e.orderBy("index","asc")).valueChanges({idField:"id"})}getYears(){return this._client.collection("years",e=>e.orderBy("index","asc")).valueChanges({idField:"id"})}editForm(e,i){return this._isEdit.next({isEdit:e,index:i}),Ke(void 0)}editSubmit(e,i,r){const o=this._traningSubject.value,c={...o[e]};return console.log(i.quantity),c.comment=i.comment,c.exercise=i.exercise,c.quantity=r,this._isEdit.next({isEdit:!1,index:0}),o[e]=c,this._traningSubject.next(o),Ke(void 0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kH))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bf=(()=>{class n{constructor(e){this._angularFirestore=e}addUser(e){return(0,on.D)(this._angularFirestore.collection("users").add({...e,paidTraining:0,trainingWeeks:[]})).pipe((0,ze.U)(()=>{}))}getAllUsers(){return this._angularFirestore.collection("users").valueChanges({idField:"id"})}getOneUser(e){return this._angularFirestore.collection("users").valueChanges({idField:"id"}).pipe((0,ze.U)(i=>i.filter(r=>r.id===e).shift()))}setTraining(e,i){return console.log("serwis ",i),(0,on.D)(this._angularFirestore.doc("users/"+e.id).update({trainingWeeks:i})).pipe((0,ze.U)(()=>{}))}setPaidTraining(e,i){return(0,on.D)(this._angularFirestore.doc("users/"+e.id).update({paidTraining:i})).pipe((0,ze.U)(()=>{}))}getOneUserByAuth(e){return this._angularFirestore.collection("users",i=>i.where("authId","==",e)).valueChanges({idField:"id"}).pipe(Hn(i=>i?Ke(i[0]):kc(new Error("Item does not exist in firebase"))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kH))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nP=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Cn(e)}get inset(){return this._inset}set inset(e){this._inset=Cn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),sw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ln,Ln]}),n})();function s9(n,t){if(1&n&&(s.TgZ(0,"option",25),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" Tydzie\u0144 ",e," ")}}function a9(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",26)(2,"div",27),s._UZ(3,"input",28),s.qZA(),s.TgZ(4,"div",27),s._UZ(5,"input",29),s.qZA(),s.TgZ(6,"div",27),s._UZ(7,"input",30),s.qZA(),s.TgZ(8,"div",27)(9,"button",6),s.NdJ("click",function(){const o=s.CHM(e).index,c=s.oxw(2);return s.KtG(c.deleteQuantity(o))}),s._uU(10," - "),s.qZA()()(),s.BQk()}if(2&n){const e=t.index;s.xp6(1),s.Q6J("formGroupName",e)}}function l9(n,t){if(1&n&&(s.TgZ(0,"div",42)(1,"div",43)(2,"div",44)(3,"span")(4,"b"),s._uU(5,"Serie: "),s.qZA()()(),s.TgZ(6,"div",45),s._uU(7),s.qZA()(),s.TgZ(8,"div",43)(9,"div",44)(10,"span")(11,"b"),s._uU(12,"Powt\xf3rzenia: "),s.qZA()()(),s.TgZ(13,"div",45),s._uU(14),s.qZA()(),s.TgZ(15,"div",43)(16,"div",44)(17,"span")(18,"b"),s._uU(19,"Ci\u0119zar: "),s.qZA()()(),s.TgZ(20,"div",45),s._uU(21),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(7),s.Oqu(e.set),s.xp6(7),s.hij(" ",e.rep," "),s.xp6(7),s.Oqu(e.value)}}function c9(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",36)(2,"div",37),s._uU(3),s.qZA(),s.TgZ(4,"div",38)(5,"div",36)(6,"span",39)(7,"b"),s._uU(8,"Exercise"),s.qZA()(),s._uU(9),s.qZA(),s.TgZ(10,"div",36)(11,"span",39)(12,"b"),s._uU(13,"Comment"),s.qZA()(),s._uU(14),s.qZA()(),s.TgZ(15,"div",40),s.YNc(16,l9,22,3,"div",41),s.qZA(),s.TgZ(17,"div",37)(18,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2),o=r.index,c=r.$implicit,u=s.oxw(2);return s.KtG(u.onEditForms(o,c))}),s._uU(19," edit "),s.qZA()()(),s.BQk()}if(2&n){const e=s.oxw(2).$implicit;s.xp6(3),s.Oqu(e.index),s.xp6(6),s.hij(" ",e.exercise," "),s.xp6(5),s.hij(" ",e.comment," "),s.xp6(2),s.Q6J("ngForOf",e.quantity)}}function d9(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",49)(2,"div",45)(3,"div",43)(4,"div",50)(5,"span")(6,"b"),s._uU(7,"Serie: "),s.qZA()()(),s.TgZ(8,"div",45),s._UZ(9,"input",51),s.qZA()(),s.TgZ(10,"div",43)(11,"div",50)(12,"span")(13,"b"),s._uU(14,"Podej\u015bcia: "),s.qZA()()(),s.TgZ(15,"div",45),s._UZ(16,"input",52),s.qZA()(),s.TgZ(17,"div",43)(18,"div",50)(19,"span")(20,"b"),s._uU(21,"Ci\u0119zar: "),s.qZA()()(),s.TgZ(22,"div",45),s._UZ(23,"input",53),s.qZA()()(),s.TgZ(24,"div",54)(25,"button",6),s.NdJ("click",function(){const o=s.CHM(e).index,c=s.oxw(5);return s.KtG(c.deleteQuantityEdit(o))}),s._uU(26," - "),s.qZA()()(),s.BQk()}if(2&n){const e=t.index;s.xp6(1),s.Q6J("formGroupName",e)}}function u9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",36)(1,"div",37),s._uU(2),s.qZA(),s.TgZ(3,"div",38)(4,"div",36)(5,"span",39)(6,"b"),s._uU(7,"Exercise"),s.qZA()(),s._UZ(8,"textarea",13),s.qZA(),s.TgZ(9,"div",36)(10,"span",39)(11,"b"),s._uU(12,"Comment"),s.qZA()(),s._UZ(13,"textarea",14),s.qZA()(),s.TgZ(14,"div",45),s.ynx(15,16),s.YNc(16,d9,27,1,"ng-container",17),s.BQk(),s.qZA(),s.TgZ(17,"div",46)(18,"div",36)(19,"div",47)(20,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(4);return s.KtG(r.addQuantity("edit"))}),s._uU(21," + "),s.qZA()(),s.TgZ(22,"div",48)(23,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2).index,o=s.oxw(2);return s.KtG(o.editSubmit(o.editForm,r))}),s._uU(24," submit "),s.qZA()()()()()}if(2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.xp6(2),s.Oqu(e.index),s.xp6(14),s.Q6J("ngForOf",i.quantityExerciseEdit.controls)}}function h9(n,t){if(1&n&&(s.ynx(0),s.YNc(1,c9,20,4,"ng-container",34),s.YNc(2,u9,25,2,"ng-template",null,35,s.W1O),s.BQk()),2&n){const e=t.ngIf,i=s.MAs(3),r=s.oxw().index;s.xp6(1),s.Q6J("ngIf",!e.isEdit||e.index!==r)("ngIfElse",i)}}function f9(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,h9,4,2,"ng-container",32),s.ALo(2,"async"),s.TgZ(3,"span",33),s._UZ(4,"mat-divider"),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",s.lcZ(2,1,e.isEditForm$))}}function m9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),s._uU(4," Dodaj \u0106wiczenie do Treningu "),s.qZA()(),s.TgZ(5,"div",5)(6,"button",6),s.NdJ("click",function(){const o=s.CHM(e).ngIf,c=s.oxw();return s.KtG(c.back(o.id))}),s._uU(7," Wr\xf3\u0107 "),s.qZA()()(),s.TgZ(8,"form",7)(9,"div",2)(10,"div",8)(11,"select",9),s.YNc(12,s9,2,2,"option",10),s.qZA()(),s.TgZ(13,"div",11)(14,"button",6),s.NdJ("click",function(){const o=s.CHM(e).ngIf,c=s.oxw();return s.KtG(c.addWeeksToConception(o,1))}),s._uU(15," Dodaj nowy tydzie\u0144 "),s.qZA()()(),s.TgZ(16,"div",2)(17,"div",12),s._UZ(18,"textarea",13),s.qZA()(),s.TgZ(19,"div",2)(20,"div",12),s._UZ(21,"textarea",14),s.qZA()(),s.TgZ(22,"div",2)(23,"div",15),s.ynx(24,16),s.YNc(25,a9,11,1,"ng-container",17),s.BQk(),s.qZA(),s.TgZ(26,"div",18)(27,"div",19)(28,"div",20)(29,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addQuantity("add"))}),s._uU(30," + "),s.qZA()(),s.TgZ(31,"div",20)(32,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addTrainingExercise(r.planForm))}),s._uU(33," Dodaj "),s.qZA()()()()()(),s.TgZ(34,"div",21)(35,"div",22)(36,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onPlanFormSubmitted())}),s._uU(37," Zatwierd\u017a "),s.qZA()()(),s.TgZ(38,"div",23)(39,"form",7),s.YNc(40,f9,5,3,"div",24),s.ALo(41,"async"),s.qZA()()()}if(2&n){const e=t.ngIf,i=s.oxw();s.xp6(8),s.Q6J("formGroup",i.planForm),s.xp6(4),s.Q6J("ngForOf",e.trainingWeeks),s.xp6(13),s.Q6J("ngForOf",i.quantityExercise.controls),s.xp6(14),s.Q6J("formGroup",i.editForm),s.xp6(1),s.Q6J("ngForOf",s.lcZ(41,5,i.trainingExercises$))}}let p9=(()=>{class n{constructor(e,i,r,o,c,u){this._fb=e,this._trainingService=i,this._activatedRoute=r,this._router=o,this._location=c,this._userService=u,this.planForm=new jr({trainingWeek:new On,exercise:new On(""),comment:new On(""),quantityExercise:new Pm([new jr({set:new On(""),rep:new On(""),value:new On("")})])}),this.editForm=new jr({exercise:new On(""),comment:new On(""),quantityExercise:new Pm([])}),this.trainingExercises$=this._trainingService.traning$,this.isEditForm$=this._trainingService.isEdit$,this._editFieldSubject=new Xi("comment"),this.editField$=this._editFieldSubject.asObservable(),this.quantityPlanFormLength=1,this.quantityEditFormLength=0,this.user$=this._activatedRoute.params.pipe(Hn(m=>this._userService.getOneUserByAuth(m.userId)),(0,ze.U)(m=>(this.planForm.get("trainingWeek")?.patchValue(m.trainingWeeks.length),{...m,training:m.trainingWeeks.reverse()})))}ngOnDestroy(){sessionStorage.removeItem("test")}onPlanFormSubmitted(){this._activatedRoute.params.pipe(Hn(e=>this._trainingService.addTraining(parseInt(this.planForm.get("trainingWeek")?.value),e.userId))).subscribe({next:()=>{}})}get quantityExercise(){return this.planForm.controls.quantityExercise}get quantityExerciseEdit(){return this.editForm.controls.quantityExercise}addQuantityEdit(e){const i=this._fb.group(e);this.quantityExerciseEdit.push(i)}addQuantity(e){const i=this._fb.group({set:[],rep:[],value:[]});"add"===e?(this.quantityPlanFormLength++,this.quantityExercise.push(i)):"edit"===e&&(this.quantityEditFormLength++,this.quantityExerciseEdit.push(i))}deleteQuantity(e){this.quantityPlanFormLength--,this.quantityExercise.removeAt(e)}deleteQuantityEdit(e){this.quantityEditFormLength--,this.quantityExerciseEdit.removeAt(e)}addTrainingExercise(e){this._trainingService.addTrainingElementToContext({exercise:e.get("exercise")?.value,comment:e.get("comment")?.value,quantity:e.get("quantityExercise")?.value}).subscribe(()=>{e.get("exercise")?.reset(),e.get("comment")?.reset(),this.quantityExercise.clear();const i=this._fb.group({set:[],rep:[],value:[]});this.quantityExercise.push(i)})}onEditForms(e,i){this.editForm.reset(),this.editForm.controls.quantityExercise.clear(),this._fb.array(i.quantity),this.editForm.patchValue(i),i.quantity.forEach(o=>this.addQuantityEdit(o)),console.log(this.editForm.get("quantityExercise")?.value),this._trainingService.editForm(!0,e).subscribe()}editSubmit(e,i){this._trainingService.editSubmit(i,e.value,this.editForm.get("quantityExercise")?.value).subscribe(),this.editForm.controls.quantityExercise.clear(),this.editForm.reset()}back(e){this._router.navigate([`/user/${e}`])}addWeeksToConception(e,i){if(e.trainingWeeks.length){const r=e.trainingWeeks.reverse(),o=r[r.length-1],c=Array.from({length:i},(m,_)=>o+_+1),u=[...r,...c];this._userService.setTraining(e,u)}else{const r=Array.from({length:i},(o,c)=>c+1);this._userService.setTraining(e,r)}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xv),s.Y36(ow),s.Y36(Js),s.Y36(Ji),s.Y36(Ue),s.Y36(Bf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-create-plan-modal"]],inputs:{date:"date"},decls:2,vars:3,consts:[["class","container mt-5",4,"ngIf"],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-7"],[1,"text-center","text-ghostwhite","ms-md-5","ps-md-5"],[1,"col-md-2","text-end"],["type","button",1,"btn","btn-block","bg-cadetblue","text-ghostwhite",3,"click"],[3,"formGroup"],[1,"col-md-6"],["formControlName","trainingWeek",1,"form-control","mb-3"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3","text-end"],[1,"col-md-9"],["placeholder","\u0106wiczenie","id","exerciseName","formControlName","exercise","rows","2",1,"form-control"],["placeholder","Komentarz","id","comment","rows","4","formControlName","comment",1,"form-control","mt-3"],[1,"col-7"],["formArrayName","quantityExercise"],[4,"ngFor","ngForOf"],[1,"col","col-md-2","d-flex","align-items-start"],[1,"row","mt-3","justify-content-center"],[1,"col","d-inline-flex","justify-content-center"],[1,"row","mt-5"],[1,"col","d-inline-flex","justify-content-end"],[1,"mt-2","card","p-2"],["class","container hover",4,"ngFor","ngForOf"],[3,"value"],[1,"row","mt-3","justify-content-center",3,"formGroupName"],[1,"col-md-3"],["type","text","id","sets","placeholder","Serie","formControlName","set",1,"form-control"],["type","text","id","repetitions","placeholder","Powt\xf3rzenia","formControlName","rep",1,"form-control"],["type","text","id","value","placeholder","Obci\u0105\u017cenie","formControlName","value",1,"form-control"],[1,"container","hover"],[4,"ngIf"],[1,"px-3"],[4,"ngIf","ngIfElse"],["isEditForm",""],[1,"row"],[1,"col-1"],[1,"col-5","text-start"],[1,"my-2"],[1,"col","text-start"],["class","mb-3 row justify-content-start",4,"ngFor","ngForOf"],[1,"mb-3","row","justify-content-start"],[1,"row","mb-1"],[1,"col-4"],[1,"col"],[1,"col-3"],[1,"col-2","justify-content-center"],[1,"col","justify-content-center"],[1,"row","mb-3",3,"formGroupName"],[1,"col","d-flex","align-items-center"],["size","1","type","text","id","sets","formControlName","set",1,"form-control"],["type","text","id","rep","formControlName","rep",1,"form-control"],["type","text","id","load","formControlName","value",1,"form-control"],[1,"col-2"]],template:function(e,i){1&e&&(s.YNc(0,m9,42,7,"div",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.user$))},dependencies:[Xd,Uh,ax,Oa,Bg,Zs,Rh,Fa,Ac,Am,Mm,ao,vi,nP,qi],encapsulation:2,changeDetection:0}),n})();function g9(n,t){1&n&&s._UZ(0,"app-create-plan-modal",1),2&n&&s.Q6J("date",t.ngIf)}let RH=(()=>{class n{constructor(){this._dateSubject=new Xi({year:"",month:"",week:""}),this.date$=this._dateSubject.asObservable()}changeChoiseDate(e){this._dateSubject.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-create-plan-users-page"]],decls:2,vars:3,consts:[[3,"date",4,"ngIf"],[3,"date"]],template:function(e,i){1&e&&(s.YNc(0,g9,1,1,"app-create-plan-modal",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.date$))},dependencies:[vi,p9,qi],encapsulation:2,changeDetection:0}),n})(),TI=(()=>{class n{constructor(e){this._client=e,this._userContextSubject=new Rt.x,this.userContext$=this._userContextSubject.asObservable()}login(e){return(0,on.D)(this._client.signInWithEmailAndPassword(e.email,e.password)).pipe((0,ze.U)(()=>{}))}register(e){return(0,on.D)(this._client.createUserWithEmailAndPassword(e.email,e.password)).pipe(ar(1),(0,ze.U)(i=>i.user?.uid))}getOne(){return this._client.authState}load(){return this.getOne().pipe(ar(1),(0,ze.U)(e=>{if(null===e&&null==e)return;console.log(e);const i={id:e.uid,email:e.email,isVerified:e.emailVerified};return this._userContextSubject.next(i),i}))}logOut(){return(0,on.D)(this._client.signOut()).pipe((0,ze.U)(()=>{}))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(JO))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _9=["matFormFieldNotchedOutline",""],y9=["*"],v9=["textField"],b9=["iconPrefixContainer"],w9=["textPrefixContainer"];function x9(n,t){1&n&&s._UZ(0,"span",19)}function C9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",17),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r._refreshOutlineNotchWidth())}),s.Hsn(1,1),s.YNc(2,x9,1,0,"span",18),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function E9(n,t){if(1&n&&s.YNc(0,C9,3,6,"label",16),2&n){const e=s.oxw();s.Q6J("ngIf",e._hasFloatingLabel())}}function D9(n,t){1&n&&s._UZ(0,"div",20)}function I9(n,t){}function T9(n,t){if(1&n&&s.YNc(0,I9,0,0,"ng-template",22),2&n){s.oxw(2);const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function S9(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,T9,1,1,"ng-template",9),s.qZA()),2&n){const e=s.oxw();s.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),s.xp6(1),s.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function A9(n,t){1&n&&(s.TgZ(0,"div",23,24),s.Hsn(2,2),s.qZA())}function M9(n,t){1&n&&(s.TgZ(0,"div",25,26),s.Hsn(2,3),s.qZA())}function k9(n,t){}function R9(n,t){if(1&n&&s.YNc(0,k9,0,0,"ng-template",22),2&n){s.oxw();const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function O9(n,t){1&n&&(s.TgZ(0,"div",27),s.Hsn(1,4),s.qZA())}function P9(n,t){1&n&&(s.TgZ(0,"div",28),s.Hsn(1,5),s.qZA())}function N9(n,t){1&n&&s._UZ(0,"div",29)}function F9(n,t){if(1&n&&(s.TgZ(0,"div",30),s.Hsn(1,6),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function L9(n,t){if(1&n&&(s.TgZ(0,"mat-hint",34),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function B9(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,L9,2,2,"mat-hint",32),s.Hsn(2,7),s._UZ(3,"div",33),s.Hsn(4,8),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const V9=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],U9=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let SI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),j9=0;const OH=new s.OlP("MatError");let PH=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+j9++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:OH,useExisting:n}])]}),n})(),H9=0,NH=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+H9++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(s.Ikx("id",i.id),s.uIk("align",null),s.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const z9=new s.OlP("MatPrefix"),$9=new s.OlP("MatSuffix");let FH=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function G9(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const LH="mdc-line-ripple--active",AI="mdc-line-ripple--deactivating";let BH=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,c=o.contains(AI);"opacity"===r.propertyName&&c&&o.remove(LH,AI)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(AI),e.add(LH)}deactivate(){this._elementRef.nativeElement.classList.add(AI)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),VH=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:_9,ngContentSelectors:y9,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(s.F$t(),s._UZ(0,"div",0),s.TgZ(1,"div",1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(1),s.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const W9={transitionMessages:v("transitionMessages",[H("enter",O({opacity:1,transform:"translateY(0%)"})),re("void => enter",[O({opacity:0,transform:"translateY(-5px)"}),E("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let UH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const jH=new s.OlP("MatFormField"),q9=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let HH=0,GH=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Cn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,c,u,m,_){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=c,this._defaults=u,this._animationMode=m,this._document=_,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+HH++,this._hintLabelId="mat-mdc-hint-"+HH++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Rt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=Boolean(u?.hideRequiredMarker),u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(mi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,d.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(mi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(mi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+c}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(jl),s.Y36(cr),s.Y36(q9,8),s.Y36(s.QbO,8),s.Y36(ne))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,SI,5),s.Suo(r,SI,7),s.Suo(r,UH,5),s.Suo(r,z9,5),s.Suo(r,$9,5),s.Suo(r,OH,5),s.Suo(r,NH,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._formFieldControl=o.first),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(v9,5),s.Gf(b9,5),s.Gf(w9,5),s.Gf(FH,5),s.Gf(VH,5),s.Gf(BH,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._textField=r.first),s.iGM(r=s.CRH())&&(i._iconPrefixContainer=r.first),s.iGM(r=s.CRH())&&(i._textPrefixContainer=r.first),s.iGM(r=s.CRH())&&(i._floatingLabel=r.first),s.iGM(r=s.CRH())&&(i._notchedOutline=r.first),s.iGM(r=s.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&s.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:jH,useExisting:n}])],ngContentSelectors:U9,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(s.F$t(V9),s.YNc(0,E9,1,1,"ng-template",null,0,s.W1O),s.TgZ(2,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(4,D9,1,0,"div",3),s.TgZ(5,"div",4),s.YNc(6,S9,2,3,"div",5),s.YNc(7,A9,3,0,"div",6),s.YNc(8,M9,3,0,"div",7),s.TgZ(9,"div",8),s.YNc(10,R9,1,1,"ng-template",9),s.Hsn(11),s.qZA(),s.YNc(12,O9,2,0,"div",10),s.YNc(13,P9,2,0,"div",11),s.qZA(),s.YNc(14,N9,1,0,"div",12),s.qZA(),s.TgZ(15,"div",13),s.YNc(16,F9,2,1,"div",14),s.YNc(17,B9,5,2,"div",15),s.qZA()),2&e&&(s.xp6(2),s.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),s.xp6(2),s.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),s.xp6(2),s.Q6J("ngIf",i._hasOutline()),s.xp6(1),s.Q6J("ngIf",i._hasIconPrefix),s.xp6(1),s.Q6J("ngIf",i._hasTextPrefix),s.xp6(2),s.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),s.xp6(2),s.Q6J("ngIf",i._hasTextSuffix),s.xp6(1),s.Q6J("ngIf",i._hasIconSuffix),s.xp6(1),s.Q6J("ngIf",!i._hasOutline()),s.xp6(1),s.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[vi,Ei,ha,Vo,JC,NH,FH,VH,BH],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[W9.transitionMessages]},changeDetection:0}),n})(),id=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ln,Mn,zc,Ln]}),n})();const WH=Vl({passive:!0});let K9=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Va.E;const i=Wa(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Rt.x,c="cdk-text-field-autofilled",u=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,WH),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",u,WH)}}),o}stopMonitoring(e){const i=Wa(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(cr),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const X9=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),J9=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let eY=0;const tY=w2(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Rt.x}});let qH=(()=>{class n extends tY{get disabled(){return this._disabled}set disabled(e){this._disabled=Cn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ee.required)??!1}set required(e){this._required=Cn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&RC().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Cn(e)}constructor(e,i,r,o,c,u,m,_,b,T){super(u,o,c,r),this._elementRef=e,this._platform=i,this._autofillMonitor=_,this._formField=T,this._uid="mat-input-"+eY++,this.focused=!1,this.stateChanges=new Rt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(z=>RC().has(z)),this._iOSKeyupListener=z=>{const K=z.target;!K.value&&0===K.selectionStart&&0===K.selectionEnd&&(K.setSelectionRange(1,1),K.setSelectionRange(0,0))};const R=this._elementRef.nativeElement,B=R.nodeName.toLowerCase();this._inputValueAccessor=m||R,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=R.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){J9.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(cr),s.Y36(Pa,10),s.Y36(mv,8),s.Y36(Fa,8),s.Y36(UM),s.Y36(X9,10),s.Y36(K9),s.Y36(s.R0b),s.Y36(jH,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),s.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),s.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:UH,useExisting:n}]),s.qOj,s.TTD]}),n})(),aw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ln,id,id,Q9,Ln]}),n})();function nY(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"name is invalid"),s.qZA())}function iY(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"last name is invalid"),s.qZA())}function rY(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"email is invalid"),s.qZA())}function oY(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"password is invalid"),s.qZA())}let sY=(()=>{class n{constructor(e,i){this._authService=e,this._userService=i,this.registerForm=new jr({name:new On,lastName:new On,email:new On,password:new On})}onRegisterFormSubmitted(e){e.invalid||(console.log(e.get("email")?.value),this._authService.register({email:e.get("email")?.value,password:e.get("password")?.value}).subscribe(i=>{this.addUserData(e,i)}))}load(){this._authService.load().subscribe()}logout(){this._authService.logOut().subscribe()}addUserData(e,i){return this._userService.addUser({name:e.get("name")?.value,lastName:e.get("lastName")?.value,email:e.get("email")?.value,role:"user",authId:i,trainerId:""})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(TI),s.Y36(Bf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-registration"]],decls:28,vars:5,consts:[[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","type","text","placeholder","Name","formControlName","name","required",""],[4,"ngIf"],["matInput","","type","text","placeholder","LastName","formControlName","lastName","required",""],["matInput","","type","text","placeholder","Email","formControlName","email","required",""],["matInput","","type","text","placeholder","Password","formControlName","password","required",""],["type","submit","mat-raised-button","","color","primary"]],template:function(e,i){1&e&&(s.TgZ(0,"form",0),s.NdJ("ngSubmit",function(){return i.onRegisterFormSubmitted(i.registerForm)}),s.TgZ(1,"div")(2,"mat-form-field",1)(3,"mat-label"),s._uU(4,"Name"),s.qZA(),s._UZ(5,"input",2),s.YNc(6,nY,2,0,"mat-error",3),s.qZA()(),s.TgZ(7,"div")(8,"mat-form-field",1)(9,"mat-label"),s._uU(10,"Last name"),s.qZA(),s._UZ(11,"input",4),s.YNc(12,iY,2,0,"mat-error",3),s.qZA()(),s.TgZ(13,"div")(14,"mat-form-field",1)(15,"mat-label"),s._uU(16,"Email"),s.qZA(),s._UZ(17,"input",5),s.YNc(18,rY,2,0,"mat-error",3),s.qZA()(),s.TgZ(19,"div")(20,"mat-form-field",1)(21,"mat-label"),s._uU(22,"Password"),s.qZA(),s._UZ(23,"input",6),s.YNc(24,oY,2,0,"mat-error",3),s.qZA()(),s.TgZ(25,"div")(26,"button",7),s._uU(27,"Submit"),s.qZA()()()),2&e&&(s.Q6J("formGroup",i.registerForm),s.xp6(6),s.Q6J("ngIf",i.registerForm.get("name").invalid),s.xp6(6),s.Q6J("ngIf",i.registerForm.get("lastName").invalid),s.xp6(6),s.Q6J("ngIf",i.registerForm.get("email").invalid),s.xp6(6),s.Q6J("ngIf",i.registerForm.get("password").invalid))},dependencies:[Xd,Oa,Zs,Rh,Om,Fa,Ac,GH,SI,PH,qH,vi,ff],encapsulation:2,changeDetection:0}),n})(),aY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-register-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-registration")},dependencies:[sY],encapsulation:2,changeDetection:0}),n})();function lY(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"email is invalid"),s.qZA())}function cY(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"password is invalid"),s.qZA())}let dY=(()=>{class n{constructor(e){this._authService=e,this.loginForm=new jr({email:new On,password:new On})}onLoginFormSubmitted(e){this._authService.login({email:e.get("email")?.value,password:e.get("password")?.value}).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(TI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:16,vars:3,consts:[[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","type","text","placeholder","Email","formControlName","email","required",""],[4,"ngIf"],["matInput","","type","text","placeholder","Password","formControlName","password","required",""],["type","submit","mat-raised-button","","color","primary"]],template:function(e,i){1&e&&(s.TgZ(0,"form",0),s.NdJ("ngSubmit",function(){return i.onLoginFormSubmitted(i.loginForm)}),s.TgZ(1,"div")(2,"mat-form-field",1)(3,"mat-label"),s._uU(4,"Email"),s.qZA(),s._UZ(5,"input",2),s.YNc(6,lY,2,0,"mat-error",3),s.qZA()(),s.TgZ(7,"div")(8,"mat-form-field",1)(9,"mat-label"),s._uU(10,"Password"),s.qZA(),s._UZ(11,"input",4),s.YNc(12,cY,2,0,"mat-error",3),s.qZA()(),s.TgZ(13,"div")(14,"button",5),s._uU(15,"Submit"),s.qZA()()()),2&e&&(s.Q6J("formGroup",i.loginForm),s.xp6(6),s.Q6J("ngIf",i.loginForm.get("email").invalid),s.xp6(6),s.Q6J("ngIf",i.loginForm.get("password").invalid))},dependencies:[Xd,Oa,Zs,Rh,Om,Fa,Ac,GH,SI,PH,qH,vi,ff],encapsulation:2,changeDetection:0}),n})(),uY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-login")},dependencies:[dY],encapsulation:2,changeDetection:0}),n})();function iP(n){return n&&"function"==typeof n.connect&&!(n instanceof Ev)}class ZH{applyChanges(t,e,i,r,o){t.forEachOperation((c,u,m)=>{let _,b;if(null==c.previousIndex){const T=i(c,u,m);_=e.createEmbeddedView(T.templateRef,T.context,T.index),b=1}else null==m?(e.remove(u),b=3):(_=e.get(u),e.move(_,m),b=2);o&&o({context:_?.context,operation:b,record:c})})}detach(){}}let QH=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lw=new s.OlP("_ViewRepeater"),fY=[[["caption"]],[["colgroup"],["col"]]],mY=["caption","colgroup, col"];function rP(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Cn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const Sy=new s.OlP("CDK_TABLE");let Ay=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),My=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),MI=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class yY{}const vY=rP(yY);let Su=(()=>{class n extends vY{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Cn(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Ay,5),s.Suo(r,My,5),s.Suo(r,MI,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.cell=o.first),s.iGM(o=s.CRH())&&(i.headerCell=o.first),s.iGM(o=s.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})();class oP{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let sP=(()=>{class n extends oP{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Su),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),n})(),aP=(()=>{class n extends oP{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Su),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),n})();class JH{constructor(){this.tasks=[],this.endTasks=[]}}const lP=new s.OlP("_COALESCED_STYLE_SCHEDULER");let ez=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Rt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new JH,this._getScheduleObservable().pipe(mi(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new JH;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,on.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(ar(1))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),cP=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof cw?e.headerCell.template:this instanceof dw?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class bY extends cP{}const wY=rP(bY);let cw=(()=>{class n extends wY{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Sy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})();class xY extends cP{}const CY=rP(xY);let dw=(()=>{class n extends CY{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Sy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})(),kI=(()=>{class n extends cP{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Sy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),n})(),Au=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),dP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Au],encapsulation:2}),n})(),hP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Au],encapsulation:2}),n})(),RI=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const tz=["top","bottom","left","right"];class EY{constructor(t,e,i,r,o=!0,c=!0,u){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=c,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(R=>R)&&!i.some(R=>R))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],c=o.children.length,u=this._getCellWidths(o,r),m=this._getStickyStartColumnPositions(u,e),_=this._getStickyEndColumnPositions(u,i),b=e.lastIndexOf(!0),T=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const R="rtl"===this.direction,B=R?"right":"left",z=R?"left":"right";for(const K of t)for(let se=0;se<c;se++){const Re=K.children[se];e[se]&&this._addStickyStyle(Re,B,m[se],se===b),i[se]&&this._addStickyStyle(Re,z,_[se],se===T)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===b?[]:u.slice(0,b+1).map((K,se)=>e[se]?K:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===T?[]:u.slice(T).map((K,se)=>i[se+T]?K:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,c=[],u=[],m=[];for(let b=0,T=0;b<r.length;b++){if(!o[b])continue;c[b]=T;const R=r[b];m[b]=this._isNativeHtmlTable?Array.from(R.children):[R];const B=R.getBoundingClientRect().height;T+=B,u[b]=B}const _=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let b=0;b<r.length;b++){if(!o[b])continue;const T=c[b],R=b===_;for(const B of m[b])this._addStickyStyle(B,i,T,R)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:c,elements:m}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:c,elements:m})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);tz.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of tz)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const fP=new s.OlP("CDK_SPL");let OI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),PI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),NI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),FI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),LI=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Cn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Cn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,o,c,u,m,_,b,T,R,B){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=c,this._platform=m,this._viewRepeater=_,this._coalescedStyleScheduler=b,this._viewportRuler=T,this._stickyPositioningListener=R,this._ngZone=B,this._onDestroy=new Rt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new Xi({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(mi(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),iP(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,c)=>this._getEmbeddedViewArgs(r.item,c),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe(ar(1),mi(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,c)=>{this._addStickyColumnStyles([o],this._headerRowDefs[c])}),this._rowDefs.forEach(o=>{const c=[];for(let u=0;u<i.length;u++)this._renderRows[u].rowDef===o&&c.push(i[u]);this._addStickyColumnStyles(c,o)}),r.forEach((o,c)=>{this._addStickyColumnStyles([o],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const c=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let u=0;u<c.length;u++){let m=c[u];const _=this._cachedRenderRowsMap.get(m.data);_.has(m.rowDef)?_.get(m.rowDef).push(m):_.set(m.rowDef,[m]),e.push(m)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(c=>{const u=r&&r.has(c)?r.get(c):[];if(u.length){const m=u.shift();return m.dataIndex=i,m}return{data:e,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),BI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=BI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=BI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=BI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(c,u)=>c||!!u.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],iP(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;iP(this.dataSource)?e=this.dataSource.connect(this):function hY(n){return!!n&&(n instanceof fi.y||(0,Ur.m)(n.lift)&&(0,Ur.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Ke(this.dataSource)),this._renderChangeSubscription=e.pipe(mi(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(u=>this._columnDefsByName.get(u)),o=r.map(u=>u.sticky),c=r.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(c=>c.when&&c.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const c=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),c}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Au.mostRecentCellOutlet&&Au.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const c=e.get(i).context;c.count=r,c.first=0===i,c.last=i===r-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const c of r.outlets)o.appendChild(c.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new EY(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ke()).pipe(mi(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),c=o.rootNodes[0];1===o.rootNodes.length&&c?.nodeType===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36(jl,8),s.Y36(ne),s.Y36(cr),s.Y36(lw),s.Y36(lP),s.Y36(z_),s.Y36(fP,12),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,RI,5),s.Suo(r,Su,5),s.Suo(r,kI,5),s.Suo(r,cw,5),s.Suo(r,dw,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._noDataRow=o.first),s.iGM(o=s.CRH())&&(i._contentColumnDefs=o),s.iGM(o=s.CRH())&&(i._contentRowDefs=o),s.iGM(o=s.CRH())&&(i._contentHeaderRowDefs=o),s.iGM(o=s.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(OI,7),s.Gf(PI,7),s.Gf(NI,7),s.Gf(FI,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._rowOutlet=r.first),s.iGM(r=s.CRH())&&(i._headerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._footerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:Sy,useExisting:n},{provide:lw,useClass:ZH},{provide:lP,useClass:ez},{provide:fP,useValue:null}])],ngContentSelectors:mY,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(fY),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[OI,PI,NI,FI],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function BI(n,t){return n.concat(Array.from(t))}let IY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[l]}),n})();const TY=[[["caption"]],[["colgroup"],["col"]]],SY=["caption","colgroup, col"];let iz=(()=>{class n extends LI{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:LI,useExisting:n},{provide:Sy,useExisting:n},{provide:lP,useClass:ez},{provide:lw,useClass:ZH},{provide:fP,useValue:null}]),s.qOj],ngContentSelectors:SY,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(TY),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[OI,PI,NI,FI],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),mP=(()=>{class n extends Ay{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:Ay,useExisting:n}]),s.qOj]}),n})(),pP=(()=>{class n extends My{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:My,useExisting:n}]),s.qOj]}),n})(),gP=(()=>{class n extends Su{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:Su,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})(),_P=(()=>{class n extends sP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[s.qOj]}),n})(),yP=(()=>{class n extends aP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[s.qOj]}),n})(),rz=(()=>{class n extends cw{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:cw,useExisting:n}]),s.qOj]}),n})(),oz=(()=>{class n extends kI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:kI,useExisting:n}]),s.qOj]}),n})(),sz=(()=>{class n extends dP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:dP,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Au],encapsulation:2}),n})(),az=(()=>{class n extends hP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[s._Bn([{provide:hP,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Au],encapsulation:2}),n})(),BY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ln,IY,Ln]}),n})();function UY(n,t){1&n&&(s.TgZ(0,"th",10)(1,"b"),s._uU(2,"l.p."),s.qZA()())}function jY(n,t){if(1&n&&(s.TgZ(0,"td",11),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("routerLink","/user/"+e.id),s.xp6(1),s.hij(" ",e.index," ")}}function HY(n,t){1&n&&(s.TgZ(0,"th",10)(1,"b"),s._uU(2,"Imi\u0119"),s.qZA()())}function zY(n,t){if(1&n&&(s.TgZ(0,"td",11),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("routerLink","/user/"+e.id),s.xp6(1),s.hij(" ",e.name," ")}}function $Y(n,t){1&n&&(s.TgZ(0,"th",10)(1,"b"),s._uU(2,"Nazwisko"),s.qZA()())}function GY(n,t){if(1&n&&(s.TgZ(0,"td",11),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("routerLink","/user/"+e.id),s.xp6(1),s.hij(" ",e.lastName," ")}}function WY(n,t){1&n&&(s.TgZ(0,"th",10)(1,"b"),s._uU(2,"Email"),s.qZA()())}function qY(n,t){if(1&n&&(s.TgZ(0,"td",11),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("routerLink","/user/"+e.id),s.xp6(1),s.hij(" ",e.lastName," ")}}function ZY(n,t){1&n&&s._UZ(0,"tr",12)}function YY(n,t){1&n&&s._UZ(0,"tr",13)}const lz=function(){return["index","name","lastName","email"]};function KY(n,t){1&n&&(s.TgZ(0,"table",1),s.ynx(1,2),s.YNc(2,UY,3,0,"th",3),s.YNc(3,jY,2,2,"td",4),s.BQk(),s.ynx(4,5),s.YNc(5,HY,3,0,"th",3),s.YNc(6,zY,2,2,"td",4),s.BQk(),s.ynx(7,6),s.YNc(8,$Y,3,0,"th",3),s.YNc(9,GY,2,2,"td",4),s.BQk(),s.ynx(10,7),s.YNc(11,WY,3,0,"th",3),s.YNc(12,qY,2,2,"td",4),s.BQk(),s.YNc(13,ZY,1,0,"tr",8),s.YNc(14,YY,1,0,"tr",9),s.qZA()),2&n&&(s.Q6J("dataSource",t.ngIf),s.xp6(13),s.Q6J("matHeaderRowDef",s.DdM(3,lz)),s.xp6(1),s.Q6J("matRowDefColumns",s.DdM(4,lz)))}let QY=(()=>{class n{constructor(e){this._userService=e,this.users$=this._userService.getAllUsers().pipe((0,ze.U)(i=>i.map((r,o)=>({...r,index:o+1}))))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-list"]],decls:2,vars:3,consts:[["mat-table","","class","",3,"dataSource",4,"ngIf"],["mat-table","",1,"",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","pointer",3,"routerLink",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","lastName"],["matColumnDef","email"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"pointer",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(s.YNc(0,KY,15,5,"table",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.users$))},dependencies:[vi,iz,pP,rz,gP,mP,oz,_P,yP,sz,az,cu,qi],encapsulation:2,changeDetection:0}),n})(),XY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-list-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-user-list")},dependencies:[QY],encapsulation:2,changeDetection:0}),n})();const JY=["*"],rK=new s.OlP("MAT_CARD_CONFIG");let vP=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(rK,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:JY,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),bP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),wP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),cz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ln,Mn,Ln]}),n})();function gK(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"mat-card",2)(2,"mat-card-title",3),s._uU(3),s.qZA(),s.TgZ(4,"mat-card-content")(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"button",9),s._uU(11," Dodaj trening "),s.qZA()(),s.TgZ(12,"div",5)(13,"button",9),s._uU(14," Treningi "),s.qZA()()()(),s.TgZ(15,"div",10)(16,"form",11),s._UZ(17,"input",12),s.TgZ(18,"button",13),s.NdJ("click",function(){const o=s.CHM(e).ngIf,c=s.oxw();return s.KtG(c.addPaidTraining(o,c.userDetailsForm))}),s._uU(19," powieksz pakiet "),s.qZA()()()()(),s.TgZ(20,"div",14)(21,"div",5)(22,"div",15)(23,"h2"),s._uU(24,"Status Tygodni"),s.qZA(),s.TgZ(25,"p"),s._uU(26," Ilo\u015b\u0107 wykupionych tygodni: "),s.TgZ(27,"span",16),s._uU(28),s.qZA()(),s.TgZ(29,"p"),s._uU(30," Ilo\u015b\u0107 wykonanych tygodni: "),s.TgZ(31,"span",17),s._uU(32),s.qZA()()()()()()(),s.BQk()}if(2&n){const e=t.ngIf,i=s.oxw();s.xp6(3),s.AsE("",e.name," ",e.lastName,""),s.xp6(7),s.Q6J("routerLink","/create-plan/"+e.authId),s.xp6(3),s.Q6J("routerLink","/training-plans/"+e.authId),s.xp6(3),s.Q6J("formGroup",i.userDetailsForm),s.xp6(12),s.Oqu(e.paidTraining),s.xp6(4),s.Oqu(e.trainingWeeks.length)}}let _K=(()=>{class n{constructor(e,i){this._activatedRoute=e,this._userService=i,this.user$=this._activatedRoute.params.pipe(Hn(r=>this._userService.getOneUser(r.userId))),this.userDetailsForm=new jr({paidTraining:new On})}ngOnInit(){}addPaidTraining(e,i){const r=e.paidTraining+i.get("paidTraining")?.value;this._userService.setPaidTraining(e,r),i.reset()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Js),s.Y36(Bf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-details"]],decls:3,vars:3,consts:[[4,"ngIf"],[1,"col-md-3"],[1,"height-100"],[1,"text-center"],[1,"contarier"],[1,"row"],[1,"col","text-center"],[1,"container"],[1,"row","mb-2"],[1,"btn","btn-block","bg-cadetblue","text-ghostwhite",3,"routerLink"],[1,"col-4","text-center"],[3,"formGroup"],["type","number","id","paid","placeholder","Ilo\u015b\u0107 tygodni","formControlName","paidTraining",1,"form-control"],["type","button",1,"btn","btn-block","bg-cadetblue","text-ghostwhite","mt-2",3,"click"],[1,"container","mt-5"],[1,"col-md-6"],["id","wynikIloscWykupionychTygodni"],["id","wynikIloscWykonanychTygodni"]],template:function(e,i){1&e&&(s.YNc(0,gK,33,7,"ng-container",0),s.ALo(1,"async"),s._UZ(2,"div",1)),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.user$))},dependencies:[vi,vP,wP,bP,cu,Xd,Oa,kl,Zs,Rh,Fa,Ac,qi],encapsulation:2,changeDetection:0}),n})(),yK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-details-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-user-details")},dependencies:[_K],encapsulation:2,changeDetection:0}),n})();class dz{constructor(t,e,i){this.week=t,this.training=e,this.userRole=i}}class xP{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class CP extends xP{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class EP extends xP{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class vK extends xP{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class DP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof CP?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof EP?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof vK?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class bK extends DP{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const u=c.element,m=this._document.createComment("dom-portal");u.parentNode.insertBefore(m,u),this.outletElement.appendChild(u),this._attachedPortal=c,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(u,m)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let VI=(()=>{class n extends DP{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const c=o.element,u=this._document.createComment("dom-portal");o.setAttachedHost(this),c.parentNode.insertBefore(u,c),this._getRootNode().appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(ne))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),ky=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const uz=IA();class wK{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Cr(-this._previousScrollPosition.left),t.style.top=Cr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),uz&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),uz&&(i.scrollBehavior=o,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class xK{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(xn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class hz{enable(){}disable(){}attach(){}}function IP(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function fz(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class CK{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();IP(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let EK=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new hz,this.close=c=>new xK(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new wK(this._viewportRuler,this._document),this.reposition=c=>new CK(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pf),s.LFG(z_),s.LFG(s.R0b),s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mz{constructor(t){if(this.scrollStrategy=new hz,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class DK{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let pz=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IK=(()=>{class n extends pz{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){const u=o[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TK=(()=>{class n extends pz{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ul(o)},this._clickListener=o=>{const c=Ul(o),u="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let _=m.length-1;_>-1;_--){const b=m[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(c)||b.overlayElement.contains(u))break;const T=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(o)):T.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne),s.LFG(cr),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UI=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||I_()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),I_()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne),s.LFG(cr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uw{constructor(t,e,i,r,o,c,u,m,_,b=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=c,this._document=u,this._location=m,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new Rt.x,this._attachments=new Rt.x,this._detachments=new Rt.x,this._locationChanges=Ks.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new Rt.x,this._outsidePointerEvents=new Rt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ar(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Cr(this._config.width),t.height=Cr(this._config.height),t.minWidth=Cr(this._config.minWidth),t.minHeight=Cr(this._config.minHeight),t.maxWidth=Cr(this._config.maxWidth),t.maxHeight=Cr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=O_(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(mi((0,d.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const gz="cdk-overlay-connected-position-bounding-box",SK=/([A-Za-z%]+)$/;class AK{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Rt.x,this._resizeSubscription=Ks.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(gz),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let c;for(let u of this._preferredPositions){let m=this._getOriginPoint(t,r,u),_=this._getOverlayPoint(m,e,u),b=this._getOverlayFit(_,e,i,u);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,m);this._canFitWithFlexibleDimensions(b,_,i)?o.push({position:u,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,u)}):(!c||c.overlayFit.visibleArea<b.visibleArea)&&(c={overlayFit:b,overlayPoint:_,originPoint:m,position:u,overlayRect:e})}if(o.length){let u=null,m=-1;for(const _ of o){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>m&&(m=b,u=_)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(gz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==i.originX?c:u}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=yz(e);let{x:c,y:u}=t,m=this._getOffset(r,"x"),_=this._getOffset(r,"y");m&&(c+=m),_&&(u+=_);let R=0-u,B=u+o.height-i.height,z=this._subtractOverflows(o.width,0-c,c+o.width-i.width),K=this._subtractOverflows(o.height,R,B),se=z*K;return{visibleArea:se,isCompletelyWithinViewport:o.width*o.height===se,fitsInViewportVertically:K===o.height,fitsInViewportHorizontally:z==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,c=_z(this._overlayRef.getConfig().minHeight),u=_z(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=c&&c<=r)&&(t.fitsInViewportHorizontally||null!=u&&u<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=yz(e),o=this._viewportRect,c=Math.max(t.x+r.width-o.width,0),u=Math.max(t.y+r.height-o.height,0),m=Math.max(o.top-i.top-t.y,0),_=Math.max(o.left-i.left-t.x,0);let b=0,T=0;return b=r.width<=o.width?_||-c:t.x<this._viewportMargin?o.left-i.left-t.x:0,T=r.height<=o.height?m||-u:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:b,y:T},{x:t.x+b,y:t.y+T}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new DK(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,c,u,b,T,R;if("top"===e.overlayY)c=t.y,o=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)u=i.height-t.y+2*this._viewportMargin,o=i.height-u+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),z=this._lastBoundingBoxSize.height;o=2*B,c=t.y-B,o>z&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-z/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)R=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)T=t.x,b=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),z=this._lastBoundingBoxSize.width;b=2*B,T=t.x-B,b>z&&!this._isInitialRender&&!this._growAfterOpen&&(T=t.x-z/2)}return{top:c,left:T,bottom:u,right:R,width:b,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Cr(i.height),r.top=Cr(i.top),r.bottom=Cr(i.bottom),r.width=Cr(i.width),r.left=Cr(i.left),r.right=Cr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Cr(o)),c&&(r.maxWidth=Cr(c))}this._lastBoundingBoxSize=i,Zp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Zp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();Zp(i,this._getExactOverlayY(e,t,b)),Zp(i,this._getExactOverlayX(e,t,b))}else i.position="static";let u="",m=this._getOffset(e,"x"),_=this._getOffset(e,"y");m&&(u+=`translateX(${m}px) `),_&&(u+=`translateY(${_}px)`),i.transform=u.trim(),c.maxHeight&&(r?i.maxHeight=Cr(c.maxHeight):o&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Cr(c.maxWidth):o&&(i.maxWidth="")),Zp(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Cr(o.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Cr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:fz(t,i),isOriginOutsideView:IP(t,i),isOverlayClipped:fz(e,i),isOverlayOutsideView:IP(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&O_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Zp(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function _z(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(SK);return e&&"px"!==e?null:parseFloat(t)}return n||null}function yz(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const vz="cdk-global-overlay-wrapper";class MK{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(vz),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:c,maxHeight:u}=i,m=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==o&&"100vh"!==o||u&&"100%"!==u&&"100vh"!==u),b=this._xPosition,T=this._xOffset,R="rtl"===this._overlayRef.getConfig().direction;let B="",z="",K="";m?K="flex-start":"center"===b?(K="center",R?z=T:B=T):R?"left"===b||"end"===b?(K="flex-end",B=T):("right"===b||"start"===b)&&(K="flex-start",z=T):"left"===b||"start"===b?(K="flex-start",B=T):("right"===b||"end"===b)&&(K="flex-end",z=T),t.position=this._cssPosition,t.marginLeft=m?"0":B,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=m?"0":z,e.justifyContent=K,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(vz),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let kK=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new MK}flexibleConnectedTo(e){return new AK(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z_),s.LFG(ne),s.LFG(cr),s.LFG(UI))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RK=0,Yp=(()=>{class n{constructor(e,i,r,o,c,u,m,_,b,T,R,B){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=u,this._ngZone=m,this._document=_,this._directionality=b,this._location=T,this._outsideClickDispatcher=R,this._animationsModuleType=B}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),c=new mz(e);return c.direction=c.direction||this._directionality.value,new uw(o,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+RK++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new bK(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(EK),s.LFG(UI),s.LFG(s._Vd),s.LFG(kK),s.LFG(IK),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(ne),s.LFG(jl),s.LFG(Ue),s.LFG(TK),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NK={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Yp],useFactory:function PK(n){return()=>n.scrollStrategies.reposition()}};let TP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Yp,NK],imports:[hf,ky,l,l]}),n})();function FK(n,t){}class jI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let bz=(()=>{class n extends DP{constructor(e,i,r,o,c,u,m,_){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=c,this._ngZone=u,this._overlayRef=m,this._focusMonitor=_,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const T=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),T},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=dp(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=dp();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=dp())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Pr),s.Y36(ne,8),s.Y36(jI),s.Y36(_p),s.Y36(s.R0b),s.Y36(uw),s.Y36(fu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(VI,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,FK,0,0,"ng-template",0)},dependencies:[VI],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class SP{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Rt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!df(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const wz=new s.OlP("DialogScrollStrategy"),LK=new s.OlP("DialogData"),BK=new s.OlP("DefaultDialogConfig"),UK={provide:wz,deps:[Yp],useFactory:function VK(n){return()=>n.scrollStrategies.block()}};let jK=0,xz=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,c,u){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Rt.x,this._afterOpenedAtThisLevel=new Rt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Hg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(qo(void 0))),this._scrollStrategy=u}open(e,i){(i={...this._defaultOptions||new jI,...i}).id=i.id||"cdk-dialog-"+jK++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),c=this._overlay.create(o),u=new SP(c,i),m=this._attachContainer(c,u,i);return u.containerInstance=m,this._attachDialogContent(e,u,m,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){AP(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){AP(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),AP(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new mz({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,c=[{provide:jI,useValue:r},{provide:SP,useValue:i},{provide:uw,useValue:e}];let u;r.container?"function"==typeof r.container?u=r.container:(u=r.container.type,c.push(...r.container.providers(r))):u=bz;const m=new CP(u,r.viewContainerRef,s.zs3.create({parent:o||this._injector,providers:c}),r.componentFactoryResolver);return e.attach(m).instance}_attachDialogContent(e,i,r,o){if(e instanceof s.Rgc){const c=this._createInjector(o,i,r,void 0);let u={$implicit:o.data,dialogRef:i};o.templateContext&&(u={...u,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new EP(e,null,u,c))}else{const c=this._createInjector(o,i,r,this._injector),u=r.attachComponentPortal(new CP(e,o.viewContainerRef,c,o.componentFactoryResolver));i.componentInstance=u.instance}}_createInjector(e,i,r,o){const c=e.injector||e.viewContainerRef?.injector,u=[{provide:LK,useValue:e.data},{provide:SP,useValue:i}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(i,e,r)):u.push(...e.providers)),e.direction&&(!c||!c.get(jl,null,{optional:!0}))&&u.push({provide:jl,useValue:{value:e.direction,change:Ke()}}),s.zs3.create({parent:c||o,providers:u})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,c)=>{o?c.setAttribute("aria-hidden",o):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yp),s.LFG(s.zs3),s.LFG(BK,8),s.LFG(n,12),s.LFG(UI),s.LFG(wz))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function AP(n,t){let e=n.length;for(;e--;)t(n[e])}let HK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[xz,UK],imports:[TP,ky,L_,ky]}),n})();function zK(n,t){}class HI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const MP="mdc-dialog--open",Cz="mdc-dialog--opening",Ez="mdc-dialog--closing";let WK=(()=>{class n extends bz{constructor(e,i,r,o,c,u,m,_){super(e,i,r,o,c,u,m,_),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Pr),s.Y36(ne,8),s.Y36(HI),s.Y36(_p),s.Y36(s.R0b),s.Y36(uw),s.Y36(fu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const Dz="--mat-dialog-transition-duration";function Iz(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Hc(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Hc(n.substring(0,n.length-1)):"0"===n?0:null}let qK=(()=>{class n extends WK{constructor(e,i,r,o,c,u,m,_,b){super(e,i,r,o,c,u,m,b),this._animationMode=_,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?Iz(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?Iz(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Dz,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Cz,MP)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(MP),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(MP),this._animationsEnabled?(this._hostElement.style.setProperty(Dz,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ez)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Cz,Ez)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Pr),s.Y36(ne,8),s.Y36(HI),s.Y36(_p),s.Y36(s.R0b),s.Y36(uw),s.Y36(s.QbO,8),s.Y36(fu))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[s.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,zK,0,0,"ng-template",2),s.qZA()())},dependencies:[VI],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class Tz{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Rt.x,this._beforeClosed=new Rt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(xn(r=>"opened"===r.state),ar(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(xn(r=>"closed"===r.state),ar(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,d.T)(this.backdropClick(),this.keydownEvents().pipe(xn(r=>27===r.keyCode&&!this.disableClose&&!df(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function ZK(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(xn(e=>"closing"===e.state),ar(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Sz=new s.OlP("MatMdcDialogData"),YK=new s.OlP("mat-mdc-dialog-default-options"),Az=new s.OlP("mat-mdc-dialog-scroll-strategy"),QK={provide:Az,deps:[Yp],useFactory:function KK(n){return()=>n.scrollStrategies.block()}};let XK=0,JK=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,c,u,m,_,b,T){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=m,this._dialogContainerType=_,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Rt.x,this._afterOpenedAtThisLevel=new Rt.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=HI,this.afterAllClosed=Hg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(qo(void 0))),this._scrollStrategy=u,this._dialog=i.get(xz)}open(e,i){let r;(i={...this._defaultOptions||new HI,...i}).id=i.id||`${this._idPrefix}${XK++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:jI,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,u,m)=>(r=new this._dialogRefConstructor(c,i,m),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Mz=(()=>{class n extends JK{constructor(e,i,r,o,c,u,m,_){super(e,i,o,u,m,c,Tz,qK,Sz,_),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yp),s.LFG(s.zs3),s.LFG(Ue,8),s.LFG(YK,8),s.LFG(Az),s.LFG(n,12),s.LFG(UI),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),kz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Mz,QK],imports:[HK,TP,ky,Ln,Ln]}),n})();function eQ(n,t){if(1&n&&(s.TgZ(0,"div",8),s._UZ(1,"input",9),s.TgZ(2,"label",10),s._uU(3),s.qZA()()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("value",e),s.xp6(2),s.Oqu(e)}}let tQ=(()=>{class n{constructor(e,i){this.data=e,this.dialogRef=i,this._dificultValueSubject=new Xi([1,2,3,4,5]),this.dificultValue$=this._dificultValueSubject.asObservable()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sz),s.Y36(Tz))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-rating-modal"]],decls:14,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","comment"],["id","comment","rows","2",1,"form-control"],["for","difficulty"],["class","form-check form-check-inline",4,"ngFor","ngForOf"],[1,"form-check","form-check-inline"],["type","radio","name","difficulty",1,"form-check-input",3,"value"],["for","difficulty1",1,"form-check-label"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s._uU(5,"Komentarz do tygodnia:"),s.qZA(),s._UZ(6,"textarea",5),s.qZA()()(),s.TgZ(7,"div",1)(8,"div",2)(9,"label",6),s._uU(10,"Poziom trudno\u015bci:"),s.qZA(),s.TgZ(11,"div",3),s.YNc(12,eQ,4,2,"div",7),s.ALo(13,"async"),s.qZA()()()()),2&e&&(s.xp6(12),s.Q6J("ngForOf",s.lcZ(13,1,i.dificultValue$)))},dependencies:[ao,qi],encapsulation:2,changeDetection:0}),n})(),nQ=0;const kP=new s.OlP("CdkAccordion");let iQ=(()=>{class n{constructor(){this._stateChanges=new Rt.x,this._openCloseAllActions=new Rt.x,this.id="cdk-accordion-"+nQ++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Cn(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[s._Bn([{provide:kP,useExisting:n}]),s.TTD]}),n})(),rQ=0,oQ=(()=>{class n{get expanded(){return this._expanded}set expanded(e){e=Cn(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Cn(e)}constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Ks.w0.EMPTY,this.closed=new s.vpe,this.opened=new s.vpe,this.destroyed=new s.vpe,this.expandedChange=new s.vpe,this.id="cdk-accordion-child-"+rQ++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,c)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===c&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(kP,12),s.Y36(s.sBO),s.Y36(QH))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[s._Bn([{provide:kP,useValue:void 0}])]}),n})(),sQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const aQ=["body"];function lQ(n,t){}const cQ=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],dQ=["mat-expansion-panel-header","*","mat-action-row"];function uQ(n,t){if(1&n&&s._UZ(0,"span",2),2&n){const e=s.oxw();s.Q6J("@indicatorRotate",e._getExpandedState())}}const hQ=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],fQ=["mat-panel-title","mat-panel-description","*"],RP=new s.OlP("MAT_ACCORDION"),Oz="225ms cubic-bezier(0.4,0.0,0.2,1)",Pz={indicatorRotate:v("indicatorRotate",[H("collapsed, void",O({transform:"rotate(0deg)"})),H("expanded",O({transform:"rotate(180deg)"})),re("expanded <=> collapsed, void => collapsed",E(Oz))]),bodyExpansion:v("bodyExpansion",[H("collapsed, void",O({height:"0px",visibility:"hidden"})),H("expanded",O({height:"*",visibility:"visible"})),re("expanded <=> collapsed, void => collapsed",E(Oz))])},Nz=new s.OlP("MAT_EXPANSION_PANEL");let mQ=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(Nz,8))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),pQ=0;const Fz=new s.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let zI=(()=>{class n extends oQ{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Cn(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,i,r,o,c,u,m){super(e,i,r),this._viewContainerRef=o,this._animationMode=u,this._hideToggle=!1,this.afterExpand=new s.vpe,this.afterCollapse=new s.vpe,this._inputChanges=new Rt.x,this._headerId="mat-expansion-panel-header-"+pQ++,this._bodyAnimationDone=new Rt.x,this.accordion=e,this._document=c,this._bodyAnimationDone.pipe(jc((_,b)=>_.fromState===b.fromState&&_.toState===b.toState)).subscribe(_=>{"void"!==_.fromState&&("expanded"===_.toState?this.afterExpand.emit():"collapsed"===_.toState&&this.afterCollapse.emit())}),m&&(this.hideToggle=m.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(qo(null),xn(()=>this.expanded&&!this._portal),ar(1)).subscribe(()=>{this._portal=new EP(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(RP,12),s.Y36(s.sBO),s.Y36(QH),s.Y36(s.s_b),s.Y36(ne),s.Y36(s.QbO,8),s.Y36(Fz,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,mQ,5),2&e){let o;s.iGM(o=s.CRH())&&(i._lazyContent=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(aQ,5),2&e){let r;s.iGM(r=s.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[s._Bn([{provide:RP,useValue:void 0},{provide:Nz,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:dQ,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(s.F$t(cQ),s.Hsn(0),s.TgZ(1,"div",0,1),s.NdJ("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),s.TgZ(3,"div",2),s.Hsn(4,1),s.YNc(5,lQ,0,0,"ng-template",3),s.qZA(),s.Hsn(6,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),s.uIk("aria-labelledby",i._headerId),s.xp6(4),s.Q6J("cdkPortalOutlet",i._portal))},dependencies:[VI],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Pz.bodyExpansion]},changeDetection:0}),n})();class gQ{}const _Q=b2(gQ);let $I=(()=>{class n extends _Q{constructor(e,i,r,o,c,u,m){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=u,this._parentChangeSubscription=Ks.w0.EMPTY;const _=e.accordion?e.accordion._stateChanges.pipe(xn(b=>!(!b.hideToggle&&!b.togglePosition))):Va.E;this.tabIndex=parseInt(m||"")||0,this._parentChangeSubscription=(0,d.T)(e.opened,e.closed,_,e._inputChanges.pipe(xn(b=>!!(b.hideToggle||b.disabled||b.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(xn(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),c&&(this.expandedHeight=c.expandedHeight,this.collapsedHeight=c.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:df(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zI,1),s.Y36(s.SBq),s.Y36(fu),s.Y36(s.sBO),s.Y36(Fz,8),s.Y36(s.QbO,8),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&e&&(s.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),s.Udp("height",i._getHeaderHeight()),s.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[s.qOj],ngContentSelectors:fQ,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(s.F$t(hQ),s.TgZ(0,"span",0),s.Hsn(1),s.Hsn(2,1),s.Hsn(3,2),s.qZA(),s.YNc(4,uQ,1,1,"span",1)),2&e&&(s.ekj("mat-content-hide-toggle",!i._showToggle()),s.xp6(4),s.Q6J("ngIf",i._showToggle()))},dependencies:[vi],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Pz.indicatorRotate]},changeDetection:0}),n})(),OP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),Lz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),PP=(()=>{class n extends iQ{constructor(){super(...arguments),this._ownHeaders=new s.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Cn(e)}ngAfterContentInit(){this._headers.changes.pipe(qo(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new lE(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,$I,5),2&e){let o;s.iGM(o=s.CRH())&&(i._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[s._Bn([{provide:RP,useExisting:n}]),s.qOj]}),n})(),NP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Ln,sQ,ky]}),n})();function yQ(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.exercise," ")}}function vQ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",4)(1,"div",5),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2);return s.KtG(c.openTrainingDetails(o.id))}),s.TgZ(2,"div",6)(3,"div",7)(4,"div",8)(5,"h3",9),s._uU(6),s.qZA()(),s._UZ(7,"div",8),s.qZA(),s.TgZ(8,"button",10),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).openRaitingWeekModal(),s.KtG(r.stopPropagation())}),s._uU(9," openModal "),s.qZA(),s.TgZ(10,"ol",11),s.YNc(11,yQ,2,1,"li",0),s.qZA()()()()}if(2&n){const e=t.$implicit,i=t.index;s.xp6(6),s.hij("Trening ",i+1,""),s.xp6(5),s.Q6J("ngForOf",e.trainingElement)}}function bQ(n,t){if(1&n&&(s.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),s._uU(3),s.qZA(),s._UZ(4,"mat-panel-description"),s.qZA(),s.TgZ(5,"div",1)(6,"div",2),s.YNc(7,vQ,12,2,"div",3),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(3),s.hij(" Tydzie\u0144 ",e.week," "),s.xp6(4),s.Q6J("ngForOf",e.training)}}let wQ=(()=>{class n{set date(e){}constructor(e,i,r,o,c){this._authService=e,this._trainingService=i,this._router=r,this.dialog=o,this._userService=c,this.userContext$=this._authService.userContext$.pipe((0,ze.U)(u=>({id:u.id,email:u.email,isVerified:u.isVerified}))),this.trainingPlansQuery$=Nm([this._trainingService.getAllPlans(),this.userContext$]).pipe((0,ze.U)(([u,m])=>({training:u.filter(b=>b.userId&&b.userId.includes(m.id)),authId:m.id})),Hn(u=>this._userService.getOneUserByAuth(u.authId).pipe((0,ze.U)(m=>m.trainingWeeks.map(_=>{const b=u.training.filter(T=>_==T.trainingWeek);return console.log(b),new dz(_,b,m.role)})))))}ngAfterContentInit(){this._authService.load().subscribe()}openTrainingDetails(e){this._router.navigate([`training/${e}`])}openRaitingWeekModal(){this.dialog.open(tQ,{height:"180px",width:"340px",data:"dupa"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(TI),s.Y36(ow),s.Y36(Ji),s.Y36(Mz),s.Y36(Bf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-training-plans"]],inputs:{date:"date"},decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],[1,"container","mt-5"],[1,"row","d-flex","justify-content-center"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","pointer",3,"click"],[1,"card-body"],[1,"row","align-items-center"],[1,"col"],[1,"mb-0"],[3,"click"],[1,"mt-2"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-accordion"),s.YNc(1,bQ,8,2,"mat-expansion-panel",0),s.ALo(2,"async"),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,i.trainingPlansQuery$)))},dependencies:[ao,PP,zI,$I,Lz,OP,qi],encapsulation:2,changeDetection:0}),n})();function xQ(n,t){1&n&&s._UZ(0,"app-training-plans",1),2&n&&s.Q6J("date",t.ngIf)}let CQ=(()=>{class n{constructor(){this._dateSubject=new Xi({year:"",month:"",week:""}),this.date$=this._dateSubject.asObservable()}changeChoiseDate(e){this._dateSubject.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-training-plans-page"]],decls:2,vars:3,consts:[[3,"date",4,"ngIf"],[3,"date"]],template:function(e,i){1&e&&(s.YNc(0,xQ,1,1,"app-training-plans",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.date$))},dependencies:[vi,wQ,qi],encapsulation:2,changeDetection:0}),n})(),LP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[zc,Mn,Ln,B_,TE,sw]}),n})(),iX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Ln,ky,B_,zc,L_,Ln]}),n})(),VP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[LP,Mn,iX,BY,Bl]}),n})();const lX={provide:new s.OlP("mat-select-scroll-strategy"),deps:[Yp],useFactory:function aX(n){return()=>n.scrollStrategies.reposition()}};let hw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[lX],imports:[Mn,TP,V_,Ln,a,id,V_,Ln]}),n})(),qz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ln,Ln]}),n})(),mX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ba,id,aw,Mn,vp,sw,hw,qz]}),n})(),Zz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ba,id,aw,Mn,hw]}),n})(),pX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,VP,mX,Zz]}),n})(),gX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ba,id,aw,Mn,vp]}),n})(),_X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[gX]}),n})(),yX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ba,id,aw,Mn,vp]}),n})(),vX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[yX]}),n})(),bX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[VP]}),n})(),wX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,cz,vp,Bl,Ba]}),n})(),xX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[wX]}),n})(),CX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[kz,Mn]}),n})(),EX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,id,hw,Ba,V_,LP,NP,Bl,kz,CX]}),n})(),DX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,EX,Zz]}),n})();function IX(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",24)(2,"div",25),s._UZ(3,"input",26),s.qZA(),s.TgZ(4,"div",25),s._UZ(5,"input",27),s.qZA(),s.TgZ(6,"div",25),s._UZ(7,"input",28),s.qZA(),s.TgZ(8,"div",25)(9,"button",6),s.NdJ("click",function(){const o=s.CHM(e).index,c=s.oxw(2);return s.KtG(c.deleteQuantity(o))}),s._uU(10," - "),s.qZA()()(),s.BQk()}if(2&n){const e=t.index;s.xp6(1),s.Q6J("formGroupName",e)}}function TX(n,t){if(1&n&&(s.TgZ(0,"div",40)(1,"div",41)(2,"div",42)(3,"span")(4,"b"),s._uU(5,"Serie: "),s.qZA()()(),s.TgZ(6,"div",22),s._uU(7),s.qZA()(),s.TgZ(8,"div",41)(9,"div",42)(10,"span")(11,"b"),s._uU(12,"Powt\xf3rzenia: "),s.qZA()()(),s.TgZ(13,"div",22),s._uU(14),s.qZA()(),s.TgZ(15,"div",41)(16,"div",42)(17,"span")(18,"b"),s._uU(19,"Ci\u0119zar: "),s.qZA()()(),s.TgZ(20,"div",22),s._uU(21),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(7),s.Oqu(e.set),s.xp6(7),s.hij(" ",e.rep," "),s.xp6(7),s.Oqu(e.value)}}function SX(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",34)(2,"div",35),s._uU(3),s.qZA(),s.TgZ(4,"div",36)(5,"div",34)(6,"span",37)(7,"b"),s._uU(8,"Exercise"),s.qZA()(),s._uU(9),s.qZA(),s.TgZ(10,"div",34)(11,"span",37)(12,"b"),s._uU(13,"Comment"),s.qZA()(),s._uU(14),s.qZA()(),s.TgZ(15,"div",38),s.YNc(16,TX,22,3,"div",39),s.qZA(),s.TgZ(17,"div",35)(18,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2),o=r.index,c=r.$implicit,u=s.oxw(2);return s.KtG(u.onEditForms(o,c))}),s._uU(19," edit "),s.qZA()()(),s.BQk()}if(2&n){const e=s.oxw(2).$implicit;s.xp6(3),s.Oqu(e.index),s.xp6(6),s.hij(" ",e.exercise," "),s.xp6(5),s.hij(" ",e.comment," "),s.xp6(2),s.Q6J("ngForOf",e.quantity)}}function AX(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",46)(2,"div",22)(3,"div",41)(4,"div",47)(5,"span")(6,"b"),s._uU(7,"Serie: "),s.qZA()()(),s.TgZ(8,"div",22),s._UZ(9,"input",48),s.qZA()(),s.TgZ(10,"div",41)(11,"div",47)(12,"span")(13,"b"),s._uU(14,"Podej\u015bcia: "),s.qZA()()(),s.TgZ(15,"div",22),s._UZ(16,"input",49),s.qZA()(),s.TgZ(17,"div",41)(18,"div",47)(19,"span")(20,"b"),s._uU(21,"Ci\u0119zar: "),s.qZA()()(),s.TgZ(22,"div",22),s._UZ(23,"input",50),s.qZA()()(),s.TgZ(24,"div",51)(25,"button",6),s.NdJ("click",function(){const o=s.CHM(e).index,c=s.oxw(5);return s.KtG(c.deleteQuantityEdit(o))}),s._uU(26," - "),s.qZA()()(),s.BQk()}if(2&n){const e=t.index;s.xp6(1),s.Q6J("formGroupName",e)}}function MX(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",34)(1,"div",35),s._uU(2),s.qZA(),s.TgZ(3,"div",36)(4,"div",34)(5,"span",37)(6,"b"),s._uU(7,"Exercise"),s.qZA()(),s._UZ(8,"textarea",9),s.qZA(),s.TgZ(9,"div",34)(10,"span",37)(11,"b"),s._uU(12,"Comment"),s.qZA()(),s._UZ(13,"textarea",10),s.qZA()(),s.TgZ(14,"div",22),s.ynx(15,12),s.YNc(16,AX,27,1,"ng-container",13),s.BQk(),s.qZA(),s.TgZ(17,"div",43)(18,"div",34)(19,"div",44)(20,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(4);return s.KtG(r.addQuantity("edit"))}),s._uU(21," + "),s.qZA()(),s.TgZ(22,"div",45)(23,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2).index,o=s.oxw(2);return s.KtG(o.editSubmit(o.editForm,r))}),s._uU(24," submit "),s.qZA()()()()()}if(2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.xp6(2),s.Oqu(e.index),s.xp6(14),s.Q6J("ngForOf",i.quantityExerciseEdit.controls)}}function kX(n,t){if(1&n&&(s.ynx(0),s.YNc(1,SX,20,4,"ng-container",32),s.YNc(2,MX,25,2,"ng-template",null,33,s.W1O),s.BQk()),2&n){const e=t.ngIf,i=s.MAs(3),r=s.oxw().index;s.xp6(1),s.Q6J("ngIf",!e.isEdit||e.index!==r)("ngIfElse",i)}}function RX(n,t){if(1&n&&(s.TgZ(0,"div",29),s.YNc(1,kX,4,2,"ng-container",30),s.ALo(2,"async"),s.TgZ(3,"span",31),s._UZ(4,"mat-divider"),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",s.lcZ(2,1,e.isEditForm$))}}function OX(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),s._uU(4," Dodaj \u0106wiczenie do Treningu "),s.qZA()(),s.TgZ(5,"div",5)(6,"button",6),s.NdJ("click",function(){const o=s.CHM(e).ngIf,c=s.oxw();return s.KtG(c.back(o.id))}),s._uU(7," Wr\xf3\u0107 "),s.qZA()()(),s.TgZ(8,"form",7)(9,"div",2)(10,"div",8),s._UZ(11,"textarea",9),s.qZA()(),s.TgZ(12,"div",2)(13,"div",8),s._UZ(14,"textarea",10),s.qZA()(),s.TgZ(15,"div",2)(16,"div",11),s.ynx(17,12),s.YNc(18,IX,11,1,"ng-container",13),s.BQk(),s.qZA(),s.TgZ(19,"div",14)(20,"div",15)(21,"div",16)(22,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addQuantity("add"))}),s._uU(23," + "),s.qZA()(),s.TgZ(24,"div",16)(25,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addTrainingExercise(r.planForm))}),s._uU(26," Dodaj "),s.qZA()()()()()(),s.TgZ(27,"div",17)(28,"div",18)(29,"button",6),s.NdJ("click",function(){const o=s.CHM(e).ngIf,c=s.oxw();return s.KtG(c.onPlanFormSubmitted(o))}),s._uU(30," Zatwierd\u017a "),s.qZA()()(),s.TgZ(31,"div",19)(32,"mat-accordion")(33,"mat-expansion-panel",20)(34,"mat-expansion-panel-header")(35,"mat-panel-description",21)(36,"div",22),s._uU(37,"TRAINING"),s.qZA()()(),s.TgZ(38,"form",7),s.YNc(39,RX,5,3,"div",23),s.ALo(40,"async"),s.qZA()()()()()}if(2&n){const e=s.oxw();s.xp6(8),s.Q6J("formGroup",e.planForm),s.xp6(10),s.Q6J("ngForOf",e.quantityExercise.controls),s.xp6(20),s.Q6J("formGroup",e.editForm),s.xp6(1),s.Q6J("ngForOf",s.lcZ(40,4,e.trainingExercises$))}}let PX=(()=>{class n{constructor(e,i,r,o,c,u){this._fb=e,this._trainingService=i,this._activatedRoute=r,this._router=o,this._location=c,this._userService=u,this.planForm=new jr({trainingWeek:new On(""),exercise:new On(""),comment:new On(""),quantityExercise:new Pm([new jr({set:new On(""),rep:new On(""),value:new On("")})])}),this.editForm=new jr({exercise:new On(""),comment:new On(""),quantityExercise:new Pm([])}),this.trainingExercises$=this._trainingService.traning$,this.isEditForm$=this._trainingService.isEdit$,this._editFieldSubject=new Xi("comment"),this.editField$=this._editFieldSubject.asObservable(),this.quantityPlanFormLength=1,this.quantityEditFormLength=0,this.user$=this._activatedRoute.params.pipe(Hn(m=>this._userService.getOneUserByAuth(m.userId)),(0,ze.U)(m=>({...m,training:m.trainingWeeks.reverse()})))}ngOnDestroy(){sessionStorage.removeItem("test")}onPlanFormSubmitted(e){this._activatedRoute.params.pipe(Hn(i=>this._trainingService.setTraining(i.trainingId))).subscribe({next:()=>this._router.navigate([`training-plans/${e.authId}`])})}get quantityExercise(){return this.planForm.controls.quantityExercise}get quantityExerciseEdit(){return this.editForm.controls.quantityExercise}addQuantityEdit(e){const i=this._fb.group(e);this.quantityExerciseEdit.push(i)}addQuantity(e){const i=this._fb.group({set:[],rep:[],value:[]});"add"===e?(this.quantityPlanFormLength++,this.quantityExercise.push(i)):"edit"===e&&(this.quantityEditFormLength++,this.quantityExerciseEdit.push(i))}deleteQuantity(e){this.quantityPlanFormLength--,this.quantityExercise.removeAt(e)}deleteQuantityEdit(e){this.quantityEditFormLength--,this.quantityExerciseEdit.removeAt(e)}addTrainingExercise(e){this._trainingService.addTrainingElementToContext({exercise:e.get("exercise")?.value,comment:e.get("comment")?.value,quantity:e.get("quantityExercise")?.value}).subscribe(()=>{e.get("exercise")?.reset(),e.get("comment")?.reset(),this.quantityExercise.clear();const i=this._fb.group({set:[],rep:[],value:[]});this.quantityExercise.push(i)})}onEditForms(e,i){this.editForm.reset(),this.editForm.controls.quantityExercise.clear(),this._fb.array(i.quantity),this.editForm.patchValue(i),i.quantity.forEach(o=>this.addQuantityEdit(o)),console.log(this.editForm.get("quantityExercise")?.value),this._trainingService.editForm(!0,e).subscribe()}editSubmit(e,i){this._trainingService.editSubmit(i,e.value,this.editForm.get("quantityExercise")?.value).subscribe(),this.editForm.controls.quantityExercise.clear(),this.editForm.reset()}back(e){this._router.navigate([`/user/${e}`])}addWeeksToConception(e,i){if(e.trainingWeeks){const r=e.trainingWeeks.reverse(),o=r[r.length-1],c=Array.from({length:i},(m,_)=>o+_+1),u=[...r,...c];this._userService.setTraining(e,u)}else{const r=Array.from({length:i},(o,c)=>c+1);this._userService.setTraining(e,r)}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xv),s.Y36(ow),s.Y36(Js),s.Y36(Ji),s.Y36(Ue),s.Y36(Bf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-edit-plan"]],decls:2,vars:3,consts:[["class","container mt-5",4,"ngIf"],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-7"],[1,"text-center","text-ghostwhite","ms-md-5","ps-md-5"],[1,"col-md-2","text-end"],["type","button",1,"btn","btn-block","bg-cadetblue","text-ghostwhite",3,"click"],[3,"formGroup"],[1,"col-md-9"],["placeholder","\u0106wiczenie","id","exerciseName","formControlName","exercise","rows","2",1,"form-control"],["placeholder","Komentarz","id","comment","rows","4","formControlName","comment",1,"form-control","mt-3"],[1,"col-7"],["formArrayName","quantityExercise"],[4,"ngFor","ngForOf"],[1,"col","col-md-2","d-flex","align-items-start"],[1,"row","mt-3","justify-content-center"],[1,"col","d-inline-flex","justify-content-center"],[1,"row","mt-5"],[1,"col","d-inline-flex","justify-content-end"],[1,"mt-2"],["hideToggle","",1,"m-0"],[1,"justify-content-center"],[1,"col"],["class","container hover",4,"ngFor","ngForOf"],[1,"row","mt-3","justify-content-center",3,"formGroupName"],[1,"col-md-3"],["type","text","id","sets","placeholder","Serie","formControlName","set",1,"form-control"],["type","text","id","repetitions","placeholder","Powt\xf3rzenia","formControlName","rep",1,"form-control"],["type","text","id","value","placeholder","Obci\u0105\u017cenie","formControlName","value",1,"form-control"],[1,"container","hover"],[4,"ngIf"],[1,"px-3"],[4,"ngIf","ngIfElse"],["isEditForm",""],[1,"row"],[1,"col-1"],[1,"col-5","text-start"],[1,"my-2"],[1,"col","text-start"],["class","mb-3 row justify-content-start",4,"ngFor","ngForOf"],[1,"mb-3","row","justify-content-start"],[1,"row","mb-1"],[1,"col-4"],[1,"col-3"],[1,"col-2","justify-content-center"],[1,"col","justify-content-center"],[1,"row","mb-3",3,"formGroupName"],[1,"col","d-flex","align-items-center"],["size","1","type","text","id","sets","formControlName","set",1,"form-control"],["type","text","id","rep","formControlName","rep",1,"form-control"],["type","text","id","load","formControlName","value",1,"form-control"],[1,"col-2"]],template:function(e,i){1&e&&(s.YNc(0,OX,41,6,"div",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.user$))},dependencies:[Xd,Oa,Zs,Rh,Fa,Ac,Am,Mm,ao,vi,PP,zI,$I,OP,nP,qi],encapsulation:2,changeDetection:0}),n})(),NX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-edit-plan-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-edit-plan")},dependencies:[PX],encapsulation:2,changeDetection:0}),n})(),FX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ba,id,aw,Mn,vp,NP,sw,hw,qz]}),n})(),LX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[VP,FX]}),n})();function BX(n,t){if(1&n&&(s.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"span")(4,"b"),s._uU(5,"Serie: "),s.qZA()()(),s.TgZ(6,"div",14),s._uU(7),s.qZA()(),s.TgZ(8,"div",12)(9,"div",13)(10,"span")(11,"b"),s._uU(12,"Powt\xf3rzenia: "),s.qZA()()(),s.TgZ(13,"div",14),s._uU(14),s.qZA()(),s.TgZ(15,"div",12)(16,"div",13)(17,"span")(18,"b"),s._uU(19,"Ci\u0119zar: "),s.qZA()()(),s.TgZ(20,"div",14),s._uU(21),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(7),s.Oqu(e.set),s.xp6(7),s.hij(" ",e.rep," "),s.xp6(7),s.Oqu(e.value)}}function VX(n,t){if(1&n&&(s.TgZ(0,"div",3),s.ynx(1),s.TgZ(2,"div",4)(3,"div",5),s._uU(4),s.qZA(),s.TgZ(5,"div",6)(6,"div",4)(7,"span",7)(8,"b"),s._uU(9,"Exercise"),s.qZA()(),s._uU(10),s.qZA(),s.TgZ(11,"div",4)(12,"span",7)(13,"b"),s._uU(14,"Comment"),s.qZA()(),s._uU(15),s.qZA()(),s.TgZ(16,"div",8),s.YNc(17,BX,22,3,"div",9),s.qZA()(),s.BQk(),s.TgZ(18,"span",10),s._UZ(19,"mat-divider"),s.qZA()()),2&n){const e=t.$implicit;s.xp6(4),s.Oqu(e.index),s.xp6(6),s.hij(" ",e.exercise," "),s.xp6(5),s.hij(" ",e.comment," "),s.xp6(2),s.Q6J("ngForOf",e.quantity)}}function UX(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"mat-card")(2,"mat-card-title",1),s._uU(3,"Trening "),s.qZA(),s.TgZ(4,"mat-card-content"),s.YNc(5,VX,20,4,"div",2),s.qZA()(),s.BQk()),2&n){const e=t.ngIf;s.xp6(5),s.Q6J("ngForOf",e.trainingElement)}}let jX=(()=>{class n{constructor(e,i,r,o,c){this._activatedRoute=e,this._trainingService=i,this._router=r,this._userService=o,this._authService=c,this.trainingDetails$=this._activatedRoute.params.pipe(Hn(u=>this._trainingService.getOneTraining(u.trainingId))),this._roleSubject=new Xi(""),this.role$=this._roleSubject.asObservable()}ngOnInit(){this._authService.load().pipe(Hn(e=>this._userService.getOneUserByAuth(e.id).pipe((0,ji.b)(i=>this._roleSubject.next(i.role))))).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Js),s.Y36(ow),s.Y36(Ji),s.Y36(Bf),s.Y36(TI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-training-details"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"text-center","my-2"],["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"row"],[1,"col-1"],[1,"col-5","text-start"],[1,"my-2"],[1,"col","text-start"],["class","mb-3 row justify-content-start",4,"ngFor","ngForOf"],[1,"px-3"],[1,"mb-3","row","justify-content-start"],[1,"row","mb-1"],[1,"col-4"],[1,"col"]],template:function(e,i){1&e&&(s.YNc(0,UX,6,1,"ng-container",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.trainingDetails$))},dependencies:[nP,ao,vi,vP,wP,bP,qi],encapsulation:2,changeDetection:0}),n})(),HX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-training-details-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-training-details")},dependencies:[jX],encapsulation:2,changeDetection:0}),n})(),zX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[sw,Mn,cz]}),n})(),$X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[zX]}),n})();function GX(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.exercise," ")}}function WX(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",4)(1,"div",5),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2);return s.KtG(c.editTraining(o))}),s.TgZ(2,"div",6)(3,"div",7)(4,"div",8)(5,"h3",9),s._uU(6),s.qZA()()(),s.TgZ(7,"ol",10),s.YNc(8,GX,2,1,"li",0),s.qZA()()()()}if(2&n){const e=t.$implicit,i=t.index;s.xp6(6),s.hij("Trening ",i+1,""),s.xp6(2),s.Q6J("ngForOf",e.trainingElement)}}function qX(n,t){if(1&n&&(s.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),s._uU(3),s.qZA(),s._UZ(4,"mat-panel-description"),s.qZA(),s.TgZ(5,"div",1)(6,"div",2),s.YNc(7,WX,9,2,"div",3),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(3),s.hij(" Tydzie\u0144 ",e.week," "),s.xp6(4),s.Q6J("ngForOf",e.training)}}let ZX=(()=>{class n{constructor(e,i,r,o){this._trainingService=e,this._router=i,this._activatedRoute=r,this._userService=o,this.trainingPlansQuery$=Nm([this._trainingService.getAllPlans(),this._activatedRoute.params]).pipe((0,ze.U)(([c,u])=>({training:c.filter(_=>_.userId&&_.userId.includes(u.userId)),authId:u.userId})),Hn(c=>this._userService.getOneUserByAuth(c.authId).pipe((0,ze.U)(u=>u.trainingWeeks.map(m=>{const _=c.training.filter(b=>m==b.trainingWeek);return console.log(_),new dz(m,_,u.role)})))))}ngAfterContentInit(){}editTraining(e){this._trainingService.addTrainingElementsToContext(e.trainingElement).pipe(Hn(()=>this._activatedRoute.params.pipe((0,ji.b)(i=>{this._router.navigate([`edit-plan/${i.userId}/${e.id}`])})))).subscribe(()=>{})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ow),s.Y36(Ji),s.Y36(Js),s.Y36(Bf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-training-plans-for-trainer"]],decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],[1,"container","mt-5"],[1,"row","d-flex","justify-content-center"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","pointer",3,"click"],[1,"card-body"],[1,"row","align-items-center"],[1,"col"],[1,"mb-0"],[1,"mt-2"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-accordion"),s.YNc(1,qX,8,2,"mat-expansion-panel",0),s.ALo(2,"async"),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,i.trainingPlansQuery$)))},dependencies:[ao,PP,zI,$I,Lz,OP,qi],encapsulation:2,changeDetection:0}),n})(),YX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-training-plans-for-trainier-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-training-plans-for-trainer")},dependencies:[ZX],encapsulation:2,changeDetection:0}),n})(),KX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,id,hw,Ba,V_,LP,NP,Bl]}),n})(),QX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[KX]}),n})(),XX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bl.forRoot([{path:"create-plan",component:RH},{path:"register",component:aY},{path:"login",component:uY},{path:"users-list",component:XY},{path:"user/:userId",component:yK},{path:"create-plan/:userId",component:RH},{path:"training-plans",component:CQ},{path:"training-plans/:userId",component:YX},{path:"edit-plan/:userId/:trainingId",component:NX},{path:"training/:trainingId",component:HX}]),pX,_X,vX,bX,xX,DX,LX,$X,QX,Bl]}),n})();function Yz(n){return new s.vHH(3e3,!1)}function OJ(){return typeof window<"u"&&typeof window.document<"u"}function jP(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Vf(n){switch(n.length){case 0:return new jt;case 1:return n[0];default:return new pi(n)}}function Kz(n,t,e,i,r=new Map,o=new Map){const c=[],u=[];let m=-1,_=null;if(i.forEach(b=>{const T=b.get("offset"),R=T==m,B=R&&_||new Map;b.forEach((z,K)=>{let se=K,Re=z;if("offset"!==K)switch(se=t.normalizePropertyName(se,c),Re){case Si:Re=r.get(K);break;case g:Re=o.get(K);break;default:Re=t.normalizeStyleValue(K,se,Re,c)}B.set(se,Re)}),R||u.push(B),_=B,m=T}),c.length)throw function wJ(n){return new s.vHH(3502,!1)}();return u}function HP(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&zP(e,"start",n)));break;case"done":n.onDone(()=>i(e&&zP(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&zP(e,"destroy",n)))}}function zP(n,t,e){const o=$P(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(o._data=c),o}function $P(n,t,e,i,r="",o=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function aa(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function Qz(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let GP=(n,t)=>!1,Xz=(n,t,e)=>[],Jz=null;function WP(n){const t=n.parentNode||n.host;return t===Jz?null:t}(jP()||typeof Element<"u")&&(OJ()?(Jz=(()=>document.documentElement)(),GP=(n,t)=>{for(;t;){if(t===n)return!0;t=WP(t)}return!1}):GP=(n,t)=>n.contains(t),Xz=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Qp=null,e4=!1;const t4=GP,n4=Xz;let r4=(()=>{class n{validateStyleProperty(e){return function NJ(n){Qp||(Qp=function FJ(){return typeof document<"u"?document.body:null}()||{},e4=!!Qp.style&&"WebkitAppearance"in Qp.style);let t=!0;return Qp.style&&!function PJ(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Qp.style,!t&&e4&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Qp.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return t4(e,i)}getParentElement(e){return WP(e)}query(e,i,r){return n4(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,c,u=[],m){return new jt(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),qP=(()=>{class n{}return n.NOOP=new r4,n})();const LJ=1e3,ZP="ng-enter",qI="ng-leave",ZI="ng-trigger",YI=".ng-trigger",s4="ng-animating",YP=".ng-animating";function Mu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:KP(parseFloat(t[1]),t[2])}function KP(n,t){return"s"===t?n*LJ:n}function KI(n,t,e){return n.hasOwnProperty("duration")?n:function VJ(n,t,e){let r,o=0,c="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(Yz()),{duration:0,delay:0,easing:""};r=KP(parseFloat(u[1]),u[2]);const m=u[3];null!=m&&(o=KP(parseFloat(m),u[4]));const _=u[5];_&&(c=_)}else r=n;if(!e){let u=!1,m=t.length;r<0&&(t.push(function JX(){return new s.vHH(3100,!1)}()),u=!0),o<0&&(t.push(function eJ(){return new s.vHH(3101,!1)}()),u=!0),u&&t.splice(m,0,Yz())}return{duration:r,delay:o,easing:c}}(n,t,e)}function mw(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function a4(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Uf(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function c4(n,t,e){return e?t+":"+e+";":""}function d4(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=c4(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=c4(0,zJ(e),n.style[e]));n.setAttribute("style",t)}function rd(n,t,e){n.style&&(t.forEach((i,r)=>{const o=XP(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),jP()&&d4(n))}function Xp(n,t){n.style&&(t.forEach((e,i)=>{const r=XP(i);n.style[r]=""}),jP()&&d4(n))}function pw(n){return Array.isArray(n)?1==n.length?n[0]:S(n):n}const QP=new RegExp("{{\\s*(.+?)\\s*}}","g");function u4(n){let t=[];if("string"==typeof n){let e;for(;e=QP.exec(n);)t.push(e[1]);QP.lastIndex=0}return t}function gw(n,t,e){const i=n.toString(),r=i.replace(QP,(o,c)=>{let u=t[c];return null==u&&(e.push(function nJ(n){return new s.vHH(3003,!1)}()),u=""),u.toString()});return r==i?n:r}function QI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const HJ=/-+([a-z0-9])/g;function XP(n){return n.replace(HJ,(...t)=>t[1].toUpperCase())}function zJ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function la(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function iJ(n){return new s.vHH(3004,!1)}()}}function h4(n,t){return window.getComputedStyle(n)[t]}const eT="*";function YJ(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function KJ(n,t,e){if(":"==n[0]){const m=function QJ(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function _J(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function gJ(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],c=i[3];t.push(f4(r,c));"<"==o[0]&&!(r==eT&&c==eT)&&t.push(f4(c,r))}(i,e,t)):e.push(n),e}const tT=new Set(["true","1"]),nT=new Set(["false","0"]);function f4(n,t){const e=tT.has(n)||nT.has(n),i=tT.has(t)||nT.has(t);return(r,o)=>{let c=n==eT||n==r,u=t==eT||t==o;return!c&&e&&"boolean"==typeof r&&(c=r?tT.has(n):nT.has(n)),!u&&i&&"boolean"==typeof o&&(u=o?tT.has(t):nT.has(t)),c&&u}}const XJ=new RegExp("s*:selfs*,?","g");function JP(n,t,e,i){return new JJ(n).build(t,e,i)}class JJ{constructor(t){this._driver=t}build(t,e,i){const r=new nee(e);return this._resetContextStyleTimingState(r),la(this,pw(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function oJ(){return new s.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const m=u,_=m.name;_.toString().split(/\s*,\s*/).forEach(b=>{m.name=b,o.push(this.visitState(m,e))}),m.name=_}else if(1==u.type){const m=this.visitTransition(u,e);i+=m.queryCount,r+=m.depCount,c.push(m)}else e.errors.push(function sJ(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(m=>{u4(m).forEach(_=>{c.hasOwnProperty(_)||o.add(_)})})}),o.size&&(QI(o.values()),e.errors.push(function aJ(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=la(this,pw(t.animation),e);return{type:1,matchers:YJ(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Jp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>la(this,i,e)),options:Jp(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(c=>{e.currentTime=i;const u=la(this,c,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:o,options:Jp(t.options)}}visitAnimate(t,e){const i=function ree(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return eN(KI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=eN(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=KI(e,t);return eN(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:O({});if(5==o.type)r=this.visitKeyframes(o,e);else{let c=t.styles,u=!1;if(!c){u=!0;const _={};i.easing&&(_.easing=i.easing),c=O(_)}e.currentTime+=i.duration+i.delay;const m=this.visitStyle(c,e);m.isEmptyStep=u,r=m}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===g?i.push(u):e.errors.push(new s.vHH(3002,!1)):i.push(a4(u));let o=!1,c=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(c=u.get("easing"),u.delete("easing")),!o))for(let m of u.values())if(m.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((u,m)=>{const _=e.collectedStyles.get(e.currentQuerySelector),b=_.get(m);let T=!0;b&&(o!=r&&o>=b.startTime&&r<=b.endTime&&(e.errors.push(function cJ(n,t,e,i,r){return new s.vHH(3010,!1)}()),T=!1),o=b.startTime),T&&_.set(m,{startTime:o,endTime:r}),e.options&&function jJ(n,t,e){const i=t.params||{},r=u4(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function tJ(n){return new s.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function dJ(){return new s.vHH(3011,!1)}()),i;let o=0;const c=[];let u=!1,m=!1,_=0;const b=t.steps.map(Re=>{const Qe=this._makeStyleAst(Re,e);let et=null!=Qe.offset?Qe.offset:function iee(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Qe.styles),ut=0;return null!=et&&(o++,ut=Qe.offset=et),m=m||ut<0||ut>1,u=u||ut<_,_=ut,c.push(ut),Qe});m&&e.errors.push(function uJ(){return new s.vHH(3012,!1)}()),u&&e.errors.push(function hJ(){return new s.vHH(3200,!1)}());const T=t.steps.length;let R=0;o>0&&o<T?e.errors.push(function fJ(){return new s.vHH(3202,!1)}()):0==o&&(R=1/(T-1));const B=T-1,z=e.currentTime,K=e.currentAnimateTimings,se=K.duration;return b.forEach((Re,Qe)=>{const et=R>0?Qe==B?1:R*Qe:c[Qe],ut=et*se;e.currentTime=z+K.delay+ut,K.duration=ut,this._validateStyleAst(Re,e),Re.offset=et,i.styles.push(Re)}),i}visitReference(t,e){return{type:8,animation:la(this,pw(t.animation),e),options:Jp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Jp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Jp(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,c]=function eee(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(XJ,"")),n=n.replace(/@\*/g,YI).replace(/@\w+/g,e=>YI+"-"+e.slice(1)).replace(/:animating/g,YP),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,aa(e.collectedStyles,e.currentQuerySelector,new Map);const u=la(this,pw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:u,originalSelector:t.selector,options:Jp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function mJ(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:KI(t.timings,e.errors,!0);return{type:12,animation:la(this,pw(t.animation),e),timings:i,options:null}}}class nee{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jp(n){return n?(n=mw(n)).params&&(n.params=function tee(n){return n?mw(n):null}(n.params)):n={},n}function eN(n,t,e){return{duration:n,delay:t,easing:e}}function tN(n,t,e,i,r,o,c=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:u}}class iT{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const aee=new RegExp(":enter","g"),cee=new RegExp(":leave","g");function nN(n,t,e,i,r,o=new Map,c=new Map,u,m,_=[]){return(new dee).buildKeyframes(n,t,e,i,r,o,c,u,m,_)}class dee{buildKeyframes(t,e,i,r,o,c,u,m,_,b=[]){_=_||new iT;const T=new iN(t,e,_,r,o,b,[]);T.options=m;const R=m.delay?Mu(m.delay):0;T.currentTimeline.delayNextStep(R),T.currentTimeline.setStyles([c],null,T.errors,m),la(this,i,T);const B=T.timelines.filter(z=>z.containsAnimation());if(B.length&&u.size){let z;for(let K=B.length-1;K>=0;K--){const se=B[K];if(se.element===e){z=se;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([u],null,T.errors,m)}return B.length?B.map(z=>z.buildKeyframes()):[tN(e,[],[],[],0,R,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const c="number"==typeof o?o:Mu(gw(o,r?.params??{},e.errors));i.delayNextStep(c)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const c=null!=i.duration?Mu(i.duration):null,u=null!=i.delay?Mu(i.delay):null;return 0!==c&&t.forEach(m=>{const _=e.appendInstructionToTimeline(m,c,u);o=Math.max(o,_.duration+_.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),la(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=rT);const c=Mu(o.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>la(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Mu(t.options.delay):0;t.steps.forEach(c=>{const u=e.createSubContext(t.options);o&&u.delayNextStep(o),la(this,c,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return KI(e.params?gw(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,t.styles.forEach(m=>{u.forwardTime((m.offset||0)*o),u.setStyles(m.styles,m.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Mu(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=rT);let c=i;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let m=null;u.forEach((_,b)=>{e.currentQueryIndex=b;const T=e.createSubContext(t.options,_);o&&T.delayNextStep(o),_===e.element&&(m=T.currentTimeline),la(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,c=Math.abs(o.duration),u=c*(e.currentQueryTotal-1);let m=c*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=u-m;break;case"full":m=i.currentStaggerTime}const b=e.currentTimeline;m&&b.delayNextStep(m);const T=b.currentTime;la(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const rT={};class iN{constructor(t,e,i,r,o,c,u,m){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new oT(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Mu(i.duration)),null!=i.delay&&(r.delay=Mu(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(u=>{(!e||!c.hasOwnProperty(u))&&(c[u]=gw(o[u],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new iN(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=rT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new uee(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,c){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(aee,"."+this._enterClassName)).replace(cee,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),u.push(..._)}return!o&&0==u.length&&c.push(function pJ(n){return new s.vHH(3014,!1)}()),u}}class oT{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new oT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||g),this._currentKeyframe.set(e,g);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},c=function hee(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,g)}else Uf(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,m]of c){const _=gw(m,o,i);this._pendingStyles.set(u,_),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??g),this._updateStyle(u,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,m)=>{const _=Uf(u,new Map,this._backFill);_.forEach((b,T)=>{b===Si?t.add(T):b===g&&e.add(T)}),i||_.set("offset",m/this.duration),r.push(_)});const o=t.size?QI(t.values()):[],c=e.size?QI(e.values()):[];if(i){const u=r[0],m=new Map(u);u.set("offset",0),m.set("offset",1),r=[u,m]}return tN(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class uee extends oT{constructor(t,e,i,r,o,c,u=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=u,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],c=i+e,u=e/c,m=Uf(t[0]);m.set("offset",0),o.push(m);const _=Uf(t[0]);_.set("offset",g4(u)),o.push(_);const b=t.length-1;for(let T=1;T<=b;T++){let R=Uf(t[T]);const B=R.get("offset");R.set("offset",g4((e+B*i)/c)),o.push(R)}i=c,e=0,r="",t=o}return tN(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function g4(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class rN{}const fee=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class mee extends rN{normalizePropertyName(t,e){return XP(t)}normalizeStyleValue(t,e,i,r){let o="";const c=i.toString().trim();if(fee.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function rJ(n,t){return new s.vHH(3005,!1)}())}return c+o}}function _4(n,t,e,i,r,o,c,u,m,_,b,T,R){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:c,timelines:u,queriedElements:m,preStyleProps:_,postStyleProps:b,totalTime:T,errors:R}}const oN={};class y4{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function pee(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,c,u,m,_,b){const T=[],R=this.ast.options&&this.ast.options.params||oN,z=this.buildStyles(i,u&&u.params||oN,T),K=m&&m.params||oN,se=this.buildStyles(r,K,T),Re=new Set,Qe=new Map,et=new Map,ut="void"===r,Ht={params:gee(K,R),delay:this.ast.options?.delay},rn=b?[]:nN(t,e,this.ast.animation,o,c,z,se,Ht,_,T);let Nn=0;if(rn.forEach(el=>{Nn=Math.max(el.duration+el.delay,Nn)}),T.length)return _4(e,this._triggerName,i,r,ut,z,se,[],[],Qe,et,Nn,T);rn.forEach(el=>{const Ou=el.element,O$=aa(Qe,Ou,new Set);el.preStyleProps.forEach(dg=>O$.add(dg));const $w=aa(et,Ou,new Set);el.postStyleProps.forEach(dg=>$w.add(dg)),Ou!==e&&Re.add(Ou)});const xo=QI(Re.values());return _4(e,this._triggerName,i,r,ut,z,se,rn,xo,Qe,et,Nn)}}function gee(n,t){const e=mw(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class _ee{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=mw(this.defaultParams);return Object.keys(t).forEach(o=>{const c=t[o];null!==c&&(r[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,u)=>{c&&(c=gw(c,r,e));const m=this.normalizer.normalizePropertyName(u,e);c=this.normalizer.normalizeStyleValue(u,m,c,e),i.set(u,c)})}),i}}class vee{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new _ee(r.style,r.options&&r.options.params||{},i))}),v4(this.states,"true","1"),v4(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new y4(t,r,this.states))}),this.fallbackTransition=function bee(n,t,e){return new y4(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function v4(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const wee=new iT;class xee{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=[],o=JP(this._driver,e,i,r);if(i.length)throw function xJ(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=Kz(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let c;const u=new Map;if(o?(c=nN(this._driver,e,o,ZP,qI,new Map,new Map,i,wee,r),c.forEach(b=>{const T=aa(u,b.element,new Map);b.postStyleProps.forEach(R=>T.set(R,null))})):(r.push(function CJ(){return new s.vHH(3300,!1)}()),c=[]),r.length)throw function EJ(n){return new s.vHH(3504,!1)}();u.forEach((b,T)=>{b.forEach((R,B)=>{b.set(B,this._driver.computeStyle(T,B,g))})});const _=Vf(c.map(b=>{const T=u.get(b.element);return this._buildPlayer(b,new Map,T)}));return this._playersById.set(t,_),_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function DJ(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=$P(e,"","","");return HP(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const b4="ng-animate-queued",sN="ng-animate-disabled",Tee=[],w4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},See={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ka="__ng_removed";class aN{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Ree(n){return n??null}(i?t.value:t),i){const o=mw(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const _w="void",lN=new aN(_w);class Aee{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Qa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function IJ(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function TJ(n){return new s.vHH(3303,!1)}();if(!function Oee(n){return"start"==n||"done"==n}(i))throw function SJ(n,t){return new s.vHH(3400,!1)}();const o=aa(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};o.push(c);const u=aa(this._engine.statesByElement,t,new Map);return u.has(e)||(Qa(t,ZI),Qa(t,ZI+"-"+e),u.set(e,lN)),()=>{this._engine.afterFlush(()=>{const m=o.indexOf(c);m>=0&&o.splice(m,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function AJ(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),c=new cN(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(Qa(t,ZI),Qa(t,ZI+"-"+e),this._engine.statesByElement.set(t,u=new Map));let m=u.get(e);const _=new aN(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&_.absorbOptions(m.options),u.set(e,_),m||(m=lN),_.value!==_w&&m.value===_.value){if(!function Fee(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(m.params,_.params)){const K=[],se=o.matchStyles(m.value,m.params,K),Re=o.matchStyles(_.value,_.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{Xp(t,se),rd(t,Re)})}return}const R=aa(this._engine.playersByElement,t,[]);R.forEach(K=>{K.namespaceId==this.id&&K.triggerName==e&&K.queued&&K.destroy()});let B=o.matchTransition(m.value,_.value,t,_.params),z=!1;if(!B){if(!r)return;B=o.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:m,toState:_,player:c,isFallbackTransition:z}),z||(Qa(t,b4),c.onStart(()=>{Ry(t,b4)})),c.onDone(()=>{let K=this.players.indexOf(c);K>=0&&this.players.splice(K,1);const se=this._engine.playersByElement.get(t);if(se){let Re=se.indexOf(c);Re>=0&&se.splice(Re,1)}}),this.players.push(c),R.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,YI,!0);i.forEach(r=>{if(r[Ka])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),c=new Map;if(o){const u=[];if(o.forEach((m,_)=>{if(c.set(_,m.value),this._triggers.has(_)){const b=this.trigger(t,_,_w,r);b&&u.push(b)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&Vf(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const m=this._triggers.get(c).fallbackTransition,_=i.get(c)||lN,b=new aN(_w),T=new cN(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:m,fromState:_,toState:b,player:T,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ka];(!o||o===w4)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Qa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(u=>{if(u.name==i.triggerName){const m=$P(o,i.triggerName,i.fromState.value,i.toState.value);m._data=t,HP(i.player,u.phase,m,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Mee{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Aee(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,u=this.driver.getParentElement(e);for(;u;){const m=r.get(u);if(m){const _=i.indexOf(m);i.splice(_+1,0,t),c=!0;break}u=this.driver.getParentElement(u)}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(sT(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!sT(e))return;const o=e[Ka];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Qa(t,sN)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ry(t,sN))}removeNode(t,e,i,r){if(sT(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Ka]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return sT(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,YI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,YP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Vf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ka];if(e&&e.setForRemoval){if(t[Ka]=w4,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(sN)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Qa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Vf(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function MJ(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new iT,r=[],o=new Map,c=[],u=new Map,m=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(Ct=>{b.add(Ct);const Ft=this.driver.query(Ct,".ng-animate-queued",!0);for(let Gt=0;Gt<Ft.length;Gt++)b.add(Ft[Gt])});const T=this.bodyNode,R=Array.from(this.statesByElement.keys()),B=E4(R,this.collectedEnterElements),z=new Map;let K=0;B.forEach((Ct,Ft)=>{const Gt=ZP+K++;z.set(Ft,Gt),Ct.forEach(kn=>Qa(kn,Gt))});const se=[],Re=new Set,Qe=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const Ft=this.collectedLeaveElements[Ct],Gt=Ft[Ka];Gt&&Gt.setForRemoval&&(se.push(Ft),Re.add(Ft),Gt.hasAnimation?this.driver.query(Ft,".ng-star-inserted",!0).forEach(kn=>Re.add(kn)):Qe.add(Ft))}const et=new Map,ut=E4(R,Array.from(Re));ut.forEach((Ct,Ft)=>{const Gt=qI+K++;et.set(Ft,Gt),Ct.forEach(kn=>Qa(kn,Gt))}),t.push(()=>{B.forEach((Ct,Ft)=>{const Gt=z.get(Ft);Ct.forEach(kn=>Ry(kn,Gt))}),ut.forEach((Ct,Ft)=>{const Gt=et.get(Ft);Ct.forEach(kn=>Ry(kn,Gt))}),se.forEach(Ct=>{this.processLeaveNode(Ct)})});const Ht=[],rn=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(e).forEach(Gt=>{const kn=Gt.player,so=Gt.element;if(Ht.push(kn),this.collectedEnterElements.length){const Fo=so[Ka];if(Fo&&Fo.setForMove){if(Fo.previousTriggersValues&&Fo.previousTriggersValues.has(Gt.triggerName)){const ug=Fo.previousTriggersValues.get(Gt.triggerName),tl=this.statesByElement.get(Gt.element);if(tl&&tl.has(Gt.triggerName)){const zT=tl.get(Gt.triggerName);zT.value=ug,tl.set(Gt.triggerName,zT)}}return void kn.destroy()}}const cd=!T||!this.driver.containsElement(T,so),ua=et.get(so),Qf=z.get(so),tr=this._buildInstruction(Gt,i,Qf,ua,cd);if(tr.errors&&tr.errors.length)return void rn.push(tr);if(cd)return kn.onStart(()=>Xp(so,tr.fromStyles)),kn.onDestroy(()=>rd(so,tr.toStyles)),void r.push(kn);if(Gt.isFallbackTransition)return kn.onStart(()=>Xp(so,tr.fromStyles)),kn.onDestroy(()=>rd(so,tr.toStyles)),void r.push(kn);const F$=[];tr.timelines.forEach(Fo=>{Fo.stretchStartingKeyframe=!0,this.disabledNodes.has(Fo.element)||F$.push(Fo)}),tr.timelines=F$,i.append(so,tr.timelines),c.push({instruction:tr,player:kn,element:so}),tr.queriedElements.forEach(Fo=>aa(u,Fo,[]).push(kn)),tr.preStyleProps.forEach((Fo,ug)=>{if(Fo.size){let tl=m.get(ug);tl||m.set(ug,tl=new Set),Fo.forEach((zT,SF)=>tl.add(SF))}}),tr.postStyleProps.forEach((Fo,ug)=>{let tl=_.get(ug);tl||_.set(ug,tl=new Set),Fo.forEach((zT,SF)=>tl.add(SF))})});if(rn.length){const Ct=[];rn.forEach(Ft=>{Ct.push(function kJ(n,t){return new s.vHH(3505,!1)}())}),Ht.forEach(Ft=>Ft.destroy()),this.reportError(Ct)}const Nn=new Map,xo=new Map;c.forEach(Ct=>{const Ft=Ct.element;i.has(Ft)&&(xo.set(Ft,Ft),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,Nn))}),r.forEach(Ct=>{const Ft=Ct.element;this._getPreviousPlayers(Ft,!1,Ct.namespaceId,Ct.triggerName,null).forEach(kn=>{aa(Nn,Ft,[]).push(kn),kn.destroy()})});const el=se.filter(Ct=>I4(Ct,m,_)),Ou=new Map;C4(Ou,this.driver,Qe,_,g).forEach(Ct=>{I4(Ct,m,_)&&el.push(Ct)});const $w=new Map;B.forEach((Ct,Ft)=>{C4($w,this.driver,new Set(Ct),m,Si)}),el.forEach(Ct=>{const Ft=Ou.get(Ct),Gt=$w.get(Ct);Ou.set(Ct,new Map([...Array.from(Ft?.entries()??[]),...Array.from(Gt?.entries()??[])]))});const dg=[],P$=[],N$={};c.forEach(Ct=>{const{element:Ft,player:Gt,instruction:kn}=Ct;if(i.has(Ft)){if(b.has(Ft))return Gt.onDestroy(()=>rd(Ft,kn.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(kn.totalTime),void r.push(Gt);let so=N$;if(xo.size>1){let ua=Ft;const Qf=[];for(;ua=ua.parentNode;){const tr=xo.get(ua);if(tr){so=tr;break}Qf.push(ua)}Qf.forEach(tr=>xo.set(tr,so))}const cd=this._buildAnimation(Gt.namespaceId,kn,Nn,o,$w,Ou);if(Gt.setRealPlayer(cd),so===N$)dg.push(Gt);else{const ua=this.playersByElement.get(so);ua&&ua.length&&(Gt.parentPlayer=Vf(ua)),r.push(Gt)}}else Xp(Ft,kn.fromStyles),Gt.onDestroy(()=>rd(Ft,kn.toStyles)),P$.push(Gt),b.has(Ft)&&r.push(Gt)}),P$.forEach(Ct=>{const Ft=o.get(Ct.element);if(Ft&&Ft.length){const Gt=Vf(Ft);Ct.setRealPlayer(Gt)}}),r.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<se.length;Ct++){const Ft=se[Ct],Gt=Ft[Ka];if(Ry(Ft,qI),Gt&&Gt.hasAnimation)continue;let kn=[];if(u.size){let cd=u.get(Ft);cd&&cd.length&&kn.push(...cd);let ua=this.driver.query(Ft,YP,!0);for(let Qf=0;Qf<ua.length;Qf++){let tr=u.get(ua[Qf]);tr&&tr.length&&kn.push(...tr)}}const so=kn.filter(cd=>!cd.destroyed);so.length?Pee(this,Ft,so):this.processLeaveNode(Ft)}return se.length=0,dg.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const Ft=this.players.indexOf(Ct);this.players.splice(Ft,1)}),Ct.play()}),dg}elementContainsData(t,e){let i=!1;const r=e[Ka];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let c=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(c=u)}else{const u=this.playersByElement.get(t);if(u){const m=!o||o==_w;u.forEach(_=>{_.queued||!m&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),c}_beforeAnimationBuild(t,e,i){const o=e.element,c=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const _=m.element,b=_!==o,T=aa(i,_,[]);this._getPreviousPlayers(_,b,c,u,e.toState).forEach(B=>{const z=B.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),B.destroy(),T.push(B)})}Xp(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,c){const u=e.triggerName,m=e.element,_=[],b=new Set,T=new Set,R=e.timelines.map(z=>{const K=z.element;b.add(K);const se=K[Ka];if(se&&se.removedBeforeQueried)return new jt(z.duration,z.delay);const Re=K!==m,Qe=function Nee(n){const t=[];return D4(n,t),t}((i.get(K)||Tee).map(Nn=>Nn.getRealPlayer())).filter(Nn=>!!Nn.element&&Nn.element===K),et=o.get(K),ut=c.get(K),Ht=Kz(0,this._normalizer,0,z.keyframes,et,ut),rn=this._buildPlayer(z,Ht,Qe);if(z.subTimeline&&r&&T.add(K),Re){const Nn=new cN(t,u,K);Nn.setRealPlayer(rn),_.push(Nn)}return rn});_.forEach(z=>{aa(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function kee(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,z.element,z))}),b.forEach(z=>Qa(z,s4));const B=Vf(R);return B.onDestroy(()=>{b.forEach(z=>Ry(z,s4)),rd(m,e.toStyles)}),T.forEach(z=>{aa(r,z,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new jt(t.duration,t.delay)}}class cN{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new jt,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>HP(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){aa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function sT(n){return n&&1===n.nodeType}function x4(n,t){const e=n.style.display;return n.style.display=t??"none",e}function C4(n,t,e,i,r){const o=[];e.forEach(m=>o.push(x4(m)));const c=[];i.forEach((m,_)=>{const b=new Map;m.forEach(T=>{const R=t.computeStyle(_,T,r);b.set(T,R),(!R||0==R.length)&&(_[Ka]=See,c.push(_))}),n.set(_,b)});let u=0;return e.forEach(m=>x4(m,o[u++])),c}function E4(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const i=1,r=new Set(t),o=new Map;function c(u){if(!u)return i;let m=o.get(u);if(m)return m;const _=u.parentNode;return m=e.has(_)?_:r.has(_)?i:c(_),o.set(u,m),m}return t.forEach(u=>{const m=c(u);m!==i&&e.get(m).push(u)}),e}function Qa(n,t){n.classList?.add(t)}function Ry(n,t){n.classList?.remove(t)}function Pee(n,t,e){Vf(e).onDone(()=>n.processLeaveNode(t))}function D4(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof pi?D4(i.players,t):t.push(i)}}function I4(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class aT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Mee(t,e,i),this._timelineEngine=new xee(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const c=t+"-"+r;let u=this._triggerCache[c];if(!u){const m=[],_=[],b=JP(this._driver,o,m,_);if(m.length)throw function bJ(n,t){return new s.vHH(3404,!1)}();u=function yee(n,t,e){return new vee(n,t,e)}(r,b,this._normalizer),this._triggerCache[c]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,c]=Qz(i);this._timelineEngine.command(o,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[c,u]=Qz(i);return this._timelineEngine.listen(c,e,u,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Bee=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&rd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rd(this._element,this._initialStyles),this._endStyles&&(rd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xp(this._element,this._endStyles),this._endStyles=null),rd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function dN(n){let t=null;return n.forEach((e,i)=>{(function Vee(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class T4{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:h4(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Uee{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return t4(t,e)}getParentElement(t){return WP(t)}query(t,e,i){return n4(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,c=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(m.easing=o);const _=new Map,b=c.filter(B=>B instanceof T4);(function $J(n,t){return 0===n||0===t})(i,r)&&b.forEach(B=>{B.currentSnapshot.forEach((z,K)=>_.set(K,z))});let T=function UJ(n){return n.length?n[0]instanceof Map?n:n.map(t=>a4(t)):[]}(e).map(B=>Uf(B));T=function GJ(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,c)=>{i.has(c)||r.push(c),i.set(c,o)}),r.length)for(let o=1;o<t.length;o++){let c=t[o];r.forEach(u=>c.set(u,h4(n,u)))}}return t}(t,T,_);const R=function Lee(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=dN(t[0]),t.length>1&&(i=dN(t[t.length-1]))):t instanceof Map&&(e=dN(t)),e||i?new Bee(n,e,i):null}(t,T);return new T4(t,T,m,R)}}let jee=(()=>{class n extends h{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?S(e):e;return S4(this._renderer,null,i,"register",[r]),new Hee(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ne))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Hee extends f{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new zee(this._id,t,e||{},this._renderer)}}class zee{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return S4(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function S4(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const A4="@.disabled";let $ee=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,c)=>{const u=c?.parentNode(o);u&&c.removeChild(u,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(o);return b||(b=new M4("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,b)),b}const c=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const m=b=>{Array.isArray(b)?b.forEach(m):this.engine.registerTrigger(c,u,e,b.name,b)};return i.data.animation.forEach(m),new Gee(this,u,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,u]=o;c(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(aT),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class M4{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==A4?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Gee extends M4{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==A4?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Wee(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function qee(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(t,e,i)}}let Zee=(()=>{class n extends aT{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ne),s.LFG(qP),s.LFG(rN),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const k4=[{provide:h,useClass:jee},{provide:rN,useFactory:function Yee(){return new mee}},{provide:aT,useClass:Zee},{provide:s.FYo,useFactory:function Kee(n,t,e){return new $ee(n,t,e)},deps:[br,aT,s.R0b]}],uN=[{provide:qP,useFactory:()=>new Uee},{provide:s.QbO,useValue:"BrowserAnimations"},...k4],R4=[{provide:qP,useClass:r4},{provide:s.QbO,useValue:"NoopAnimations"},...k4];let Qee=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?R4:uN}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:uN,imports:[Us]}),n})();const hN_firebase={projectId:"trainingonline-d1364",appId:"1:726344567352:web:f90df18691dad74b3274cd",storageBucket:"trainingonline-d1364.appspot.com",apiKey:"AIzaSyCbca-F_ZLetGyP8fsdiKbUu3n-AIb3hbU",authDomain:"trainingonline-d1364.firebaseapp.com",messagingSenderId:"726344567352"};var Xee=U(1389);class fN{constructor(t){return t}}class mN{constructor(){return(0,In.vb)("auth")}}const pN=new s.OlP("angularfire2.auth-instances");function ete(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new fN(i)}}const tte={provide:mN,deps:[[new s.FiY,pN]]},nte={provide:fN,useFactory:function Jee(n,t){const e=(0,In.JM)("auth",n,t);return e&&new fN(e)},deps:[[new s.FiY,pN],qp]};let ite=(()=>{class n{constructor(){(0,Tu.KN)("angularfire",In.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[nte,tte]}),n})();function rte(n,...t){return{ngModule:ite,providers:[{provide:pN,useFactory:ete(n),multi:!0,deps:[s.R0b,s.zs3,In.HU,yI,[new s.FiY,Ty],...t]}]}}const ote=(0,In.u3)(Xee.o,!0),P4="@firebase/database";let gN="";class ate{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,ie.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,ie.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class lte{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,ie.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const F4=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ate(t)}}catch{}return new lte},eg=F4("localStorage"),_N=F4("sessionStorage"),Oy=new qc.Yd("@firebase/database"),L4=function(){let n=1;return function(){return n++}}(),B4=function(n){const t=(0,ie.dS)(n),e=new ie.gQ;e.update(t);const i=e.digest();return ie.US.encodeByteArray(i)},yw=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=yw.apply(null,i):t+="object"==typeof i?(0,ie.Wl)(i):i,t+=" "}return t};let tg=null,V4=!0;const ro=function(...n){if(!0===V4&&(V4=!1,null===tg&&!0===_N.get("logging_enabled")&&function(n,t){(0,ie.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Oy.logLevel=qc.in.VERBOSE,tg=Oy.log.bind(Oy),t&&_N.set("logging_enabled",!0)):"function"==typeof n?tg=n:(tg=null,_N.remove("logging_enabled"))}(!0)),tg){const t=yw.apply(null,n);tg(t)}},vw=function(n){return function(...t){ro(n,...t)}},yN=function(...n){const t="FIREBASE INTERNAL ERROR: "+yw(...n);Oy.error(t)},od=function(...n){const t=`FIREBASE FATAL ERROR: ${yw(...n)}`;throw Oy.error(t),new Error(t)},No=function(...n){const t="FIREBASE WARNING: "+yw(...n);Oy.warn(t)},cT=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},jf="[MIN_NAME]",ku="[MAX_NAME]",ng=function(n,t){if(n===t)return 0;if(n===jf||t===ku)return-1;if(t===jf||n===ku)return 1;{const e=z4(n),i=z4(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},ute=function(n,t){return n===t?0:n<t?-1:1},bw=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,ie.Wl)(t))},vN=function(n){if("object"!=typeof n||null===n)return(0,ie.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,ie.Wl)(t[i]),e+=":",e+=vN(n[t[i]]);return e+="}",e},j4=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function oo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const H4=function(n){(0,ie.hu)(!cT(n),"Invalid JSON number");const i=1023;let r,o,c,u,m;0===n?(o=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=u+i,c=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(m=52;m;m-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(m=11;m;m-=1)_.push(o%2?1:0),o=Math.floor(o/2);_.push(r?1:0),_.reverse();const b=_.join("");let T="";for(m=0;m<64;m+=8){let R=parseInt(b.substr(m,8),2).toString(16);1===R.length&&(R="0"+R),T+=R}return T.toLowerCase()},pte=new RegExp("^-?(0*)\\d{1,10}$"),z4=function(n){if(pte.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Py=function(n){try{n()}catch(t){setTimeout(()=>{throw No("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},yte=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ww=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class vte{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){No(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class bte{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ro("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',No(t)}}let xw=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Z4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Q4="websocket",X4="long_polling";class wN{constructor(t,e,i,r,o=!1,c="",u=!1,m=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=eg.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&eg.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function J4(n,t,e){let i;if((0,ie.hu)("string"==typeof t,"typeof type must == string"),(0,ie.hu)("object"==typeof e,"typeof params must == object"),t===Q4)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==X4)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function wte(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return oo(e,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class xte{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,ie.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,ie.p$)(this.counters_)}}const xN={},CN={};function EN(n){const t=n.toString();return xN[t]||(xN[t]=new xte),xN[t]}class Ete{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Py(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Hf{constructor(t,e,i,r,o,c,u){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vw(t),this.stats_=EN(e),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),J4(e,X4,m))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ete(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ie.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new DN((...o)=>{const[c,u,m,_,b]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=u,this.password=m;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,u)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Z4.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hf.forceAllow_=!0}static forceDisallow(){Hf.forceDisallow_=!0}static isAvailable(){return!((0,ie.Yr)()||!Hf.forceAllow_&&(Hf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,ie.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,ie.h$)(e),r=j4(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,ie.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,ie.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class DN{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ie.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=L4(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=DN.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(u){ro("frame writing exception"),u.stack&&ro(u.stack),ro(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ro("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,ie.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ro("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let uT=null;typeof MozWebSocket<"u"?uT=MozWebSocket:typeof WebSocket<"u"&&(uT=WebSocket);let Ny=(()=>{class n{constructor(e,i,r,o,c,u,m){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vw(this.connId),this.stats_=EN(i),this.connURL=n.connectionURL_(i,u,m,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,c){const u={v:"5"};return!(0,ie.Yr)()&&typeof location<"u"&&location.hostname&&Z4.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),o&&(u.ac=o),c&&(u.p=c),J4(e,Q4,u)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,eg.set("previous_websocket_failure",!0);try{let r;if((0,ie.Yr)()){r={headers:{"User-Agent":`Firebase/5/${gN}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,u=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;u&&(r.proxy={origin:u})}this.mySock=new uT(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==uT&&!n.forceDisallow_}static previouslyFailed(){return eg.isInMemoryStorage||!0===eg.get("previous_websocket_failure")}markConnectionHealthy(){eg.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,ie.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,ie.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,ie.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=j4(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),s6=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Hf,Ny]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Ny&&Ny.isAvailable();let r=i&&!Ny.previouslyFailed();if(e.webSocketOnly&&(i||No("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ny];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class f6{constructor(t,e,i,r,o,c,u,m,_,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=u,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vw("c:"+this.id+":"),this.transportManager_=new s6(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=ww(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=bw("t",t),i=bw("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=bw("t",t),i=bw("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=bw("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?yN("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yN("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&No("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),ww(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ww(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(eg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class m6{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class p6{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,ie.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,ie.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class hT extends p6{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ie.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new hT}getInitialEvent(t){return(0,ie.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const g6=32,_6=768;class $n{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Pn(){return new $n("")}function gn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function zf(n){return n.pieces_.length-n.pieceNum_}function gi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new $n(n.pieces_,t)}function TN(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Cw(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function y6(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new $n(t,0)}function $i(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof $n)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new $n(e,0)}function _n(n){return n.pieceNum_>=n.pieces_.length}function is(n,t){const e=gn(n),i=gn(t);if(null===e)return t;if(e===i)return is(gi(n),gi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function SN(n,t){if(zf(n)!==zf(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Xa(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(zf(n)>zf(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class qte{constructor(t,e){this.errorPrefix_=e,this.parts_=Cw(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ie.ug)(this.parts_[i]);v6(this)}}function v6(n){if(n.byteLength_>_6)throw new Error(n.errorPrefix_+"has a key path longer than "+_6+" bytes ("+n.byteLength_+").");if(n.parts_.length>g6)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+g6+") or object contains a cycle "+ig(n))}function ig(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class AN extends p6{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new AN}getInitialEvent(t){return(0,ie.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Ew=1e3;let mT,rg=(()=>{class n extends m6{constructor(e,i,r,o,c,u,m,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=u,this.appCheckTokenProvider_=m,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=vw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ew,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,ie.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");AN.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&hT.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_((0,ie.Wl)(c)),(0,ie.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new ie.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const m=u.d;"ok"===u.s?i.resolve(m):i.reject(m)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const c=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+c),this.listens.has(u)||this.listens.set(u,new Map),(0,ie.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ie.hu)(!this.listens.get(u).has(c),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(u).set(c,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,m=>{const _=m.d,b=m.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",m),"ok"!==b&&this.removeListen_(r,o),e.onComplete&&e.onComplete(b,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,ie.r3)(e,"w")){const r=(0,ie.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();No(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,ie.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,ie.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,u=o.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,ie.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,c){this.initConnection_();const u={p:i,d:r};void 0!==c&&(u.h=c),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,ie.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):yN("Unrecognized action received from server: "+(0,ie.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,ie.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ew,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ew,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ew),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,De.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,u=e.lastSessionId;let m=!1,_=null;const b=function(){_?_.close():(m=!0,o())};e.realtime_={close:b,sendRequest:function(B){(0,ie.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(B)}};const R=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[B,z]=yield Promise.all([e.authTokenProvider_.getToken(R),e.appCheckTokenProvider_.getToken(R)]);m?ro("getToken() completed but was canceled"):(ro("getToken() completed. Creating connection."),e.authToken_=B&&B.accessToken,e.appCheckToken_=z&&z.token,_=new f6(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,K=>{No(K+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},u))}catch(B){e.log_("Failed to get token: "+B),m||(e.repoInfo_.nodeAdmin&&No(B),b())}}})()}interrupt(e){ro("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ro("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,ie.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ew,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>vN(c)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new $n(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){ro("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ro("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,ie.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+gN.replace(/\./g,"-")]=1,(0,ie.uI)()?e["framework.cordova"]=1:(0,ie.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=hT.getInstance().currentlyOnline();return(0,ie.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class vn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new vn(t,e)}}class fT{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new vn(jf,t),r=new vn(jf,e);return 0!==this.compare(i,r)}minPost(){return vn.MIN}}class x6 extends fT{static get __EMPTY_NODE(){return mT}static set __EMPTY_NODE(t){mT=t}compare(t,e){return ng(t.name,e.name)}isDefinedOn(t){throw(0,ie.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return vn.MIN}maxPost(){return new vn(ku,mT)}makePost(t,e){return(0,ie.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new vn(t,mT)}toString(){return".key"}}const sd=new x6;class pT{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let kN,ql=(()=>{class n{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??Ts.EMPTY_NODE,this.right=c??Ts.EMPTY_NODE}copy(e,i,r,o,c){return new n(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===c?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ts.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Ts.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ts{constructor(t,e=Ts.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ts(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ql.BLACK,null,null))}remove(t){return new Ts(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ql.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new pT(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new pT(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new pT(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new pT(this.root_,null,this.comparator_,!0,t)}}function tne(n,t){return ng(n.name,t.name)}function MN(n,t){return ng(n,t)}Ts.EMPTY_NODE=new class ene{copy(t,e,i,r,o){return this}insert(t,e,i){return new ql(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const C6=function(n){return"number"==typeof n?"number:"+H4(n):"string:"+n},E6=function(n){if(n.isLeafNode()){const t=n.val();(0,ie.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,ie.r3)(t,".sv"),"Priority must be a string or number.")}else(0,ie.hu)(n===kN||n.isEmpty(),"priority of unexpected type.");(0,ie.hu)(n===kN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let D6,I6,T6,Fy=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,ie.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),E6(this.priorityNode_)}static set __childrenNodeConstructor(e){D6=e}static get __childrenNodeConstructor(){return D6}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return _n(e)?this:".priority"===gn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=gn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,ie.hu)(".priority"!==r||1===zf(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(gi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+C6(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?H4(this.value_):this.value_,this.lazyHash_=B4(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,ie.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,ie.hu)(o>=0,"Unknown leaf type: "+i),(0,ie.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const wi=new class one extends fT{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?ng(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return vn.MIN}maxPost(){return new vn(ku,new Fy("[PRIORITY-POST]",T6))}makePost(t,e){const i=I6(t);return new vn(e,new Fy("[PRIORITY-POST]",i))}toString(){return".priority"}},sne=Math.log(2);class ane{constructor(t){this.count=parseInt(Math.log(t+1)/sne,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const gT=function(n,t,e,i){n.sort(t);const r=function(m,_){const b=_-m;let T,R;if(0===b)return null;if(1===b)return T=n[m],R=e?e(T):T,new ql(R,T.node,ql.BLACK,null,null);{const B=parseInt(b/2,10)+m,z=r(m,B),K=r(B+1,_);return T=n[B],R=e?e(T):T,new ql(R,T.node,ql.BLACK,z,K)}},u=function(m){let _=null,b=null,T=n.length;const R=function(z,K){const se=T-z,Re=T;T-=z;const Qe=r(se+1,Re),et=n[se],ut=e?e(et):et;B(new ql(ut,et.node,K,null,Qe))},B=function(z){_?(_.left=z,_=z):(b=z,_=z)};for(let z=0;z<m.count;++z){const K=m.nextBitIsOne(),se=Math.pow(2,m.count-(z+1));K?R(se,ql.BLACK):(R(se,ql.BLACK),R(se,ql.RED))}return b}(new ane(n.length));return new Ts(i||t,u)};let RN;const Ly={};class Ru{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,ie.hu)(Ly&&wi,"ChildrenNode.ts has not been loaded"),RN=RN||new Ru({".priority":Ly},{".priority":wi}),RN}get(t){const e=(0,ie.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ts?e:null}hasIndex(t){return(0,ie.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,ie.hu)(t!==sd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(vn.Wrap);let u,c=o.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=o.getNext();u=r?gT(i,t.getCompare()):Ly;const m=t.toString(),_=Object.assign({},this.indexSet_);_[m]=t;const b=Object.assign({},this.indexes_);return b[m]=u,new Ru(b,_)}addToIndexes(t,e){const i=(0,ie.UI)(this.indexes_,(r,o)=>{const c=(0,ie.DV)(this.indexSet_,o);if((0,ie.hu)(c,"Missing index implementation for "+o),r===Ly){if(c.isDefinedOn(t.node)){const u=[],m=e.getIterator(vn.Wrap);let _=m.getNext();for(;_;)_.name!==t.name&&u.push(_),_=m.getNext();return u.push(t),gT(u,c.getCompare())}return Ly}{const u=e.get(t.name);let m=r;return u&&(m=m.remove(new vn(t.name,u))),m.insert(t,t.node)}});return new Ru(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,ie.UI)(this.indexes_,r=>{if(r===Ly)return r;{const o=e.get(t.name);return o?r.remove(new vn(t.name,o)):r}});return new Ru(i,this.indexSet_)}}let Dw,cn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&E6(this.priorityNode_),this.children_.isEmpty()&&(0,ie.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Dw||(Dw=new n(new Ts(MN),null,Ru.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Dw}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Dw:i}}getChild(e){const i=gn(e);return null===i?this:this.getImmediateChild(i).getChild(gi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,ie.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new vn(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?Dw:this.priorityNode_;return new n(o,u,c)}}updateChild(e,i){const r=gn(e);if(null===r)return i;{(0,ie.hu)(".priority"!==gn(e)||1===zf(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(gi(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(wi,(u,m)=>{i[u]=m.val(e),r++,c&&n.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):c=!1}),!e&&c&&o<2*r){const u=[];for(const m in i)u[m]=i[m];return u}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+C6(this.getPriority().val())+":"),this.forEachChild(wi,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":B4(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new vn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new vn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new vn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,vn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,vn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Iw?-1:0}withIndex(e){if(e===sd||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===sd||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(wi),o=i.getIterator(wi);let c=r.getNext(),u=o.getNext();for(;c&&u;){if(c.name!==u.name||!c.node.equals(u.node))return!1;c=r.getNext(),u=o.getNext()}return null===c&&null===u}return!1}return!1}}resolveIndex_(e){return e===sd?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Iw=new class lne extends cn{constructor(){super(new Ts(MN),cn.EMPTY_NODE,Ru.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return cn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(vn,{MIN:{value:new vn(jf,cn.EMPTY_NODE)},MAX:{value:new vn(ku,Iw)}}),x6.__EMPTY_NODE=cn.EMPTY_NODE,Fy.__childrenNodeConstructor=cn,function nne(n){kN=n}(Iw),function rne(n){T6=n}(Iw);const cne=!0;function er(n,t=null){if(null===n)return cn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,ie.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Fy(n,er(t));if(n instanceof Array||!cne){let e=cn.EMPTY_NODE;return oo(n,(i,r)=>{if((0,ie.r3)(n,i)&&"."!==i.substring(0,1)){const o=er(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(er(t))}{const e=[];let i=!1;if(oo(n,(c,u)=>{if("."!==c.substring(0,1)){const m=er(u);m.isEmpty()||(i=i||!m.getPriority().isEmpty(),e.push(new vn(c,m)))}}),0===e.length)return cn.EMPTY_NODE;const o=gT(e,tne,c=>c.name,MN);if(i){const c=gT(e,wi.getCompare());return new cn(o,er(t),new Ru({".priority":c},{".priority":wi}))}return new cn(o,er(t),Ru.Default)}}!function ine(n){I6=n}(er);class ON extends fT{constructor(t){super(),this.indexPath_=t,(0,ie.hu)(!_n(t)&&".priority"!==gn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?ng(t.name,e.name):o}makePost(t,e){const i=er(t),r=cn.EMPTY_NODE.updateChild(this.indexPath_,i);return new vn(e,r)}maxPost(){const t=cn.EMPTY_NODE.updateChild(this.indexPath_,Iw);return new vn(ku,t)}toString(){return Cw(this.indexPath_,0).join("/")}}const PN=new class dne extends fT{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?ng(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return vn.MIN}maxPost(){return vn.MAX}makePost(t,e){const i=er(t);return new vn(e,i)}toString(){return".value"}};function Sw(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class FN{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jf}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ku}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ie.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===wi}copy(){const t=new FN;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function A6(n){const t={};if(n.isDefault())return t;let e;if(n.index_===wi?e="$priority":n.index_===PN?e="$value":n.index_===sd?e="$key":((0,ie.hu)(n.index_ instanceof ON,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,ie.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,ie.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,ie.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,ie.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,ie.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function M6(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==wi&&(t.i=n.index_.toString()),t}class yT extends m6{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=vw("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,ie.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=yT.getListenId_(t,i),u={};this.listens_[c]=u;const m=A6(t._queryParams);this.restRequest_(o+".json",m,(_,b)=>{let T=b;if(404===_&&(T=null,_=null),null===_&&this.onDataUpdate_(o,T,!1,i),(0,ie.DV)(this.listens_,c)===u){let R;R=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(R,null)}})}unlisten(t,e){const i=yT.getListenId_(t,e);delete this.listens_[i]}get(t){const e=A6(t._queryParams),i=t._path.toString(),r=new ie.BH;return this.restRequest_(i+".json",e,(o,c)=>{let u=c;404===o&&(u=null,o=null),null===o?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,ie.xO)(e);this.log_("Sending REST request for "+c);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&4===u.readyState){this.log_("REST Response for "+c+" received. status:",u.status,"response:",u.responseText);let m=null;if(u.status>=200&&u.status<300){try{m=(0,ie.cI)(u.responseText)}catch{No("Failed to parse JSON response for "+c+": "+u.responseText)}i(null,m)}else 401!==u.status&&404!==u.status&&No("Got unsuccessful REST response for "+c+" Status: "+u.status),i(u.status);i=null}},u.open("GET",c,!0),u.send()})}}class yne{constructor(){this.rootNode_=cn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function vT(){return{value:null,children:new Map}}function Vy(n,t,e){if(_n(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=gn(t);n.children.has(i)||n.children.set(i,vT()),Vy(n.children.get(i),t=gi(t),e)}}function UN(n,t,e){null!==n.value?e(t,n.value):function vne(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{UN(r,new $n(t.toString()+"/"+i),e)})}class bne{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&oo(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Cne{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new bne(t);const i=1e4+2e4*Math.random();ww(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;oo(t,(r,o)=>{o>0&&(0,ie.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),ww(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ja=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ja||(Ja={})),Ja))();function zN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class bT{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ja.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(_n(this.path)){if(null!=this.affectedTree.value)return(0,ie.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new $n(t));return new bT(Pn(),e,this.revert)}}return(0,ie.hu)(gn(this.path)===t,"operationForChild called for unrelated child."),new bT(gi(this.path),this.affectedTree,this.revert)}}class og{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ja.OVERWRITE}operationForChild(t){return _n(this.path)?new og(this.source,Pn(),this.snap.getImmediateChild(t)):new og(this.source,gi(this.path),this.snap)}}class Uy{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ja.MERGE}operationForChild(t){if(_n(this.path)){const e=this.children.subtree(new $n(t));return e.isEmpty()?null:e.value?new og(this.source,Pn(),e.value):new Uy(this.source,Pn(),e)}return(0,ie.hu)(gn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Uy(this.source,gi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class $f{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(_n(t))return this.isFullyInitialized()&&!this.filtered_;const e=gn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function kw(n,t,e,i,r,o){const c=i.filter(u=>u.type===e);c.sort((u,m)=>function Tne(n,t,e){if(null==t.childName||null==e.childName)throw(0,ie.g5)("Should only compare child_ events.");const i=new vn(t.childName,t.snapshotNode),r=new vn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,u,m)),c.forEach(u=>{const m=function Ine(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,u,o);r.forEach(_=>{_.respondsTo(u.type)&&t.push(_.createEvent(m,n.query_))})})}function wT(n,t){return{eventCache:n,serverCache:t}}function Rw(n,t,e,i){return wT(new $f(t,e,i),n.serverCache)}function R6(n,t,e,i){return wT(n.eventCache,new $f(t,e,i))}function xT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function sg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let $N;class xi{constructor(t,e=(()=>($N||($N=new Ts(ute)),$N))()){this.value=t,this.children=e}static fromObject(t){let e=new xi(null);return oo(t,(i,r)=>{e=e.set(new $n(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Pn(),value:this.value};if(_n(t))return null;{const i=gn(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(gi(t),e);return null!=o?{path:$i(new $n(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(_n(t))return this;{const e=gn(t),i=this.children.get(e);return null!==i?i.subtree(gi(t)):new xi(null)}}set(t,e){if(_n(t))return new xi(e,this.children);{const i=gn(t),o=(this.children.get(i)||new xi(null)).set(gi(t),e),c=this.children.insert(i,o);return new xi(this.value,c)}}remove(t){if(_n(t))return this.children.isEmpty()?new xi(null):new xi(null,this.children);{const e=gn(t),i=this.children.get(e);if(i){const r=i.remove(gi(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new xi(null):new xi(this.value,o)}return this}}get(t){if(_n(t))return this.value;{const e=gn(t),i=this.children.get(e);return i?i.get(gi(t)):null}}setTree(t,e){if(_n(t))return e;{const i=gn(t),o=(this.children.get(i)||new xi(null)).setTree(gi(t),e);let c;return c=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new xi(this.value,c)}}fold(t){return this.fold_(Pn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_($i(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Pn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(_n(t))return null;{const o=gn(t),c=this.children.get(o);return c?c.findOnPath_(gi(t),$i(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Pn(),e)}foreachOnPath_(t,e,i){if(_n(t))return this;{this.value&&i(e,this.value);const r=gn(t),o=this.children.get(r);return o?o.foreachOnPath_(gi(t),$i(e,r),i):new xi(null)}}foreach(t){this.foreach_(Pn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_($i(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Zl{constructor(t){this.writeTree_=t}static empty(){return new Zl(new xi(null))}}function Ow(n,t,e){if(_n(t))return new Zl(new xi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const c=is(r,t);return o=o.updateChild(c,e),new Zl(n.writeTree_.set(r,o))}{const r=new xi(e),o=n.writeTree_.setTree(t,r);return new Zl(o)}}}function GN(n,t,e){let i=n;return oo(e,(r,o)=>{i=Ow(i,$i(t,r),o)}),i}function O6(n,t){if(_n(t))return Zl.empty();{const e=n.writeTree_.setTree(t,new xi(null));return new Zl(e)}}function WN(n,t){return null!=ag(n,t)}function ag(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(is(e.path,t)):null}function P6(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(wi,(i,r)=>{t.push(new vn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new vn(i,r.value))}),t}function Gf(n,t){if(_n(t))return n;{const e=ag(n,t);return new Zl(null!=e?new xi(e):n.writeTree_.subtree(t))}}function qN(n){return n.writeTree_.isEmpty()}function jy(n,t){return N6(Pn(),n.writeTree_,t)}function N6(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,ie.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=N6($i(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild($i(n,".priority"),i)),e}}function CT(n,t){return U6(t,n)}function One(n,t){if(n.snap)return Xa(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Xa($i(n.path,e),t))return!0;return!1}function Nne(n){return n.visible}function F6(n,t,e){let i=Zl.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const c=o.path;let u;if(o.snap)Xa(e,c)?(u=is(e,c),i=Ow(i,u,o.snap)):Xa(c,e)&&(u=is(c,e),i=Ow(i,Pn(),o.snap.getChild(u)));else{if(!o.children)throw(0,ie.g5)("WriteRecord should have .snap or .children");if(Xa(e,c))u=is(e,c),i=GN(i,u,o.children);else if(Xa(c,e))if(u=is(c,e),_n(u))i=GN(i,Pn(),o.children);else{const m=(0,ie.DV)(o.children,gn(u));if(m){const _=m.getChild(gi(u));i=Ow(i,Pn(),_)}}}}}return i}function L6(n,t,e,i,r){if(i||r){const o=Gf(n.visibleWrites,t);return!r&&qN(o)?e:r||null!=e||WN(o,Pn())?jy(F6(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(Xa(_.path,t)||Xa(t,_.path))},t),e||cn.EMPTY_NODE):null}{const o=ag(n.visibleWrites,t);if(null!=o)return o;{const c=Gf(n.visibleWrites,t);return qN(c)?e:null!=e||WN(c,Pn())?jy(c,e||cn.EMPTY_NODE):null}}}function ET(n,t,e,i){return L6(n.writeTree,n.treePath,t,e,i)}function ZN(n,t){return function Fne(n,t,e){let i=cn.EMPTY_NODE;const r=ag(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(wi,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=Gf(n.visibleWrites,t);return e.forEachChild(wi,(c,u)=>{const m=jy(Gf(o,new $n(c)),u);i=i.updateImmediateChild(c,m)}),P6(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return P6(Gf(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function B6(n,t,e,i){return function Lne(n,t,e,i,r){(0,ie.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=$i(t,e);if(WN(n.visibleWrites,o))return null;{const c=Gf(n.visibleWrites,o);return qN(c)?r.getChild(e):jy(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function DT(n,t){return function Vne(n,t){return ag(n.visibleWrites,t)}(n.writeTree,$i(n.treePath,t))}function YN(n,t,e){return function Bne(n,t,e,i){const r=$i(t,e),o=ag(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?jy(Gf(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function V6(n,t){return U6($i(n.treePath,t),n.writeTree)}function U6(n,t){return{treePath:n,writeTree:t}}class zne{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,ie.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,ie.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,Sw(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,function Tw(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,function By(n,t){return{type:"child_added",snapshotNode:t,childName:n}}(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,ie.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,Sw(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const j6=new class $ne{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class KN{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new $f(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return YN(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:sg(this.viewCache_),o=function Hne(n,t,e,i,r,o){return function Une(n,t,e,i,r,o,c){let u;const m=Gf(n.visibleWrites,t),_=ag(m,Pn());if(null!=_)u=_;else{if(null==e)return[];u=jy(m,e)}if(u=u.withIndex(c),u.isEmpty()||u.isLeafNode())return[];{const b=[],T=c.getCompare(),R=o?u.getReverseIteratorFrom(i,c):u.getIteratorFrom(i,c);let B=R.getNext();for(;B&&b.length<r;)0!==T(B,i)&&b.push(B),B=R.getNext();return b}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function H6(n,t,e,i,r,o){const c=t.eventCache;if(null!=DT(i,e))return t;{let u,m;if(_n(e))if((0,ie.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=sg(t),T=ZN(i,_ instanceof cn?_:cn.EMPTY_NODE);u=n.filter.updateFullNode(t.eventCache.getNode(),T,o)}else{const _=ET(i,sg(t));u=n.filter.updateFullNode(t.eventCache.getNode(),_,o)}else{const _=gn(e);if(".priority"===_){(0,ie.hu)(1===zf(e),"Can't have a priority with additional path components");const b=c.getNode();m=t.serverCache.getNode();const T=B6(i,e,b,m);u=null!=T?n.filter.updatePriority(b,T):c.getNode()}else{const b=gi(e);let T;if(c.isCompleteForChild(_)){m=t.serverCache.getNode();const R=B6(i,e,c.getNode(),m);T=null!=R?c.getNode().getImmediateChild(_).updateChild(b,R):c.getNode().getImmediateChild(_)}else T=YN(i,_,t.serverCache);u=null!=T?n.filter.updateChild(c.getNode(),_,T,b,r,o):c.getNode()}}return Rw(t,u,c.isFullyInitialized()||_n(e),n.filter.filtersNodes())}}function IT(n,t,e,i,r,o,c,u){const m=t.serverCache;let _;const b=c?n.filter:n.filter.getIndexedFilter();if(_n(e))_=b.updateFullNode(m.getNode(),i,null);else if(b.filtersNodes()&&!m.isFiltered()){const B=m.getNode().updateChild(e,i);_=b.updateFullNode(m.getNode(),B,null)}else{const B=gn(e);if(!m.isCompleteForPath(e)&&zf(e)>1)return t;const z=gi(e),se=m.getNode().getImmediateChild(B).updateChild(z,i);_=".priority"===B?b.updatePriority(m.getNode(),se):b.updateChild(m.getNode(),B,se,z,j6,null)}const T=R6(t,_,m.isFullyInitialized()||_n(e),b.filtersNodes());return H6(n,T,e,r,new KN(r,T,o),u)}function QN(n,t,e,i,r,o,c){const u=t.eventCache;let m,_;const b=new KN(r,t,o);if(_n(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,c),m=Rw(t,_,!0,n.filter.filtersNodes());else{const T=gn(e);if(".priority"===T)_=n.filter.updatePriority(t.eventCache.getNode(),i),m=Rw(t,_,u.isFullyInitialized(),u.isFiltered());else{const R=gi(e),B=u.getNode().getImmediateChild(T);let z;if(_n(R))z=i;else{const K=b.getCompleteChild(T);z=null!=K?".priority"===TN(R)&&K.getChild(y6(R)).isEmpty()?K:K.updateChild(R,i):cn.EMPTY_NODE}m=B.equals(z)?t:Rw(t,n.filter.updateChild(u.getNode(),T,z,R,b,c),u.isFullyInitialized(),n.filter.filtersNodes())}}return m}function z6(n,t){return n.eventCache.isCompleteForChild(t)}function $6(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function XN(n,t,e,i,r,o,c,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,m=t;_=_n(e)?i:new xi(null).setTree(e,i);const b=t.serverCache.getNode();return _.children.inorderTraversal((T,R)=>{if(b.hasChild(T)){const z=$6(0,t.serverCache.getNode().getImmediateChild(T),R);m=IT(n,m,new $n(T),z,r,o,c,u)}}),_.children.inorderTraversal((T,R)=>{const B=!t.serverCache.isCompleteForChild(T)&&null===R.value;if(!b.hasChild(T)&&!B){const K=$6(0,t.serverCache.getNode().getImmediateChild(T),R);m=IT(n,m,new $n(T),K,r,o,c,u)}}),m}function nie(n,t){const e=sg(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!_n(t)&&!e.getImmediateChild(gn(t)).isEmpty())?e.getChild(t):null}function q6(n,t,e,i){t.type===Ja.MERGE&&null!==t.source.queryId&&((0,ie.hu)(sg(n.viewCache_),"We should always have a full cache before handling merges"),(0,ie.hu)(xT(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function qne(n,t,e,i,r){const o=new zne;let c,u;if(e.type===Ja.OVERWRITE){const _=e;_.source.fromUser?c=QN(n,t,_.path,_.snap,i,r,o):((0,ie.hu)(_.source.fromServer,"Unknown source."),u=_.source.tagged||t.serverCache.isFiltered()&&!_n(_.path),c=IT(n,t,_.path,_.snap,i,r,u,o))}else if(e.type===Ja.MERGE){const _=e;_.source.fromUser?c=function Yne(n,t,e,i,r,o,c){let u=t;return i.foreach((m,_)=>{const b=$i(e,m);z6(t,gn(b))&&(u=QN(n,u,b,_,r,o,c))}),i.foreach((m,_)=>{const b=$i(e,m);z6(t,gn(b))||(u=QN(n,u,b,_,r,o,c))}),u}(n,t,_.path,_.children,i,r,o):((0,ie.hu)(_.source.fromServer,"Unknown source."),u=_.source.tagged||t.serverCache.isFiltered(),c=XN(n,t,_.path,_.children,i,r,u,o))}else if(e.type===Ja.ACK_USER_WRITE){const _=e;c=_.revert?function Xne(n,t,e,i,r,o){let c;if(null!=DT(i,e))return t;{const u=new KN(i,t,r),m=t.eventCache.getNode();let _;if(_n(e)||".priority"===gn(e)){let b;if(t.serverCache.isFullyInitialized())b=ET(i,sg(t));else{const T=t.serverCache.getNode();(0,ie.hu)(T instanceof cn,"serverChildren would be complete if leaf node"),b=ZN(i,T)}_=n.filter.updateFullNode(m,b,o)}else{const b=gn(e);let T=YN(i,b,t.serverCache);null==T&&t.serverCache.isCompleteForChild(b)&&(T=m.getImmediateChild(b)),_=null!=T?n.filter.updateChild(m,b,T,gi(e),u,o):t.eventCache.getNode().hasChild(b)?n.filter.updateChild(m,b,cn.EMPTY_NODE,gi(e),u,o):m,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=ET(i,sg(t)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,o)))}return c=t.serverCache.isFullyInitialized()||null!=DT(i,Pn()),Rw(t,_,c,n.filter.filtersNodes())}}(n,t,_.path,i,r,o):function Kne(n,t,e,i,r,o,c){if(null!=DT(r,e))return t;const u=t.serverCache.isFiltered(),m=t.serverCache;if(null!=i.value){if(_n(e)&&m.isFullyInitialized()||m.isCompleteForPath(e))return IT(n,t,e,m.getNode().getChild(e),r,o,u,c);if(_n(e)){let _=new xi(null);return m.getNode().forEachChild(sd,(b,T)=>{_=_.set(new $n(b),T)}),XN(n,t,e,_,r,o,u,c)}return t}{let _=new xi(null);return i.foreach((b,T)=>{const R=$i(e,b);m.isCompleteForPath(R)&&(_=_.set(b,m.getNode().getChild(R)))}),XN(n,t,e,_,r,o,u,c)}}(n,t,_.path,_.affectedTree,i,r,o)}else{if(e.type!==Ja.LISTEN_COMPLETE)throw(0,ie.g5)("Unknown operation type: "+e.type);c=function Qne(n,t,e,i,r){const o=t.serverCache;return H6(n,R6(t,o.getNode(),o.isFullyInitialized()||_n(e),o.isFiltered()),e,i,j6,r)}(n,t,e.path,i,o)}const m=o.getChanges();return function Zne(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=xT(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(function S6(n){return{type:"value",snapshotNode:n}}(xT(t)))}}(t,c,m),{viewCache:c,changes:m}}(n.processor_,r,t,e,i);return function Wne(n,t){(0,ie.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ie.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,ie.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function Z6(n,t,e,i){return function Dne(n,t,e,i){const r=[],o=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function une(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),kw(n,r,"child_removed",t,i,e),kw(n,r,"child_added",t,i,e),kw(n,r,"child_moved",o,i,e),kw(n,r,"child_changed",t,i,e),kw(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let TT,AT;function JN(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,ie.hu)(null!=o,"SyncTree gave us an op for an invalid query."),q6(o,t,e,i)}{let o=[];for(const c of n.views.values())o=o.concat(q6(c,t,e,i));return o}}function Wf(n,t){let e=null;for(const i of n.views.values())e=e||nie(i,t);return e}class e${constructor(t){this.listenProvider_=t,this.syncPointTree_=new xi(null),this.pendingWriteTree_=function jne(){return{visibleWrites:Zl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function eF(n,t,e,i,r){return function Ane(n,t,e,i,r){(0,ie.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=Ow(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Hy(n,new og({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Zf(n,t,e=!1){const i=function kne(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Rne(n,t){const e=n.allWrites.findIndex(u=>u.writeId===t);(0,ie.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const u=n.allWrites[c];u.visible&&(c>=e&&One(u,i.path)?r=!1:Xa(i.path,u.path)&&(o=!0)),c--}return!!r&&(o?(function Pne(n){n.visibleWrites=F6(n.allWrites,Nne,Pn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=O6(n.visibleWrites,i.path):oo(i.children,m=>{n.visibleWrites=O6(n.visibleWrites,$i(i.path,m))}),!0))}(n.pendingWriteTree_,t)){let o=new xi(null);return null!=i.snap?o=o.set(Pn(),!0):oo(i.children,c=>{o=o.set(new $n(c),!0)}),Hy(n,new bT(i.path,o,e))}return[]}function Pw(n,t,e){return Hy(n,new og({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function kT(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,u)=>{const _=Wf(u,is(c,t));if(_)return _});return L6(r,t,o,e,!0)}function Hy(n,t){return n$(t,n.syncPointTree_,null,CT(n.pendingWriteTree_,Pn()))}function n$(n,t,e,i){if(_n(n.path))return i$(n,t,e,i);{const r=t.get(Pn());null==e&&null!=r&&(e=Wf(r,Pn()));let o=[];const c=gn(n.path),u=n.operationForChild(c),m=t.children.get(c);if(m&&u){const _=e?e.getImmediateChild(c):null,b=V6(i,c);o=o.concat(n$(u,m,_,b))}return r&&(o=o.concat(JN(r,n,i,e))),o}}function i$(n,t,e,i){const r=t.get(Pn());null==e&&null!=r&&(e=Wf(r,Pn()));let o=[];return t.children.inorderTraversal((c,u)=>{const m=e?e.getImmediateChild(c):null,_=V6(i,c),b=n.operationForChild(c);b&&(o=o.concat(i$(b,u,m,_)))}),r&&(o=o.concat(JN(r,n,i,e))),o}function nF(n,t){return n.tagToQueryMap.get(t)}function iF(n){const t=n.indexOf("$");return(0,ie.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new $n(n.substr(0,t))}}function rF(n,t,e){const i=n.syncPointTree_.get(t);return(0,ie.hu)(i,"Missing sync point for query tag that we're tracking"),JN(i,e,CT(n.pendingWriteTree_,t),null)}class oF{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new oF(e)}node(){return this.node_}}class sF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=$i(this.path_,t);return new sF(this.syncTree_,e)}node(){return kT(this.syncTree_,this.path_)}}const Cie=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},o$=function(n,t,e){return n&&"object"==typeof n?((0,ie.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Eie(n[".sv"],t,e):"object"==typeof n[".sv"]?Die(n[".sv"],t):void(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Eie=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,ie.hu)(!1,"Unexpected server value: "+n)},Die=function(n,t,e){n.hasOwnProperty("increment")||(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ie.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,ie.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},s$=function(n,t,e,i){return lF(t,new sF(e,n),i)},aF=function(n,t,e){return lF(n,new oF(t),e)};function lF(n,t,e){const i=n.getPriority().val(),r=o$(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,u=o$(c.getValue(),t,e);return u!==c.getValue()||r!==c.getPriority().val()?new Fy(u,er(r)):n}{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new Fy(r))),c.forEachChild(wi,(u,m)=>{const _=lF(m,t.getImmediateChild(u),e);_!==m&&(o=o.updateImmediateChild(u,_))}),o}}class cF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function OT(n,t){let e=t instanceof $n?t:new $n(t),i=n,r=gn(e);for(;null!==r;){const o=(0,ie.DV)(i.node.children,r)||{children:{},childCount:0};i=new cF(r,i,o),e=gi(e),r=gn(e)}return i}function lg(n){return n.node.value}function dF(n,t){n.node.value=t,uF(n)}function a$(n){return n.node.childCount>0}function PT(n,t){oo(n.node.children,(e,i)=>{t(new cF(e,n,i))})}function l$(n,t,e,i){e&&!i&&t(n),PT(n,r=>{l$(r,t,!0,i)}),e&&i&&t(n)}function Lw(n){return new $n(null===n.parent?n.name:Lw(n.parent)+"/"+n.name)}function uF(n){null!==n.parent&&function Sie(n,t,e){const i=function Iie(n){return void 0===lg(n)&&!a$(n)}(e),r=(0,ie.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,uF(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,uF(n))}(n.parent,n.name,n)}const Aie=/[\[\].#$\/\u0000-\u001F\u007F]/,Mie=/[\[\].#$\u0000-\u001F\u007F]/,hF=10485760,NT=function(n){return"string"==typeof n&&0!==n.length&&!Aie.test(n)},Vw=function(n,t,e){const i=e instanceof $n?new qte(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+ig(i));if("function"==typeof t)throw new Error(n+"contains a function "+ig(i)+" with contents = "+t.toString());if(cT(t))throw new Error(n+"contains "+t.toString()+" "+ig(i));if("string"==typeof t&&t.length>hF/3&&(0,ie.ug)(t)>hF)throw new Error(n+"contains a string greater than "+hF+" utf8 bytes "+ig(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(oo(t,(c,u)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!NT(c)))throw new Error(n+" contains an invalid key ("+c+") "+ig(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Zte(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,ie.ug)(t),v6(n)})(i,c),Vw(n,u,i),function Yte(n){const t=n.parts_.pop();n.byteLength_-=(0,ie.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+ig(i)+" in addition to actual children.")}},u$=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!NT(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!Mie.test(n)}(n)}(e))throw new Error((0,ie.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Pie{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ca(n,t,e){(function FT(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!SN(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)})(n,e),function f$(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Nie(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>Xa(i,t)||Xa(t,i))}function Nie(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();tg&&ro("event: "+e.toString()),Py(i)}}}const m$="repo_interrupt",Fie=25;class Lie{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vT(),this.transactionQueueTree_=new cF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function p$(n){const e=n.infoData_.getNode(new $n(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function jw(n){return Cie({timestamp:p$(n)})}function g$(n,t,e,i,r){n.dataUpdateCount++;const o=new $n(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const m=(0,ie.UI)(e,_=>er(_));c=function _ie(n,t,e,i){const r=nF(n,i);if(r){const o=iF(r),c=o.path,u=o.queryId,m=is(c,t),_=xi.fromObject(e);return rF(n,c,new Uy(zN(u),m,_))}return[]}(n.serverSyncTree_,o,m,r)}else{const m=er(e);c=function t$(n,t,e,i){const r=nF(n,i);if(null!=r){const o=iF(r),c=o.path,u=o.queryId,m=is(c,t);return rF(n,c,new og(zN(u),m,e))}return[]}(n.serverSyncTree_,o,m,r)}else if(i){const m=(0,ie.UI)(e,_=>er(_));c=function mie(n,t,e){const i=xi.fromObject(e);return Hy(n,new Uy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,m)}else{const m=er(e);c=Pw(n.serverSyncTree_,o,m)}let u=o;c.length>0&&(u=$y(n,o)),ca(n.eventQueue_,u,c)}function _$(n,t){pF(n,"connected",t),!1===t&&function Hie(n){zy(n,"onDisconnectEvents");const t=jw(n),e=vT();UN(n.onDisconnect_,Pn(),(r,o)=>{const c=s$(r,o,n.serverSyncTree_,t);Vy(e,r,c)});let i=[];UN(e,Pn(),(r,o)=>{i=i.concat(Pw(n.serverSyncTree_,r,o));const c=function vF(n,t){const e=Lw(b$(n,t)),i=OT(n.transactionQueueTree_,t);return function Tie(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{bF(n,r)}),bF(n,i),l$(i,r=>{bF(n,r)}),e}(n,r);$y(n,c)}),n.onDisconnect_=vT(),ca(n.eventQueue_,Pn(),i)}(n)}function pF(n,t,e){const i=new $n("/.info/"+t),r=er(e);n.infoData_.updateSnapshot(i,r);const o=Pw(n.infoSyncTree_,i,r);ca(n.eventQueue_,i,o)}function LT(n){return n.nextWriteId_++}function zy(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ro(e,...t)}function yF(n,t,e){return kT(n.serverSyncTree_,t,e)||cn.EMPTY_NODE}function BT(n,t=n.transactionQueueTree_){if(t||VT(n,t),lg(t)){const e=w$(n,t);(0,ie.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Yie(n,t,e){const i=e.map(_=>_.currentWriteId),r=yF(n,t,i);let o=r;const c=r.hash();for(let _=0;_<e.length;_++){const b=e[_];(0,ie.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const T=is(t,b.path);o=o.updateChild(T,b.currentOutputSnapshotRaw)}const u=o.val(!0),m=t;n.server_.put(m.toString(),u,_=>{zy(n,"transaction put response",{path:m.toString(),status:_});let b=[];if("ok"===_){const T=[];for(let R=0;R<e.length;R++)e[R].status=2,b=b.concat(Zf(n.serverSyncTree_,e[R].currentWriteId)),e[R].onComplete&&T.push(()=>e[R].onComplete(null,!0,e[R].currentOutputSnapshotResolved)),e[R].unwatcher();VT(n,OT(n.transactionQueueTree_,t)),BT(n,n.transactionQueueTree_),ca(n.eventQueue_,t,b);for(let R=0;R<T.length;R++)Py(T[R])}else{if("datastale"===_)for(let T=0;T<e.length;T++)e[T].status=3===e[T].status?4:0;else{No("transaction at "+m.toString()+" failed: "+_);for(let T=0;T<e.length;T++)e[T].status=4,e[T].abortReason=_}$y(n,t)}},c)}(n,Lw(t),e)}else a$(t)&&PT(t,e=>{BT(n,e)})}function $y(n,t){const e=b$(n,t),i=Lw(e);return function Kie(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const m=t[u],_=is(e,m.path);let T,b=!1;if((0,ie.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)b=!0,T=m.abortReason,r=r.concat(Zf(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=Fie)b=!0,T="maxretry",r=r.concat(Zf(n.serverSyncTree_,m.currentWriteId,!0));else{const R=yF(n,m.path,c);m.currentInputSnapshot=R;const B=t[u].update(R.val());if(void 0!==B){Vw("transaction failed: Data returned ",B,m.path);let z=er(B);"object"==typeof B&&null!=B&&(0,ie.r3)(B,".priority")||(z=z.updatePriority(R.getPriority()));const se=m.currentWriteId,Re=jw(n),Qe=aF(z,R,Re);m.currentOutputSnapshotRaw=z,m.currentOutputSnapshotResolved=Qe,m.currentWriteId=LT(n),c.splice(c.indexOf(se),1),r=r.concat(eF(n.serverSyncTree_,m.path,Qe,m.currentWriteId,m.applyLocally)),r=r.concat(Zf(n.serverSyncTree_,se,!0))}else b=!0,T="nodata",r=r.concat(Zf(n.serverSyncTree_,m.currentWriteId,!0))}ca(n.eventQueue_,e,r),r=[],b&&(t[u].status=2,setTimeout(t[u].unwatcher,Math.floor(0)),t[u].onComplete&&i.push("nodata"===T?()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot):()=>t[u].onComplete(new Error(T),!1,null)))}VT(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)Py(i[u]);BT(n,n.transactionQueueTree_)}(n,w$(n,e),i),i}function b$(n,t){let e,i=n.transactionQueueTree_;for(e=gn(t);null!==e&&void 0===lg(i);)i=OT(i,e),e=gn(t=gi(t));return i}function w$(n,t){const e=[];return x$(n,t,e),e.sort((i,r)=>i.order-r.order),e}function x$(n,t,e){const i=lg(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);PT(t,r=>{x$(n,r,e)})}function VT(n,t){const e=lg(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,dF(t,e.length>0?e:void 0)}PT(t,i=>{VT(n,i)})}function bF(n,t){const e=lg(t);if(e){const i=[];let r=[],o=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,ie.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):((0,ie.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Zf(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?dF(t,void 0):e.length=o+1,ca(n.eventQueue_,Lw(t),r);for(let c=0;c<i.length;c++)Py(i[c])}}const wF=function(n,t){const e=Jie(n),i=e.namespace;return"firebase.com"===e.domain&&od(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&od("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&No("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new wN(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new $n(e.pathString)}},Jie=function(n){let t="",e="",i="",r="",o="",c=!0,u="https",m=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(u=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),t=n.substring(0,Math.min(b,T)),b<T&&(r=function Qie(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(b,T)));const R=function Xie(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):No(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,T)));_=t.indexOf(":"),_>=0?(c="https"===u||"wss"===u,m=parseInt(t.substring(_+1),10)):_=t.length;const B=t.slice(0,_);if("localhost"===B.toLowerCase())e="localhost";else if(B.split(".").length<=2)e=B;else{const z=t.indexOf(".");i=t.substring(0,z).toLowerCase(),e=t.substring(z+1),o=i}"ns"in R&&(o=R.ns)}return{host:t,port:m,domain:e,subdomain:i,secure:c,scheme:u,pathString:r,namespace:o}};class da{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return _n(this._path)?null:TN(this._path)}get ref(){return new Yl(this._repo,this._path)}get _queryIdentifier(){const t=M6(this._queryParams),e=vN(t);return"{}"===e?"default":e}get _queryObject(){return M6(this._queryParams)}isEqual(t){if(!((t=(0,ie.m9)(t))instanceof da))return!1;const e=this._repo===t._repo,i=SN(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Gte(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}class Yl extends da{constructor(t,e){super(t,e,new FN,!1)}get parent(){const t=y6(this._path);return null===t?null:new Yl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}(function oie(n){(0,ie.hu)(!TT,"__referenceConstructor has already been defined"),TT=n})(Yl),function die(n){(0,ie.hu)(!AT,"__referenceConstructor has already been defined"),AT=n}(Yl);const fre="FIREBASE_DATABASE_EMULATOR_HOST",CF={};let A$=!1;class vre{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Bie(n,t,e){if(n.stats_=EN(n.repoInfo_),n.forceRestClient_||yte())n.server_=new yT(n.repoInfo_,(i,r,o,c)=>{g$(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>_$(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ie.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new rg(n.repoInfo_,t,(i,r,o,c)=>{g$(n,i,r,o,c)},i=>{_$(n,i)},i=>{!function Vie(n,t){oo(t,(e,i)=>{pF(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Cte(n,t){const e=n.toString();return CN[e]||(CN[e]=t()),CN[e]}(n.repoInfo_,()=>new Cne(n.stats_,n.server_)),n.infoData_=new yne,n.infoSyncTree_=new e$({startListening:(i,r,o,c)=>{let u=[];const m=n.infoData_.getNode(i._path);return m.isEmpty()||(u=Pw(n.infoSyncTree_,i._path,m),setTimeout(()=>{c("ok")},0)),u},stopListening:()=>{}}),pF(n,"connected",!1),n.serverSyncTree_=new e$({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(u,m)=>{const _=c(u,m);ca(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yl(this._repo,Pn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function gre(n,t){const e=CF[t];(!e||e[n.key]!==n)&&od(`Database ${t}(${n.repoInfo_}) has already been deleted.`),function v$(n){n.persistentConnection_&&n.persistentConnection_.interrupt(m$)}(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&od("Cannot call "+t+" on a deleted database.")}}function bre(n=(0,Xo.getApp)(),t){const e=(0,Xo._getProvider)(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const i=(0,ie.P0)("database");i&&function wre(n,t,e,i={}){(n=(0,ie.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&od("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&od('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new xw(xw.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,ie.Sg)(i.mockUserToken,n.app.options.projectId);o=new xw(c)}!function mre(n,t,e,i){n.repoInfo_=new wN(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(e,...i)}return e}rg.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},rg.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function xre(n){(function ste(n){gN=n})(Xo.SDK_VERSION),(0,Xo._registerComponent)(new Hb.wA("database",(t,{instanceIdentifier:e})=>function pre(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||od("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ro("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,_,c=wF(o,r),u=c.repoInfo;typeof process<"u"&&process.env&&(_=process.env[fre]),_?(m=!0,o=`http://${_}?ns=${u.namespace}`,c=wF(o,r),u=c.repoInfo):m=!c.repoInfo.secure;const b=r&&m?new xw(xw.OWNER):new bte(n.name,n.options,t);u$("Invalid Firebase Database URL",c),_n(c.path)||od("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function _re(n,t,e,i){let r=CF[t.name];r||(r={},CF[t.name]=r);let o=r[n.toURLString()];return o&&od("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Lie(n,A$,e,i),r[n.toURLString()]=o,o}(u,n,b,new vte(n.name,e));return new vre(T,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Xo.registerVersion)(P4,"0.14.4",n),(0,Xo.registerVersion)(P4,"0.14.4","esm2017")}();class EF{constructor(t){return t}}const k$="database",DF=new s.OlP("angularfire2.database-instances");function Tre(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new EF(i)}}const Sre={provide:class Dre{constructor(){return(0,In.vb)(k$)}},deps:[[new s.FiY,DF]]},Are={provide:EF,useFactory:function Ire(n,t){const e=(0,In.JM)(k$,n,t);return e&&new EF(e)},deps:[[new s.FiY,DF],qp]};let Mre=(()=>{class n{constructor(){(0,Tu.KN)("angularfire",In.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Are,Sre]}),n})();function kre(n,...t){return{ngModule:Mre,providers:[{provide:DF,useFactory:Tre(n),multi:!0,deps:[s.R0b,s.zs3,In.HU,yI,[new s.FiY,mN],[new s.FiY,Ty],...t]}]}}const Rre=(0,In.u3)(bre,!0);class IF{constructor(t){return t}}const R$="firestore",TF=new s.OlP("angularfire2.firestore-instances");function Nre(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new IF(i)}}const Fre={provide:class Ore{constructor(){return(0,In.vb)(R$)}},deps:[[new s.FiY,TF]]},Lre={provide:IF,useFactory:function Pre(n,t){const e=(0,In.JM)(R$,n,t);return e&&new IF(e)},deps:[[new s.FiY,TF],qp]};let Bre=(()=>{class n{constructor(){(0,Tu.KN)("angularfire",In.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Lre,Fre]}),n})();function Vre(n,...t){return{ngModule:Bre,providers:[{provide:TF,useFactory:Nre(n),multi:!0,deps:[s.R0b,s.zs3,In.HU,yI,[new s.FiY,mN],[new s.FiY,Ty],...t]}]}}const Ure=(0,In.u3)(z8,!0);let jre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ob,Bl,vp,sw,xG]}),n})(),Hre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[DG]}),n.\u0275inj=s.cJS({imports:[Us,XX,Qee,Pt,s7(()=>a7(hN_firebase)),rte(()=>ote()),kre(()=>Rre()),Vre(()=>Ure()),zl.hO.initializeApp(hN_firebase),Ba,jre]}),n})();cm().bootstrapModule(Hre).catch(n=>console.error(n))},9751:(wt,Ae,U)=>{U.d(Ae,{y:()=>be});var s=U(930),$=U(727),N=U(8822),ae=U(9635),ue=U(2416),ne=U(576),Ee=U(2806);let be=(()=>{class te{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Ye=new te;return Ye.source=this,Ye.operator=Me,Ye}subscribe(Me,Ye,lt){const we=function q(te){return te&&te instanceof s.Lv||function Z(te){return te&&(0,ne.m)(te.next)&&(0,ne.m)(te.error)&&(0,ne.m)(te.complete)}(te)&&(0,$.Nn)(te)}(Me)?Me:new s.Hp(Me,Ye,lt);return(0,Ee.x)(()=>{const{operator:Pe,source:Fe}=this;we.add(Pe?Pe.call(we,Fe):Fe?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Ye){Me.error(Ye)}}forEach(Me,Ye){return new(Ye=xe(Ye))((lt,we)=>{const Pe=new s.Hp({next:Fe=>{try{Me(Fe)}catch(Ue){we(Ue),Pe.unsubscribe()}},error:we,complete:lt});this.subscribe(Pe)})}_subscribe(Me){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(Me)}[N.L](){return this}pipe(...Me){return(0,ae.U)(Me)(this)}toPromise(Me){return new(Me=xe(Me))((Ye,lt)=>{let we;this.subscribe(Pe=>we=Pe,Pe=>lt(Pe),()=>Ye(we))})}}return te.create=$e=>new te($e),te})();function xe(te){var $e;return null!==($e=te??ue.v.Promise)&&void 0!==$e?$e:Promise}},7579:(wt,Ae,U)=>{U.d(Ae,{x:()=>Ee});var s=U(9751),$=U(727);const ae=(0,U(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=U(8737),ne=U(2806);let Ee=(()=>{class xe extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const te=new be(this,this);return te.operator=q,te}_throwIfClosed(){if(this.closed)throw new ae}next(q){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(q)}})}error(q){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:te}=this;for(;te.length;)te.shift().error(q)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:te,isStopped:$e,observers:Me}=this;return te||$e?$.Lc:(this.currentObservers=null,Me.push(q),new $.w0(()=>{this.currentObservers=null,(0,ue.P)(Me,q)}))}_checkFinalizedStatuses(q){const{hasError:te,thrownError:$e,isStopped:Me}=this;te?q.error($e):Me&&q.complete()}asObservable(){const q=new s.y;return q.source=this,q}}return xe.create=(Z,q)=>new be(Z,q),xe})();class be extends Ee{constructor(Z,q){super(),this.destination=Z,this.source=q}next(Z){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===te||te.call(q,Z)}error(Z){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===te||te.call(q,Z)}complete(){var Z,q;null===(q=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===q||q.call(Z)}_subscribe(Z){var q,te;return null!==(te=null===(q=this.source)||void 0===q?void 0:q.subscribe(Z))&&void 0!==te?te:$.Lc}}},930:(wt,Ae,U)=>{U.d(Ae,{Hp:()=>lt,Lv:()=>te});var s=U(576),$=U(727),N=U(2416),ae=U(7849),ue=U(5032);const ne=xe("C",void 0,void 0);function xe(Se,Te,Ne){return{kind:Se,value:Te,error:Ne}}var Z=U(3410),q=U(2806);class te extends $.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,$.Nn)(Te)&&Te.add(this)):this.destination=Ue}static create(Te,Ne,Ge){return new lt(Te,Ne,Ge)}next(Te){this.isStopped?Fe(function be(Se){return xe("N",Se,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Fe(function Ee(Se){return xe("E",void 0,Se)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Fe(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Me(Se,Te){return $e.call(Se,Te)}class Ye{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(Te)}catch(Ge){we(Ge)}}error(Te){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(Te)}catch(Ge){we(Ge)}else we(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Ne){we(Ne)}}}class lt extends te{constructor(Te,Ne,Ge){let Be;if(super(),(0,s.m)(Te)||!Te)Be={next:Te??void 0,error:Ne??void 0,complete:Ge??void 0};else{let de;this&&N.v.useDeprecatedNextContext?(de=Object.create(Te),de.unsubscribe=()=>this.unsubscribe(),Be={next:Te.next&&Me(Te.next,de),error:Te.error&&Me(Te.error,de),complete:Te.complete&&Me(Te.complete,de)}):Be=Te}this.destination=new Ye(Be)}}function we(Se){N.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Se):(0,ae.h)(Se)}function Fe(Se,Te){const{onStoppedNotification:Ne}=N.v;Ne&&Z.z.setTimeout(()=>Ne(Se,Te))}const Ue={closed:!0,next:ue.Z,error:function Pe(Se){throw Se},complete:ue.Z}},727:(wt,Ae,U)=>{U.d(Ae,{Lc:()=>ne,w0:()=>ue,Nn:()=>Ee});var s=U(576);const N=(0,U(3888).d)(xe=>function(q){xe(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((te,$e)=>`${$e+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var ae=U(8737);class ue{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Me of q)Me.remove(this);else q.remove(this);const{initialTeardown:te}=this;if((0,s.m)(te))try{te()}catch(Me){Z=Me instanceof N?Me.errors:[Me]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Me of $e)try{be(Me)}catch(Ye){Z=Z??[],Ye instanceof N?Z=[...Z,...Ye.errors]:Z.push(Ye)}}if(Z)throw new N(Z)}}add(Z){var q;if(Z&&Z!==this)if(this.closed)be(Z);else{if(Z instanceof ue){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(Z)}}_hasParent(Z){const{_parentage:q}=this;return q===Z||Array.isArray(q)&&q.includes(Z)}_addParent(Z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(Z),q):q?[q,Z]:Z}_removeParent(Z){const{_parentage:q}=this;q===Z?this._parentage=null:Array.isArray(q)&&(0,ae.P)(q,Z)}remove(Z){const{_finalizers:q}=this;q&&(0,ae.P)(q,Z),Z instanceof ue&&Z._removeParent(this)}}ue.EMPTY=(()=>{const xe=new ue;return xe.closed=!0,xe})();const ne=ue.EMPTY;function Ee(xe){return xe instanceof ue||xe&&"closed"in xe&&(0,s.m)(xe.remove)&&(0,s.m)(xe.add)&&(0,s.m)(xe.unsubscribe)}function be(xe){(0,s.m)(xe)?xe():xe.unsubscribe()}},2416:(wt,Ae,U)=>{U.d(Ae,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(wt,Ae,U)=>{U.d(Ae,{E:()=>$});const $=new(U(9751).y)(ue=>ue.complete())},8996:(wt,Ae,U)=>{U.d(Ae,{D:()=>Te});var s=U(8421),$=U(5363),N=U(9468),ne=U(9751),be=U(2202),xe=U(576),Z=U(9672);function te(Ne,Ge){if(!Ne)throw new Error("Iterable cannot be null");return new ne.y(Be=>{(0,Z.f)(Be,Ge,()=>{const de=Ne[Symbol.asyncIterator]();(0,Z.f)(Be,Ge,()=>{de.next().then(rt=>{rt.done?Be.complete():Be.next(rt.value)})},0,!0)})})}var $e=U(3670),Me=U(8239),Ye=U(1144),lt=U(6495),we=U(2206),Pe=U(4532),Fe=U(3260);function Te(Ne,Ge){return Ge?function Se(Ne,Ge){if(null!=Ne){if((0,$e.c)(Ne))return function ae(Ne,Ge){return(0,s.Xf)(Ne).pipe((0,N.R)(Ge),(0,$.Q)(Ge))}(Ne,Ge);if((0,Ye.z)(Ne))return function Ee(Ne,Ge){return new ne.y(Be=>{let de=0;return Ge.schedule(function(){de===Ne.length?Be.complete():(Be.next(Ne[de++]),Be.closed||this.schedule())})})}(Ne,Ge);if((0,Me.t)(Ne))return function ue(Ne,Ge){return(0,s.Xf)(Ne).pipe((0,N.R)(Ge),(0,$.Q)(Ge))}(Ne,Ge);if((0,we.D)(Ne))return te(Ne,Ge);if((0,lt.T)(Ne))return function q(Ne,Ge){return new ne.y(Be=>{let de;return(0,Z.f)(Be,Ge,()=>{de=Ne[be.h](),(0,Z.f)(Be,Ge,()=>{let rt,St;try{({value:rt,done:St}=de.next())}catch(ct){return void Be.error(ct)}St?Be.complete():Be.next(rt)},0,!0)}),()=>(0,xe.m)(de?.return)&&de.return()})}(Ne,Ge);if((0,Fe.L)(Ne))return function Ue(Ne,Ge){return te((0,Fe.Q)(Ne),Ge)}(Ne,Ge)}throw(0,Pe.z)(Ne)}(Ne,Ge):(0,s.Xf)(Ne)}},8421:(wt,Ae,U)=>{U.d(Ae,{Xf:()=>$e});var s=U(7582),$=U(1144),N=U(8239),ae=U(9751),ue=U(3670),ne=U(2206),Ee=U(4532),be=U(6495),xe=U(3260),Z=U(576),q=U(7849),te=U(8822);function $e(Se){if(Se instanceof ae.y)return Se;if(null!=Se){if((0,ue.c)(Se))return function Me(Se){return new ae.y(Te=>{const Ne=Se[te.L]();if((0,Z.m)(Ne.subscribe))return Ne.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,$.z)(Se))return function Ye(Se){return new ae.y(Te=>{for(let Ne=0;Ne<Se.length&&!Te.closed;Ne++)Te.next(Se[Ne]);Te.complete()})}(Se);if((0,N.t)(Se))return function lt(Se){return new ae.y(Te=>{Se.then(Ne=>{Te.closed||(Te.next(Ne),Te.complete())},Ne=>Te.error(Ne)).then(null,q.h)})}(Se);if((0,ne.D)(Se))return Pe(Se);if((0,be.T)(Se))return function we(Se){return new ae.y(Te=>{for(const Ne of Se)if(Te.next(Ne),Te.closed)return;Te.complete()})}(Se);if((0,xe.L)(Se))return function Fe(Se){return Pe((0,xe.Q)(Se))}(Se)}throw(0,Ee.z)(Se)}function Pe(Se){return new ae.y(Te=>{(function Ue(Se,Te){var Ne,Ge,Be,de;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Ne=(0,s.KL)(Se);!(Ge=yield Ne.next()).done;)if(Te.next(Ge.value),Te.closed)return}catch(rt){Be={error:rt}}finally{try{Ge&&!Ge.done&&(de=Ne.return)&&(yield de.call(Ne))}finally{if(Be)throw Be.error}}Te.complete()})})(Se,Te).catch(Ne=>Te.error(Ne))})}},6451:(wt,Ae,U)=>{U.d(Ae,{T:()=>ne});var s=U(8189),$=U(8421),N=U(515),ae=U(3269),ue=U(8996);function ne(...Ee){const be=(0,ae.yG)(Ee),xe=(0,ae._6)(Ee,1/0),Z=Ee;return Z.length?1===Z.length?(0,$.Xf)(Z[0]):(0,s.J)(xe)((0,ue.D)(Z,be)):N.E}},5403:(wt,Ae,U)=>{U.d(Ae,{x:()=>$});var s=U(930);function $(ae,ue,ne,Ee,be){return new N(ae,ue,ne,Ee,be)}class N extends s.Lv{constructor(ue,ne,Ee,be,xe,Z){super(ue),this.onFinalize=xe,this.shouldUnsubscribe=Z,this._next=ne?function(q){try{ne(q)}catch(te){ue.error(te)}}:super._next,this._error=be?function(q){try{be(q)}catch(te){ue.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(q){ue.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(wt,Ae,U)=>{U.d(Ae,{U:()=>N});var s=U(4482),$=U(5403);function N(ae,ue){return(0,s.e)((ne,Ee)=>{let be=0;ne.subscribe((0,$.x)(Ee,xe=>{Ee.next(ae.call(ue,xe,be++))}))})}},8189:(wt,Ae,U)=>{U.d(Ae,{J:()=>N});var s=U(5577),$=U(4671);function N(ae=1/0){return(0,s.z)($.y,ae)}},5577:(wt,Ae,U)=>{U.d(Ae,{z:()=>be});var s=U(4004),$=U(8421),N=U(4482),ae=U(9672),ue=U(5403),Ee=U(576);function be(xe,Z,q=1/0){return(0,Ee.m)(Z)?be((te,$e)=>(0,s.U)((Me,Ye)=>Z(te,Me,$e,Ye))((0,$.Xf)(xe(te,$e))),q):("number"==typeof Z&&(q=Z),(0,N.e)((te,$e)=>function ne(xe,Z,q,te,$e,Me,Ye,lt){const we=[];let Pe=0,Fe=0,Ue=!1;const Se=()=>{Ue&&!we.length&&!Pe&&Z.complete()},Te=Ge=>Pe<te?Ne(Ge):we.push(Ge),Ne=Ge=>{Me&&Z.next(Ge),Pe++;let Be=!1;(0,$.Xf)(q(Ge,Fe++)).subscribe((0,ue.x)(Z,de=>{$e?.(de),Me?Te(de):Z.next(de)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Pe--;we.length&&Pe<te;){const de=we.shift();Ye?(0,ae.f)(Z,Ye,()=>Ne(de)):Ne(de)}Se()}catch(de){Z.error(de)}}))};return xe.subscribe((0,ue.x)(Z,Te,()=>{Ue=!0,Se()})),()=>{lt?.()}}(te,$e,xe,q)))}},5363:(wt,Ae,U)=>{U.d(Ae,{Q:()=>ae});var s=U(9672),$=U(4482),N=U(5403);function ae(ue,ne=0){return(0,$.e)((Ee,be)=>{Ee.subscribe((0,N.x)(be,xe=>(0,s.f)(be,ue,()=>be.next(xe),ne),()=>(0,s.f)(be,ue,()=>be.complete(),ne),xe=>(0,s.f)(be,ue,()=>be.error(xe),ne)))})}},3099:(wt,Ae,U)=>{U.d(Ae,{B:()=>ue});var s=U(8421),$=U(7579),N=U(930),ae=U(4482);function ue(Ee={}){const{connector:be=(()=>new $.x),resetOnError:xe=!0,resetOnComplete:Z=!0,resetOnRefCountZero:q=!0}=Ee;return te=>{let $e,Me,Ye,lt=0,we=!1,Pe=!1;const Fe=()=>{Me?.unsubscribe(),Me=void 0},Ue=()=>{Fe(),$e=Ye=void 0,we=Pe=!1},Se=()=>{const Te=$e;Ue(),Te?.unsubscribe()};return(0,ae.e)((Te,Ne)=>{lt++,!Pe&&!we&&Fe();const Ge=Ye=Ye??be();Ne.add(()=>{lt--,0===lt&&!Pe&&!we&&(Me=ne(Se,q))}),Ge.subscribe(Ne),!$e&&lt>0&&($e=new N.Hp({next:Be=>Ge.next(Be),error:Be=>{Pe=!0,Fe(),Me=ne(Ue,xe,Be),Ge.error(Be)},complete:()=>{we=!0,Fe(),Me=ne(Ue,Z),Ge.complete()}}),(0,s.Xf)(Te).subscribe($e))})(te)}}function ne(Ee,be,...xe){if(!0===be)return void Ee();if(!1===be)return;const Z=new N.Hp({next:()=>{Z.unsubscribe(),Ee()}});return(0,s.Xf)(be(...xe)).subscribe(Z)}},9468:(wt,Ae,U)=>{U.d(Ae,{R:()=>$});var s=U(4482);function $(N,ae=0){return(0,s.e)((ue,ne)=>{ne.add(N.schedule(()=>ue.subscribe(ne),ae))})}},8505:(wt,Ae,U)=>{U.d(Ae,{b:()=>ue});var s=U(576),$=U(4482),N=U(5403),ae=U(4671);function ue(ne,Ee,be){const xe=(0,s.m)(ne)||Ee||be?{next:ne,error:Ee,complete:be}:ne;return xe?(0,$.e)((Z,q)=>{var te;null===(te=xe.subscribe)||void 0===te||te.call(xe);let $e=!0;Z.subscribe((0,N.x)(q,Me=>{var Ye;null===(Ye=xe.next)||void 0===Ye||Ye.call(xe,Me),q.next(Me)},()=>{var Me;$e=!1,null===(Me=xe.complete)||void 0===Me||Me.call(xe),q.complete()},Me=>{var Ye;$e=!1,null===(Ye=xe.error)||void 0===Ye||Ye.call(xe,Me),q.error(Me)},()=>{var Me,Ye;$e&&(null===(Me=xe.unsubscribe)||void 0===Me||Me.call(xe)),null===(Ye=xe.finalize)||void 0===Ye||Ye.call(xe)}))}):ae.y}},4408:(wt,Ae,U)=>{U.d(Ae,{o:()=>ue});var s=U(727);class $ extends s.w0{constructor(Ee,be){super()}schedule(Ee,be=0){return this}}const N={setInterval(ne,Ee,...be){const{delegate:xe}=N;return xe?.setInterval?xe.setInterval(ne,Ee,...be):setInterval(ne,Ee,...be)},clearInterval(ne){const{delegate:Ee}=N;return(Ee?.clearInterval||clearInterval)(ne)},delegate:void 0};var ae=U(8737);class ue extends ${constructor(Ee,be){super(Ee,be),this.scheduler=Ee,this.work=be,this.pending=!1}schedule(Ee,be=0){var xe;if(this.closed)return this;this.state=Ee;const Z=this.id,q=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(q,Z,be)),this.pending=!0,this.delay=be,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(q,this.id,be),this}requestAsyncId(Ee,be,xe=0){return N.setInterval(Ee.flush.bind(Ee,this),xe)}recycleAsyncId(Ee,be,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return be;null!=be&&N.clearInterval(be)}execute(Ee,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(Ee,be);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,be){let Z,xe=!1;try{this.work(Ee)}catch(q){xe=!0,Z=q||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:be}=this,{actions:xe}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(xe,this),null!=Ee&&(this.id=this.recycleAsyncId(be,Ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(wt,Ae,U)=>{U.d(Ae,{v:()=>N});var s=U(6063);class ${constructor(ue,ne=$.now){this.schedulerActionCtor=ue,this.now=ne}schedule(ue,ne=0,Ee){return new this.schedulerActionCtor(this,ue).schedule(Ee,ne)}}$.now=s.l.now;class N extends ${constructor(ue,ne=$.now){super(ue,ne),this.actions=[],this._active=!1}flush(ue){const{actions:ne}=this;if(this._active)return void ne.push(ue);let Ee;this._active=!0;do{if(Ee=ue.execute(ue.state,ue.delay))break}while(ue=ne.shift());if(this._active=!1,Ee){for(;ue=ne.shift();)ue.unsubscribe();throw Ee}}}},4986:(wt,Ae,U)=>{U.d(Ae,{P:()=>ae,z:()=>N});var s=U(4408);const N=new(U(7565).v)(s.o),ae=N},6063:(wt,Ae,U)=>{U.d(Ae,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(wt,Ae,U)=>{U.d(Ae,{z:()=>s});const s={setTimeout($,N,...ae){const{delegate:ue}=s;return ue?.setTimeout?ue.setTimeout($,N,...ae):setTimeout($,N,...ae)},clearTimeout($){const{delegate:N}=s;return(N?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(wt,Ae,U)=>{U.d(Ae,{h:()=>$});const $=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(wt,Ae,U)=>{U.d(Ae,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(wt,Ae,U)=>{U.d(Ae,{_6:()=>ne,jO:()=>ae,yG:()=>ue});var s=U(576),$=U(3532);function N(Ee){return Ee[Ee.length-1]}function ae(Ee){return(0,s.m)(N(Ee))?Ee.pop():void 0}function ue(Ee){return(0,$.K)(N(Ee))?Ee.pop():void 0}function ne(Ee,be){return"number"==typeof N(Ee)?Ee.pop():be}},8737:(wt,Ae,U)=>{function s($,N){if($){const ae=$.indexOf(N);0<=ae&&$.splice(ae,1)}}U.d(Ae,{P:()=>s})},3888:(wt,Ae,U)=>{function s($){const ae=$(ue=>{Error.call(ue),ue.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}U.d(Ae,{d:()=>s})},2806:(wt,Ae,U)=>{U.d(Ae,{O:()=>ae,x:()=>N});var s=U(2416);let $=null;function N(ue){if(s.v.useDeprecatedSynchronousErrorHandling){const ne=!$;if(ne&&($={errorThrown:!1,error:null}),ue(),ne){const{errorThrown:Ee,error:be}=$;if($=null,Ee)throw be}}else ue()}function ae(ue){s.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=ue)}},9672:(wt,Ae,U)=>{function s($,N,ae,ue=0,ne=!1){const Ee=N.schedule(function(){ae(),ne?$.add(this.schedule(null,ue)):this.unsubscribe()},ue);if($.add(Ee),!ne)return Ee}U.d(Ae,{f:()=>s})},4671:(wt,Ae,U)=>{function s($){return $}U.d(Ae,{y:()=>s})},1144:(wt,Ae,U)=>{U.d(Ae,{z:()=>s});const s=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(wt,Ae,U)=>{U.d(Ae,{D:()=>$});var s=U(576);function $(N){return Symbol.asyncIterator&&(0,s.m)(N?.[Symbol.asyncIterator])}},576:(wt,Ae,U)=>{function s($){return"function"==typeof $}U.d(Ae,{m:()=>s})},3670:(wt,Ae,U)=>{U.d(Ae,{c:()=>N});var s=U(8822),$=U(576);function N(ae){return(0,$.m)(ae[s.L])}},6495:(wt,Ae,U)=>{U.d(Ae,{T:()=>N});var s=U(2202),$=U(576);function N(ae){return(0,$.m)(ae?.[s.h])}},8239:(wt,Ae,U)=>{U.d(Ae,{t:()=>$});var s=U(576);function $(N){return(0,s.m)(N?.then)}},3260:(wt,Ae,U)=>{U.d(Ae,{L:()=>ae,Q:()=>N});var s=U(7582),$=U(576);function N(ue){return(0,s.FC)(this,arguments,function*(){const Ee=ue.getReader();try{for(;;){const{value:be,done:xe}=yield(0,s.qq)(Ee.read());if(xe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(be)}}finally{Ee.releaseLock()}})}function ae(ue){return(0,$.m)(ue?.getReader)}},3532:(wt,Ae,U)=>{U.d(Ae,{K:()=>$});var s=U(576);function $(N){return N&&(0,s.m)(N.schedule)}},4482:(wt,Ae,U)=>{U.d(Ae,{A:()=>$,e:()=>N});var s=U(576);function $(ae){return(0,s.m)(ae?.lift)}function N(ae){return ue=>{if($(ue))return ue.lift(function(ne){try{return ae(ne,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(wt,Ae,U)=>{function s(){}U.d(Ae,{Z:()=>s})},9635:(wt,Ae,U)=>{U.d(Ae,{U:()=>N,z:()=>$});var s=U(4671);function $(...ae){return N(ae)}function N(ae){return 0===ae.length?s.y:1===ae.length?ae[0]:function(ne){return ae.reduce((Ee,be)=>be(Ee),ne)}}},7849:(wt,Ae,U)=>{U.d(Ae,{h:()=>N});var s=U(2416),$=U(3410);function N(ae){$.z.setTimeout(()=>{const{onUnhandledError:ue}=s.v;if(!ue)throw ae;ue(ae)})}},4532:(wt,Ae,U)=>{function s($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Ae,{z:()=>s})},4650:(wt,Ae,U)=>{U.d(Ae,{$8M:()=>yl,$WT:()=>rr,$Z:()=>Mv,AFp:()=>LM,ALo:()=>QC,AaK:()=>be,AsE:()=>lb,BQk:()=>m_,CHM:()=>pd,CRH:()=>fE,CZH:()=>kb,CqO:()=>au,D6c:()=>gu,DdM:()=>cM,EJc:()=>I2,EiD:()=>oS,EpF:()=>Zx,F$t:()=>Jx,F4k:()=>rp,FYo:()=>Vg,FiY:()=>wr,G48:()=>U2,Gf:()=>uE,GfV:()=>Mc,GkF:()=>qx,Gpc:()=>q,Hsn:()=>Qv,Ikx:()=>pb,JOm:()=>ho,JVY:()=>Ph,JZr:()=>lt,KtG:()=>cl,L6k:()=>Im,LAX:()=>eS,LFG:()=>zt,Lbi:()=>C2,Lck:()=>UL,MAs:()=>Wx,MMx:()=>WC,MR2:()=>RF,NdJ:()=>Yv,O4$:()=>vd,OlP:()=>hn,Oqu:()=>ab,P3R:()=>Lh,PXZ:()=>N2,Q6J:()=>qv,QGY:()=>ip,QbO:()=>UM,Qsj:()=>ax,R0b:()=>ia,RDi:()=>GT,Rgc:()=>pp,SBq:()=>km,Sil:()=>HM,Suo:()=>hE,TTD:()=>Hu,TgZ:()=>u_,Udp:()=>nb,W1O:()=>_E,WFA:()=>Kv,X6Q:()=>V2,XFs:()=>_t,Xpm:()=>$t,Xts:()=>On,Y36:()=>Gh,YKP:()=>eM,YNc:()=>ou,Yjl:()=>tn,Yz7:()=>ht,Z0I:()=>Bn,ZZ4:()=>Vb,_Bn:()=>JA,_UZ:()=>Zv,_Vd:()=>Uh,_c5:()=>_k,_uU:()=>wC,aQg:()=>Ub,c2e:()=>E2,cJS:()=>Et,cg1:()=>C_,d8E:()=>Bl,dDg:()=>V_,dqk:()=>pn,eBb:()=>iv,eFA:()=>XM,eJc:()=>F_,ekj:()=>ib,eoX:()=>ME,f3M:()=>Wn,g9A:()=>VM,h0i:()=>mp,hGG:()=>pf,hij:()=>Ji,iGM:()=>dE,ifc:()=>V,ip1:()=>FM,jDz:()=>nM,kL8:()=>EA,kcU:()=>lc,lG2:()=>Mt,lcZ:()=>Wa,lqb:()=>Sc,lri:()=>WM,mCW:()=>jr,n5z:()=>Td,n_E:()=>N_,oAB:()=>le,oxw:()=>Xx,pB0:()=>rv,q3G:()=>sr,q4F:()=>dx,qLn:()=>Rm,qOj:()=>Lc,qZA:()=>h_,qzn:()=>Na,rWj:()=>qM,sBO:()=>j2,s_b:()=>_b,soG:()=>$c,tBr:()=>wl,tb:()=>kE,tp0:()=>Ma,uIk:()=>$v,vHH:()=>we,vpe:()=>po,wAp:()=>Nt,xp6:()=>Hh,ynx:()=>f_,z2F:()=>ff,z3N:()=>Ys,zSh:()=>ox,zs3:()=>Ua});var s=U(7579),$=U(727),N=U(9751),ae=U(6451),ue=U(3099);function ne(a){for(let l in a)if(a[l]===ne)return l;throw Error("Could not find renamed property on target object.")}function Ee(a,l){for(const d in l)l.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=l[d])}function be(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(be).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const d=l.indexOf("\n");return-1===d?l:l.substring(0,d)}function xe(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const Z=ne({__forward_ref__:ne});function q(a){return a.__forward_ref__=q,a.toString=function(){return be(this())},a}function te(a){return $e(a)?a():a}function $e(a){return"function"==typeof a&&a.hasOwnProperty(Z)&&a.__forward_ref__===q}function Me(a){return a&&!!a.\u0275providers}const lt="https://g.co/ng/security#xss";class we extends Error{constructor(l,d){super(Pe(l,d)),this.code=l}}function Pe(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}function Fe(a){return"string"==typeof a?a:null==a?"":String(a)}function Ge(a,l){throw new we(-201,!1)}function ve(a,l){null==a&&function oe(a,l,d,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${d} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function ht(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Et(a){return{providers:a.providers||[],imports:a.imports||[]}}function ln(a){return yn(a,Gn)||yn(a,Fr)}function Bn(a){return null!==ln(a)}function yn(a,l){return a.hasOwnProperty(l)?a[l]:null}function Vn(a){return a&&(a.hasOwnProperty(yi)||a.hasOwnProperty(Jn))?a[yi]:null}const Gn=ne({\u0275prov:ne}),yi=ne({\u0275inj:ne}),Fr=ne({ngInjectableDef:ne}),Jn=ne({ngInjectorDef:ne});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let ei;function si(a){const l=ei;return ei=a,l}function nr(a,l,d){const h=ln(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&_t.Optional?null:void 0!==l?l:void Ge(be(a))}const pn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ai={},Gi="__NG_DI_FLAG__",ti="ngTempTokenPath",pr="ngTokenPath",ni=/\n/gm,Ni="\u0275",Jt="__source";let Lr;function en(a){const l=Lr;return Lr=a,l}function Sr(a,l=_t.Default){if(void 0===Lr)throw new we(-203,!1);return null===Lr?nr(a,void 0,l):Lr.get(a,l&_t.Optional?null:void 0,l)}function zt(a,l=_t.Default){return(function Eo(){return ei}()||Sr)(te(a),l)}function Wn(a,l=_t.Default){return zt(a,Wi(l))}function Wi(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function ci(a){const l=[];for(let d=0;d<a.length;d++){const h=te(a[d]);if(Array.isArray(h)){if(0===h.length)throw new we(900,!1);let f,g=_t.Default;for(let v=0;v<h.length;v++){const E=h[v],I=ir(E);"number"==typeof I?-1===I?f=E.token:g|=I:f=E}l.push(zt(f,g))}else l.push(zt(h))}return l}function gr(a,l){return a[Gi]=l,a.prototype[Gi]=l,a}function ir(a){return a[Gi]}function G(a){return{toString:a}.toString()}var L=(()=>((L=L||{})[L.OnPush=0]="OnPush",L[L.Default=1]="Default",L))(),V=(()=>{return(a=V||(V={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",V;var a})();const P={},Q=[],Ce=ne({\u0275cmp:ne}),ot=ne({\u0275dir:ne}),At=ne({\u0275pipe:ne}),It=ne({\u0275mod:ne}),Kt=ne({\u0275fac:ne}),kt=ne({__NG_ELEMENT_ID__:ne});let Rn=0;function $t(a){return G(()=>{const l=Kl(a),d={...l,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&a.dependencies||null,getStandaloneInjector:null,data:a.data||{},encapsulation:a.encapsulation||V.Emulated,id:"c"+Rn++,styles:a.styles||Q,_:null,schemas:a.schemas||null,tView:null};Xf(d);const h=a.dependencies;return d.directiveDefs=rs(h,!1),d.pipeDefs=rs(h,!0),d})}function Bo(a){return xt(a)||bn(a)}function _e(a){return null!==a}function le(a){return G(()=>({type:a.type,bootstrap:a.bootstrap||Q,declarations:a.declarations||Q,imports:a.imports||Q,exports:a.exports||Q,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function vt(a,l){if(null==a)return P;const d={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),d[f]=h,l&&(l[f]=g)}return d}function Mt(a){return G(()=>{const l=Kl(a);return Xf(l),l})}function tn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function xt(a){return a[Ce]||null}function bn(a){return a[ot]||null}function dn(a){return a[At]||null}function rr(a){const l=xt(a)||bn(a)||dn(a);return null!==l&&l.standalone}function Li(a,l){const d=a[It]||null;if(!d&&!0===l)throw new Error(`Type ${be(a)} does not have '\u0275mod' property.`);return d}function Kl(a){const l={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,exportAs:a.exportAs||null,standalone:!0===a.standalone,selectors:a.selectors||Q,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vt(a.inputs,l),outputs:vt(a.outputs)}}function Xf(a){a.features?.forEach(l=>l(a))}function rs(a,l){if(!a)return null;const d=l?dn:Bo;return()=>("function"==typeof a?a():a).map(h=>d(h)).filter(_e)}const Bi=0,tt=1,Qt=2,Un=3,wn=4,os=5,Vi=6,ao=7,ii=8,nl=9,vi=10,Wt=11,Ql=12,Gr=13,ha=14,Vo=15,Ci=16,Ss=17,As=18,Br=19,Ms=20,Ei=21,An=22,dd=1,il=2,fa=7,ss=8,qi=9,Zi=10;function yr(a){return Array.isArray(a)&&"object"==typeof a[dd]}function lo(a){return Array.isArray(a)&&!0===a[dd]}function ks(a){return 0!=(4&a.flags)}function Xl(a){return a.componentOffset>-1}function rl(a){return 1==(1&a.flags)}function Ar(a){return!!a.template}function as(a){return 0!=(256&a[Qt])}function Uo(a,l){return a.hasOwnProperty(Kt)?a[Kt]:null}class ju{constructor(l,d,h){this.previousValue=l,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function Hu(){return Jl}function Jl(a){return a.type.prototype.ngOnChanges&&(a.setInput=ds),im}function im(){const a=ec(this),l=a?.current;if(l){const d=a.previous;if(d===P)a.previous=l;else for(let h in l)d[h]=l[h];a.current=null,this.ngOnChanges(l)}}function ds(a,l,d,h){const f=this.declaredInputs[d],g=ec(a)||function zu(a,l){return a[ud]=l}(a,{previous:P,current:null}),v=g.current||(g.current={}),E=g.previous,I=E[f];v[f]=new ju(I&&I.currentValue,l,E===P),a[h]=l}Hu.ngInherit=!0;const ud="__ngSimpleChanges__";function ec(a){return a[ud]||null}const qn=function(a,l,d){},sl="svg";function Di(a){for(;Array.isArray(a);)a=a[Bi];return a}function Ps(a,l){return Di(l[a])}function Yi(a,l){return Di(l[a.index])}function nc(a,l){return a.data[l]}function vr(a,l){return a[l]}function Ui(a,l){const d=l[a];return yr(d)?d:d[Bi]}function us(a){return 64==(64&a[Qt])}function jo(a,l){return null==l?null:a[l]}function ll(a){a[As]=0}function _a(a,l){a[os]+=l;let d=a,h=a[Un];for(;null!==h&&(1===l&&1===d[os]||-1===l&&0===d[os]);)h[os]+=l,d=h,h=h[Un]}const Ot={lFrame:ul(null),bindingsEnabled:!0};function Gu(){return Ot.bindingsEnabled}function ye(){return Ot.lFrame.lView}function Ut(){return Ot.lFrame.tView}function pd(a){return Ot.lFrame.contextLView=a,a[ii]}function cl(a){return Ot.lFrame.contextLView=null,a}function di(){let a=qu();for(;null!==a&&64===a.type;)a=a.parent;return a}function qu(){return Ot.lFrame.currentTNode}function qr(a,l){const d=Ot.lFrame;d.currentTNode=a,d.isParent=l}function rc(){return Ot.lFrame.isParent}function Zu(){Ot.lFrame.isParent=!1}function Ki(){const a=Ot.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Ho(){return Ot.lFrame.bindingIndex++}function Io(a){const l=Ot.lFrame,d=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,d}function Qu(a,l){const d=Ot.lFrame;d.bindingIndex=d.bindingRootIndex=a,ui(l)}function ui(a){Ot.lFrame.currentDirectiveIndex=a}function oc(a){const l=Ot.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function dl(){return Ot.lFrame.currentQueryIndex}function Xu(a){Ot.lFrame.currentQueryIndex=a}function sc(a){const l=a[tt];return 2===l.type?l.declTNode:1===l.type?a[Vi]:null}function Ju(a,l,d){if(d&_t.SkipSelf){let f=l,g=a;for(;!(f=f.parent,null!==f||d&_t.Host||(f=sc(g),null===f||(g=g[Vo],10&f.type))););if(null===f)return!1;l=f,a=g}const h=Ot.lFrame=gd();return h.currentTNode=l,h.lView=a,!0}function ba(a){const l=gd(),d=a[tt];Ot.lFrame=l,l.currentTNode=d.firstChild,l.lView=a,l.tView=d,l.contextLView=a,l.bindingIndex=d.bindingStartIndex,l.inI18n=!1}function gd(){const a=Ot.lFrame,l=null===a?null:a.child;return null===l?ul(a):l}function ul(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function _d(){const a=Ot.lFrame;return Ot.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const ac=_d;function eh(){const a=_d();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function or(){return Ot.lFrame.selectedIndex}function To(a){Ot.lFrame.selectedIndex=a}function jn(){const a=Ot.lFrame;return nc(a.tView,a.selectedIndex)}function vd(){Ot.lFrame.currentNamespace=sl}function lc(){!function _g(){Ot.lFrame.currentNamespace=null}()}function cc(a,l){for(let d=l.directiveStart,h=l.directiveEnd;d<h;d++){const g=a.data[d].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:O}=g;v&&(a.contentHooks??(a.contentHooks=[])).push(-d,v),E&&((a.contentHooks??(a.contentHooks=[])).push(d,E),(a.contentCheckHooks??(a.contentCheckHooks=[])).push(d,E)),I&&(a.viewHooks??(a.viewHooks=[])).push(-d,I),S&&((a.viewHooks??(a.viewHooks=[])).push(d,S),(a.viewCheckHooks??(a.viewCheckHooks=[])).push(d,S)),null!=O&&(a.destroyHooks??(a.destroyHooks=[])).push(d,O)}}function bd(a,l,d){dc(a,l,3,d)}function ih(a,l,d,h){(3&a[Qt])===d&&dc(a,l,d,h)}function rh(a,l){let d=a[Qt];(3&d)===l&&(d&=2047,d+=1,a[Qt]=d)}function dc(a,l,d,h){const g=h??-1,v=l.length-1;let E=0;for(let I=void 0!==h?65535&a[As]:0;I<v;I++)if("number"==typeof l[I+1]){if(E=l[I],null!=h&&E>=h)break}else l[I]<0&&(a[As]+=65536),(E<g||-1==g)&&(xa(a,d,l,I),a[As]=(4294901760&a[As])+I+2),I++}function xa(a,l,d,h){const f=d[h]<0,g=d[h+1],E=a[f?-d[h]:d[h]];if(f){if(a[Qt]>>11<a[As]>>16&&(3&a[Qt])===l){a[Qt]+=2048,qn(4,E,g);try{g.call(E)}finally{qn(5,E,g)}}}else{qn(4,E,g);try{g.call(E)}finally{qn(5,E,g)}}}const hl=-1;class zo{constructor(l,d,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function Ca(a,l,d){let h=0;for(;h<d.length;){const f=d[h];if("number"==typeof f){if(0!==f)break;h++;const g=d[h++],v=d[h++],E=d[h++];a.setAttribute(l,v,E,g)}else{const g=f,v=d[++h];ms(g)?a.setProperty(l,g,v):a.setAttribute(l,g,v),h++}}return h}function sh(a){return 3===a||4===a||6===a}function ms(a){return 64===a.charCodeAt(0)}function Fs(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let d=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?d=f:0===d||Ea(a,d,f,null,-1===d||2===d?l[++h]:null)}}return a}function Ea(a,l,d,h,f){let g=0,v=a.length;if(-1===l)v=-1;else for(;g<a.length;){const E=a[g++];if("number"==typeof E){if(E===l){v=-1;break}if(E>l){v=g-1;break}}}for(;g<a.length;){const E=a[g];if("number"==typeof E)break;if(E===d){if(null===h)return void(null!==f&&(a[g+1]=f));if(h===a[g+1])return void(a[g+2]=f)}g++,null!==h&&g++,null!==f&&g++}-1!==v&&(a.splice(v,0,l),g=v+1),a.splice(g++,0,d),null!==h&&a.splice(g++,0,h),null!==f&&a.splice(g++,0,f)}function Ls(a){return a!==hl}function Da(a){return 32767&a}function pl(a,l){let d=function ml(a){return a>>16}(a),h=l;for(;d>0;)h=h[Vo],d--;return h}let xd=!0;function gl(a){const l=xd;return xd=a,l}const Cd=255,fc=5;let Ed=0;const br={};function Dd(a,l){const d=lh(a,l);if(-1!==d)return d;const h=l[tt];h.firstCreatePass&&(a.injectorIndex=l.length,So(h.data,a),So(l,null),So(h.blueprint,null));const f=hi(a,l),g=a.injectorIndex;if(Ls(f)){const v=Da(f),E=pl(f,l),I=E[tt].data;for(let S=0;S<8;S++)l[g+S]=E[v+S]|I[v+S]}return l[g+8]=f,g}function So(a,l){a.push(0,0,0,0,0,0,0,0,l)}function lh(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function hi(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,h=null,f=l;for(;null!==f;){if(h=Bs(f),null===h)return hl;if(d++,f=f[Vo],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return hl}function ps(a,l,d){!function ah(a,l,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(kt)&&(h=d[kt]),null==h&&(h=d[kt]=Ed++);const f=h&Cd;l.data[a+(f>>fc)]|=1<<f}(a,l,d)}function ch(a,l,d){if(d&_t.Optional||void 0!==a)return a;Ge()}function _l(a,l,d,h){if(d&_t.Optional&&void 0===h&&(h=null),!(d&(_t.Self|_t.Host))){const f=a[nl],g=si(void 0);try{return f?f.get(l,h,d&_t.Optional):nr(l,h,d&_t.Optional)}finally{si(g)}}return ch(h,0,d)}function dh(a,l,d,h=_t.Default,f){if(null!==a){if(1024&l[Qt]){const v=function cm(a,l,d,h,f){let g=a,v=l;for(;null!==g&&null!==v&&1024&v[Qt]&&!(256&v[Qt]);){const E=pc(g,v,d,h|_t.Self,br);if(E!==br)return E;let I=g.parent;if(!I){const S=v[Ei];if(S){const O=S.get(d,br,h);if(O!==br)return O}I=Bs(v),v=v[Vo]}g=I}return f}(a,l,d,h,br);if(v!==br)return v}const g=pc(a,l,d,h,br);if(g!==br)return g}return _l(l,d,h,f)}function pc(a,l,d,h,f){const g=function lm(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(kt)?a[kt]:void 0;return"number"==typeof l?l>=0?l&Cd:Id:l}(d);if("function"==typeof g){if(!Ju(l,a,h))return h&_t.Host?ch(f,0,h):_l(l,d,h,f);try{const v=g(h);if(null!=v||h&_t.Optional)return v;Ge()}finally{ac()}}else if("number"==typeof g){let v=null,E=lh(a,l),I=hl,S=h&_t.Host?l[Ci][Vi]:null;for((-1===E||h&_t.SkipSelf)&&(I=-1===E?hi(a,l):l[E+8],I!==hl&&gc(h,!1)?(v=l[tt],E=Da(I),l=pl(I,l)):E=-1);-1!==E;){const O=l[tt];if(gs(g,E,O.data)){const H=Ii(E,l,d,v,h,S);if(H!==br)return H}I=l[E+8],I!==hl&&gc(h,l[tt].data[E+8]===S)&&gs(g,E,l)?(v=O,E=Da(I),l=pl(I,l)):E=-1}}return f}function Ii(a,l,d,h,f,g){const v=l[tt],E=v.data[a+8],O=Ia(E,v,d,null==h?Xl(E)&&xd:h!=v&&0!=(3&E.type),f&_t.Host&&g===E);return null!==O?Zn(l,v,O,E):br}function Ia(a,l,d,h,f){const g=a.providerIndexes,v=l.data,E=1048575&g,I=a.directiveStart,O=g>>20,X=f?E+O:a.directiveEnd;for(let re=h?E:E+O;re<X;re++){const Ie=v[re];if(re<I&&d===Ie||re>=I&&Ie.type===d)return re}if(f){const re=v[I];if(re&&Ar(re)&&re.type===d)return I}return null}function Zn(a,l,d,h){let f=a[d];const g=l.data;if(function vg(a){return a instanceof zo}(f)){const v=f;v.resolving&&function Se(a,l){const d=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new we(-200,`Circular dependency in DI detected for ${a}${d}`)}(function Ue(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Fe(a)}(g[d]));const E=gl(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?si(v.injectImpl):null;Ju(a,h,_t.Default);try{f=a[d]=v.factory(void 0,g,a,h),l.firstCreatePass&&d>=h.directiveStart&&function yg(a,l,d){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(h){const v=Jl(l);(d.preOrderHooks??(d.preOrderHooks=[])).push(a,v),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(a,v)}f&&(d.preOrderHooks??(d.preOrderHooks=[])).push(0-a,f),g&&((d.preOrderHooks??(d.preOrderHooks=[])).push(a,g),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(a,g))}(d,g[d],l)}finally{null!==I&&si(I),gl(E),v.resolving=!1,ac()}}return f}function gs(a,l,d){return!!(d[l+(a>>fc)]&1<<a)}function gc(a,l){return!(a&_t.Self||a&_t.Host&&l)}class Ta{constructor(l,d){this._tNode=l,this._lView=d}get(l,d,h){return dh(this._tNode,this._lView,l,Wi(h),d)}}function Id(){return new Ta(di(),ye())}function Td(a){return G(()=>{const l=a.prototype.constructor,d=l[Kt]||_s(l),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const g=f[Kt]||_s(f);if(g&&g!==d)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function _s(a){return $e(a)?()=>{const l=_s(te(a));return l&&l()}:Uo(a)}function Bs(a){const l=a[tt],d=l.type;return 2===d?l.declTNode:1===d?a[Vi]:null}function yl(a){return function mc(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const d=a.attrs;if(d){const h=d.length;let f=0;for(;f<h;){const g=d[f];if(sh(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<h&&"string"==typeof d[f];)f++;else{if(g===l)return d[f+1];f+=2}}}return null}(di(),a)}const Us="__parameters__";function js(a,l,d){return G(()=>{const h=function uh(a){return function(...d){if(a){const h=a(...d);for(const f in h)this[f]=h[f]}}}(l);function f(...g){if(this instanceof f)return h.apply(this,g),this;const v=new f(...g);return E.annotation=v,E;function E(I,S,O){const H=I.hasOwnProperty(Us)?I[Us]:Object.defineProperty(I,Us,{value:[]})[Us];for(;H.length<=O;)H.push(null);return(H[O]=H[O]||[]).push(v),I}}return d&&(f.prototype=Object.create(d.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class hn{constructor(l,d){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=ht({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ys(a,l){a.forEach(d=>Array.isArray(d)?ys(d,l):l(d))}function Od(a,l,d){l>=a.length?a.push(d):a.splice(l,0,d)}function vl(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Sa(a,l){const d=[];for(let h=0;h<a;h++)d.push(l);return d}function Zr(a,l,d){let h=on(a,l);return h>=0?a[1|h]=d:(h=~h,function bl(a,l,d,h){let f=a.length;if(f==l)a.push(d,h);else if(1===f)a.push(h,a[0]),a[0]=d;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=d,a[l+1]=h}}(a,h,l,d)),h}function Yr(a,l){const d=on(a,l);if(d>=0)return a[1|d]}function on(a,l){return function fi(a,l,d){let h=0,f=a.length>>d;for(;f!==h;){const g=h+(f-h>>1),v=a[g<<d];if(l===v)return g<<d;v>l?f=g:h=g+1}return~(f<<d)}(a,l,1)}const wl=gr(js("Inject",a=>({token:a})),-1),wr=gr(js("Optional"),8),Ma=gr(js("SkipSelf"),4);var ho=(()=>((ho=ho||{})[ho.Important=1]="Important",ho[ho.DashCase=2]="DashCase",ho))();const Hd=new Map;let ym=0;const Y="__ngContext__";function J(a,l){yr(l)?(a[Y]=l[Ms],function vm(a){Hd.set(a[Ms],a)}(l)):a[Y]=l}let Rr;function Qr(a,l){return Rr(a,l)}function Ih(a){const l=a[Un];return lo(l)?l[Un]:l}function Sl(a){return Sh(a[Gr])}function $d(a){return Sh(a[wn])}function Sh(a){for(;null!==a&&!lo(a);)a=a[wn];return a}function Ao(a,l,d,h,f){if(null!=h){let g,v=!1;lo(h)?g=h:yr(h)&&(v=!0,h=h[Bi]);const E=Di(h);0===a&&null!==d?null==f?Or(l,d,E):qt(l,d,E,f||null,!0):1===a&&null!==d?qt(l,d,E,f||null,!0):2===a?function Eg(a,l,d){const h=Al(a,l);h&&function Gd(a,l,d,h){a.removeChild(l,d,h)}(a,h,l,d)}(l,E,v):3===a&&l.destroyNode(E),null!=g&&function Gw(a,l,d,h,f){const g=d[fa];g!==Di(d)&&Ao(l,a,h,g,f);for(let E=Zi;E<d.length;E++){const I=d[E];Kd(I[tt],I,a,l,h,g)}}(l,a,g,d,f)}}function xm(a,l,d){return a.createElement(l,d)}function C(a,l){const d=a[qi],h=d.indexOf(l),f=l[Un];512&l[Qt]&&(l[Qt]&=-513,_a(f,-1)),d.splice(h,1)}function k(a,l){if(a.length<=Zi)return;const d=Zi+l,h=a[d];if(h){const f=h[Ss];null!==f&&f!==a&&C(f,h),l>0&&(a[d-1][wn]=h[wn]);const g=vl(a,Zi+l);!function Cg(a,l){Kd(a,l,l[Wt],2,null,null),l[Bi]=null,l[Vi]=null}(h[tt],h);const v=g[Br];null!==v&&v.detachView(g[tt]),h[Un]=null,h[wn]=null,h[Qt]&=-65}return h}function F(a,l){if(!(128&l[Qt])){const d=l[Wt];d.destroyNode&&Kd(a,l,d,3,null,null),function w(a){let l=a[Gr];if(!l)return ee(a[tt],a);for(;l;){let d=null;if(yr(l))d=l[Gr];else{const h=l[Zi];h&&(d=h)}if(!d){for(;l&&!l[wn]&&l!==a;)yr(l)&&ee(l[tt],l),l=l[Un];null===l&&(l=a),yr(l)&&ee(l[tt],l),d=l&&l[wn]}l=d}}(l)}}function ee(a,l){if(!(128&l[Qt])){l[Qt]&=-65,l[Qt]|=128,function qe(a,l){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let h=0;h<d.length;h+=2){const f=l[d[h]];if(!(f instanceof zo)){const g=d[h+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=f[g[v]],I=g[v+1];qn(4,E,I);try{I.call(E)}finally{qn(5,E,I)}}else{qn(4,f,g);try{g.call(f)}finally{qn(5,f,g)}}}}}(a,l),function fe(a,l){const d=a.cleanup,h=l[ao];let f=-1;if(null!==d)for(let g=0;g<d.length-1;g+=2)if("string"==typeof d[g]){const v=d[g+3];v>=0?h[f=v]():h[f=-v].unsubscribe(),g+=2}else{const v=h[f=d[g+1]];d[g].call(v)}if(null!==h){for(let g=f+1;g<h.length;g++)(0,h[g])();l[ao]=null}}(a,l),1===l[tt].type&&l[Wt].destroy();const d=l[Ss];if(null!==d&&lo(l[Un])){d!==l[Un]&&C(d,l);const h=l[Br];null!==h&&h.detachView(a)}!function Kn(a){Hd.delete(a[Ms])}(l)}}function Je(a,l,d){return function bt(a,l,d){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return d[Bi];{const{componentOffset:f}=h;if(f>-1){const{encapsulation:g}=a.data[h.directiveStart+f];if(g===V.None||g===V.Emulated)return null}return Yi(h,d)}}(a,l.parent,d)}function qt(a,l,d,h,f){a.insertBefore(l,d,h,f)}function Or(a,l,d){a.appendChild(l,d)}function ws(a,l,d,h,f){null!==h?qt(a,l,d,h,f):Or(a,l,d)}function Al(a,l){return a.parentNode(l)}function Mh(a,l,d){return Em(a,l,d)}let qd,Jy,Dm,nv,Em=function Wd(a,l,d){return 40&a.type?Yi(a,d):null};function Ml(a,l,d,h){const f=Je(a,h,l),g=l[Wt],E=Mh(h.parent||l[Vi],h,l);if(null!=f)if(Array.isArray(d))for(let I=0;I<d.length;I++)ws(g,f,d[I],E,!1);else ws(g,f,d,E,!1);void 0!==qd&&qd(g,h,l,d,f)}function Yd(a,l){if(null!==l){const d=l.type;if(3&d)return Yi(l,a);if(4&d)return kh(-1,a[l.index]);if(8&d){const h=l.child;if(null!==h)return Yd(a,h);{const f=a[l.index];return lo(f)?kh(-1,f):Di(f)}}if(32&d)return Qr(l,a)()||Di(a[l.index]);{const h=Ic(a,l);return null!==h?Array.isArray(h)?h[0]:Yd(Ih(a[Ci]),h):Yd(a,l.next)}}return null}function Ic(a,l){return null!==l?a[Ci][Vi].projection[l.projection]:null}function kh(a,l){const d=Zi+a+1;if(d<l.length){const h=l[d],f=h[tt].firstChild;if(null!==f)return Yd(h,f)}return l[fa]}function Dg(a,l,d,h,f,g,v){for(;null!=d;){const E=h[d.index],I=d.type;if(v&&0===l&&(E&&J(Di(E),h),d.flags|=2),32!=(32&d.flags))if(8&I)Dg(a,l,d.child,h,f,g,!1),Ao(l,a,f,E,g);else if(32&I){const S=Qr(d,h);let O;for(;O=S();)Ao(l,a,f,O,g);Ao(l,a,f,E,g)}else 16&I?Qy(a,l,h,d,f,g):Ao(l,a,f,E,g);d=v?d.projectionNext:d.next}}function Kd(a,l,d,h,f,g){Dg(d,h,a.firstChild,l,f,g,!1)}function Qy(a,l,d,h,f,g){const v=d[Ci],I=v[Vi].projection[h.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)Ao(l,a,f,I[S],g);else Dg(a,l,I,v[Un],f,g,!0)}function Pa(a,l,d){""===d?a.removeAttribute(l,"class"):a.setAttribute(l,"class",d)}function Xy(a,l,d){const{mergedAttrs:h,classes:f,styles:g}=d;null!==h&&Ca(a,l,h),null!==f&&Pa(a,l,f),null!==g&&function mo(a,l,d){a.setAttribute(l,"style",d)}(a,l,g)}function Zs(a){return function qw(){if(void 0===Jy&&(Jy=null,pn.trustedTypes))try{Jy=pn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Jy}()?.createHTML(a)||a}function GT(a){Dm=a}function YT(a){return function Zw(){if(void 0===nv&&(nv=null,pn.trustedTypes))try{nv=pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return nv}()?.createScriptURL(a)||a}class Oh{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}class KT extends Oh{getTypeName(){return"HTML"}}class Yw extends Oh{getTypeName(){return"Style"}}class QT extends Oh{getTypeName(){return"Script"}}class XT extends Oh{getTypeName(){return"URL"}}class JT extends Oh{getTypeName(){return"ResourceURL"}}function Ys(a){return a instanceof Oh?a.changingThisBreaksApplicationSecurity:a}function Na(a,l){const d=function Tg(a){return a instanceof Oh&&a.getTypeName()||null}(a);if(null!=d&&d!==l){if("ResourceURL"===d&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${d} (see ${lt})`)}return d===l}function Ph(a){return new KT(a)}function Im(a){return new Yw(a)}function iv(a){return new QT(a)}function eS(a){return new XT(a)}function rv(a){return new JT(a)}class Sg{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const d=(new window.DOMParser).parseFromString(Zs(l),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(l):(d.removeChild(d.firstChild),d)}catch{return null}}}class Qw{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const d=this.inertDocument.createElement("template");return d.innerHTML=Zs(l),d}}const Ag=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jr(a){return(a=String(a)).match(Ag)?a:"unsafe:"+a}function Tc(a){const l={};for(const d of a.split(","))l[d]=!0;return l}function Mg(...a){const l={};for(const d of a)for(const h in d)d.hasOwnProperty(h)&&(l[h]=!0);return l}const ov=Tc("area,br,col,hr,img,wbr"),tS=Tc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qd=Tc("rp,rt"),Nh=Mg(ov,Mg(tS,Tc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mg(Qd,Tc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mg(Qd,tS)),Fh=Tc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Tm=Mg(Fh,Tc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nS=Tc("script,style,template");class iS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let d=l.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let f=this.checkClobberedElement(d,d.nextSibling);if(f){d=f;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(l){const d=l.nodeName.toLowerCase();if(!Nh.hasOwnProperty(d))return this.sanitizedSomething=!0,!nS.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=l.attributes;for(let f=0;f<h.length;f++){const g=h.item(f),v=g.name,E=v.toLowerCase();if(!Tm.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=g.value;Fh[E]&&(I=jr(I)),this.buf.push(" ",v,'="',lv(I),'"')}return this.buf.push(">"),!0}endElement(l){const d=l.nodeName.toLowerCase();Nh.hasOwnProperty(d)&&!ov.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(l){this.buf.push(lv(l))}checkClobberedElement(l,d){if(d&&(l.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return d}}const ex=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rS=/([^\#-~ |!])/g;function lv(a){return a.replace(/&/g,"&amp;").replace(ex,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(rS,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rg;function oS(a,l){let d=null;try{Rg=Rg||function Kw(a){const l=new Qw(a);return function Xw(){try{return!!(new window.DOMParser).parseFromString(Zs(""),"text/html")}catch{return!1}}()?new Sg(l):l}(a);let h=l?String(l):"";d=Rg.getInertBodyElement(h);let f=5,g=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=g,g=d.innerHTML,d=Rg.getInertBodyElement(h)}while(h!==g);return Zs((new iS).sanitizeChildren(cv(d)||d))}finally{if(d){const h=cv(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function cv(a){return"content"in a&&function dv(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var sr=(()=>((sr=sr||{})[sr.NONE=0]="NONE",sr[sr.HTML=1]="HTML",sr[sr.STYLE=2]="STYLE",sr[sr.SCRIPT=3]="SCRIPT",sr[sr.URL=4]="URL",sr[sr.RESOURCE_URL=5]="RESOURCE_URL",sr))();function tx(a){const l=Bh();return l?l.sanitize(sr.URL,a)||"":Na(a,"URL")?Ys(a):jr(Fe(a))}function hv(a){const l=Bh();if(l)return YT(l.sanitize(sr.RESOURCE_URL,a)||"");if(Na(a,"ResourceURL"))return YT(Ys(a));throw new we(904,!1)}function Lh(a,l,d){return function aS(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?hv:tx}(l,d)(a)}function Bh(){const a=ye();return a&&a[Ql]}const On=new hn("ENVIRONMENT_INITIALIZER"),cS=new hn("INJECTOR",-1),nx=new hn("INJECTOR_DEF_TYPES");class pv{get(l,d=ai){if(d===ai){const h=new Error(`NullInjectorError: No provider for ${be(l)}!`);throw h.name="NullInjectorError",h}return d}}function RF(a){return{\u0275providers:a}}function OF(...a){return{\u0275providers:dS(0,a),\u0275fromNgModule:!0}}function dS(a,...l){const d=[],h=new Set;let f;return ys(l,g=>{const v=g;gv(v,d,[],h)&&(f||(f=[]),f.push(v))}),void 0!==f&&uS(f,d),d}function uS(a,l){for(let d=0;d<a.length;d++){const{providers:f}=a[d];_v(f,g=>{l.push(g)})}}function gv(a,l,d,h){if(!(a=te(a)))return!1;let f=null,g=Vn(a);const v=!g&&xt(a);if(g||v){if(v&&!v.standalone)return!1;f=a}else{const I=a.ngModule;if(g=Vn(I),!g)return!1;f=I}const E=h.has(f);if(v){if(E)return!1;if(h.add(f),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of I)gv(S,l,d,h)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let S;h.add(f);try{ys(g.imports,O=>{gv(O,l,d,h)&&(S||(S=[]),S.push(O))})}finally{}void 0!==S&&uS(S,l)}if(!E){const S=Uo(f)||(()=>new f);l.push({provide:f,useFactory:S,deps:Q},{provide:nx,useValue:f,multi:!0},{provide:On,useValue:()=>zt(f),multi:!0})}const I=g.providers;null==I||E||_v(I,O=>{l.push(O)})}}return f!==a&&void 0!==a.providers}function _v(a,l){for(let d of a)Me(d)&&(d=d.\u0275providers),Array.isArray(d)?_v(d,l):l(d)}const ix=ne({provide:String,useValue:ne});function Og(a){return null!==a&&"object"==typeof a&&ix in a}function kl(a){return"function"==typeof a}const ox=new hn("Set Injector scope."),Sm={},mS={};let Pg;function Ng(){return void 0===Pg&&(Pg=new pv),Pg}class Sc{}class Fg extends Sc{get destroyed(){return this._destroyed}constructor(l,d,h,f){super(),this.parent=d,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lg(l,v=>this.processProvider(v)),this.records.set(cS,Vh(void 0,this)),f.has("environment")&&this.records.set(Sc,Vh(void 0,this));const g=this.records.get(ox);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(nx.multi,Q,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const d=en(this),h=si(void 0);try{return l()}finally{en(d),si(h)}}get(l,d=ai,h=_t.Default){this.assertNotDestroyed(),h=Wi(h);const f=en(this),g=si(void 0);try{if(!(h&_t.SkipSelf)){let E=this.records.get(l);if(void 0===E){const I=function Mm(a){return"function"==typeof a||"object"==typeof a&&a instanceof hn}(l)&&ln(l);E=I&&this.injectableDefInScope(I)?Vh(yv(l),Sm):null,this.records.set(l,E)}if(null!=E)return this.hydrate(l,E)}return(h&_t.Self?Ng():this.parent).get(l,d=h&_t.Optional&&d===ai?null:d)}catch(v){if("NullInjectorError"===v.name){if((v[ti]=v[ti]||[]).unshift(be(l)),f)throw v;return function _r(a,l,d,h){const f=a[ti];throw l[Jt]&&f.unshift(l[Jt]),a.message=function W(a,l,d,h=null){a=a&&"\n"===a.charAt(0)&&a.charAt(1)==Ni?a.slice(2):a;let f=be(l);if(Array.isArray(l))f=l.map(be).join(" -> ");else if("object"==typeof l){let g=[];for(let v in l)if(l.hasOwnProperty(v)){let E=l[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):be(E)))}f=`{${g.join(", ")}}`}return`${d}${h?"("+h+")":""}[${f}]: ${a.replace(ni,"\n  ")}`}("\n"+a.message,f,d,h),a[pr]=f,a[ti]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{si(g),en(f)}}resolveInjectorInitializers(){const l=en(this),d=si(void 0);try{const h=this.get(On.multi,Q,_t.Self);for(const f of h)f()}finally{en(l),si(d)}}toString(){const l=[],d=this.records;for(const h of d.keys())l.push(be(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(l){let d=kl(l=te(l))?l:te(l&&l.provide);const h=function pS(a){return Og(a)?Vh(void 0,a.useValue):Vh(Fa(a),Sm)}(l);if(kl(l)||!0!==l.multi)this.records.get(d);else{let f=this.records.get(d);f||(f=Vh(void 0,Sm,!0),f.factory=()=>ci(f.multi),this.records.set(d,f)),d=l,f.multi.push(l)}this.records.set(d,h)}hydrate(l,d){return d.value===Sm&&(d.value=mS,d.value=d.factory()),"object"==typeof d.value&&d.value&&function gS(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(l){if(!l.providedIn)return!1;const d=te(l.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function yv(a){const l=ln(a),d=null!==l?l.factory:Uo(a);if(null!==d)return d;if(a instanceof hn)throw new we(204,!1);if(a instanceof Function)return function sx(a){const l=a.length;if(l>0)throw Sa(l,"?"),new we(204,!1);const d=function _i(a){return a&&(a[Gn]||a[Fr])||null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new we(204,!1)}function Fa(a,l,d){let h;if(kl(a)){const f=te(a);return Uo(f)||yv(f)}if(Og(a))h=()=>te(a.useValue);else if(function rx(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...ci(a.deps||[]));else if(function Xd(a){return!(!a||!a.useExisting)}(a))h=()=>zt(te(a.useExisting));else{const f=te(a&&(a.useClass||a.provide));if(!function Am(a){return!!a.deps}(a))return Uo(f)||yv(f);h=()=>new f(...ci(a.deps))}return h}function Vh(a,l,d=!1){return{factory:a,value:l,multi:d?[]:void 0}}function Lg(a,l){for(const d of a)Array.isArray(d)?Lg(d,l):d&&Me(d)?Lg(d.\u0275providers,l):l(d)}class _S{}class Ac{}class Bg{resolveComponentFactory(l){throw function yS(a){const l=Error(`No component factory found for ${be(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Uh=(()=>{class a{}return a.NULL=new Bg,a})();function vS(){return Jd(di(),ye())}function Jd(a,l){return new km(Yi(a,l))}let km=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=vS,a})();function NF(a){return a instanceof km?a.nativeElement:a}class Vg{}let ax=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function lx(){const a=ye(),d=Ui(di().index,a);return(yr(d)?d:a)[Wt]}(),a})(),cx=(()=>{class a{}return a.\u0275prov=ht({token:a,providedIn:"root",factory:()=>null}),a})();class Mc{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const dx=new Mc("15.2.9"),Ug={},bv="ngOriginalError";function wv(a){return a[bv]}class Rm{constructor(){this._console=console}handleError(l){const d=this._findOriginalError(l);this._console.error("ERROR",l),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(l){let d=l&&wv(l);for(;d&&wv(d);)d=wv(d);return d||null}}function Rl(a){return a instanceof Function?a():a}function CS(a,l,d){let h=a.length;for(;;){const f=a.indexOf(l,d);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=l.length;if(f+g===h||a.charCodeAt(f+g)<=32)return f}d=f+1}}const ES="ng-template";function _x(a,l,d){let h=0,f=!0;for(;h<a.length;){let g=a[h++];if("string"==typeof g&&f){const v=a[h++];if(d&&"class"===g&&-1!==CS(v.toLowerCase(),l,0))return!0}else{if(1===g){for(;h<a.length&&"string"==typeof(g=a[h++]);)if(g.toLowerCase()===l)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function xv(a){return 4===a.type&&a.value!==ES}function LF(a,l,d){return l===(4!==a.type||d?a.value:ES)}function BF(a,l,d){let h=4;const f=a.attrs||[],g=function Xi(a){for(let l=0;l<a.length;l++)if(sh(a[l]))return l;return a.length}(f);let v=!1;for(let E=0;E<l.length;E++){const I=l[E];if("number"!=typeof I){if(!v)if(4&h){if(h=2|1&h,""!==I&&!LF(a,I,d)||""===I&&1===l.length){if(La(h))return!1;v=!0}}else{const S=8&h?I:l[++E];if(8&h&&null!==a.attrs){if(!_x(a.attrs,S,d)){if(La(h))return!1;v=!0}continue}const H=VF(8&h?"class":I,f,xv(a),d);if(-1===H){if(La(h))return!1;v=!0;continue}if(""!==S){let X;X=H>g?"":f[H+1].toLowerCase();const re=8&h?X:null;if(re&&-1!==CS(re,S,0)||2&h&&S!==X){if(La(h))return!1;v=!0}}}}else{if(!v&&!La(h)&&!La(I))return!1;if(v&&La(I))continue;v=!1,h=I|1&h}}return La(h)||v}function La(a){return 0==(1&a)}function VF(a,l,d,h){if(null===l)return-1;let f=0;if(h||!d){let g=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=l[++f];for(;"string"==typeof E;)E=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function DS(a,l){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const h=a[d];if("number"==typeof h)return-1;if(h===l)return d;d++}return-1}(l,a)}function Ba(a,l,d=!1){for(let h=0;h<l.length;h++)if(BF(a,l[h],d))return!0;return!1}function jg(a,l){e:for(let d=0;d<l.length;d++){const h=l[d];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function jh(a,l){return a?":not("+l.trim()+")":l}function IS(a){let l=a[0],d=1,h=2,f="",g=!1;for(;d<a.length;){let v=a[d];if("string"==typeof v)if(2&h){const E=a[++d];f+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&h?f+="."+v:4&h&&(f+=" "+v);else""!==f&&!La(v)&&(l+=jh(g,f),f=""),h=v,g=g||!La(h);d++}return""!==f&&(l+=jh(g,f)),l}const Xt={};function Hh(a){yx(Ut(),ye(),or()+a,!1)}function yx(a,l,d,h){if(!h)if(3==(3&l[Qt])){const g=a.preOrderCheckHooks;null!==g&&bd(l,g,d)}else{const g=a.preOrderHooks;null!==g&&ih(l,g,0,d)}To(d)}function ar(a,l=null,d=null,h){const f=qo(a,l,d,h);return f.resolveInjectorInitializers(),f}function qo(a,l=null,d=null,h,f=new Set){const g=[d||Q,OF(a)];return h=h||("object"==typeof a?void 0:be(a)),new Fg(g,l||Ng(),h||null,f)}let Ua=(()=>{class a{static create(d,h){if(Array.isArray(d))return ar({name:""},h,d,"");{const f=d.name??"";return ar({name:f},d.parent,d.providers,f)}}}return a.THROW_IF_NOT_FOUND=ai,a.NULL=new pv,a.\u0275prov=ht({token:a,providedIn:"any",factory:()=>zt(cS)}),a.__NG_ELEMENT_ID__=-1,a})();function Gh(a,l=_t.Default){const d=ye();return null===d?zt(a,l):dh(di(),d,te(a),l)}function Mv(){throw new Error("invalid")}function Bm(a,l){const d=a.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const g=d[h+1];if(-1!==g){const v=a.data[g];Xu(d[h]),v.contentQueries(2,l[g],g)}}}function Pc(a,l,d,h,f,g,v,E,I,S,O){const H=l.blueprint.slice();return H[Bi]=f,H[Qt]=76|h,(null!==O||a&&1024&a[Qt])&&(H[Qt]|=1024),ll(H),H[Un]=H[Vo]=a,H[ii]=d,H[vi]=v||a&&a[vi],H[Wt]=E||a&&a[Wt],H[Ql]=I||a&&a[Ql]||null,H[nl]=S||a&&a[nl]||null,H[Vi]=g,H[Ms]=function Dh(){return ym++}(),H[Ei]=O,H[Ci]=2==l.type?a[Ci]:H,H}function Wh(a,l,d,h,f){let g=a.data[l];if(null===g)g=function Nl(a,l,d,h,f){const g=qu(),v=rc(),I=a.data[l]=function Ix(a,l,d,h,f,g){return{type:d,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,d,l,h,f);return null===a.firstChild&&(a.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I,I.prev=g)),I}(a,l,d,h,f),function Ku(){return Ot.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=d,g.value=h,g.attrs=f;const v=function ya(){const a=Ot.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return qr(g,!0),g}function Vm(a,l,d,h){if(0===d)return-1;const f=l.length;for(let g=0;g<d;g++)l.push(h),a.blueprint.push(h),a.data.push(null);return f}function tu(a,l,d){ba(l);try{const h=a.viewQuery;null!==h&&xs(1,h,d);const f=a.template;null!==f&&Dx(a,l,f,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Bm(a,l),a.staticViewQueries&&xs(2,a.viewQuery,d);const g=a.components;null!==g&&function fn(a,l){for(let d=0;d<l.length;d++)jS(a,l[d])}(l,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[Qt]&=-5,eh()}}function qh(a,l,d,h){const f=l[Qt];if(128!=(128&f)){ba(l);try{ll(l),function fs(a){return Ot.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&Dx(a,l,d,2,h);const v=3==(3&f);if(v){const S=a.preOrderCheckHooks;null!==S&&bd(l,S,null)}else{const S=a.preOrderHooks;null!==S&&ih(l,S,0,null),rh(l,0)}if(function US(a){for(let l=Sl(a);null!==l;l=$d(l)){if(!l[il])continue;const d=l[qi];for(let h=0;h<d.length;h++){const f=d[h];512&f[Qt]||_a(f[Un],1),f[Qt]|=512}}}(l),function Rx(a){for(let l=Sl(a);null!==l;l=$d(l))for(let d=Zi;d<l.length;d++){const h=l[d],f=h[tt];us(h)&&qh(f,h,f.template,h[ii])}}(l),null!==a.contentQueries&&Bm(a,l),v){const S=a.contentCheckHooks;null!==S&&bd(l,S)}else{const S=a.contentHooks;null!==S&&ih(l,S,1),rh(l,1)}!function Ex(a,l){const d=a.hostBindingOpCodes;if(null!==d)try{for(let h=0;h<d.length;h++){const f=d[h];if(f<0)To(~f);else{const g=f,v=d[++h],E=d[++h];Qu(v,g),E(2,l[g])}}}finally{To(-1)}}(a,l);const E=a.components;null!==E&&function Oc(a,l){for(let d=0;d<l.length;d++)Nv(a,l[d])}(l,E);const I=a.viewQuery;if(null!==I&&xs(2,I,h),v){const S=a.viewCheckHooks;null!==S&&bd(l,S)}else{const S=a.viewHooks;null!==S&&ih(l,S,2),rh(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[Qt]&=-41,512&l[Qt]&&(l[Qt]&=-513,_a(l[Un],-1))}finally{eh()}}}function Dx(a,l,d,h,f){const g=or(),v=2&h;try{To(-1),v&&l.length>An&&yx(a,l,An,!1),qn(v?2:0,f),d(h,f)}finally{To(g),qn(v?3:1,f)}}function Zh(a,l,d){if(ks(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const v=a.data[g];v.contentQueries&&v.contentQueries(1,d[g],g)}}}function nu(a,l,d){Gu()&&(function iu(a,l,d,h){const f=d.directiveStart,g=d.directiveEnd;Xl(d)&&function Mx(a,l,d){const h=Yi(l,a),f=Um(d),g=a[vi],v=e_(a,Pc(a,f,null,d.onPush?32:16,h,l,g,g.createRenderer(h,d),null,null,null));a[l.index]=v}(l,d,a.data[f+d.componentOffset]),a.firstCreatePass||Dd(d,l),J(h,l);const v=d.initialInputs;for(let E=f;E<g;E++){const I=a.data[E],S=Zn(l,a,E,d);J(S,l),null!==v&&Kh(0,E-f,S,I,0,v),Ar(I)&&(Ui(d.index,l)[ii]=Zn(l,a,E,d))}}(a,l,d,Yi(d,l)),64==(64&d.flags)&&Qg(a,l,d))}function Wg(a,l,d=Yi){const h=l.localNames;if(null!==h){let f=l.index+1;for(let g=0;g<h.length;g+=2){const v=h[g+1],E=-1===v?d(l,a):a[v];a[f++]=E}}}function Um(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=kv(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function kv(a,l,d,h,f,g,v,E,I,S){const O=An+h,H=O+f,X=function Rv(a,l){const d=[];for(let h=0;h<l;h++)d.push(h<a?null:Xt);return d}(O,H),re="function"==typeof S?S():S;return X[tt]={type:a,blueprint:X,template:d,queries:null,viewQuery:E,declTNode:l,data:X.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:re,incompleteFirstPass:!1}}function Ov(a,l,d,h){const f=Fc(l);null===d?f.push(h):(f.push(d),a.firstCreatePass&&Gm(a).push(h,f.length-1))}function Tx(a,l,d,h){for(let f in a)if(a.hasOwnProperty(f)){d=null===d?{}:d;const g=a[f];null===h?Sx(d,l,f,g):h.hasOwnProperty(f)&&Sx(d,l,h[f],g)}return d}function Sx(a,l,d,h){a.hasOwnProperty(d)?a[d].push(l,h):a[d]=[l,h]}function Zo(a,l,d,h,f,g,v,E){const I=Yi(l,d);let O,S=l.inputs;!E&&null!=S&&(O=S[h])?(Lv(a,d,O,h,f),Xl(l)&&function NS(a,l){const d=Ui(l,a);16&d[Qt]||(d[Qt]|=32)}(d,l.index)):3&l.type&&(h=function Zg(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=v?v(f,l.value||"",h):f,g.setProperty(I,h,f))}function Pv(a,l,d,h){if(Gu()){const f=null===h?null:{"":-1},g=function Ax(a,l){const d=a.directiveRegistry;let h=null,f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];if(Ba(l,v.selectors,!1))if(h||(h=[]),Ar(v))if(null!==v.findHostDirectiveDefs){const E=[];f=f||new Map,v.findHostDirectiveDefs(v,E,f),h.unshift(...E,v),Xg(a,l,E.length)}else h.unshift(v),Xg(a,l,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,h,f),h.push(v)}return null===h?null:[h,f]}(a,d);let v,E;null===g?v=E=null:[v,E]=g,null!==v&&Yg(a,l,d,v,f,E),f&&function BS(a,l,d){if(l){const h=a.localNames=[];for(let f=0;f<l.length;f+=2){const g=d[l[f+1]];if(null==g)throw new we(-301,!1);h.push(l[f],g)}}}(d,h,f)}d.mergedAttrs=Fs(d.mergedAttrs,d.attrs)}function Yg(a,l,d,h,f,g){for(let S=0;S<h.length;S++)ps(Dd(d,l),a,h[S].type);!function Hm(a,l,d){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+d,a.providerIndexes=l}(d,a.data.length,h.length);for(let S=0;S<h.length;S++){const O=h[S];O.providersResolver&&O.providersResolver(O)}let v=!1,E=!1,I=Vm(a,l,h.length,null);for(let S=0;S<h.length;S++){const O=h[S];d.mergedAttrs=Fs(d.mergedAttrs,O.hostAttrs),Yh(a,d,l,I,O),jm(I,O,f),null!==O.contentQueries&&(d.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(d.flags|=64);const H=O.type.prototype;!v&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((a.preOrderHooks??(a.preOrderHooks=[])).push(d.index),v=!0),!E&&(H.ngOnChanges||H.ngDoCheck)&&((a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(d.index),E=!0),I++}!function PS(a,l,d){const f=l.directiveEnd,g=a.data,v=l.attrs,E=[];let I=null,S=null;for(let O=l.directiveStart;O<f;O++){const H=g[O],X=d?d.get(H):null,Ie=X?X.outputs:null;I=Tx(H.inputs,O,I,X?X.inputs:null),S=Tx(H.outputs,O,S,Ie);const We=null===I||null===v||xv(l)?null:VS(I,O,v);E.push(We)}null!==I&&(I.hasOwnProperty("class")&&(l.flags|=8),I.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=E,l.inputs=I,l.outputs=S}(a,d,g)}function Qg(a,l,d){const h=d.directiveStart,f=d.directiveEnd,g=d.index,v=function gg(){return Ot.lFrame.currentDirectiveIndex}();try{To(g);for(let E=h;E<f;E++){const I=a.data[E],S=l[E];ui(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&zF(I,S)}}finally{To(-1),ui(v)}}function zF(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Xg(a,l,d){l.componentOffset=d,(a.components??(a.components=[])).push(l.index)}function jm(a,l,d){if(d){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)d[l.exportAs[h]]=a;Ar(l)&&(d[""]=a)}}function Yh(a,l,d,h,f){a.data[h]=f;const g=f.factory||(f.factory=Uo(f.type)),v=new zo(g,Ar(f),Gh);a.blueprint[h]=v,d[h]=v,function Kg(a,l,d,h,f){const g=f.hostBindings;if(g){let v=a.hostBindingOpCodes;null===v&&(v=a.hostBindingOpCodes=[]);const E=~l.index;(function LS(a){let l=a.length;for(;l>0;){const d=a[--l];if("number"==typeof d&&d<0)return d}return 0})(v)!=E&&v.push(E),v.push(d,h,g)}}(a,l,h,Vm(a,d,f.hostVars,Xt),f)}function Xs(a,l,d,h,f,g){const v=Yi(a,l);!function Jg(a,l,d,h,f,g,v){if(null==g)a.removeAttribute(l,f,d);else{const E=null==v?Fe(g):v(g,h||"",f);a.setAttribute(l,f,E,d)}}(l[Wt],v,g,a.value,d,h,f)}function Kh(a,l,d,h,f,g){const v=g[l];if(null!==v){const E=h.setInput;for(let I=0;I<v.length;){const S=v[I++],O=v[I++],H=v[I++];null!==E?h.setInput(d,H,S,O):d[O]=H}}}function VS(a,l,d){let h=null,f=0;for(;f<d.length;){const g=d[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(a.hasOwnProperty(g)){null===h&&(h=[]);const v=a[g];for(let E=0;E<v.length;E+=2)if(v[E]===l){h.push(g,v[E+1],d[f+1]);break}}f+=2}else f+=2;else f+=4}return h}function kx(a,l,d,h){return[a,!0,!1,l,null,0,h,d,null,null]}function Nv(a,l){const d=Ui(l,a);if(us(d)){const h=d[tt];48&d[Qt]?qh(h,d,h.template,d[ii]):d[os]>0&&Nc(d)}}function Nc(a){for(let h=Sl(a);null!==h;h=$d(h))for(let f=Zi;f<h.length;f++){const g=h[f];if(us(g))if(512&g[Qt]){const v=g[tt];qh(v,g,v.template,g[ii])}else g[os]>0&&Nc(g)}const d=a[tt].components;if(null!==d)for(let h=0;h<d.length;h++){const f=Ui(d[h],a);us(f)&&f[os]>0&&Nc(f)}}function jS(a,l){const d=Ui(l,a),h=d[tt];(function Fv(a,l){for(let d=l.length;d<a.blueprint.length;d++)l.push(a.blueprint[d])})(h,d),tu(h,d,d[ii])}function e_(a,l){return a[Gr]?a[ha][wn]=l:a[Gr]=l,a[ha]=l,l}function zm(a){for(;a;){a[Qt]|=32;const l=Ih(a);if(as(a)&&!l)return a;a=l}return null}function $m(a,l,d,h=!0){const f=l[vi];f.begin&&f.begin();try{qh(a,l,a.template,d)}catch(v){throw h&&n_(l,v),v}finally{f.end&&f.end()}}function xs(a,l,d){Xu(0),l(a,d)}function Fc(a){return a[ao]||(a[ao]=[])}function Gm(a){return a.cleanup||(a.cleanup=[])}function Wm(a,l,d){return(null===a||Ar(a))&&(d=function Os(a){for(;Array.isArray(a);){if("object"==typeof a[dd])return a;a=a[Bi]}return null}(d[l.index])),d[Wt]}function n_(a,l){const d=a[nl],h=d?d.get(Rm,null):null;h&&h.handleError(l)}function Lv(a,l,d,h,f){for(let g=0;g<d.length;){const v=d[g++],E=d[g++],I=l[v],S=a.data[v];null!==S.setInput?S.setInput(I,f,h,E):I[E]=f}}function Fl(a,l,d){const h=Ps(l,a);!function wg(a,l,d){a.setValue(l,d)}(a[Wt],h,d)}function i_(a,l,d){let h=d?a.styles:null,f=d?a.classes:null,g=0;if(null!==l)for(let v=0;v<l.length;v++){const E=l[v];"number"==typeof E?g=E:1==g?f=xe(f,E):2==g&&(h=xe(h,E+": "+l[++v]+";"))}d?a.styles=h:a.stylesWithoutHost=h,d?a.classes=f:a.classesWithoutHost=f}function r_(a,l,d,h,f=!1){for(;null!==d;){const g=l[d.index];if(null!==g&&h.push(Di(g)),lo(g))for(let E=Zi;E<g.length;E++){const I=g[E],S=I[tt].firstChild;null!==S&&r_(I[tt],I,S,h)}const v=d.type;if(8&v)r_(a,l,d.child,h);else if(32&v){const E=Qr(d,l);let I;for(;I=E();)h.push(I)}else if(16&v){const E=Ic(l,d);if(Array.isArray(E))h.push(...E);else{const I=Ih(l[Ci]);r_(I[tt],I,E,h,!0)}}d=f?d.projectionNext:d.next}return h}class qm{get rootNodes(){const l=this._lView,d=l[tt];return r_(d,l,d.firstChild,[])}constructor(l,d){this._lView=l,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ii]}set context(l){this._lView[ii]=l}get destroyed(){return 128==(128&this._lView[Qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[Un];if(lo(l)){const d=l[ss],h=d?d.indexOf(this):-1;h>-1&&(k(l,h),vl(d,h))}this._attachedToViewContainer=!1}F(this._lView[tt],this._lView)}onDestroy(l){Ov(this._lView[tt],this._lView,null,l)}markForCheck(){zm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qt]&=-65}reattach(){this._lView[Qt]|=64}detectChanges(){$m(this._lView[tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Oa(a,l){Kd(a,l,l[Wt],2,null,null)}(this._lView[tt],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=l}}class HS extends qm{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;$m(l[tt],l,l[ii],!1)}checkNoChanges(){}get context(){return null}}class Px extends Uh{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const d=xt(l);return new Zm(d,this.ngModule)}}function Nx(a){const l=[];for(let d in a)a.hasOwnProperty(d)&&l.push({propName:a[d],templateName:d});return l}class $S{constructor(l,d){this.injector=l,this.parentInjector=d}get(l,d,h){h=Wi(h);const f=this.injector.get(l,Ug,h);return f!==Ug||d===Ug?f:this.parentInjector.get(l,d,h)}}class Zm extends Ac{get inputs(){return Nx(this.componentDef.inputs)}get outputs(){return Nx(this.componentDef.outputs)}constructor(l,d){super(),this.componentDef=l,this.ngModule=d,this.componentType=l.type,this.selector=function Nm(a){return a.map(IS).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!d}create(l,d,h,f){let g=(f=f||this.ngModule)instanceof Sc?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new $S(l,g):l,E=v.get(Vg,null);if(null===E)throw new we(407,!1);const I=v.get(cx,null),S=E.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",H=h?function qg(a,l,d){return a.selectRootElement(l,d===V.ShadowDom)}(S,h,this.componentDef.encapsulation):xm(S,O,function zS(a){const l=a.toLowerCase();return"svg"===l?sl:"math"===l?"math":null}(O)),X=this.componentDef.onPush?288:272,re=kv(0,null,null,1,0,null,null,null,null,null),Ie=Pc(null,re,null,X,null,null,E,S,I,v,null);let We,it;ba(Ie);try{const pt=this.componentDef;let Vt,Le=null;pt.findHostDirectiveDefs?(Vt=[],Le=new Map,pt.findHostDirectiveDefs(pt,Vt,Le),Vt.push(pt)):Vt=[pt];const jt=function GS(a,l){const d=a[tt],h=An;return a[h]=l,Wh(d,h,2,"#host",null)}(Ie,H),pi=function WS(a,l,d,h,f,g,v,E){const I=f[tt];!function qS(a,l,d,h){for(const f of a)l.mergedAttrs=Fs(l.mergedAttrs,f.hostAttrs);null!==l.mergedAttrs&&(i_(l,l.mergedAttrs,!0),null!==d&&Xy(h,d,l))}(h,a,l,v);const S=g.createRenderer(l,d),O=Pc(f,Um(d),null,d.onPush?32:16,f[a.index],a,g,S,E||null,null,null);return I.firstCreatePass&&Xg(I,a,h.length-1),e_(f,O),f[a.index]=O}(jt,H,pt,Vt,Ie,E,S);it=nc(re,An),H&&function Lx(a,l,d,h){if(h)Ca(a,d,["ng-version",dx.full]);else{const{attrs:f,classes:g}=function TS(a){const l=[],d=[];let h=1,f=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===f?""!==g&&l.push(g,a[++h]):8===f&&d.push(g);else{if(!La(f))break;f=g}h++}return{attrs:l,classes:d}}(l.selectors[0]);f&&Ca(a,d,f),g&&g.length>0&&Pa(a,d,g.join(" "))}}(S,pt,H,h),void 0!==d&&function Bv(a,l,d){const h=a.projection=[];for(let f=0;f<l.length;f++){const g=d[f];h.push(null!=g?Array.from(g):null)}}(it,this.ngContentSelectors,d),We=function ZS(a,l,d,h,f,g){const v=di(),E=f[tt],I=Yi(v,f);Yg(E,f,v,d,null,h);for(let O=0;O<d.length;O++)J(Zn(f,E,v.directiveStart+O,v),f);Qg(E,f,v),I&&J(I,f);const S=Zn(f,E,v.directiveStart+v.componentOffset,v);if(a[ii]=f[ii]=S,null!==g)for(const O of g)O(S,l);return Zh(E,v,a),S}(pi,pt,Vt,Le,Ie,[Vv]),tu(re,Ie,null)}finally{eh()}return new Fx(this.componentType,We,Jd(it,Ie),Ie,it)}}class Fx extends _S{constructor(l,d,h,f,g){super(),this.location=h,this._rootLView=f,this._tNode=g,this.instance=d,this.hostView=this.changeDetectorRef=new HS(f),this.componentType=l}setInput(l,d){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[l])){const g=this._rootLView;Lv(g[tt],g,f,l,d),zm(Ui(this._tNode.index,g))}}get injector(){return new Ta(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Vv(){const a=di();cc(ye()[tt],a)}function Lc(a){let l=function Ha(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const h=[a];for(;l;){let f;if(Ar(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new we(903,!1);f=l.\u0275dir}if(f){if(d){h.push(f);const v=a;v.inputs=o_(a.inputs),v.declaredInputs=o_(a.declaredInputs),v.outputs=o_(a.outputs);const E=f.hostBindings;E&&Vx(a,E);const I=f.viewQuery,S=f.contentQueries;if(I&&YS(a,I),S&&Js(a,S),Ee(a.inputs,f.inputs),Ee(a.declaredInputs,f.declaredInputs),Ee(a.outputs,f.outputs),Ar(f)&&f.data.animation){const O=a.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(a),E===Lc&&(d=!1)}}l=Object.getPrototypeOf(l)}!function Bx(a){let l=0,d=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=l+=f.hostVars,f.hostAttrs=Fs(f.hostAttrs,d=Fs(d,f.hostAttrs))}}(h)}function o_(a){return a===P?{}:a===Q?[]:a}function YS(a,l){const d=a.viewQuery;a.viewQuery=d?(h,f)=>{l(h,f),d(h,f)}:l}function Js(a,l){const d=a.contentQueries;a.contentQueries=d?(h,f,g)=>{l(h,f,g),d(h,f,g)}:l}function Vx(a,l){const d=a.hostBindings;a.hostBindings=d?(h,f)=>{l(h,f),d(h,f)}:l}function l_(a){return!!c_(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function c_(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function ea(a,l,d){return a[l]=d}function lr(a,l,d){return!Object.is(a[l],d)&&(a[l]=d,!0)}function $v(a,l,d,h){const f=ye();return lr(f,Ho(),l)&&(Ut(),Xs(jn(),f,a,l,d,h)),$v}function Km(a,l,d,h,f,g){const E=function za(a,l,d,h){const f=lr(a,l,d);return lr(a,l+1,h)||f}(a,function Mr(){return Ot.lFrame.bindingIndex}(),d,f);return Io(2),E?l+Fe(d)+h+Fe(f)+g:Xt}function ou(a,l,d,h,f,g,v,E){const I=ye(),S=Ut(),O=a+An,H=S.firstCreatePass?function XS(a,l,d,h,f,g,v,E,I){const S=l.consts,O=Wh(l,a,4,v||null,jo(S,E));Pv(l,d,O,jo(S,I)),cc(l,O);const H=O.tView=kv(2,O,h,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,S);return null!==l.queries&&(l.queries.template(l,O),H.queries=l.queries.embeddedTView(O)),O}(O,S,I,l,d,h,f,g,v):S.data[O];qr(H,!1);const X=I[Wt].createComment("");Ml(S,I,X,H),J(X,I),e_(I,I[O]=kx(X,I,X,H)),rl(H)&&nu(S,I,H),null!=v&&Wg(I,H,E)}function Wx(a){return vr(function Yu(){return Ot.lFrame.contextLView}(),An+a)}function qv(a,l,d){const h=ye();return lr(h,Ho(),l)&&Zo(Ut(),jn(),h,a,l,h[Wt],d,!1),qv}function su(a,l,d,h,f){const v=f?"class":"style";Lv(a,d,l.inputs[v],v,h)}function u_(a,l,d,h){const f=ye(),g=Ut(),v=An+a,E=f[Wt],I=g.firstCreatePass?function np(a,l,d,h,f,g){const v=l.consts,I=Wh(l,a,2,h,jo(v,f));return Pv(l,d,I,jo(v,g)),null!==I.attrs&&i_(I,I.attrs,!1),null!==I.mergedAttrs&&i_(I,I.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,I),I}(v,g,f,l,d,h):g.data[v],S=f[v]=xm(E,l,function nh(){return Ot.lFrame.currentNamespace}()),O=rl(I);return qr(I,!0),Xy(E,S,I),32!=(32&I.flags)&&Ml(g,f,S,I),0===function hd(){return Ot.lFrame.elementDepthCount}()&&J(S,f),function fd(){Ot.lFrame.elementDepthCount++}(),O&&(nu(g,f,I),Zh(g,I,f)),null!==h&&Wg(f,I),u_}function h_(){let a=di();rc()?Zu():(a=a.parent,qr(a,!1));const l=a;!function md(){Ot.lFrame.elementDepthCount--}();const d=Ut();return d.firstCreatePass&&(cc(d,a),ks(a)&&d.queries.elementEnd(a)),null!=l.classesWithoutHost&&function $o(a){return 0!=(8&a.flags)}(l)&&su(d,l,ye(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function wd(a){return 0!=(16&a.flags)}(l)&&su(d,l,ye(),l.stylesWithoutHost,!1),h_}function Zv(a,l,d,h){return u_(a,l,d,h),h_(),Zv}function f_(a,l,d){const h=ye(),f=Ut(),g=a+An,v=f.firstCreatePass?function JS(a,l,d,h,f){const g=l.consts,v=jo(g,h),E=Wh(l,a,8,"ng-container",v);return null!==v&&i_(E,v,!0),Pv(l,d,E,jo(g,f)),null!==l.queries&&l.queries.elementStart(l,E),E}(g,f,h,l,d):f.data[g];qr(v,!0);const E=h[g]=h[Wt].createComment("");return Ml(f,h,E,v),J(E,h),rl(v)&&(nu(f,h,v),Zh(f,v,h)),null!=d&&Wg(h,v),f_}function m_(){let a=di();const l=Ut();return rc()?Zu():(a=a.parent,qr(a,!1)),l.firstCreatePass&&(cc(l,a),ks(a)&&l.queries.elementEnd(a)),m_}function qx(a,l,d){return f_(a,l,d),m_(),qx}function Zx(){return ye()}function ip(a){return!!a&&"function"==typeof a.then}function rp(a){return!!a&&"function"==typeof a.subscribe}const au=rp;function Yv(a,l,d,h){const f=ye(),g=Ut(),v=di();return Yx(g,f,f[Wt],v,a,l,h),Yv}function Kv(a,l){const d=di(),h=ye(),f=Ut();return Yx(f,h,Wm(oc(f.data),d,h),d,a,l),Kv}function Yx(a,l,d,h,f,g,v){const E=rl(h),S=a.firstCreatePass&&Gm(a),O=l[ii],H=Fc(l);let X=!0;if(3&h.type||v){const We=Yi(h,l),it=v?v(We):We,pt=H.length,Vt=v?jt=>v(Di(jt[h.index])):h.index;let Le=null;if(!v&&E&&(Le=function eA(a,l,d,h){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===d&&f[g+1]===h){const E=l[ao],I=f[g+2];return E.length>I?E[I]:null}"string"==typeof v&&(g+=2)}return null}(a,l,f,h.index)),null!==Le)(Le.__ngLastListenerFn__||Le).__ngNextListenerFn__=g,Le.__ngLastListenerFn__=g,X=!1;else{g=Qx(h,l,O,g,!1);const jt=d.listen(it,f,g);H.push(g,jt),S&&S.push(f,Vt,pt,pt+1)}}else g=Qx(h,l,O,g,!1);const re=h.outputs;let Ie;if(X&&null!==re&&(Ie=re[f])){const We=Ie.length;if(We)for(let it=0;it<We;it+=2){const pi=l[Ie[it]][Ie[it+1]].subscribe(g),Si=H.length;H.push(g,pi),S&&S.push(f,h.index,Si,-(Si+1))}}}function Kx(a,l,d,h){try{return qn(6,l,d),!1!==d(h)}catch(f){return n_(a,f),!1}finally{qn(7,l,d)}}function Qx(a,l,d,h,f){return function g(v){if(v===Function)return h;zm(a.componentOffset>-1?Ui(a.index,l):l);let I=Kx(l,d,h,v),S=g.__ngNextListenerFn__;for(;S;)I=Kx(l,d,S,v)&&I,S=S.__ngNextListenerFn__;return f&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function Xx(a=1){return function yd(a){return(Ot.lFrame.contextLView=function th(a,l){for(;a>0;)l=l[Vo],a--;return l}(a,Ot.lFrame.contextLView))[ii]}(a)}function tA(a,l){let d=null;const h=function Rt(a){const l=a.attrs;if(null!=l){const d=l.indexOf(5);if(!(1&d))return l[d+1]}return null}(a);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===h?Ba(a,g,!0):jg(h,g))return f}else d=f}return d}function Jx(a){const l=ye()[Ci][Vi];if(!l.projection){const h=l.projection=Sa(a?a.length:1,null),f=h.slice();let g=l.child;for(;null!==g;){const v=a?tA(g,a):0;null!==v&&(f[v]?f[v].projectionNext=g:h[v]=g,f[v]=g),g=g.next}}}function Qv(a,l=0,d){const h=ye(),f=Ut(),g=Wh(f,An+a,16,null,d||null);null===g.projection&&(g.projection=l),Zu(),32!=(32&g.flags)&&function Ig(a,l,d){Qy(l[Wt],0,l,d,Je(a,d,l),Mh(d.parent||l[Vi],d,l))}(f,h,g)}function lp(a,l){return a<<17|l<<2}function Ll(a){return a>>17&32767}function y_(a){return 2|a}function ta(a){return(131068&a)>>2}function v_(a,l){return-131069&a|l<<2}function Jv(a){return 1|a}function sC(a,l,d,h,f){const g=a[d+1],v=null===l;let E=h?Ll(g):ta(g),I=!1;for(;0!==E&&(!1===I||v);){const O=a[E+1];rA(a[E],l)&&(I=!0,a[E+1]=h?Jv(O):y_(O)),E=h?Ll(O):ta(O)}I&&(a[d+1]=h?y_(g):Jv(g))}function rA(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&on(a,l)>=0}function nb(a,l,d){return Xr(a,l,d,!1),nb}function ib(a,l){return Xr(a,l,null,!0),ib}function Xr(a,l,d,h){const f=ye(),g=Ut(),v=Io(2);g.firstUpdatePass&&function ob(a,l,d,h){const f=a.data;if(null===f[d+1]){const g=f[or()],v=function mC(a,l){return l>=a.expandoStartIndex}(a,d);(function bC(a,l){return 0!=(a.flags&(l?8:16))})(g,h)&&null===l&&!v&&(l=!1),l=function b_(a,l,d,h){const f=oc(a);let g=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(d=cp(d=sb(null,a,l,d,h),l.attrs,h),g=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(d=sb(f,a,l,d,h),null===g){let I=function w_(a,l,d){const h=d?l.classBindings:l.styleBindings;if(0!==ta(h))return a[Ll(h)]}(a,l,h);void 0!==I&&Array.isArray(I)&&(I=sb(null,a,l,I[1],h),I=cp(I,l.attrs,h),function pC(a,l,d,h){a[Ll(d?l.classBindings:l.styleBindings)]=h}(a,l,h,I))}else g=function gC(a,l,d){let h;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)h=cp(h,a[g].hostAttrs,d);return cp(h,l.attrs,d)}(a,l,h)}return void 0!==g&&(h?l.residualClasses=g:l.residualStyles=g),d}(f,g,l,h),function iA(a,l,d,h,f,g){let v=g?l.classBindings:l.styleBindings,E=Ll(v),I=ta(v);a[h]=d;let O,S=!1;if(Array.isArray(d)?(O=d[1],(null===O||on(d,O)>0)&&(S=!0)):O=d,f)if(0!==I){const X=Ll(a[E+1]);a[h+1]=lp(X,E),0!==X&&(a[X+1]=v_(a[X+1],h)),a[E+1]=function __(a,l){return 131071&a|l<<17}(a[E+1],h)}else a[h+1]=lp(E,0),0!==E&&(a[E+1]=v_(a[E+1],h)),E=h;else a[h+1]=lp(I,0),0===E?E=h:a[I+1]=v_(a[I+1],h),I=h;S&&(a[h+1]=y_(a[h+1])),sC(a,O,h,!0),sC(a,O,h,!1),function oC(a,l,d,h,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&on(g,l)>=0&&(d[h+1]=Jv(d[h+1]))}(l,O,a,h,g),v=lp(E,I),g?l.classBindings=v:l.styleBindings=v}(f,g,l,d,v,h)}}(g,a,v,h),l!==Xt&&lr(f,v,l)&&function yC(a,l,d,h,f,g,v,E){if(!(3&l.type))return;const I=a.data,S=I[E+1],O=function nA(a){return 1==(1&a)}(S)?vC(I,l,d,f,ta(S),v):void 0;nf(O)||(nf(g)||function g_(a){return 2==(2&a)}(S)&&(g=vC(I,null,d,f,E,v)),function Ww(a,l,d,h,f){if(l)f?a.addClass(d,h):a.removeClass(d,h);else{let g=-1===h.indexOf("-")?void 0:ho.DashCase;null==f?a.removeStyle(d,h,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=ho.Important),a.setStyle(d,h,f,g))}}(h,v,Ps(or(),d),f,g))}(g,g.data[or()],f,f[Wt],a,f[v+1]=function dA(a,l){return null==a||""===a||("string"==typeof l?a+=l:"object"==typeof a&&(a=be(Ys(a)))),a}(l,d),h,v)}function sb(a,l,d,h,f){let g=null;const v=d.directiveEnd;let E=d.directiveStylingLast;for(-1===E?E=d.directiveStart:E++;E<v&&(g=l[E],h=cp(h,g.hostAttrs,f),g!==a);)E++;return null!==a&&(d.directiveStylingLast=E),h}function cp(a,l,d){const h=d?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const v=l[g];"number"==typeof v?f=v:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Zr(a,v,!!d||l[++g]))}return void 0===a?null:a}function vC(a,l,d,h,f,g){const v=null===l;let E;for(;f>0;){const I=a[f],S=Array.isArray(I),O=S?I[1]:I,H=null===O;let X=d[f+1];X===Xt&&(X=H?Q:void 0);let re=H?Yr(X,h):O===h?X:void 0;if(S&&!nf(re)&&(re=Yr(I,h)),nf(re)&&(E=re,v))return E;const Ie=a[f+1];f=v?Ll(Ie):ta(Ie)}if(null!==l){let I=g?l.residualClasses:l.residualStyles;null!=I&&(E=Yr(I,h))}return E}function nf(a){return void 0!==a}function wC(a,l=""){const d=ye(),h=Ut(),f=a+An,g=h.firstCreatePass?Wh(h,f,1,l,null):h.data[f],v=d[f]=function fo(a,l){return a.createText(l)}(d[Wt],l);Ml(h,d,v,g),qr(g,!1)}function ab(a){return Ji("",a,""),ab}function Ji(a,l,d){const h=ye(),f=function ru(a,l,d,h){return lr(a,Ho(),d)?l+Fe(d)+h:Xt}(h,a,l,d);return f!==Xt&&Fl(h,or(),f),Ji}function lb(a,l,d,h,f){const g=ye(),v=Km(g,a,l,d,h,f);return v!==Xt&&Fl(g,or(),v),lb}function pb(a,l,d){const h=ye();return lr(h,Ho(),l)&&Zo(Ut(),jn(),h,a,l,h[Wt],d,!0),pb}function Bl(a,l,d){const h=ye();if(lr(h,Ho(),l)){const g=Ut(),v=jn();Zo(g,v,h,a,l,Wm(oc(g.data),v,h),d,!0)}return Bl}const du=void 0;var CA=["en",[["a","p"],["AM","PM"],du],[["AM","PM"],du,du],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",du,"{1} 'at' {0}",du],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xA(a){const d=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===h?1:5}];let af={};function C_(a){const l=function lf(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=E_(l);if(d)return d;const h=l.split("-")[0];if(d=E_(h),d)return d;if("en"===h)return CA;throw new we(701,!1)}function EA(a){return C_(a)[Nt.PluralCase]}function E_(a){return a in af||(af[a]=pn.ng&&pn.ng.common&&pn.ng.common.locales&&pn.ng.common.locales[a]),af[a]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const Ga="en-US";let cf=Ga;function jC(a,l,d,h,f){if(a=te(a),Array.isArray(a))for(let g=0;g<a.length;g++)jC(a[g],l,d,h,f);else{const g=Ut(),v=ye();let E=kl(a)?a:te(a.provide),I=Fa(a);const S=di(),O=1048575&S.providerIndexes,H=S.directiveStart,X=S.providerIndexes>>20;if(kl(a)||!a.multi){const re=new zo(I,f,Gh),Ie=zC(E,l,f?O:O+X,H);-1===Ie?(ps(Dd(S,v),g,E),HC(g,a,l.length),l.push(E),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),d.push(re),v.push(re)):(d[Ie]=re,v[Ie]=re)}else{const re=zC(E,l,O+X,H),Ie=zC(E,l,O,O+X),it=Ie>=0&&d[Ie];if(f&&!it||!f&&!(re>=0&&d[re])){ps(Dd(S,v),g,E);const pt=function VL(a,l,d,h,f){const g=new zo(a,d,Gh);return g.multi=[],g.index=l,g.componentProviders=0,XA(g,f,h&&!d),g}(f?BL:LL,d.length,f,h,I);!f&&it&&(d[Ie].providerFactory=pt),HC(g,a,l.length,0),l.push(E),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),d.push(pt),v.push(pt)}else HC(g,a,re>-1?re:Ie,XA(d[f?Ie:re],I,!f&&h));!f&&h&&it&&d[Ie].componentProviders++}}}function HC(a,l,d,h){const f=kl(l),g=function fS(a){return!!a.useClass}(l);if(f||g){const I=(g?te(l.useClass):l).prototype.ngOnDestroy;if(I){const S=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const O=S.indexOf(d);-1===O?S.push(d,[h,I]):S[O+1].push(h,I)}else S.push(d,I)}}}function XA(a,l,d){return d&&a.componentProviders++,a.multi.push(l)-1}function zC(a,l,d,h){for(let f=d;f<h;f++)if(l[f]===a)return f;return-1}function LL(a,l,d,h){return $C(this.multi,[])}function BL(a,l,d,h){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Zn(d,d[tt],this.providerFactory.index,h);g=E.slice(0,v),$C(f,g);for(let I=v;I<E.length;I++)g.push(E[I])}else g=[],$C(f,g);return g}function $C(a,l){for(let d=0;d<a.length;d++)l.push((0,a[d])());return l}function JA(a,l=[]){return d=>{d.providersResolver=(h,f)=>function FL(a,l,d){const h=Ut();if(h.firstCreatePass){const f=Ar(a);jC(d,h.data,h.blueprint,f,!0),jC(l,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,l)}}class mp{}class eM{}function UL(a,l){return new tM(a,l??null)}class tM extends mp{constructor(l,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Px(this);const h=Li(l);this._bootstrapComponents=Rl(h.bootstrap),this._r3Injector=qo(l,d,[{provide:mp,useValue:this},{provide:Uh,useValue:this.componentFactoryResolver}],be(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class GC extends eM{constructor(l){super(),this.moduleType=l}create(l){return new tM(this.moduleType,l)}}class jL extends mp{constructor(l,d,h){super(),this.componentFactoryResolver=new Px(this),this.instance=null;const f=new Fg([...l,{provide:mp,useValue:this},{provide:Uh,useValue:this.componentFactoryResolver}],d||Ng(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function WC(a,l,d=null){return new jL(a,l,d).injector}let HL=(()=>{class a{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const h=dS(0,d.type),f=h.length>0?WC([h],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,f)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=ht({token:a,providedIn:"environment",factory:()=>new a(zt(Sc))}),a})();function nM(a){a.getStandaloneInjector=l=>l.get(HL).getOrCreateStandaloneInjector(a)}function cM(a,l,d){const h=Ki()+a,f=ye();return f[h]===Xt?ea(f,h,d?l.call(d):l()):function Ym(a,l){return a[l]}(f,h)}function YC(a,l,d,h,f,g){const v=l+d;return lr(a,v,f)?ea(a,v+1,g?h.call(g,f):h(f)):function jc(a,l){const d=a[l];return d===Xt?void 0:d}(a,v+1)}function QC(a,l){const d=Ut();let h;const f=a+An;d.firstCreatePass?(h=function O_(a,l){if(l)for(let d=l.length-1;d>=0;d--){const h=l[d];if(a===h.name)return h}}(l,d.pipeRegistry),d.data[f]=h,h.onDestroy&&(d.destroyHooks??(d.destroyHooks=[])).push(f,h.onDestroy)):h=d.data[f];const g=h.factory||(h.factory=Uo(h.type)),v=si(Gh);try{const E=gl(!1),I=g();return gl(E),function tp(a,l,d,h){d>=a.data.length&&(a.data[d]=null,a.blueprint[d]=null),l[d]=h}(d,ye(),f,I),I}finally{si(v)}}function Wa(a,l,d){const h=a+An,f=ye(),g=vr(f,h);return function zc(a,l){return a[tt].data[l].pure}(f,h)?YC(f,Ki(),l,g.transform,d,g):g.transform(d)}function P_(a){return l=>{setTimeout(a,void 0,l)}}const po=class n2 extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,d,h){let f=l,g=d||(()=>null),v=h;if(l&&"object"==typeof l){const I=l;f=I.next?.bind(I),g=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(g=P_(g),f&&(f=P_(f)),v&&(v=P_(v)));const E=super.subscribe({next:f,error:g,complete:v});return l instanceof $.w0&&l.add(E),E}};function hM(){return this._results[Symbol.iterator]()}class N_{get changes(){return this._changes||(this._changes=new po)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=N_.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=hM)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,d){return this._results.reduce(l,d)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,d){const h=this;h.dirty=!1;const f=function Vr(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function Rd(a,l,d){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],g=l[h];if(d&&(f=d(f),g=d(g)),g!==f)return!1}return!0}(h._results,f,d))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let pp=(()=>{class a{}return a.__NG_ELEMENT_ID__=r2,a})();const fM=pp,eE=class extends fM{constructor(l,d,h){super(),this._declarationLView=l,this._declarationTContainer=d,this.elementRef=h}createEmbeddedView(l,d){const h=this._declarationTContainer.tView,f=Pc(this._declarationLView,h,l,16,null,h.declTNode,null,null,null,null,d||null);f[Ss]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Br];return null!==v&&(f[Br]=v.createEmbeddedView(h)),tu(h,f,l),new qm(f)}};function r2(){return gp(di(),ye())}function gp(a,l){return 4&a.type?new eE(l,a,Jd(a,l)):null}let _b=(()=>{class a{}return a.__NG_ELEMENT_ID__=o2,a})();function o2(){return rE(di(),ye())}const tE=_b,mM=class extends tE{constructor(l,d,h){super(),this._lContainer=l,this._hostTNode=d,this._hostLView=h}get element(){return Jd(this._hostTNode,this._hostLView)}get injector(){return new Ta(this._hostTNode,this._hostLView)}get parentInjector(){const l=hi(this._hostTNode,this._hostLView);if(Ls(l)){const d=pl(l,this._hostLView),h=Da(l);return new Ta(d[tt].data[h+8],d)}return new Ta(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const d=nE(this._lContainer);return null!==d&&d[l]||null}get length(){return this._lContainer.length-Zi}createEmbeddedView(l,d,h){let f,g;"number"==typeof h?f=h:null!=h&&(f=h.index,g=h.injector);const v=l.createEmbeddedView(d||{},g);return this.insert(v,f),v}createComponent(l,d,h,f,g){const v=l&&!function vc(a){return"function"==typeof a}(l);let E;if(v)E=d;else{const H=d||{};E=H.index,h=H.injector,f=H.projectableNodes,g=H.environmentInjector||H.ngModuleRef}const I=v?l:new Zm(xt(l)),S=h||this.parentInjector;if(!g&&null==I.ngModule){const X=(v?S:this.parentInjector).get(Sc,null);X&&(g=X)}const O=I.create(S,f,void 0,g);return this.insert(O.hostView,E),O}insert(l,d){const h=l._lView,f=h[tt];if(function $u(a){return lo(a[Un])}(h)){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const H=h[Un],X=new mM(H,H[Vi],H[Un]);X.detach(X.indexOf(l))}}const g=this._adjustIndex(d),v=this._lContainer;!function p(a,l,d,h){const f=Zi+h,g=d.length;h>0&&(d[f-1][wn]=l),h<g-Zi?(l[wn]=d[f],Od(d,Zi+h,l)):(d.push(l),l[wn]=null),l[Un]=d;const v=l[Ss];null!==v&&d!==v&&function y(a,l){const d=a[qi];l[Ci]!==l[Un][Un][Ci]&&(a[il]=!0),null===d?a[qi]=[l]:d.push(l)}(v,l);const E=l[Br];null!==E&&E.insertView(a),l[Qt]|=64}(f,h,v,g);const E=kh(g,v),I=h[Wt],S=Al(I,v[fa]);return null!==S&&function Ky(a,l,d,h,f,g){h[Bi]=f,h[Vi]=l,Kd(a,h,d,1,f,g)}(f,v[Vi],I,h,S,E),l.attachToViewContainerRef(),Od(iE(v),g,l),l}move(l,d){return this.insert(l,d)}indexOf(l){const d=nE(this._lContainer);return null!==d?d.indexOf(l):-1}remove(l){const d=this._adjustIndex(l,-1),h=k(this._lContainer,d);h&&(vl(iE(this._lContainer),d),F(h[tt],h))}detach(l){const d=this._adjustIndex(l,-1),h=k(this._lContainer,d);return h&&null!=vl(iE(this._lContainer),d)?new qm(h):null}_adjustIndex(l,d=0){return l??this.length+d}};function nE(a){return a[ss]}function iE(a){return a[ss]||(a[ss]=[])}function rE(a,l){let d;const h=l[a.index];if(lo(h))d=h;else{let f;if(8&a.type)f=Di(h);else{const g=l[Wt];f=g.createComment("");const v=Yi(a,l);qt(g,Al(g,v),f,function Cm(a,l){return a.nextSibling(l)}(g,v),!1)}l[a.index]=d=kx(h,l,f,a),e_(l,d)}return new mM(d,a,l)}class oE{constructor(l){this.queryList=l,this.matches=null}clone(){return new oE(this.queryList)}setDirty(){this.queryList.setDirty()}}class sE{constructor(l=[]){this.queries=l}createEmbeddedView(l){const d=l.queries;if(null!==d){const h=null!==l.contentQueries?l.contentQueries[0]:d.length,f=[];for(let g=0;g<h;g++){const v=d.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new sE(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let d=0;d<this.queries.length;d++)null!==gE(l,d).matches&&this.queries[d].setDirty()}}class pM{constructor(l,d,h=null){this.predicate=l,this.flags=d,this.read=h}}class yb{constructor(l=[]){this.queries=l}elementStart(l,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,d)}elementEnd(l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(l)}embeddedTView(l){let d=null;for(let h=0;h<this.length;h++){const f=null!==d?d.length:0,g=this.getByIndex(h).embeddedTView(l,f);g&&(g.indexInDeclarationView=h,null!==d?d.push(g):d=[g])}return null!==d?new yb(d):null}template(l,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,d)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class aE{constructor(l,d=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(l,d){this.isApplyingToNode(d)&&this.matchTNode(l,d)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,d){this.elementStart(l,d)}embeddedTView(l,d){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,d),new aE(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const g=h[f];this.matchTNodeWithReadOption(l,d,lE(d,g)),this.matchTNodeWithReadOption(l,d,Ia(d,l,g,!1,!1))}else h===pp?4&d.type&&this.matchTNodeWithReadOption(l,d,-1):this.matchTNodeWithReadOption(l,d,Ia(d,l,h,!1,!1))}matchTNodeWithReadOption(l,d,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===km||f===_b||f===pp&&4&d.type)this.addMatch(d.index,-2);else{const g=Ia(d,l,f,!1,!1);null!==g&&this.addMatch(d.index,g)}else this.addMatch(d.index,h)}}addMatch(l,d){null===this.matches?this.matches=[l,d]:this.matches.push(l,d)}}function lE(a,l){const d=a.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===l)return d[h+1];return null}function _p(a,l,d,h){return-1===d?function s2(a,l){return 11&a.type?Jd(a,l):4&a.type?gp(a,l):null}(l,a):-2===d?function gM(a,l,d){return d===km?Jd(l,a):d===pp?gp(l,a):d===_b?rE(l,a):void 0}(a,l,h):Zn(a,a[tt],d,l)}function cE(a,l,d,h){const f=l[Br].queries[h];if(null===f.matches){const g=a.data,v=d.matches,E=[];for(let I=0;I<v.length;I+=2){const S=v[I];E.push(S<0?null:_p(l,g[S],v[I+1],d.metadata.read))}f.matches=E}return f.matches}function vb(a,l,d,h){const f=a.queries.getByIndex(d),g=f.matches;if(null!==g){const v=cE(a,l,f,d);for(let E=0;E<g.length;E+=2){const I=g[E];if(I>0)h.push(v[E/2]);else{const S=g[E+1],O=l[-I];for(let H=Zi;H<O.length;H++){const X=O[H];X[Ss]===X[Un]&&vb(X[tt],X,S,h)}if(null!==O[qi]){const H=O[qi];for(let X=0;X<H.length;X++){const re=H[X];vb(re[tt],re,S,h)}}}}}return h}function dE(a){const l=ye(),d=Ut(),h=dl();Xu(h+1);const f=gE(d,h);if(a.dirty&&function al(a){return 4==(4&a[Qt])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?vb(d,l,h,[]):cE(d,l,f,h);a.reset(g,NF),a.notifyOnChanges()}return!0}return!1}function uE(a,l,d){const h=Ut();h.firstCreatePass&&(pE(h,new pM(a,l,d),-1),2==(2&l)&&(h.staticViewQueries=!0)),bb(h,ye(),l)}function hE(a,l,d,h){const f=Ut();if(f.firstCreatePass){const g=di();pE(f,new pM(l,d,h),g.index),function _M(a,l){const d=a.contentQueries||(a.contentQueries=[]);l!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,l)}(f,a),2==(2&d)&&(f.staticContentQueries=!0)}bb(f,ye(),d)}function fE(){return function mE(a,l){return a[Br].queries[l].queryList}(ye(),dl())}function bb(a,l,d){const h=new N_(4==(4&d));Ov(a,l,h,h.destroy),null===l[Br]&&(l[Br]=new sE),l[Br].queries.push(new oE(h))}function pE(a,l,d){null===a.queries&&(a.queries=new yb),a.queries.track(new aE(l,d))}function gE(a,l){return a.queries.getByIndex(l)}function _E(a,l){return gp(a,l)}function F_(a){return!!Li(a)}function Mb(...a){}const FM=new hn("Application Initializer");let kb=(()=>{class a{constructor(d){this.appInits=d,this.resolve=Mb,this.reject=Mb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const d=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(ip(g))d.push(g);else if(au(g)){const v=new Promise((E,I)=>{g.subscribe({complete:E,error:I})});d.push(v)}}Promise.all(d).then(()=>{h()}).catch(f=>{this.reject(f)}),0===d.length&&h(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)(zt(FM,8))},a.\u0275prov=ht({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const LM=new hn("AppId",{providedIn:"root",factory:function BM(){return`${bE()}${bE()}${bE()}`}});function bE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const VM=new hn("Platform Initializer"),C2=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),UM=new hn("AnimationModuleType");let E2=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=ht({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const $c=new hn("LocaleId",{providedIn:"root",factory:()=>Wn($c,_t.Optional|_t.SkipSelf)||function D2(){return typeof $localize<"u"&&$localize.locale||Ga}()}),I2=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wE{constructor(l,d){this.ngModuleFactory=l,this.componentFactories=d}}let HM=(()=>{class a{compileModuleSync(d){return new GC(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const h=this.compileModuleSync(d),g=Rl(Li(d).declarations).reduce((v,E)=>{const I=xt(E);return I&&v.push(new Zm(I)),v},[]);return new wE(h,g)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=ht({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const B_=(()=>Promise.resolve(0))();function IE(a){typeof Zone>"u"?B_.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class ia{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new po(!1),this.onMicrotaskEmpty=new po(!1),this.onStable=new po(!1),this.onError=new po(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&d,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function TE(){let a=pn.requestAnimationFrame,l=pn.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function k2(a){const l=()=>{!function M2(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(pn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,AE(a),a.isCheckStableRunning=!0,SE(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),AE(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,f,g,v,E)=>{try{return $M(a),d.invokeTask(f,g,v,E)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),GM(a)}},onInvoke:(d,h,f,g,v,E,I)=>{try{return $M(a),d.invoke(f,g,v,E,I)}finally{a.shouldCoalesceRunChangeDetection&&l(),GM(a)}},onHasTask:(d,h,f,g)=>{d.hasTask(f,g),h===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,AE(a),SE(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(d,h,f,g)=>(d.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ia.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(ia.isInAngularZone())throw new we(909,!1)}run(l,d,h){return this._inner.run(l,d,h)}runTask(l,d,h,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,l,A2,Mb,Mb);try{return g.runTask(v,d,h)}finally{g.cancelTask(v)}}runGuarded(l,d,h){return this._inner.runGuarded(l,d,h)}runOutsideAngular(l){return this._outer.run(l)}}const A2={};function SE(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function AE(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function $M(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function GM(a){a._nesting--,SE(a)}class R2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new po,this.onMicrotaskEmpty=new po,this.onStable=new po,this.onError=new po}run(l,d,h){return l.apply(d,h)}runGuarded(l,d,h){return l.apply(d,h)}runOutsideAngular(l){return l()}runTask(l,d,h,f){return l.apply(d,h)}}const WM=new hn(""),qM=new hn("");let Rb,V_=(()=>{class a{constructor(d,h,f){this._ngZone=d,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rb||(function ZM(a){Rb=a}(f),f.addToWindow(h)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ia.assertNotInAngularZone(),IE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())IE(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,f){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:g,updateCb:f})}whenStable(d,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,h,f){return[]}}return a.\u0275fac=function(d){return new(d||a)(zt(ia),zt(ME),zt(qM))},a.\u0275prov=ht({token:a,factory:a.\u0275fac}),a})(),ME=(()=>{class a{constructor(){this._applications=new Map}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return Rb?.findTestabilityInTree(this,d,h)??null}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=ht({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Hl=!1;let Gc=null;const YM=new hn("AllowMultipleToken"),Ob=new hn("PlatformDestroyListeners"),kE=new hn("appBootstrapListener");class N2{constructor(l,d){this.name=l,this.token=d}}function XM(a,l,d=[]){const h=`Platform: ${l}`,f=new hn(h);return(g=[])=>{let v=Pb();if(!v||v.injector.get(YM,!1)){const E=[...d,...g,{provide:f,useValue:!0}];a?a(E):function F2(a){if(Gc&&!Gc.get(YM,!1))throw new we(400,!1);Gc=a;const l=a.get(RE);(function QM(a){const l=a.get(VM,null);l&&l.forEach(d=>d())})(a)}(function JM(a=[],l){return Ua.create({name:l,providers:[{provide:ox,useValue:"platform"},{provide:Ob,useValue:new Set([()=>Gc=null])},...a]})}(E,h))}return function B2(a){const l=Pb();if(!l)throw new we(401,!1);return l}()}}function Pb(){return Gc?.get(RE)??null}let RE=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const f=function PE(a,l){let d;return d="noop"===a?new R2:("zone.js"===a?void 0:a)||new ia(l),d}(h?.ngZone,function OE(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),g=[{provide:ia,useValue:f}];return f.run(()=>{const v=Ua.create({providers:g,parent:this.injector,name:d.moduleType.name}),E=d.create(v),I=E.injector.get(Rm,null);if(!I)throw new we(402,!1);return f.runOutsideAngular(()=>{const S=f.onError.subscribe({next:O=>{I.handleError(O)}});E.onDestroy(()=>{Nb(this._modules,E),S.unsubscribe()})}),function ek(a,l,d){try{const h=d();return ip(h)?h.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(I,f,()=>{const S=E.injector.get(kb);return S.runInitializers(),S.donePromise.then(()=>(function D_(a){ve(a,"Expected localeId to be defined"),"string"==typeof a&&(cf=a.toLowerCase().replace(/_/g,"-"))}(E.injector.get($c,Ga)||Ga),this._moduleDoBootstrap(E),E))})})}bootstrapModule(d,h=[]){const f=tk({},h);return function KM(a,l,d){const h=new GC(d);return Promise.resolve(h)}(0,0,d).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(d){const h=d.injector.get(ff);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!d.instance.ngDoBootstrap)throw new we(-403,!1);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const d=this._injector.get(Ob,null);d&&(d.forEach(h=>h()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)(zt(Ua))},a.\u0275prov=ht({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function tk(a,l){return Array.isArray(l)?l.reduce(tk,a):{...a,...l}}let ff=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(d,h,f){this._zone=d,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new N.y(E=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{ia.assertNotInAngularZone(),IE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{ia.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{I.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ae.T)(g,v.pipe((0,ue.B)()))}bootstrap(d,h){const f=d instanceof Ac;if(!this._injector.get(kb).done){!f&&rr(d);throw new we(405,Hl)}let v;v=f?d:this._injector.get(Uh).resolveComponentFactory(d),this.componentTypes.push(v.componentType);const E=function P2(a){return a.isBoundToModule}(v)?void 0:this._injector.get(mp),S=v.create(Ua.NULL,[],h||v.selector,E),O=S.location.nativeElement,H=S.injector.get(WM,null);return H?.registerApplication(O),S.onDestroy(()=>{this.detachView(S.hostView),Nb(this.components,S),H?.unregisterApplication(O)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;Nb(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const h=this._injector.get(kE,[]);h.push(...this._bootstrapListeners),h.forEach(f=>f(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Nb(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new we(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(d){return new(d||a)(zt(ia),zt(Sc),zt(Rm))},a.\u0275prov=ht({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Nb(a,l){const d=a.indexOf(l);d>-1&&a.splice(d,1)}function V2(){return!1}function U2(){}let j2=(()=>{class a{}return a.__NG_ELEMENT_ID__=H2,a})();function H2(a){return function z2(a,l,d){if(Xl(a)&&!d){const h=Ui(a.index,l);return new qm(h,h)}return 47&a.type?new qm(l[Ci],l):null}(di(),ye(),16==(16&a))}class ck{constructor(){}supports(l){return l_(l)}create(l){return new uk(l)}}const dk=(a,l)=>l;class uk{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||dk}forEachItem(l){let d;for(d=this._itHead;null!==d;d=d._next)l(d)}forEachOperation(l){let d=this._itHead,h=this._removalsHead,f=0,g=null;for(;d||h;){const v=!h||d&&d.currentIndex<VE(h,f,g)?d:h,E=VE(v,f,g),I=v.currentIndex;if(v===h)f--,h=h._nextRemoved;else if(d=d._next,null==v.previousIndex)f++;else{g||(g=[]);const S=E-f,O=I-f;if(S!=O){for(let X=0;X<S;X++){const re=X<g.length?g[X]:g[X]=0,Ie=re+X;O<=Ie&&Ie<S&&(g[X]=re+1)}g[v.previousIndex]=O-S}}E!==I&&l(v,E,I)}}forEachPreviousItem(l){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachMovedItem(l){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}forEachIdentityChange(l){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)l(d)}diff(l){if(null==l&&(l=[]),!l_(l))throw new we(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,v,d=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let E=0;E<this.length;E++)g=l[E],v=this._trackByFn(E,g),null!==d&&Object.is(d.trackById,v)?(h&&(d=this._verifyReinsertion(d,g,v,E)),Object.is(d.item,g)||this._addIdentityChange(d,g)):(d=this._mismatch(d,g,v,E),h=!0),d=d._next}else f=0,function jx(a,l){if(Array.isArray(a))for(let d=0;d<a.length;d++)l(a[d]);else{const d=a[Symbol.iterator]();let h;for(;!(h=d.next()).done;)l(h.value)}}(l,E=>{v=this._trackByFn(f,E),null!==d&&Object.is(d.trackById,v)?(h&&(d=this._verifyReinsertion(d,E,v,f)),Object.is(d.item,E)||this._addIdentityChange(d,E)):(d=this._mismatch(d,E,v,f),h=!0),d=d._next,f++}),this.length=f;return this._truncate(d),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,d,h,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._moveAfter(l,g,f)):l=this._addAfter(new H_(d,h),g,f),l}_verifyReinsertion(l,d,h,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const d=l._next;this._addToRemovals(this._unlink(l)),l=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,d,h),this._addToMoves(l,h),l}_moveAfter(l,d,h){return this._unlink(l),this._insertAfter(l,d,h),this._addToMoves(l,h),l}_addAfter(l,d,h){return this._insertAfter(l,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,d,h){const f=null===d?this._itHead:d._next;return l._next=f,l._prev=d,null===f?this._itTail=l:f._prev=l,null===d?this._itHead=l:d._next=l,null===this._linkedRecords&&(this._linkedRecords=new BE),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const d=l._prev,h=l._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,l}_addToMoves(l,d){return l.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BE),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,d){return l.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class H_{constructor(l,d){this.item=l,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hk{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const d=l._prevDup,h=l._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class BE{constructor(){this.map=new Map}put(l){const d=l.trackById;let h=this.map.get(d);h||(h=new hk,this.map.set(d,h)),h.add(l)}get(l,d){const f=this.map.get(l);return f?f.get(l,d):null}remove(l){const d=l.trackById;return this.map.get(d).remove(l)&&this.map.delete(d),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function VE(a,l,d){const h=a.previousIndex;if(null===h)return h;let f=0;return d&&h<d.length&&(f=d[h]),h+l+f}class fk{constructor(){}supports(l){return l instanceof Map||c_(l)}create(){return new mk}}class mk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let d;for(d=this._mapHead;null!==d;d=d._next)l(d)}forEachPreviousItem(l){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)l(d)}forEachChangedItem(l){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}diff(l){if(l){if(!(l instanceof Map||c_(l)))throw new we(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(d&&d.key===f)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const g=this._getOrCreateRecordForKey(f,h);d=this._insertBeforeOrAppend(d,g)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,d){if(l){const h=l._prev;return d._next=l,d._prev=h,l._prev=d,h&&(h._next=d),l===this._mapHead&&(this._mapHead=d),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(l,d){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,d);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const h=new pk(l);return this._records.set(l,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,d){Object.is(d,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=d,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,d){l instanceof Map?l.forEach(d):Object.keys(l).forEach(h=>d(l[h],h))}}class pk{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UE(){return new Vb([new ck])}let Vb=(()=>{class a{constructor(d){this.factories=d}static create(d,h){if(null!=h){const f=h.factories.slice();d=d.concat(f)}return new a(d)}static extend(d){return{provide:a,useFactory:h=>a.create(d,h||UE()),deps:[[a,new Ma,new wr]]}}find(d){const h=this.factories.find(f=>f.supports(d));if(null!=h)return h;throw new we(901,!1)}}return a.\u0275prov=ht({token:a,providedIn:"root",factory:UE}),a})();function HE(){return new Ub([new fk])}let Ub=(()=>{class a{constructor(d){this.factories=d}static create(d,h){if(h){const f=h.factories.slice();d=d.concat(f)}return new a(d)}static extend(d){return{provide:a,useFactory:h=>a.create(d,h||HE()),deps:[[a,new Ma,new wr]]}}find(d){const h=this.factories.find(f=>f.supports(d));if(h)return h;throw new we(901,!1)}}return a.\u0275prov=ht({token:a,providedIn:"root",factory:HE}),a})();const _k=XM(null,"core",[]);let pf=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)(zt(ff))},a.\u0275mod=le({type:a}),a.\u0275inj=Et({}),a})();function gu(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(wt,Ae,U)=>{U.d(Ae,{Z:()=>Ye});var s=U(2090),$=U(4859),N=U(6881),ae=U(1877);class ue{constructor(we,Pe){this._delegate=we,this.firebase=Pe,(0,N._addComponent)(we,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(we,Pe=N._DEFAULT_ENTRY_NAME){var Fe;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(we);return!Ue.isInitialized()&&"EXPLICIT"===(null===(Fe=Ue.getComponent())||void 0===Fe?void 0:Fe.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:Pe})}_removeServiceInstance(we,Pe=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Pe)}_addComponent(we){(0,N._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,N._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function xe(){const lt=function be(lt){const we={},Pe={__esModule:!0,initializeApp:function Se(Be,de={}){const rt=N.initializeApp(Be,de);if((0,s.r3)(we,rt.name))return we[rt.name];const St=new lt(rt,Pe);return we[rt.name]=St,St},app:Ue,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ne(Be){const de=Be.name,rt=de.replace("-compat","");if(N._registerComponent(Be)&&"PUBLIC"===Be.type){const St=(ct=Ue())=>{if("function"!=typeof ct[rt])throw Ee.create("invalid-app-argument",{appName:de});return ct[rt]()};void 0!==Be.serviceProps&&(0,s.ZB)(St,Be.serviceProps),Pe[rt]=St,lt.prototype[rt]=function(...ct){return this._getService.bind(this,de).apply(this,Be.multipleInstances?ct:[])}}return"PUBLIC"===Be.type?Pe[rt]:null},removeApp:function Fe(Be){delete we[Be]},useAsService:function Ge(Be,de){return"serverAuth"===de?null:de},modularAPIs:N}};function Ue(Be){if(!(0,s.r3)(we,Be=Be||N._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:Be});return we[Be]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function Te(){return Object.keys(we).map(Be=>we[Be])}}),Ue.App=lt,Pe}(ue);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function we(Pe){(0,s.ZB)(lt,Pe)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),lt}(),q=new ae.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=Z;!function Me(lt){(0,N.registerVersion)("@firebase/app-compat","0.2.13",lt)}()},6881:(wt,Ae,U)=>{U.r(Ae),U.d(Ae,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Lr,_DEFAULT_ENTRY_NAME:()=>nr,_addComponent:()=>mt,_addOrOverwriteComponent:()=>Lt,_apps:()=>pn,_clearComponents:()=>pr,_components:()=>Yt,_getProvider:()=>Gi,_registerComponent:()=>ai,_removeServiceInstance:()=>ti,deleteApp:()=>li,getApp:()=>Sr,getApps:()=>zt,initializeApp:()=>en,onLog:()=>ci,registerVersion:()=>Wi,setLogLevel:()=>gr});var s=U(5861),$=U(4859),N=U(1877),ae=U(2090);const ue=(_e,le)=>le.some(Ve=>_e instanceof Ve);let ne,Ee;const Z=new WeakMap,q=new WeakMap,te=new WeakMap,$e=new WeakMap,Me=new WeakMap;let we={get(_e,le,Ve){if(_e instanceof IDBTransaction){if("done"===le)return q.get(_e);if("objectStoreNames"===le)return _e.objectStoreNames||te.get(_e);if("store"===le)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return Se(_e[le])},set:(_e,le,Ve)=>(_e[le]=Ve,!0),has:(_e,le)=>_e instanceof IDBTransaction&&("done"===le||"store"===le)||le in _e};function Ue(_e){return"function"==typeof _e?function Fe(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...le){return _e.apply(Te(this),le),Se(Z.get(this))}:function(...le){return Se(_e.apply(Te(this),le))}:function(le,...Ve){const vt=_e.call(Te(this),le,...Ve);return te.set(vt,le.sort?le.sort():[le]),Se(vt)}}(_e):(_e instanceof IDBTransaction&&function lt(_e){if(q.has(_e))return;const le=new Promise((Ve,vt)=>{const Mt=()=>{_e.removeEventListener("complete",tn),_e.removeEventListener("error",xt),_e.removeEventListener("abort",xt)},tn=()=>{Ve(),Mt()},xt=()=>{vt(_e.error||new DOMException("AbortError","AbortError")),Mt()};_e.addEventListener("complete",tn),_e.addEventListener("error",xt),_e.addEventListener("abort",xt)});q.set(_e,le)}(_e),ue(_e,function be(){return ne||(ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,we):_e)}function Se(_e){if(_e instanceof IDBRequest)return function Ye(_e){const le=new Promise((Ve,vt)=>{const Mt=()=>{_e.removeEventListener("success",tn),_e.removeEventListener("error",xt)},tn=()=>{Ve(Se(_e.result)),Mt()},xt=()=>{vt(_e.error),Mt()};_e.addEventListener("success",tn),_e.addEventListener("error",xt)});return le.then(Ve=>{Ve instanceof IDBCursor&&Z.set(Ve,_e)}).catch(()=>{}),Me.set(le,_e),le}(_e);if($e.has(_e))return $e.get(_e);const le=Ue(_e);return le!==_e&&($e.set(_e,le),Me.set(le,_e)),le}const Te=_e=>Me.get(_e),Be=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],rt=new Map;function St(_e,le){if(!(_e instanceof IDBDatabase)||le in _e||"string"!=typeof le)return;if(rt.get(le))return rt.get(le);const Ve=le.replace(/FromIndex$/,""),vt=le!==Ve,Mt=de.includes(Ve);if(!(Ve in(vt?IDBIndex:IDBObjectStore).prototype)||!Mt&&!Be.includes(Ve))return;const tn=function(){var xt=(0,s.Z)(function*(bn,...dn){const rr=this.transaction(bn,Mt?"readwrite":"readonly");let Li=rr.store;return vt&&(Li=Li.index(dn.shift())),(yield Promise.all([Li[Ve](...dn),Mt&&rr.done]))[0]});return function(dn){return xt.apply(this,arguments)}}();return rt.set(le,tn),tn}!function Pe(_e){we=_e(we)}(_e=>({..._e,get:(le,Ve,vt)=>St(le,Ve)||_e.get(le,Ve,vt),has:(le,Ve)=>!!St(le,Ve)||_e.has(le,Ve)}));class ct{constructor(le){this.container=le}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function Zt(_e){return"VERSION"===_e.getComponent()?.type}(Ve)){const vt=Ve.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(Ve=>Ve).join(" ")}}const ft="@firebase/app",Pi=new N.Yd("@firebase/app"),nr="[DEFAULT]",mr={[ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pn=new Map,Yt=new Map;function mt(_e,le){try{_e.container.addComponent(le)}catch(Ve){Pi.debug(`Component ${le.name} failed to register with FirebaseApp ${_e.name}`,Ve)}}function Lt(_e,le){_e.container.addOrOverwriteComponent(le)}function ai(_e){const le=_e.name;if(Yt.has(le))return Pi.debug(`There were multiple attempts to register component ${le}.`),!1;Yt.set(le,_e);for(const Ve of pn.values())mt(Ve,_e);return!0}function Gi(_e,le){const Ve=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),_e.container.getProvider(le)}function ti(_e,le,Ve=nr){Gi(_e,le).clearInstance(Ve)}function pr(){Yt.clear()}const Ni=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Jt{constructor(le,Ve,vt){this._isDeleted=!1,this._options=Object.assign({},le),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this.checkDestroyed(),this._automaticDataCollectionEnabled=le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(le){this._isDeleted=le}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}const Lr="9.23.0";function en(_e,le={}){let Ve=_e;"object"!=typeof le&&(le={name:le});const vt=Object.assign({name:nr,automaticDataCollectionEnabled:!1},le),Mt=vt.name;if("string"!=typeof Mt||!Mt)throw Ni.create("bad-app-name",{appName:String(Mt)});if(Ve||(Ve=(0,ae.aH)()),!Ve)throw Ni.create("no-options");const tn=pn.get(Mt);if(tn){if((0,ae.vZ)(Ve,tn.options)&&(0,ae.vZ)(vt,tn.config))return tn;throw Ni.create("duplicate-app",{appName:Mt})}const xt=new $.H0(Mt);for(const dn of Yt.values())xt.addComponent(dn);const bn=new Jt(Ve,vt,xt);return pn.set(Mt,bn),bn}function Sr(_e=nr){const le=pn.get(_e);if(!le&&_e===nr&&(0,ae.aH)())return en();if(!le)throw Ni.create("no-app",{appName:_e});return le}function zt(){return Array.from(pn.values())}function li(_e){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,s.Z)(function*(_e){const le=_e.name;pn.has(le)&&(pn.delete(le),yield Promise.all(_e.container.getProviders().map(Ve=>Ve.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function Wi(_e,le,Ve){var vt;let Mt=null!==(vt=mr[_e])&&void 0!==vt?vt:_e;Ve&&(Mt+=`-${Ve}`);const tn=Mt.match(/\s|\//),xt=le.match(/\s|\//);if(tn||xt){const bn=[`Unable to register library "${Mt}" with version "${le}":`];return tn&&bn.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),tn&&xt&&bn.push("and"),xt&&bn.push(`version name "${le}" contains illegal characters (whitespace or "/")`),void Pi.warn(bn.join(" "))}ai(new $.wA(`${Mt}-version`,()=>({library:Mt,version:le}),"VERSION"))}function ci(_e,le){if(null!==_e&&"function"!=typeof _e)throw Ni.create("invalid-log-argument");(0,N.Am)(_e,le)}function gr(_e){(0,N.Ub)(_e)}const ir="firebase-heartbeat-database",_r=1,W="firebase-heartbeat-store";let G=null;function L(){return G||(G=function Ne(_e,le,{blocked:Ve,upgrade:vt,blocking:Mt,terminated:tn}={}){const xt=indexedDB.open(_e,le),bn=Se(xt);return vt&&xt.addEventListener("upgradeneeded",dn=>{vt(Se(xt.result),dn.oldVersion,dn.newVersion,Se(xt.transaction),dn)}),Ve&&xt.addEventListener("blocked",dn=>Ve(dn.oldVersion,dn.newVersion,dn)),bn.then(dn=>{tn&&dn.addEventListener("close",()=>tn()),Mt&&dn.addEventListener("versionchange",rr=>Mt(rr.oldVersion,rr.newVersion,rr))}).catch(()=>{}),bn}(ir,_r,{upgrade:(_e,le)=>{0===le&&_e.createObjectStore(W)}}).catch(_e=>{throw Ni.create("idb-open",{originalErrorMessage:_e.message})})),G}function P(){return(P=(0,s.Z)(function*(_e){try{return yield(yield L()).transaction(W).objectStore(W).get(ot(_e))}catch(le){if(le instanceof ae.ZR)Pi.warn(le.message);else{const Ve=Ni.create("idb-get",{originalErrorMessage:le?.message});Pi.warn(Ve.message)}}})).apply(this,arguments)}function Q(_e,le){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,s.Z)(function*(_e,le){try{const vt=(yield L()).transaction(W,"readwrite");yield vt.objectStore(W).put(le,ot(_e)),yield vt.done}catch(Ve){if(Ve instanceof ae.ZR)Pi.warn(Ve.message);else{const vt=Ni.create("idb-set",{originalErrorMessage:Ve?.message});Pi.warn(vt.message)}}})).apply(this,arguments)}function ot(_e){return`${_e.name}!${_e.options.appId}`}class Kt{constructor(le){this.container=le,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new $t(Ve),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var le=this;return(0,s.Z)(function*(){const vt=le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=kt();if(null===le._heartbeatsCache&&(le._heartbeatsCache=yield le._heartbeatsCachePromise),le._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!le._heartbeatsCache.heartbeats.some(tn=>tn.date===Mt))return le._heartbeatsCache.heartbeats.push({date:Mt,agent:vt}),le._heartbeatsCache.heartbeats=le._heartbeatsCache.heartbeats.filter(tn=>{const xt=new Date(tn.date).valueOf();return Date.now()-xt<=2592e6}),le._storage.overwrite(le._heartbeatsCache)})()}getHeartbeatsHeader(){var le=this;return(0,s.Z)(function*(){if(null===le._heartbeatsCache&&(yield le._heartbeatsCachePromise),null===le._heartbeatsCache||0===le._heartbeatsCache.heartbeats.length)return"";const Ve=kt(),{heartbeatsToSend:vt,unsentEntries:Mt}=function Rn(_e,le=1024){const Ve=[];let vt=_e.slice();for(const Mt of _e){const tn=Ve.find(xt=>xt.agent===Mt.agent);if(tn){if(tn.dates.push(Mt.date),Fi(Ve)>le){tn.dates.pop();break}}else if(Ve.push({agent:Mt.agent,dates:[Mt.date]}),Fi(Ve)>le){Ve.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:vt}}(le._heartbeatsCache.heartbeats),tn=(0,ae.L)(JSON.stringify({version:2,heartbeats:vt}));return le._heartbeatsCache.lastSentHeartbeatDate=Ve,Mt.length>0?(le._heartbeatsCache.heartbeats=Mt,yield le._storage.overwrite(le._heartbeatsCache)):(le._heartbeatsCache.heartbeats=[],le._storage.overwrite(le._heartbeatsCache)),tn})()}}function kt(){return(new Date).toISOString().substring(0,10)}class $t{constructor(le){this.app=le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var le=this;return(0,s.Z)(function*(){return(yield le._canUseIndexedDBPromise)&&(yield function V(_e){return P.apply(this,arguments)}(le.app))||{heartbeats:[]}})()}overwrite(le){var Ve=this;return(0,s.Z)(function*(){var vt;if(yield Ve._canUseIndexedDBPromise){const tn=yield Ve.read();return Q(Ve.app,{lastSentHeartbeatDate:null!==(vt=le.lastSentHeartbeatDate)&&void 0!==vt?vt:tn.lastSentHeartbeatDate,heartbeats:le.heartbeats})}})()}add(le){var Ve=this;return(0,s.Z)(function*(){var vt;if(yield Ve._canUseIndexedDBPromise){const tn=yield Ve.read();return Q(Ve.app,{lastSentHeartbeatDate:null!==(vt=le.lastSentHeartbeatDate)&&void 0!==vt?vt:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...le.heartbeats]})}})()}}function Fi(_e){return(0,ae.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function Bo(_e){ai(new $.wA("platform-logger",le=>new ct(le),"PRIVATE")),ai(new $.wA("heartbeat",le=>new Kt(le),"PRIVATE")),Wi(ft,"0.9.13",_e),Wi(ft,"0.9.13","esm2017"),Wi("fire-js","")}("")},4859:(wt,Ae,U)=>{U.d(Ae,{H0:()=>be,wA:()=>N});var s=U(5861),$=U(2090);class N{constructor(Z,q,te){this.name=Z,this.instanceFactory=q,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const ae="[DEFAULT]";class ue{constructor(Z,q){this.name=Z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(q)){const te=new $.BH;if(this.instancesDeferred.set(q,te),this.isInitialized(q)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:q});$e&&te.resolve($e)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(Z){var q;const te=this.normalizeInstanceIdentifier(Z?.identifier),$e=null!==(q=Z?.optional)&&void 0!==q&&q;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Me){if($e)return null;throw Me}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function Ee(xe){return"EAGER"===xe.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[q,te]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(q);try{const Me=this.getOrInitializeService({instanceIdentifier:$e});te.resolve(Me)}catch{}}}}clearInstance(Z=ae){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,s.Z)(function*(){const q=Array.from(Z.instances.values());yield Promise.all([...q.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...q.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=ae){return this.instances.has(Z)}getOptions(Z=ae){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:q={}}=Z,te=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:te,options:q});for(const[Me,Ye]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Me)&&Ye.resolve($e);return $e}onInit(Z,q){var te;const $e=this.normalizeInstanceIdentifier(q),Me=null!==(te=this.onInitCallbacks.get($e))&&void 0!==te?te:new Set;Me.add(Z),this.onInitCallbacks.set($e,Me);const Ye=this.instances.get($e);return Ye&&Z(Ye,$e),()=>{Me.delete(Z)}}invokeOnInitCallbacks(Z,q){const te=this.onInitCallbacks.get(q);if(te)for(const $e of te)try{$e(Z,q)}catch{}}getOrInitializeService({instanceIdentifier:Z,options:q={}}){let te=this.instances.get(Z);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=Z,xe===ae?void 0:xe),options:q}),this.instances.set(Z,te),this.instancesOptions.set(Z,q),this.invokeOnInitCallbacks(te,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,te)}catch{}var xe;return te||null}normalizeInstanceIdentifier(Z=ae){return this.component?this.component.multipleInstances?Z:ae:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const q=this.getProvider(Z.name);if(q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);q.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const q=new ue(Z,this);return this.providers.set(Z,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(wt,Ae,U)=>{U.d(Ae,{Am:()=>xe,Ub:()=>be,Yd:()=>Ee,in:()=>$});const s=[];var $=(()=>{return(Z=$||($={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",$;var Z})();const N={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ae=$.INFO,ue={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ne=(Z,q,...te)=>{if(q<Z.logLevel)return;const $e=(new Date).toISOString(),Me=ue[q];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Me](`[${$e}]  ${Z.name}:`,...te)};class Ee{constructor(q){this.name=q,this._logLevel=ae,this._logHandler=ne,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in $))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?N[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...q),this._logHandler(this,$.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...q),this._logHandler(this,$.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,$.INFO,...q),this._logHandler(this,$.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,$.WARN,...q),this._logHandler(this,$.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...q),this._logHandler(this,$.ERROR,...q)}}function be(Z){s.forEach(q=>{q.setLogLevel(Z)})}function xe(Z,q){for(const te of s){let $e=null;q&&q.level&&($e=N[q.level]),te.userLogHandler=null===Z?null:(Me,Ye,...lt)=>{const we=lt.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch{return null}}).filter(Pe=>Pe).join(" ");Ye>=($e??Me.logLevel)&&Z({level:$[Ye].toLowerCase(),message:we,args:lt,type:Me.name})}}}},259:(wt,Ae,U)=>{U.d(Ae,{C6:()=>s.getApps,KN:()=>s.registerVersion,Mq:()=>s.getApp,ZF:()=>s.initializeApp});var s=U(6881);(0,s.registerVersion)("firebase","9.23.0","app")},9260:(wt,Ae,U)=>{U.d(Ae,{Z:()=>s.Z});var s=U(3942);s.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(wt,Ae,U)=>{U.r(Ae);var s=U(5861),$=U(3942),N=U(1389),ae=U(2090),Ee=(U(6881),U(1877),U(4859));function be(){return window}const xe=2e3;function q(){return q=(0,s.Z)(function*(L,V,P){var Q;const{BuildInfo:Ce}=be();(0,N.as)(V.sessionId,"AuthEvent did not contain a session ID");const ot=yield function Pe(L){return Fe.apply(this,arguments)}(V.sessionId),At={};return(0,N.at)()?At.ibi=Ce.packageName:(0,N.au)()?At.apn=Ce.packageName:(0,N.av)(L,"operation-not-supported-in-this-environment"),Ce.displayName&&(At.appDisplayName=Ce.displayName),At.sessionId=ot,(0,N.aw)(L,P,V.type,void 0,null!==(Q=V.eventId)&&void 0!==Q?Q:void 0,At)}),q.apply(this,arguments)}function $e(){return($e=(0,s.Z)(function*(L){const{BuildInfo:V}=be(),P={};(0,N.at)()?P.iosBundleId=V.packageName:(0,N.au)()?P.androidPackageName=V.packageName:(0,N.av)(L,"operation-not-supported-in-this-environment"),yield(0,N.ax)(L,P)})).apply(this,arguments)}function lt(){return(lt=(0,s.Z)(function*(L,V,P){const{cordova:Q}=be();let Ce=()=>{};try{yield new Promise((ot,At)=>{let It=null;function Kt(){var $t;ot();const Fi=null===($t=Q.plugins.browsertab)||void 0===$t?void 0:$t.close;"function"==typeof Fi&&Fi(),"function"==typeof P?.close&&P.close()}function kt(){It||(It=window.setTimeout(()=>{At((0,N.az)(L,"redirect-cancelled-by-user"))},xe))}function Rn(){"visible"===document?.visibilityState&&kt()}V.addPassiveListener(Kt),document.addEventListener("resume",kt,!1),(0,N.au)()&&document.addEventListener("visibilitychange",Rn,!1),Ce=()=>{V.removePassiveListener(Kt),document.removeEventListener("resume",kt,!1),document.removeEventListener("visibilitychange",Rn,!1),It&&window.clearTimeout(It)}})}finally{Ce()}})).apply(this,arguments)}function Fe(){return(Fe=(0,s.Z)(function*(L){const V=function Ue(L){if((0,N.as)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const V=new ArrayBuffer(L.length),P=new Uint8Array(V);for(let Q=0;Q<L.length;Q++)P[Q]=L.charCodeAt(Q);return P}(L),P=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(P)).map(Ce=>Ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Se=20;class Te extends N.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(P=>P(V)),super.onEvent(V)}initialized(){var V=this;return(0,s.Z)(function*(){yield V.initPromise})()}}function Be(L){return de.apply(this,arguments)}function de(){return(de=(0,s.Z)(function*(L){const V=yield ct()._get(Zt(L));return V&&(yield ct()._remove(Zt(L))),V})).apply(this,arguments)}function St(){const L=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<Se;P++){const Q=Math.floor(Math.random()*V.length);L.push(V.charAt(Q))}return L.join("")}function ct(){return(0,N.aC)(N.b)}function Zt(L){return(0,N.aD)("authEvent",L.config.apiKey,L.name)}function Pi(L){if(!L?.includes("?"))return{};const[V,...P]=L.split("?");return(0,ae.zd)(P.join("?"))}const he=class Co{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(V){var P=this;return(0,s.Z)(function*(){const Q=V._key();let Ce=P.eventManagers.get(Q);return Ce||(Ce=new Te(V),P.eventManagers.set(Q,Ce),P.attachCallbackListeners(V,Ce)),Ce})()}_openPopup(V){(0,N.av)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,P,Q,Ce){var ot=this;return(0,s.Z)(function*(){!function we(L){var V,P,Q,Ce,ot,At,It,Kt,kt,Rn;const $t=be();(0,N.aA)("function"==typeof(null===(V=$t?.universalLinks)||void 0===V?void 0:V.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aA)(typeof(null===(P=$t?.BuildInfo)||void 0===P?void 0:P.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aA)("function"==typeof(null===(ot=null===(Ce=null===(Q=$t?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===Ce?void 0:Ce.browsertab)||void 0===ot?void 0:ot.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(Kt=null===(It=null===(At=$t?.cordova)||void 0===At?void 0:At.plugins)||void 0===It?void 0:It.browsertab)||void 0===Kt?void 0:Kt.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(Rn=null===(kt=$t?.cordova)||void 0===kt?void 0:kt.InAppBrowser)||void 0===Rn?void 0:Rn.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const At=yield ot._initialize(V);yield At.initialized(),At.resetRedirect(),(0,N.aG)(),yield ot._originValidation(V);const It=function Ne(L,V,P=null){return{type:V,eventId:P,urlResponse:null,sessionId:St(),postBody:null,tenantId:L.tenantId,error:(0,N.az)(L,"no-auth-event")}}(V,Q,Ce);yield function Ge(L,V){return ct()._set(Zt(L),V)}(V,It);const Kt=yield function Z(L,V,P){return q.apply(this,arguments)}(V,It,P),kt=yield function Me(L){const{cordova:V}=be();return new Promise(P=>{V.plugins.browsertab.isAvailable(Q=>{let Ce=null;Q?V.plugins.browsertab.openUrl(L):Ce=V.InAppBrowser.open(L,(0,N.ay)()?"_blank":"_system","location=yes"),P(Ce)})})}(Kt);return function Ye(L,V,P){return lt.apply(this,arguments)}(V,At,kt)})()}_isIframeWebStorageSupported(V,P){throw new Error("Method not implemented.")}_originValidation(V){const P=V._key();return this.originValidationPromises[P]||(this.originValidationPromises[P]=function te(L){return $e.apply(this,arguments)}(V)),this.originValidationPromises[P]}attachCallbackListeners(V,P){const{universalLinks:Q,handleOpenURL:Ce,BuildInfo:ot}=be(),At=setTimeout((0,s.Z)(function*(){yield Be(V),P.onEvent(ge())}),500),It=function(){var Rn=(0,s.Z)(function*($t){clearTimeout(At);const Fi=yield Be(V);let Bo=null;Fi&&$t?.url&&(Bo=function rt(L,V){var P,Q;const Ce=function Lo(L){const V=Pi(L),P=V.link?decodeURIComponent(V.link):void 0,Q=Pi(P).link,Ce=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return Pi(Ce).link||Ce||Q||P||L}(V);if(Ce.includes("/__/auth/callback")){const ot=Pi(Ce),At=ot.firebaseError?function ft(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(ot.firebaseError)):null,It=null===(Q=null===(P=At?.code)||void 0===P?void 0:P.split("auth/"))||void 0===Q?void 0:Q[1],Kt=It?(0,N.az)(It):null;return Kt?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:Ce,postBody:null}}return null}(Fi,$t.url)),P.onEvent(Bo||ge())});return function(Fi){return Rn.apply(this,arguments)}}();typeof Q<"u"&&"function"==typeof Q.subscribe&&Q.subscribe(null,It);const Kt=Ce,kt=`${ot.packageName.toLowerCase()}://`;be().handleOpenURL=function(){var Rn=(0,s.Z)(function*($t){if($t.toLowerCase().startsWith(kt)&&It({url:$t}),"function"==typeof Kt)try{Kt($t)}catch(Fi){console.error(Fi)}});return function($t){return Rn.apply(this,arguments)}}()}};function ge(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.az)("no-auth-event")}}const je=1e3;function dt(){var L;return(null===(L=self?.location)||void 0===L?void 0:L.protocol)||null}function mn(L=(0,ae.z$)()){return!("file:"!==dt()&&"ionic:"!==dt()&&"capacitor:"!==dt()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function _i(){try{const L=self.localStorage,V=N.aL();if(L)return L.setItem(V,"1"),L.removeItem(V),!function yn(L=(0,ae.z$)()){return function ln(){return(0,ae.w1)()&&11===document?.documentMode}()||function Bn(L=(0,ae.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,ae.hl)()}catch{return Vn()&&(0,ae.hl)()}return!1}function Vn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gn(){return(function ht(){return"http:"===dt()||"https:"===dt()}()||(0,ae.ru)()||mn())&&!function Et(){return(0,ae.b$)()||(0,ae.UG)()}()&&_i()&&!Vn()}function yi(){return mn()&&typeof document<"u"}function Jn(){return(Jn=(0,s.Z)(function*(){return!!yi()&&new Promise(L=>{const V=setTimeout(()=>{L(!1)},je);document.addEventListener("deviceready",()=>{clearTimeout(V),L(!0)})})})).apply(this,arguments)}const ei={LOCAL:"local",NONE:"none",SESSION:"session"},Eo=N.aA,si="persistence";function mr(L){return pn.apply(this,arguments)}function pn(){return(pn=(0,s.Z)(function*(L){yield L._initializationPromise;const V=mt(),P=N.aD(si,L.config.apiKey,L.name);V&&V.setItem(P,L._getPersistence())})).apply(this,arguments)}function mt(){var L;try{return(null===(L=function _t(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const Lt=N.aA;class ai{constructor(){this.browserResolver=N.aC(N.k),this.cordovaResolver=N.aC(he),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(V){var P=this;return(0,s.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,P,Q,Ce){var ot=this;return(0,s.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openPopup(V,P,Q,Ce)})()}_openRedirect(V,P,Q,Ce){var ot=this;return(0,s.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openRedirect(V,P,Q,Ce)})()}_isIframeWebStorageSupported(V,P){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,P)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return yi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Lt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,s.Z)(function*(){if(V.underlyingResolver)return;const P=yield function Fr(){return Jn.apply(this,arguments)}();V.underlyingResolver=P?V.cordovaResolver:V.browserResolver})()}}function Gi(L){return L.unwrap()}function pr(L){return Ni(L)}function Ni(L){const{_tokenResponse:V}=L instanceof ae.ZR?L.customData:L;if(!V)return null;if(!(L instanceof ae.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return N.P.credentialFromResult(L);const P=V.providerId;if(!P||P===N.p.PASSWORD)return null;let Q;switch(P){case N.p.GOOGLE:Q=N.V;break;case N.p.FACEBOOK:Q=N.U;break;case N.p.GITHUB:Q=N.W;break;case N.p.TWITTER:Q=N.Z;break;default:const{oauthIdToken:Ce,oauthAccessToken:ot,oauthTokenSecret:At,pendingToken:It,nonce:Kt}=V;return ot||At||Ce||It?It?P.startsWith("saml.")?N.aO._create(P,It):N.L._fromParams({providerId:P,signInMethod:P,pendingToken:It,idToken:Ce,accessToken:ot}):new N.X(P).credential({idToken:Ce,accessToken:ot,rawNonce:Kt}):null}return L instanceof ae.ZR?Q.credentialFromError(L):Q.credentialFromResult(L)}function Jt(L,V){return V.catch(P=>{throw P instanceof ae.ZR&&function ni(L,V){var P;const Q=null===(P=V.customData)||void 0===P?void 0:P._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new Sr(L,N.aq(L,V));else if(Q){const Ce=Ni(V),ot=V;Ce&&(ot.credential=Ce,ot.tenantId=Q.tenantId||void 0,ot.email=Q.email||void 0,ot.phoneNumber=Q.phoneNumber||void 0)}}(L,P),P}).then(P=>{const Ce=P.user;return{operationType:P.operationType,credential:pr(P),additionalUserInfo:N.ao(P),user:zt.getOrCreate(Ce)}})}function Lr(L,V){return en.apply(this,arguments)}function en(){return(en=(0,s.Z)(function*(L,V){const P=yield V;return{verificationId:P.verificationId,confirm:Q=>Jt(L,P.confirm(Q))}})).apply(this,arguments)}class Sr{constructor(V,P){this.resolver=P,this.auth=function ti(L){return L.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return Jt(Gi(this.auth),this.resolver.resolveSignIn(V))}}class zt{constructor(V){this._delegate=V,this.multiFactor=N.ar(V)}static getOrCreate(V){return zt.USER_MAP.has(V)||zt.USER_MAP.set(V,new zt(V)),zt.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var P=this;return(0,s.Z)(function*(){return Jt(P.auth,N.a0(P._delegate,V))})()}linkWithPhoneNumber(V,P){var Q=this;return(0,s.Z)(function*(){return Lr(Q.auth,N.l(Q._delegate,V,P))})()}linkWithPopup(V){var P=this;return(0,s.Z)(function*(){return Jt(P.auth,N.d(P._delegate,V,ai))})()}linkWithRedirect(V){var P=this;return(0,s.Z)(function*(){return yield mr(N.aH(P.auth)),N.g(P._delegate,V,ai)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var P=this;return(0,s.Z)(function*(){return Jt(P.auth,N.a1(P._delegate,V))})()}reauthenticateWithPhoneNumber(V,P){return Lr(this.auth,N.r(this._delegate,V,P))}reauthenticateWithPopup(V){return Jt(this.auth,N.e(this._delegate,V,ai))}reauthenticateWithRedirect(V){var P=this;return(0,s.Z)(function*(){return yield mr(N.aH(P.auth)),N.h(P._delegate,V,ai)})()}sendEmailVerification(V){return N.ae(this._delegate,V)}unlink(V){var P=this;return(0,s.Z)(function*(){return yield N.an(P._delegate,V),P})()}updateEmail(V){return N.aj(this._delegate,V)}updatePassword(V){return N.ak(this._delegate,V)}updatePhoneNumber(V){return N.u(this._delegate,V)}updateProfile(V){return N.ai(this._delegate,V)}verifyBeforeUpdateEmail(V,P){return N.af(this._delegate,V,P)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zt.USER_MAP=new WeakMap;const li=N.aA;let Wn=(()=>{class L{constructor(P,Q){if(this.app=P,Q.isInitialized())return this._delegate=Q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ce}=P.options;li(Ce,"invalid-api-key",{appName:P.name}),li(Ce,"invalid-api-key",{appName:P.name});const ot=typeof window<"u"?ai:void 0;this._delegate=Q.initialize({options:{persistence:ci(Ce,P.name),popupRedirectResolver:ot}}),this._delegate._updateErrorMap(N.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(P){this._delegate.languageCode=P}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(P){this._delegate.tenantId=P}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(P,Q){N.I(this._delegate,P,Q)}applyActionCode(P){return N.a5(this._delegate,P)}checkActionCode(P){return N.a6(this._delegate,P)}confirmPasswordReset(P,Q){return N.a4(this._delegate,P,Q)}createUserWithEmailAndPassword(P,Q){var Ce=this;return(0,s.Z)(function*(){return Jt(Ce._delegate,N.a8(Ce._delegate,P,Q))})()}fetchProvidersForEmail(P){return this.fetchSignInMethodsForEmail(P)}fetchSignInMethodsForEmail(P){return N.ad(this._delegate,P)}isSignInWithEmailLink(P){return N.ab(this._delegate,P)}getRedirectResult(){var P=this;return(0,s.Z)(function*(){li(Gn(),P._delegate,"operation-not-supported-in-this-environment");const Q=yield N.j(P._delegate,ai);return Q?Jt(P._delegate,Promise.resolve(Q)):{credential:null,user:null}})()}addFrameworkForLogging(P){!function ve(L,V){(0,N.aH)(L)._logFramework(V)}(this._delegate,P)}onAuthStateChanged(P,Q,Ce){const{next:ot,error:At,complete:It}=Wi(P,Q,Ce);return this._delegate.onAuthStateChanged(ot,At,It)}onIdTokenChanged(P,Q,Ce){const{next:ot,error:At,complete:It}=Wi(P,Q,Ce);return this._delegate.onIdTokenChanged(ot,At,It)}sendSignInLinkToEmail(P,Q){return N.aa(this._delegate,P,Q)}sendPasswordResetEmail(P,Q){return N.a3(this._delegate,P,Q||void 0)}setPersistence(P){var Q=this;return(0,s.Z)(function*(){let Ce;switch(function nr(L,V){Eo(Object.values(ei).includes(V),L,"invalid-persistence-type"),(0,ae.b$)()?Eo(V!==ei.SESSION,L,"unsupported-persistence-type"):(0,ae.UG)()?Eo(V===ei.NONE,L,"unsupported-persistence-type"):Vn()?Eo(V===ei.NONE||V===ei.LOCAL&&(0,ae.hl)(),L,"unsupported-persistence-type"):Eo(V===ei.NONE||_i(),L,"unsupported-persistence-type")}(Q._delegate,P),P){case ei.SESSION:Ce=N.a;break;case ei.LOCAL:Ce=(yield N.aC(N.i)._isAvailable())?N.i:N.b;break;case ei.NONE:Ce=N.N;break;default:return N.av("argument-error",{appName:Q._delegate.name})}return Q._delegate.setPersistence(Ce)})()}signInAndRetrieveDataWithCredential(P){return this.signInWithCredential(P)}signInAnonymously(){return Jt(this._delegate,N._(this._delegate))}signInWithCredential(P){return Jt(this._delegate,N.$(this._delegate,P))}signInWithCustomToken(P){return Jt(this._delegate,N.a2(this._delegate,P))}signInWithEmailAndPassword(P,Q){return Jt(this._delegate,N.a9(this._delegate,P,Q))}signInWithEmailLink(P,Q){return Jt(this._delegate,N.ac(this._delegate,P,Q))}signInWithPhoneNumber(P,Q){return Lr(this._delegate,N.s(this._delegate,P,Q))}signInWithPopup(P){var Q=this;return(0,s.Z)(function*(){return li(Gn(),Q._delegate,"operation-not-supported-in-this-environment"),Jt(Q._delegate,N.c(Q._delegate,P,ai))})()}signInWithRedirect(P){var Q=this;return(0,s.Z)(function*(){return li(Gn(),Q._delegate,"operation-not-supported-in-this-environment"),yield mr(Q._delegate),N.f(Q._delegate,P,ai)})()}updateCurrentUser(P){return this._delegate.updateCurrentUser(P)}verifyPasswordResetCode(P){return N.a7(this._delegate,P)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=ei,L})();function Wi(L,V,P){let Q=L;"function"!=typeof L&&({next:Q,error:V,complete:P}=L);const Ce=Q;return{next:At=>Ce(At&&zt.getOrCreate(At)),error:V,complete:P}}function ci(L,V){const P=function Yt(L,V){const P=mt();if(!P)return[];const Q=N.aD(si,L,V);switch(P.getItem(Q)){case ei.NONE:return[N.N];case ei.LOCAL:return[N.i,N.a];case ei.SESSION:return[N.a];default:return[]}}(L,V);if(typeof self<"u"&&!P.includes(N.i)&&P.push(N.i),typeof window<"u")for(const Q of[N.b,N.a])P.includes(Q)||P.push(Q);return P.includes(N.N)||P.push(N.N),P}class gr{constructor(){this.providerId="phone",this._delegate=new N.P(Gi($.Z.auth()))}static credential(V,P){return N.P.credential(V,P)}verifyPhoneNumber(V,P){return this._delegate.verifyPhoneNumber(V,P)}unwrap(){return this._delegate}}gr.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,gr.PROVIDER_ID=N.P.PROVIDER_ID;const ir=N.aA;class _r{constructor(V,P,Q=$.Z.app()){var Ce;ir(null===(Ce=Q.options)||void 0===Ce?void 0:Ce.apiKey,"invalid-api-key",{appName:Q.name}),this._delegate=new N.R(V,P,Q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G(L){L.INTERNAL.registerComponent(new Ee.wA("auth-compat",V=>{const P=V.getProvider("app-compat").getImmediate(),Q=V.getProvider("auth");return new Wn(P,Q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.Q,FacebookAuthProvider:N.U,GithubAuthProvider:N.W,GoogleAuthProvider:N.V,OAuthProvider:N.X,SAMLAuthProvider:N.Y,PhoneAuthProvider:gr,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:_r,TwitterAuthProvider:N.Z,Auth:Wn,AuthCredential:N.J,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.4.2")}($.Z)},5861:(wt,Ae,U)=>{function s(N,ae,ue,ne,Ee,be,xe){try{var Z=N[be](xe),q=Z.value}catch(te){return void ue(te)}Z.done?ae(q):Promise.resolve(q).then(ne,Ee)}function $(N){return function(){var ae=this,ue=arguments;return new Promise(function(ne,Ee){var be=N.apply(ae,ue);function xe(q){s(be,ne,Ee,xe,Z,"next",q)}function Z(q){s(be,ne,Ee,xe,Z,"throw",q)}xe(void 0)})}}U.d(Ae,{Z:()=>$})},7582:(wt,Ae,U)=>{function ae(he,ge){var ve={};for(var oe in he)Object.prototype.hasOwnProperty.call(he,oe)&&ge.indexOf(oe)<0&&(ve[oe]=he[oe]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(oe=Object.getOwnPropertySymbols(he);ke<oe.length;ke++)ge.indexOf(oe[ke])<0&&Object.prototype.propertyIsEnumerable.call(he,oe[ke])&&(ve[oe[ke]]=he[oe[ke]])}return ve}function te(he,ge,ve,oe){return new(ve||(ve=Promise))(function(je,dt){function ht(ln){try{Et(oe.next(ln))}catch(Bn){dt(Bn)}}function mn(ln){try{Et(oe.throw(ln))}catch(Bn){dt(Bn)}}function Et(ln){ln.done?je(ln.value):function ke(je){return je instanceof ve?je:new ve(function(dt){dt(je)})}(ln.value).then(ht,mn)}Et((oe=oe.apply(he,ge||[])).next())})}function Se(he){return this instanceof Se?(this.v=he,this):new Se(he)}function Te(he,ge,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,oe=ve.apply(he,ge||[]),je=[];return ke={},dt("next"),dt("throw"),dt("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function dt(yn){oe[yn]&&(ke[yn]=function(_i){return new Promise(function(Vn,Gn){je.push([yn,_i,Vn,Gn])>1||ht(yn,_i)})})}function ht(yn,_i){try{!function mn(yn){yn.value instanceof Se?Promise.resolve(yn.value.v).then(Et,ln):Bn(je[0][2],yn)}(oe[yn](_i))}catch(Vn){Bn(je[0][3],Vn)}}function Et(yn){ht("next",yn)}function ln(yn){ht("throw",yn)}function Bn(yn,_i){yn(_i),je.shift(),je.length&&ht(je[0][0],je[0][1])}}function Ge(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,ge=he[Symbol.asyncIterator];return ge?ge.call(he):(he=function lt(he){var ge="function"==typeof Symbol&&Symbol.iterator,ve=ge&&he[ge],oe=0;if(ve)return ve.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&oe>=he.length&&(he=void 0),{value:he&&he[oe++],done:!he}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),ve={},oe("next"),oe("throw"),oe("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function oe(je){ve[je]=he[je]&&function(dt){return new Promise(function(ht,mn){!function ke(je,dt,ht,mn){Promise.resolve(mn).then(function(Et){je({value:Et,done:ht})},dt)}(ht,mn,(dt=he[je](dt)).done,dt.value)})}}}U.d(Ae,{FC:()=>Te,KL:()=>Ge,_T:()=>ae,mG:()=>te,qq:()=>Se}),"function"==typeof SuppressedError&&SuppressedError}},wt=>{wt(wt.s=5920)}]);