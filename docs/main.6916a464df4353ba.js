"use strict";(self.webpackChunkTraining=self.webpackChunkTraining||[]).push([[179],{2011:(xt,Ae,j)=>{j.d(Ae,{Dh:()=>be,GT:()=>re,cc:()=>ke,hO:()=>Ge,on:()=>K,pX:()=>ue,xv:()=>xe});var s=j(4650),G=j(9260),N=j(4976);xt=j.hmd(xt);const se=["ngOnDestroy"],ue=(Fe,Le,ze,Me={})=>new Proxy(Fe,{get:(Ie,Ne)=>ze.runOutsideAngular(()=>{var We;if(Fe[Ne])return!(null===(We=Me?.spy)||void 0===We)&&We.get&&Me.spy.get(Ne,Fe[Ne]),Fe[Ne];if(se.indexOf(Ne)>-1)return()=>{};const Ve=Le.toPromise().then(de=>{const ot=de&&de[Ne];return"function"==typeof ot?ot.bind(de):ot&&ot.then?ot.then(Mt=>ze.run(()=>Mt)):ze.run(()=>ot)});return new Proxy(()=>{},{get:(de,ot)=>Ve[ot],apply:(de,ot,Mt)=>Ve.then(ut=>{var Qt;const mt=ut&&ut(...Mt);return!(null===(Qt=Me?.spy)||void 0===Qt)&&Qt.apply&&Me.spy.apply(Ne,Mt,mt),mt})})})}),re=(Fe,Le)=>{Le.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Me=>{Object.defineProperty(Fe.prototype,Me,Object.getOwnPropertyDescriptor(ze.prototype||ze,Me))})})};class De{constructor(Le){return Le}}const be=new s.OlP("angularfire2.app.options"),xe=new s.OlP("angularfire2.app.name");function K(Fe,Le,ze){const Ie="object"==typeof ze&&ze||{};Ie.name=Ie.name||"string"==typeof ze&&ze||"[DEFAULT]";const We=G.Z.apps.filter(Ve=>Ve&&Ve.name===Ie.name)[0]||Le.runOutsideAngular(()=>G.Z.initializeApp(Fe,Ie));try{JSON.stringify(Fe)!==JSON.stringify(We.options)&&Y("error",`${We.name} Firebase App already initialized with different options${xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new De(We)}const Y=(Fe,...Le)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Fe](...Le)},ne={provide:De,useFactory:K,deps:[be,s.R0b,[new s.FiY,xe]]};let Ge=(()=>{class Fe{constructor(ze){G.Z.registerVersion("angularfire",N.q4.full,"core"),G.Z.registerVersion("angularfire",N.q4.full,"app-compat"),G.Z.registerVersion("angular",s.q4F.full,ze.toString())}static initializeApp(ze,Me){return{ngModule:Fe,providers:[{provide:be,useValue:ze},{provide:xe,useValue:Me}]}}}return Fe.\u0275fac=function(ze){return new(ze||Fe)(s.LFG(s.Lbi))},Fe.\u0275mod=s.oAB({type:Fe}),Fe.\u0275inj=s.cJS({providers:[ne]}),Fe})();function ke(Fe,Le,ze,Me,Ie){const[,Ne,We]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===Fe)||[];if(Ne)return function Xe(Fe,Le){try{return Fe.toString()===Le.toString()}catch{return Fe===Le}}(Ie,We)||(we("error",`${Le} was already initialized on the ${ze} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Ie,was:We})),Ne;{const Ve=Me();return globalThis.\u0275AngularfireInstanceCache.push([Fe,Ve,Ie]),Ve}}const dt=!!xt.hot,we=(Fe,...Le)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Fe](...Le)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(xt,Ae,j)=>{j.d(Ae,{q4:()=>Hl,iC:()=>jh,HU:()=>Wa,vb:()=>Bm,JM:()=>zl,u3:()=>ni});var s=j(4650),G=j(259),N=j(5861),se=j(6881),ue=j(2090),re=j(4859),De=j(1877);const be=(x,T)=>T.some(M=>x instanceof M);let xe,K;const Ge=new WeakMap,ke=new WeakMap,Xe=new WeakMap,dt=new WeakMap,we=new WeakMap;let ze={get(x,T,M){if(x instanceof IDBTransaction){if("done"===T)return ke.get(x);if("objectStoreNames"===T)return x.objectStoreNames||Xe.get(x);if("store"===T)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return We(x[T])},set:(x,T,M)=>(x[T]=M,!0),has:(x,T)=>x instanceof IDBTransaction&&("done"===T||"store"===T)||T in x};function Ne(x){return"function"==typeof x?function Ie(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return K||(K=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...T){return x.apply(Ve(this),T),We(Ge.get(this))}:function(...T){return We(x.apply(Ve(this),T))}:function(T,...M){const z=x.call(Ve(this),T,...M);return Xe.set(z,T.sort?T.sort():[T]),We(z)}}(x):(x instanceof IDBTransaction&&function Le(x){if(ke.has(x))return;const T=new Promise((M,z)=>{const Q=()=>{x.removeEventListener("complete",ee),x.removeEventListener("error",pe),x.removeEventListener("abort",pe)},ee=()=>{M(),Q()},pe=()=>{z(x.error||new DOMException("AbortError","AbortError")),Q()};x.addEventListener("complete",ee),x.addEventListener("error",pe),x.addEventListener("abort",pe)});ke.set(x,T)}(x),be(x,function Y(){return xe||(xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,ze):x)}function We(x){if(x instanceof IDBRequest)return function Fe(x){const T=new Promise((M,z)=>{const Q=()=>{x.removeEventListener("success",ee),x.removeEventListener("error",pe)},ee=()=>{M(We(x.result)),Q()},pe=()=>{z(x.error),Q()};x.addEventListener("success",ee),x.addEventListener("error",pe)});return T.then(M=>{M instanceof IDBCursor&&Ge.set(M,x)}).catch(()=>{}),we.set(T,x),T}(x);if(dt.has(x))return dt.get(x);const T=Ne(x);return T!==x&&(dt.set(x,T),we.set(T,x)),T}const Ve=x=>we.get(x),Mt=["get","getKey","getAll","getAllKeys","count"],ut=["put","add","delete","clear"],Qt=new Map;function mt(x,T){if(!(x instanceof IDBDatabase)||T in x||"string"!=typeof T)return;if(Qt.get(T))return Qt.get(T);const M=T.replace(/FromIndex$/,""),z=T!==M,Q=ut.includes(M);if(!(M in(z?IDBIndex:IDBObjectStore).prototype)||!Q&&!Mt.includes(M))return;const ee=function(){var pe=(0,N.Z)(function*(Je,...Ke){const yt=this.transaction(Je,Q?"readwrite":"readonly");let Lt=yt.store;return z&&(Lt=Lt.index(Ke.shift())),(yield Promise.all([Lt[M](...Ke),Q&&yt.done]))[0]});return function(Ke){return pe.apply(this,arguments)}}();return Qt.set(T,ee),ee}!function Me(x){ze=x(ze)}(x=>({...x,get:(T,M,z)=>mt(T,M)||x.get(T,M,z),has:(T,M)=>!!mt(T,M)||x.has(T,M)}));const Yo="@firebase/installations",Vi="0.6.4",Ar=1e4,Oo=`w:${Vi}`,he="FIS_v2",ge="https://firebaseinstallations.googleapis.com/v1",ye=36e5,ht=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(x){return x instanceof ue.ZR&&x.code.includes("request-failed")}function vn({projectId:x}){return`${ge}/projects/${x}/installations`}function Dt(x){return{token:x.token,requestStatus:2,expiresIn:bi(x.expiresIn),creationTime:Date.now()}}function un(x,T){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,N.Z)(function*(x,T){const z=(yield T.json()).error;return ht.create("request-failed",{requestName:x,serverCode:z.code,serverMessage:z.message,serverStatus:z.status})})).apply(this,arguments)}function xn({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function Wn(x){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,N.Z)(function*(x){const T=yield x();return T.status>=500&&T.status<600?x():T})).apply(this,arguments)}function bi(x){return Number(x.replace("s","000"))}function vt(){return(vt=(0,N.Z)(function*({appConfig:x,heartbeatServiceProvider:T},{fid:M}){const z=vn(x),Q=xn(x),ee=T.getImmediate({optional:!0});if(ee){const yt=yield ee.getHeartbeatsHeader();yt&&Q.append("x-firebase-client",yt)}const Je={method:"POST",headers:Q,body:JSON.stringify({fid:M,authVersion:he,appId:x.appId,sdkVersion:Oo})},Ke=yield Wn(()=>fetch(z,Je));if(Ke.ok){const yt=yield Ke.json();return{fid:yt.fid||M,registrationStatus:2,refreshToken:yt.refreshToken,authToken:Dt(yt.authToken)}}throw yield un("Create Installation",Ke)})).apply(this,arguments)}function ai(x){return new Promise(T=>{setTimeout(T,x)})}const ui=/^[cdef][\w-]{21}$/,or="";function pr(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const M=function yn(x){return function Po(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return ui.test(M)?M:or}catch{return or}}function Xt(x){return`${x.appName}!${x.appId}`}const pt=new Map;function Vt(x,T){const M=Xt(x);Xn(M,T),function gr(x,T){const M=function Ti(){return!li&&"BroadcastChannel"in self&&(li=new BroadcastChannel("[Firebase] FID Change"),li.onmessage=x=>{Xn(x.data.key,x.data.fid)}),li}();M&&M.postMessage({key:x,fid:T}),function Jt(){0===pt.size&&li&&(li.close(),li=null)}()}(M,T)}function Xn(x,T){const M=pt.get(x);if(M)for(const z of M)z(T)}let li=null;const Hr="firebase-installations-database",rn=1,kr="firebase-installations-store";let Gt=null;function fi(){return Gt||(Gt=function de(x,T,{blocked:M,upgrade:z,blocking:Q,terminated:ee}={}){const pe=indexedDB.open(x,T),Je=We(pe);return z&&pe.addEventListener("upgradeneeded",Ke=>{z(We(pe.result),Ke.oldVersion,Ke.newVersion,We(pe.transaction))}),M&&pe.addEventListener("blocked",()=>M()),Je.then(Ke=>{ee&&Ke.addEventListener("close",()=>ee()),Q&&Ke.addEventListener("versionchange",()=>Q())}).catch(()=>{}),Je}(Hr,rn,{upgrade:(x,T)=>{0===T&&x.createObjectStore(kr)}})),Gt}function Jn(x,T){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,N.Z)(function*(x,T){const M=Xt(x),Q=(yield fi()).transaction(kr,"readwrite"),ee=Q.objectStore(kr),pe=yield ee.get(M);return yield ee.put(T,M),yield Q.done,(!pe||pe.fid!==T.fid)&&Vt(x,T.fid),T})).apply(this,arguments)}function mi(x){return _r.apply(this,arguments)}function _r(){return(_r=(0,N.Z)(function*(x){const T=Xt(x),z=(yield fi()).transaction(kr,"readwrite");yield z.objectStore(kr).delete(T),yield z.done})).apply(this,arguments)}function sr(x,T){return vr.apply(this,arguments)}function vr(){return(vr=(0,N.Z)(function*(x,T){const M=Xt(x),Q=(yield fi()).transaction(kr,"readwrite"),ee=Q.objectStore(kr),pe=yield ee.get(M),Je=T(pe);return void 0===Je?yield ee.delete(M):yield ee.put(Je,M),yield Q.done,Je&&(!pe||pe.fid!==Je.fid)&&Vt(x,Je.fid),Je})).apply(this,arguments)}function q(x){return W.apply(this,arguments)}function W(){return W=(0,N.Z)(function*(x){let T;const M=yield sr(x.appConfig,z=>{const Q=function B(x){return It(x||{fid:pr(),registrationStatus:0})}(z),ee=function V(x,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(ht.create("app-offline"))};const M={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},z=function O(x,T){return X.apply(this,arguments)}(x,M);return{installationEntry:M,registrationPromise:z}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Ee(x)}:{installationEntry:T}}(x,Q);return T=ee.registrationPromise,ee.installationEntry});return M.fid===or?{installationEntry:yield T}:{installationEntry:M,registrationPromise:T}}),W.apply(this,arguments)}function X(){return X=(0,N.Z)(function*(x,T){try{const M=yield function si(x,T){return vt.apply(this,arguments)}(x,T);return Jn(x.appConfig,M)}catch(M){throw ft(M)&&409===M.customData.serverCode?yield mi(x.appConfig):yield Jn(x.appConfig,{fid:T.fid,registrationStatus:0}),M}}),X.apply(this,arguments)}function Ee(x){return st.apply(this,arguments)}function st(){return(st=(0,N.Z)(function*(x){let T=yield At(x.appConfig);for(;1===T.registrationStatus;)yield ai(100),T=yield At(x.appConfig);if(0===T.registrationStatus){const{installationEntry:M,registrationPromise:z}=yield q(x);return z||M}return T})).apply(this,arguments)}function At(x){return sr(x,T=>{if(!T)throw ht.create("installation-not-found");return It(T)})}function It(x){return function en(x){return 1===x.registrationStatus&&x.registrationTime+Ar<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Fn(){return(Fn=(0,N.Z)(function*({appConfig:x,heartbeatServiceProvider:T},M){const z=function Wt(x,{fid:T}){return`${vn(x)}/${T}/authTokens:generate`}(x,M),Q=function yi(x,{refreshToken:T}){const M=xn(x);return M.append("Authorization",function Ur(x){return`${he} ${x}`}(T)),M}(x,M),ee=T.getImmediate({optional:!0});if(ee){const yt=yield ee.getHeartbeatsHeader();yt&&Q.append("x-firebase-client",yt)}const Je={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:Oo,appId:x.appId}})},Ke=yield Wn(()=>fetch(z,Je));if(Ke.ok)return Dt(yield Ke.json());throw yield un("Generate Auth Token",Ke)})).apply(this,arguments)}function Ui(x){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,N.Z)(function*(x,T=!1){let M;const z=yield sr(x.appConfig,ee=>{if(!on(ee))throw ht.create("not-registered");const pe=ee.authToken;if(!T&&function Ct(x){return 2===x.requestStatus&&!function Dn(x){const T=Date.now();return T<x.creationTime||x.creationTime+x.expiresIn<T+ye}(x)}(pe))return ee;if(1===pe.requestStatus)return M=function _e(x,T){return ae.apply(this,arguments)}(x,T),ee;{if(!navigator.onLine)throw ht.create("app-offline");const Je=function mn(x){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:T})}(ee);return M=function bt(x,T){return kt.apply(this,arguments)}(x,Je),Je}});return M?yield M:z.authToken}),Ko.apply(this,arguments)}function ae(){return(ae=(0,N.Z)(function*(x,T){let M=yield Ue(x.appConfig);for(;1===M.authToken.requestStatus;)yield ai(100),M=yield Ue(x.appConfig);const z=M.authToken;return 0===z.requestStatus?Ui(x,T):z})).apply(this,arguments)}function Ue(x){return sr(x,T=>{if(!on(T))throw ht.create("not-registered");return function ar(x){return 1===x.requestStatus&&x.requestTime+Ar<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function kt(){return kt=(0,N.Z)(function*(x,T){try{const M=yield function Rt(x,T){return Fn.apply(this,arguments)}(x,T),z=Object.assign(Object.assign({},T),{authToken:M});return yield Jn(x.appConfig,z),M}catch(M){if(!ft(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const z=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Jn(x.appConfig,z)}else yield mi(x.appConfig);throw M}}),kt.apply(this,arguments)}function on(x){return void 0!==x&&2===x.registrationStatus}function pc(){return(pc=(0,N.Z)(function*(x){const T=x,{installationEntry:M,registrationPromise:z}=yield q(T);return z?z.catch(console.error):Ui(T).catch(console.error),M.fid})).apply(this,arguments)}function ps(){return ps=(0,N.Z)(function*(x,T=!1){const M=x;return yield function ji(x){return it.apply(this,arguments)}(M),(yield Ui(M,T)).token}),ps.apply(this,arguments)}function it(){return(it=(0,N.Z)(function*(x){const{registrationPromise:T}=yield q(x);T&&(yield T)})).apply(this,arguments)}function wi(x){return ht.create("missing-app-config-values",{valueName:x})}const Yt="installations",Qr=x=>{const T=x.getProvider("app").getImmediate(),M=function vl(x){if(!x||!x.options)throw wi("App Configuration");if(!x.name)throw wi("App Name");const T=["projectId","apiKey","appId"];for(const M of T)if(!x.options[M])throw wi(M);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(T);return{app:T,appConfig:M,heartbeatServiceProvider:(0,se._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ia=x=>{const T=x.getProvider("app").getImmediate(),M=(0,se._getProvider)(T,Yt).getImmediate();return{getId:()=>function Hi(x){return pc.apply(this,arguments)}(M),getToken:Q=>function ym(x){return ps.apply(this,arguments)}(M,Q)}};(function Qo(){(0,se._registerComponent)(new re.wA(Yt,Qr,"PUBLIC")),(0,se._registerComponent)(new re.wA("installations-internal",Ia,"PRIVATE"))})(),(0,se.registerVersion)(Yo,Vi),(0,se.registerVersion)(Yo,Vi,"esm2017");const Ii="@firebase/remote-config",Si=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pg{constructor(T,M,z,Q){this.client=T,this.storage=M,this.storageCache=z,this.logger=Q}isCachedDataFresh(T,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const z=Date.now()-M,Q=z<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${z}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Q}.`),Q}fetch(T){var M=this;return(0,N.Z)(function*(){const[z,Q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Q&&M.isCachedDataFresh(T.cacheMaxAgeMillis,z))return Q;T.eTag=Q&&Q.eTag;const ee=yield M.client.fetch(T),pe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&pe.push(M.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(pe),ee})()}}function Xu(x=navigator){return x.languages&&x.languages[0]||x.language}class bm{constructor(T,M,z,Q,ee,pe){this.firebaseInstallations=T,this.sdkVersion=M,this.namespace=z,this.projectId=Q,this.apiKey=ee,this.appId=pe}fetch(T){var M=this;return(0,N.Z)(function*(){const[z,Q]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Ke={sdk_version:M.sdkVersion,app_instance_id:z,app_instance_id_token:Q,app_id:M.appId,language_code:Xu()},yt={method:"POST",headers:Je,body:JSON.stringify(Ke)},Lt=fetch(pe,yt),Ut=new Promise((Fr,no)=>{T.signal.addEventListener(()=>{const Vo=new Error("The operation was aborted.");Vo.name="AbortError",no(Vo)})});let Pr;try{yield Promise.race([Lt,Ut]),Pr=yield Lt}catch(Fr){let no="fetch-client-network";throw"AbortError"===Fr?.name&&(no="fetch-timeout"),Si.create(no,{originalErrorMessage:Fr?.message})}let tr=Pr.status;const sa=Pr.headers.get("ETag")||void 0;let iu,qa;if(200===Pr.status){let Fr;try{Fr=yield Pr.json()}catch(no){throw Si.create("fetch-client-parse",{originalErrorMessage:no?.message})}iu=Fr.entries,qa=Fr.state}if("INSTANCE_STATE_UNSPECIFIED"===qa?tr=500:"NO_CHANGE"===qa?tr=304:("NO_TEMPLATE"===qa||"EMPTY_CONFIG"===qa)&&(iu={}),304!==tr&&200!==tr)throw Si.create("fetch-status",{httpStatus:tr});return{status:tr,eTag:sa,config:iu}})()}}class eh{constructor(T,M){this.client=T,this.storage=M}fetch(T){var M=this;return(0,N.Z)(function*(){const z=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(T,z)})()}attemptFetch(T,{throttleEndTimeMillis:M,backoffCount:z}){var Q=this;return(0,N.Z)(function*(){yield function Ju(x,T){return new Promise((M,z)=>{const Q=Math.max(T-Date.now(),0),ee=setTimeout(M,Q);x.addEventListener(()=>{clearTimeout(ee),z(Si.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,M);try{const ee=yield Q.client.fetch(T);return yield Q.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function Fg(x){if(!(x instanceof ue.ZR&&x.customData))return!1;const T=Number(x.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ee))throw ee;const pe={throttleEndTimeMillis:Date.now()+(0,ue.$s)(z),backoffCount:z+1};return yield Q.storage.setThrottleMetadata(pe),Q.attemptFetch(T,pe)}})()}}class wm{constructor(T,M,z,Q,ee){this.app=T,this._client=M,this._storageCache=z,this._storage=Q,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ys(x,T){const M=x.target.error||void 0;return Si.create(T,{originalErrorMessage:M&&M?.message})}const In="app_namespace_store";class ih{constructor(T,M,z,Q=function Cm(){return new Promise((x,T)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=z=>{T(ys(z,"storage-open"))},M.onsuccess=z=>{x(z.target.result)},M.onupgradeneeded=z=>{0===z.oldVersion&&z.target.result.createObjectStore(In,{keyPath:"compositeKey"})}}catch(M){T(Si.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=T,this.appName=M,this.namespace=z,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var M=this;return(0,N.Z)(function*(){const z=yield M.openDbPromise;return new Promise((Q,ee)=>{const Je=z.transaction([In],"readonly").objectStore(In),Ke=M.createCompositeKey(T);try{const yt=Je.get(Ke);yt.onerror=Lt=>{ee(ys(Lt,"storage-get"))},yt.onsuccess=Lt=>{const Ut=Lt.target.result;Q(Ut?Ut.value:void 0)}}catch(yt){ee(Si.create("storage-get",{originalErrorMessage:yt?.message}))}})})()}set(T,M){var z=this;return(0,N.Z)(function*(){const Q=yield z.openDbPromise;return new Promise((ee,pe)=>{const Ke=Q.transaction([In],"readwrite").objectStore(In),yt=z.createCompositeKey(T);try{const Lt=Ke.put({compositeKey:yt,value:M});Lt.onerror=Ut=>{pe(ys(Ut,"storage-set"))},Lt.onsuccess=()=>{ee()}}catch(Lt){pe(Si.create("storage-set",{originalErrorMessage:Lt?.message}))}})})()}delete(T){var M=this;return(0,N.Z)(function*(){const z=yield M.openDbPromise;return new Promise((Q,ee)=>{const Je=z.transaction([In],"readwrite").objectStore(In),Ke=M.createCompositeKey(T);try{const yt=Je.delete(Ke);yt.onerror=Lt=>{ee(ys(Lt,"storage-delete"))},yt.onsuccess=()=>{Q()}}catch(yt){ee(Si.create("storage-delete",{originalErrorMessage:yt?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class bs{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,N.Z)(function*(){const M=T.storage.getLastFetchStatus(),z=T.storage.getLastSuccessfulFetchTimestampMillis(),Q=T.storage.getActiveConfig(),ee=yield M;ee&&(T.lastFetchStatus=ee);const pe=yield z;pe&&(T.lastSuccessfulFetchTimestampMillis=pe);const Je=yield Q;Je&&(T.activeConfig=Je)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function oh(){return vc.apply(this,arguments)}function vc(){return(vc=(0,N.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function Aa(){(0,se._registerComponent)(new re.wA("remote-config",function x(T,{instanceIdentifier:M}){const z=T.getProvider("app").getImmediate(),Q=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Si.create("registration-window");if(!(0,ue.hl)())throw Si.create("indexed-db-unavailable");const{projectId:ee,apiKey:pe,appId:Je}=z.options;if(!ee)throw Si.create("registration-project-id");if(!pe)throw Si.create("registration-api-key");if(!Je)throw Si.create("registration-app-id");const Ke=new ih(Je,z.name,M=M||"firebase"),yt=new bs(Ke),Lt=new De.Yd(Ii);Lt.logLevel=De.in.ERROR;const Ut=new bm(Q,se.SDK_VERSION,M,ee,pe,Je),Pr=new eh(Ut,Ke),tr=new Pg(Pr,Ke,yt,Lt),sa=new wm(z,tr,yt,Ke,Lt);return function br(x){const T=(0,ue.m9)(x);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(sa),sa},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Ii,"0.4.4"),(0,se.registerVersion)(Ii,"0.4.4","esm2017")}();const Em=(x,T)=>T.some(M=>x instanceof M);let ws,Dd;const ka=new WeakMap,Ws=new WeakMap,ei=new WeakMap,xl=new WeakMap,bc=new WeakMap;let Zs={get(x,T,M){if(x instanceof IDBTransaction){if("done"===T)return Ws.get(x);if("objectStoreNames"===T)return x.objectStoreNames||ei.get(x);if("store"===T)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return wr(x[T])},set:(x,T,M)=>(x[T]=M,!0),has:(x,T)=>x instanceof IDBTransaction&&("done"===T||"store"===T)||T in x};function wc(x){return"function"==typeof x?function Dm(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sh(){return Dd||(Dd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...T){return x.apply($i(this),T),wr(ka.get(this))}:function(...T){return wr(x.apply($i(this),T))}:function(T,...M){const z=x.call($i(this),T,...M);return ei.set(z,T.sort?T.sort():[T]),wr(z)}}(x):(x instanceof IDBTransaction&&function qs(x){if(Ws.has(x))return;const T=new Promise((M,z)=>{const Q=()=>{x.removeEventListener("complete",ee),x.removeEventListener("error",pe),x.removeEventListener("abort",pe)},ee=()=>{M(),Q()},pe=()=>{z(x.error||new DOMException("AbortError","AbortError")),Q()};x.addEventListener("complete",ee),x.addEventListener("error",pe),x.addEventListener("abort",pe)});Ws.set(x,T)}(x),Em(x,function yc(){return ws||(ws=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,Zs):x)}function wr(x){if(x instanceof IDBRequest)return function Mi(x){const T=new Promise((M,z)=>{const Q=()=>{x.removeEventListener("success",ee),x.removeEventListener("error",pe)},ee=()=>{M(wr(x.result)),Q()},pe=()=>{z(x.error),Q()};x.addEventListener("success",ee),x.addEventListener("error",pe)});return T.then(M=>{M instanceof IDBCursor&&ka.set(M,x)}).catch(()=>{}),bc.set(T,x),T}(x);if(xl.has(x))return xl.get(x);const T=wc(x);return T!==x&&(xl.set(x,T),bc.set(T,x)),T}const $i=x=>bc.get(x);function Cl(x,T,{blocked:M,upgrade:z,blocking:Q,terminated:ee}={}){const pe=indexedDB.open(x,T),Je=wr(pe);return z&&pe.addEventListener("upgradeneeded",Ke=>{z(wr(pe.result),Ke.oldVersion,Ke.newVersion,wr(pe.transaction))}),M&&pe.addEventListener("blocked",()=>M()),Je.then(Ke=>{ee&&Ke.addEventListener("close",()=>ee()),Q&&Ke.addEventListener("versionchange",()=>Q())}).catch(()=>{}),Je}function xs(x,{blocked:T}={}){const M=indexedDB.deleteDatabase(x);return T&&M.addEventListener("blocked",()=>T()),wr(M).then(()=>{})}const ah=["get","getKey","getAll","getAllKeys","count"],Jo=["put","add","delete","clear"],El=new Map;function Ra(x,T){if(!(x instanceof IDBDatabase)||T in x||"string"!=typeof T)return;if(El.get(T))return El.get(T);const M=T.replace(/FromIndex$/,""),z=T!==M,Q=Jo.includes(M);if(!(M in(z?IDBIndex:IDBObjectStore).prototype)||!Q&&!ah.includes(M))return;const ee=function(){var pe=(0,N.Z)(function*(Je,...Ke){const yt=this.transaction(Je,Q?"readwrite":"readonly");let Lt=yt.store;return z&&(Lt=Lt.index(Ke.shift())),(yield Promise.all([Lt[M](...Ke),Q&&yt.done]))[0]});return function(Ke){return pe.apply(this,arguments)}}();return El.set(T,ee),ee}!function Ji(x){Zs=x(Zs)}(x=>({...x,get:(T,M,z)=>Ra(T,M)||x.get(T,M,z),has:(T,M)=>!!Ra(T,M)||x.has(T,M)}));const Nt="/firebase-messaging-sw.js",xc="/firebase-cloud-messaging-push-scope",Tm="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Td="https://fcmregistrations.googleapis.com/v1",Id="google.c.a.c_id",Sd="google.c.a.c_l",lh="google.c.a.ts",ch="google.c.a.e";var ve=(()=>{return(x=ve||(ve={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",ve;var x})();function Ht(x){const T=new Uint8Array(x);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Md(x){const M=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),z=atob(M),Q=new Uint8Array(z.length);for(let ee=0;ee<z.length;++ee)Q[ee]=z.charCodeAt(ee);return Q}const Dl="fcm_token_details_db",pi=5,dh="fcm_token_object_Store";function Jr(){return Jr=(0,N.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(Dl))return null;let T=null;return(yield Cl(Dl,pi,{upgrade:(z=(0,N.Z)(function*(Q,ee,pe,Je){var Ke;if(ee<2||!Q.objectStoreNames.contains(dh))return;const yt=Je.objectStore(dh),Lt=yield yt.index("fcmSenderId").get(x);if(yield yt.clear(),Lt)if(2===ee){const Ut=Lt;if(!Ut.auth||!Ut.p256dh||!Ut.endpoint)return;T={token:Ut.fcmToken,createTime:null!==(Ke=Ut.createTime)&&void 0!==Ke?Ke:Date.now(),subscriptionOptions:{auth:Ut.auth,p256dh:Ut.p256dh,endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:"string"==typeof Ut.vapidKey?Ut.vapidKey:Ht(Ut.vapidKey)}}}else if(3===ee){const Ut=Lt;T={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:Ht(Ut.auth),p256dh:Ht(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:Ht(Ut.vapidKey)}}}else if(4===ee){const Ut=Lt;T={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:Ht(Ut.auth),p256dh:Ht(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:Ht(Ut.vapidKey)}}}}),function(ee,pe,Je,Ke){return z.apply(this,arguments)})})).close(),yield xs(Dl),yield xs("fcm_vapid_details_db"),yield xs("undefined"),function Cc(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:T}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var z}),Jr.apply(this,arguments)}const uh="firebase-messaging-database",hh=1,Cs="firebase-messaging-store";let Pa=null;function er(){return Pa||(Pa=Cl(uh,hh,{upgrade:(x,T)=>{0===T&&x.createObjectStore(Cs)}})),Pa}function Or(x){return Es.apply(this,arguments)}function Es(){return Es=(0,N.Z)(function*(x){const T=mh(x),z=yield(yield er()).transaction(Cs).objectStore(Cs).get(T);if(z)return z;{const Q=yield function Oa(x){return Jr.apply(this,arguments)}(x.appConfig.senderId);if(Q)return yield es(x,Q),Q}}),Es.apply(this,arguments)}function es(x,T){return No.apply(this,arguments)}function No(){return(No=(0,N.Z)(function*(x,T){const M=mh(x),Q=(yield er()).transaction(Cs,"readwrite");return yield Q.objectStore(Cs).put(T,M),yield Q.done,T})).apply(this,arguments)}function Ys(){return(Ys=(0,N.Z)(function*(x){const T=mh(x),z=(yield er()).transaction(Cs,"readwrite");yield z.objectStore(Cs).delete(T),yield z.done})).apply(this,arguments)}function mh({appConfig:x}){return x.appId}const gi=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ec(x,T){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,N.Z)(function*(x,T){const M=yield Il(x),z=Tc(T),Q={method:"POST",headers:M,body:JSON.stringify(z)};let ee;try{ee=yield(yield fetch(Ad(x.appConfig),Q)).json()}catch(pe){throw gi.create("token-subscribe-failed",{errorInfo:pe?.toString()})}if(ee.error)throw gi.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw gi.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Dc(){return(Dc=(0,N.Z)(function*(x,T){const M=yield Il(x),z=Tc(T.subscriptionOptions),Q={method:"PATCH",headers:M,body:JSON.stringify(z)};let ee;try{ee=yield(yield fetch(`${Ad(x.appConfig)}/${T.token}`,Q)).json()}catch(pe){throw gi.create("token-update-failed",{errorInfo:pe?.toString()})}if(ee.error)throw gi.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw gi.create("token-update-no-token");return ee.token})).apply(this,arguments)}function gh(x,T){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,N.Z)(function*(x,T){const z={method:"DELETE",headers:yield Il(x)};try{const ee=yield(yield fetch(`${Ad(x.appConfig)}/${T}`,z)).json();if(ee.error)throw gi.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(Q){throw gi.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function Ad({projectId:x}){return`${Td}/projects/${x}/registrations`}function Il(x){return kd.apply(this,arguments)}function kd(){return(kd=(0,N.Z)(function*({appConfig:x,installations:T}){const M=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Tc({p256dh:x,auth:T,endpoint:M,vapidKey:z}){const Q={web:{endpoint:M,auth:T,p256dh:x}};return z!==Tm&&(Q.web.applicationPubKey=z),Q}const _h=6048e5;function vh(){return vh=(0,N.Z)(function*(x){const T=yield function Bg(x,T){return yh.apply(this,arguments)}(x.swRegistration,x.vapidKey),M={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:T.endpoint,auth:Ht(T.getKey("auth")),p256dh:Ht(T.getKey("p256dh"))},z=yield Or(x.firebaseDependencies);if(z){if(function Vg(x,T){return T.vapidKey===x.vapidKey&&T.endpoint===x.endpoint&&T.auth===x.auth&&T.p256dh===x.p256dh}(z.subscriptionOptions,M))return Date.now()>=z.createTime+_h?function Zn(x,T){return Od.apply(this,arguments)}(x,{token:z.token,createTime:Date.now(),subscriptionOptions:M}):z.token;try{yield gh(x.firebaseDependencies,z.token)}catch(Q){console.warn(Q)}return Na(x.firebaseDependencies,M)}return Na(x.firebaseDependencies,M)}),vh.apply(this,arguments)}function Lo(){return Lo=(0,N.Z)(function*(x){const T=yield Or(x.firebaseDependencies);T&&(yield gh(x.firebaseDependencies,T.token),yield function fh(x){return Ys.apply(this,arguments)}(x.firebaseDependencies));const M=yield x.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Lo.apply(this,arguments)}function Od(){return Od=(0,N.Z)(function*(x,T){try{const M=yield function ph(x,T){return Dc.apply(this,arguments)}(x.firebaseDependencies,T),z=Object.assign(Object.assign({},T),{token:M,createTime:Date.now()});return yield es(x.firebaseDependencies,z),M}catch(M){throw yield function lr(x){return Lo.apply(this,arguments)}(x),M}}),Od.apply(this,arguments)}function Na(x,T){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,N.Z)(function*(x,T){const z={token:yield Ec(x,T),createTime:Date.now(),subscriptionOptions:T};return yield es(x,z),z.token})).apply(this,arguments)}function yh(){return(yh=(0,N.Z)(function*(x,T){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Md(T)})})).apply(this,arguments)}function Sc(x){const T={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Pd(x,T){if(!T.notification)return;x.notification={};const M=T.notification.title;M&&(x.notification.title=M);const z=T.notification.body;z&&(x.notification.body=z);const Q=T.notification.image;Q&&(x.notification.image=Q);const ee=T.notification.icon;ee&&(x.notification.icon=ee)}(T,x),function bh(x,T){T.data&&(x.data=T.data)}(T,x),function wh(x,T){var M,z,Q,ee,pe;if(!(T.fcmOptions||null!==(M=T.notification)&&void 0!==M&&M.click_action))return;x.fcmOptions={};const Je=null!==(Q=null===(z=T.fcmOptions)||void 0===z?void 0:z.link)&&void 0!==Q?Q:null===(ee=T.notification)||void 0===ee?void 0:ee.click_action;Je&&(x.fcmOptions.link=Je);const Ke=null===(pe=T.fcmOptions)||void 0===pe?void 0:pe.analytics_label;Ke&&(x.fcmOptions.analyticsLabel=Ke)}(T,x),T}function La(x,T){const M=[];for(let z=0;z<x.length;z++)M.push(x.charAt(z)),z<T.length&&M.push(T.charAt(z));return M.join("")}function ts(x){return gi.create("missing-app-config-values",{valueName:x})}La("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),La("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ug{constructor(T,M,z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Sl(x){if(!x||!x.options)throw ts("App Configuration Object");if(!x.name)throw ts("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:M}=x;for(const z of T)if(!M[z])throw ts(z);return{appName:x.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Q,installations:M,analyticsProvider:z}}_delete(){return Promise.resolve()}}function Im(x){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,N.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(Nt,{scope:xc}),x.swRegistration.update().catch(()=>{})}catch(T){throw gi.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function ns(){return(ns=(0,N.Z)(function*(x,T){if(!T&&!x.swRegistration&&(yield Im(x)),T||!x.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw gi.create("invalid-sw-registration");x.swRegistration=T}})).apply(this,arguments)}function Ml(){return(Ml=(0,N.Z)(function*(x,T){T?x.vapidKey=T:x.vapidKey||(x.vapidKey=Tm)})).apply(this,arguments)}function Ba(){return Ba=(0,N.Z)(function*(x,T){if(!navigator)throw gi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gi.create("permission-blocked");return yield function Fd(x,T){return Ml.apply(this,arguments)}(x,T?.vapidKey),yield function xh(x,T){return ns.apply(this,arguments)}(x,T?.serviceWorkerRegistration),function Rd(x){return vh.apply(this,arguments)}(x)}),Ba.apply(this,arguments)}function Ds(){return(Ds=(0,N.Z)(function*(x,T,M){const z=function Ks(x){switch(x){case ve.NOTIFICATION_CLICKED:return"notification_open";case ve.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(z,{message_id:M[Id],message_name:M[Sd],message_time:M[lh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qs(){return Qs=(0,N.Z)(function*(x,T){const M=T.data;if(!M.isFirebaseMessaging)return;x.onMessageHandler&&M.messageType===ve.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Sc(M)):x.onMessageHandler.next(Sc(M)));const z=M.data;(function Mc(x){return"object"==typeof x&&!!x&&Id in x})(z)&&"1"===z[ch]&&(yield function Ch(x,T,M){return Ds.apply(this,arguments)}(x,M.messageType,z))}),Qs.apply(this,arguments)}const Ua="@firebase/messaging",kl=x=>{const T=new Ug(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Va(x,T){return Qs.apply(this,arguments)}(T,M)),T},Nd=x=>{const T=x.getProvider("messaging").getImmediate();return{getToken:z=>function kc(x,T){return Ba.apply(this,arguments)}(T,z)}};function Sm(){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,N.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Rl(){(0,se._registerComponent)(new re.wA("messaging",kl,"PUBLIC")),(0,se._registerComponent)(new re.wA("messaging-internal",Nd,"PRIVATE")),(0,se.registerVersion)(Ua,"0.12.4"),(0,se.registerVersion)(Ua,"0.12.4","esm2017")}();const Ts="analytics",Oc="firebase_id",Th="origin",Ol=6e4,Ih="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pc="https://www.googletagmanager.com/gtag/js",Ai=new De.Yd("@firebase/analytics"),ti=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Mm(x){if(!x.startsWith(Pc)){const T=ti.create("invalid-gtag-resource",{gtagURL:x});return Ai.warn(T.message),""}return x}function Is(x){return Promise.all(x.map(T=>T.catch(M=>M)))}function Ss(){return(Ss=(0,N.Z)(function*(x,T,M,z,Q,ee){const pe=z[Q];try{if(pe)yield T[pe];else{const Ke=(yield Is(M)).find(yt=>yt.measurementId===Q);Ke&&(yield T[Ke.appId])}}catch(Je){Ai.error(Je)}x("config",Q,ee)})).apply(this,arguments)}function Xs(){return(Xs=(0,N.Z)(function*(x,T,M,z,Q){try{let ee=[];if(Q&&Q.send_to){let pe=Q.send_to;Array.isArray(pe)||(pe=[pe]);const Je=yield Is(M);for(const Ke of pe){const yt=Je.find(Ut=>Ut.measurementId===Ke),Lt=yt&&T[yt.appId];if(!Lt){ee=[];break}ee.push(Lt)}}0===ee.length&&(ee=Object.values(T)),yield Promise.all(ee),x("event",z,Q||{})}catch(ee){Ai.error(ee)}})).apply(this,arguments)}const Nc=30,ea=new class Sh{constructor(T={},M=1e3){this.throttleMetadata=T,this.intervalMillis=M}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,M){this.throttleMetadata[T]=M}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function km(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function gn(){return(gn=(0,N.Z)(function*(x){var T;const{appId:M,apiKey:z}=x,Q={method:"GET",headers:km(z)},ee=Ih.replace("{app-id}",M),pe=yield fetch(ee,Q);if(200!==pe.status&&304!==pe.status){let Je="";try{const Ke=yield pe.json();null!==(T=Ke.error)&&void 0!==T&&T.message&&(Je=Ke.error.message)}catch{}throw ti.create("config-fetch-failed",{httpStatus:pe.status,responseMessage:Je})}return pe.json()})).apply(this,arguments)}function Ah(){return(Ah=(0,N.Z)(function*(x,T=ea,M){const{appId:z,apiKey:Q,measurementId:ee}=x.options;if(!z)throw ti.create("no-app-id");if(!Q){if(ee)return{measurementId:ee,appId:z};throw ti.create("no-api-key")}const pe=T.getThrottleMetadata(z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new Dy;return setTimeout((0,N.Z)(function*(){Je.abort()}),void 0!==M?M:Ol),$d({appId:z,apiKey:Q,measurementId:ee},pe,Je,T)})).apply(this,arguments)}function $d(x,T,M){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,N.Z)(function*(x,{throttleEndTimeMillis:T,backoffCount:M},z,Q=ea){var ee;const{appId:pe,measurementId:Je}=x;try{yield function Rm(x,T){return new Promise((M,z)=>{const Q=Math.max(T-Date.now(),0),ee=setTimeout(M,Q);x.addEventListener(()=>{clearTimeout(ee),z(ti.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(z,T)}catch(Ke){if(Je)return Ai.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${Ke?.message}]`),{appId:pe,measurementId:Je};throw Ke}try{const Ke=yield function Mh(x){return gn.apply(this,arguments)}(x);return Q.deleteThrottleMetadata(pe),Ke}catch(Ke){const yt=Ke;if(!function Ey(x){if(!(x instanceof ue.ZR&&x.customData))return!1;const T=Number(x.customData.httpStatus);return 429===T||500===T||503===T||504===T}(yt)){if(Q.deleteThrottleMetadata(pe),Je)return Ai.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${yt?.message}]`),{appId:pe,measurementId:Je};throw Ke}const Lt=503===Number(null===(ee=yt?.customData)||void 0===ee?void 0:ee.httpStatus)?(0,ue.$s)(M,Q.intervalMillis,Nc):(0,ue.$s)(M,Q.intervalMillis),Ut={throttleEndTimeMillis:Date.now()+Lt,backoffCount:M+1};return Q.setThrottleMetadata(pe,Ut),Ai.debug(`Calling attemptFetch again in ${Lt} millis`),$d(x,Ut,z,Q)}}),Gd.apply(this,arguments)}class Dy{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let ta,$a;function Om(){return(Om=(0,N.Z)(function*(x,T,M,z,Q){if(Q&&Q.global)x("event",M,z);else{const ee=yield T;x("event",M,Object.assign(Object.assign({},z),{send_to:ee}))}})).apply(this,arguments)}function $r(){return($r=(0,N.Z)(function*(){if(!(0,ue.hl)())return Ai.warn(ti.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(x){return Ai.warn(ti.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function je(){return je=(0,N.Z)(function*(x,T,M,z,Q,ee,pe){var Je;const Ke=function zd(x){return Ah.apply(this,arguments)}(x);Ke.then(tr=>{M[tr.measurementId]=tr.appId,x.options.measurementId&&tr.measurementId!==x.options.measurementId&&Ai.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${tr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(tr=>Ai.error(tr)),T.push(Ke);const yt=function eo(){return $r.apply(this,arguments)}().then(tr=>{if(tr)return z.getId()}),[Lt,Ut]=yield Promise.all([Ke,yt]);(function Ms(x){const T=window.document.getElementsByTagName("script");for(const M of Object.values(T))if(M.src&&M.src.includes(Pc)&&M.src.includes(x))return M;return null})(ee)||function ja(x,T){const M=function Fc(x,T){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(x,T)),M}("firebase-js-sdk-policy",{createScriptURL:Mm}),z=document.createElement("script"),Q=`${Pc}?l=${x}&id=${T}`;z.src=M?M?.createScriptURL(Q):Q,z.async=!0,document.head.appendChild(z)}(ee,Lt.measurementId),$a&&(Q("consent","default",$a),function Nl(x){$a=x}(void 0)),Q("js",new Date);const Pr=null!==(Je=pe?.config)&&void 0!==Je?Je:{};return Pr[Th]="firebase",Pr.update=!0,null!=Ut&&(Pr[Oc]=Ut),Q("config",Lt.measurementId,Pr),ta&&(Q("set",ta),function Vc(x){ta=x}(void 0)),Lt.measurementId}),je.apply(this,arguments)}class Yn{constructor(T){this.app=T}_delete(){return delete Nn[this.app.options.appId],Promise.resolve()}}let Nn={},Gr=[];const is={};let hn,Oe,Ln="dataLayer",Bn="gtag",vo=!1;function Pm(x,T,M){!function Cr(){const x=[];if((0,ue.ru)()&&x.push("This is a browser extension environment."),(0,ue.zI)()||x.push("Cookies are not available."),x.length>0){const T=x.map((z,Q)=>`(${Q+1}) ${z}`).join(" "),M=ti.create("invalid-analytics-context",{errorInfo:T});Ai.warn(M.message)}}();const z=x.options.appId;if(!z)throw ti.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw ti.create("no-api-key");Ai.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nn[z])throw ti.create("already-exists",{id:z});if(!vo){!function Ud(x){let T=[];Array.isArray(window[x])?T=window[x]:window[x]=T}(Ln);const{wrappedGtag:ee,gtagCore:pe}=function Js(x,T,M,z,Q){let ee=function(...pe){window[z].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ee=window[Q]),window[Q]=function Pl(x,T,M,z){function ee(){return ee=(0,N.Z)(function*(pe,...Je){try{if("event"===pe){const[Ke,yt]=Je;yield function Am(x,T,M,z,Q){return Xs.apply(this,arguments)}(x,T,M,Ke,yt)}else if("config"===pe){const[Ke,yt]=Je;yield function Hd(x,T,M,z,Q,ee){return Ss.apply(this,arguments)}(x,T,M,z,Ke,yt)}else if("consent"===pe){const[Ke]=Je;x("consent","update",Ke)}else if("get"===pe){const[Ke,yt,Lt]=Je;x("get",Ke,yt,Lt)}else if("set"===pe){const[Ke]=Je;x("set",Ke)}else x(pe,...Je)}catch(Ke){Ai.error(Ke)}}),ee.apply(this,arguments)}return function Q(pe){return ee.apply(this,arguments)}}(ee,x,T,M),{gtagCore:ee,wrappedGtag:window[Q]}}(Nn,Gr,is,Ln,Bn);Oe=ee,hn=pe,vo=!0}return Nn[z]=function jt(x,T,M,z,Q,ee,pe){return je.apply(this,arguments)}(x,Gr,is,T,hn,Ln,M),new Yn(x)}function Rh(){return yo.apply(this,arguments)}function yo(){return(yo=(0,N.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const Fh="@firebase/analytics";!function di(){(0,se._registerComponent)(new re.wA(Ts,(T,{options:M})=>Pm(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,se._registerComponent)(new re.wA("analytics-internal",function x(T){try{const M=T.getProvider(Ts).getImmediate();return{logEvent:(z,Q,ee)=>function Ph(x,T,M,z){x=(0,ue.m9)(x),function Ty(x,T,M,z,Q){return Om.apply(this,arguments)}(Oe,Nn[x.app.options.appId],T,M,z).catch(Q=>Ai.error(Q))}(M,z,Q,ee)}}catch(M){throw ti.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,se.registerVersion)(Fh,"0.10.0"),(0,se.registerVersion)(Fh,"0.10.0","esm2017")}();var Kd=j(4408),rs=j(7565);const Jd=new class Xd extends rs.v{}(class Qd extends Kd.o{constructor(T,M){super(T,M),this.scheduler=T,this.work=M}schedule(T,M=0){return M>0?super.schedule(T,M):(this.delay=M,this.state=T,this.scheduler.flush(this),this)}execute(T,M){return M>0||this.closed?super.execute(T,M):this._execute(T,M)}requestAsyncId(T,M,z=0){return null!=z&&z>0||null==z&&this.delay>0?super.requestAsyncId(T,M,z):(T.flush(this),0)}});var Nm=j(4986),Ul=j(9751),Nh=j(8505),zc=j(9468),ia=j(5363);const Hl=new s.GfV("7.6.1"),eu="__angularfire_symbol__analyticsIsSupportedValue",Lh="__angularfire_symbol__analyticsIsSupported",jl="__angularfire_symbol__remoteConfigIsSupportedValue",Bh="__angularfire_symbol__remoteConfigIsSupported",Lm="__angularfire_symbol__messagingIsSupportedValue",Vh="__angularfire_symbol__messagingIsSupported";function zl(x,T,M){if(T){if(1===T.length)return T[0];const ee=T.filter(pe=>pe.app===M);if(1===ee.length)return ee[0]}return M.container.getProvider(x).getImmediate({optional:!0})}globalThis[Lh]||(globalThis[Lh]=Rh().then(x=>globalThis[eu]=x).catch(()=>globalThis[eu]=!1)),globalThis[Vh]||(globalThis[Vh]=Sm().then(x=>globalThis[Lm]=x).catch(()=>globalThis[Lm]=!1)),globalThis[Bh]||(globalThis[Bh]=oh().then(x=>globalThis[jl]=x).catch(()=>globalThis[jl]=!1));const Bm=(x,T)=>{const M=T?[T]:(0,G.C6)(),z=[];return M.forEach(Q=>{Q.container.getProvider(x).instances.forEach(pe=>{z.includes(pe)||z.push(pe)})}),z};function ra(){}class $c{constructor(T,M=Jd){this.zone=T,this.delegate=M}now(){return this.delegate.now()}schedule(T,M,z){const Q=this.zone;return this.delegate.schedule(function(pe){Q.runGuarded(()=>{T.apply(this,[pe])})},M,z)}}class bo{constructor(T){this.zone=T,this.task=null}call(T,M){const z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ra,{},ra,ra)),M.pipe((0,Nh.b)({next:z,complete:z,error:z})).subscribe(T).add(z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wa=(()=>{class x{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new $c(Zone.current)),this.insideAngular=M.run(()=>new $c(Zone.current,Nm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(M){return new(M||x)(s.LFG(s.R0b))},x.\u0275prov=s.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function oa(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function ks(x){return oa().ngZone.run(()=>x())}function jh(x){return oa(),function Um(x){return function(M){return(M=M.lift(new bo(x.ngZone))).pipe((0,zc.R)(x.outsideAngular),(0,ia.Q)(x.insideAngular))}}(oa())(x)}const Hm=(x,T)=>function(){const z=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),ks(()=>x.apply(void 0,z))},ni=(x,T)=>function(){let M;const z=arguments;for(let ee=0;ee<arguments.length;ee++)"function"==typeof z[ee]&&(T&&(M||(M=ks(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ra,{},ra,ra)))),z[ee]=Hm(z[ee],M));const Q=function Hh(x){return oa().ngZone.runOutsideAngular(()=>x())}(()=>x.apply(this,z));if(!T){if(Q instanceof Ul.y){const ee=oa();return Q.pipe((0,zc.R)(ee.outsideAngular),(0,ia.Q)(ee.insideAngular))}return ks(()=>Q)}return Q instanceof Ul.y?Q.pipe(jh):Q instanceof Promise?ks(()=>new Promise((ee,pe)=>Q.then(Je=>ks(()=>ee(Je)),Je=>ks(()=>pe(Je))))):"function"==typeof Q&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),Q.apply(this,arguments)}:ks(()=>Q)}},1389:(xt,Ae,j)=>{j.d(Ae,{$:()=>Nt,A:()=>Y,D:()=>ke,I:()=>ci,J:()=>Qr,L:()=>Fo,N:()=>sr,P:()=>jt,Q:()=>ih,R:()=>Bc,U:()=>rh,V:()=>oh,W:()=>vc,X:()=>Xo,Y:()=>yc,Z:()=>sh,_:()=>bc,a:()=>xr,a0:()=>Tm,a1:()=>Id,a2:()=>Ng,a3:()=>dh,a4:()=>Jr,a5:()=>uh,a6:()=>Cs,a7:()=>er,a8:()=>Es,a9:()=>No,aA:()=>de,aB:()=>Lh,aC:()=>mi,aD:()=>vr,aE:()=>Nh,aF:()=>Oh,aG:()=>jc,aH:()=>Tn,aL:()=>Bo,aO:()=>ws,aa:()=>fh,ab:()=>mh,ac:()=>Lg,ad:()=>ph,ae:()=>gh,af:()=>Ad,ai:()=>_h,aj:()=>vh,ak:()=>lr,an:()=>Dm,ao:()=>Pd,aq:()=>Ml,ar:()=>Ua,as:()=>Mt,at:()=>It,au:()=>Ee,av:()=>Me,aw:()=>Ut,ax:()=>Vh,ay:()=>en,az:()=>Ie,b:()=>Rc,c:()=>Oe,d:()=>Pm,e:()=>Ll,f:()=>Fh,g:()=>Xd,h:()=>Kd,i:()=>jd,j:()=>Nm,k:()=>qa,l:()=>Fl,m:()=>Vo,o:()=>Za,p:()=>be,r:()=>kh,s:()=>As,u:()=>eo});var s=j(5861),G=j(2090),N=j(6881),se=j(7582),ue=j(1877),re=j(4859);const be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Xe=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new ue.Yd("@firebase/auth");function ze(w,...p){Fe.logLevel<=ue.in.ERROR&&Fe.error(`Auth (${N.SDK_VERSION}): ${w}`,...p)}function Me(w,...p){throw Ve(w,...p)}function Ie(w,...p){return Ve(w,...p)}function Ne(w,p,v){const C=Object.assign(Object.assign({},Xe()),{[p]:v});return new G.LL("auth","Firebase",C).create(p,{appName:w.name})}function We(w,p,v){if(!(p instanceof v))throw v.name!==p.constructor.name&&Me(w,"argument-error"),Ne(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(w,...p){if("string"!=typeof w){const v=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=w.name),w._errorFactory.create(v,...C)}return dt.create(w,...p)}function de(w,p,...v){if(!w)throw Ve(p,...v)}function ot(w){const p="INTERNAL ASSERTION FAILED: "+w;throw ze(p),new Error(p)}function Mt(w,p){w||ot(p)}function ut(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Qt(){return"http:"===mt()||"https:"===mt()}function mt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ar{constructor(p,v){this.shortDelay=p,this.longDelay=v,Mt(v>p,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Yo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qt()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Oo(w,p){Mt(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return p?`${v}${p.startsWith("/")?p.slice(1):p}`:v}class he{static initialize(p,v,C){this.fetchImpl=p,v&&(this.headersImpl=v),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ye=new Ar(3e4,6e4);function oe(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function Re(w,p,v,C){return He.apply(this,arguments)}function He(){return(He=(0,s.Z)(function*(w,p,v,C,k={}){return ht(w,k,(0,s.Z)(function*(){let L={},te={};C&&("GET"===p?te=C:L={body:JSON.stringify(C)});const fe=(0,G.xO)(Object.assign({key:w.config.apiKey},te)).slice(1),qe=yield w._getAdditionalHeaders();return qe["Content-Type"]="application/json",w.languageCode&&(qe["X-Firebase-Locale"]=w.languageCode),he.fetch()(un(w,w.config.apiHost,v,fe),Object.assign({method:p,headers:qe,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function ht(w,p,v){return ft.apply(this,arguments)}function ft(){return(ft=(0,s.Z)(function*(w,p,v){w._canInitEmulator=!1;const C=Object.assign(Object.assign({},ge),p);try{const k=new Gn(w),L=yield Promise.race([v(),k.promise]);k.clearNetworkTimeout();const te=yield L.json();if("needConfirmation"in te)throw xn(w,"account-exists-with-different-credential",te);if(L.ok&&!("errorMessage"in te))return te;{const fe=L.ok?te.errorMessage:te.error.message,[qe,tt]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw xn(w,"credential-already-in-use",te);if("EMAIL_EXISTS"===qe)throw xn(w,"email-already-in-use",te);if("USER_DISABLED"===qe)throw xn(w,"user-disabled",te);const wt=C[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw Ne(w,wt,tt);Me(w,wt)}}catch(k){if(k instanceof G.ZR)throw k;Me(w,"network-request-failed",{message:String(k)})}})).apply(this,arguments)}function vn(w,p,v,C){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,s.Z)(function*(w,p,v,C,k={}){const L=yield Re(w,p,v,C,k);return"mfaPendingCredential"in L&&Me(w,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function un(w,p,v,C){const k=`${p}${v}?${C}`;return w.config.emulator?Oo(w.config,k):`${w.config.apiScheme}://${k}`}class Gn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((v,C)=>{this.timer=setTimeout(()=>C(Ie(this.auth,"network-request-failed")),ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xn(w,p,v){const C={appName:w.name};v.email&&(C.email=v.email),v.phoneNumber&&(C.phoneNumber=v.phoneNumber);const k=Ie(w,p,C);return k.customData._tokenResponse=v,k}function Wn(){return(Wn=(0,s.Z)(function*(w,p){return Re(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function bi(){return(bi=(0,s.Z)(function*(w,p){return Re(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function si(){return(si=(0,s.Z)(function*(w,p){return Re(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function vt(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function ui(){return(ui=(0,s.Z)(function*(w,p=!1){const v=(0,G.m9)(w),C=yield v.getIdToken(p),k=pr(C);de(k&&k.exp&&k.auth_time&&k.iat,v.auth,"internal-error");const L="object"==typeof k.firebase?k.firebase:void 0,te=L?.sign_in_provider;return{claims:k,token:C,authTime:vt(or(k.auth_time)),issuedAtTime:vt(or(k.iat)),expirationTime:vt(or(k.exp)),signInProvider:te||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function or(w){return 1e3*Number(w)}function pr(w){const[p,v,C]=w.split(".");if(void 0===p||void 0===v||void 0===C)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,G.tV)(v);return k?JSON.parse(k):(ze("Failed to decode base64 JWT payload"),null)}catch(k){return ze("Caught error parsing JWT payload as JSON",k?.toString()),null}}function Xt(w,p){return pt.apply(this,arguments)}function pt(){return(pt=(0,s.Z)(function*(w,p,v=!1){if(v)return p;try{return yield p}catch(C){throw C instanceof G.ZR&&function Vt({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(C)&&w.auth.currentUser===w&&(yield w.auth.signOut()),C}})).apply(this,arguments)}class hi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var v;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const k=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(p=!1){var v=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield v.iteration()}),C)}iteration(){var p=this;return(0,s.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&p.schedule(!0))}p.schedule()})()}}class Ki{constructor(p,v){this.createdAt=p,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=vt(this.lastLoginAt),this.creationTime=vt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xn(w){return gr.apply(this,arguments)}function gr(){return gr=(0,s.Z)(function*(w){var p;const v=w.auth,C=yield w.getIdToken(),k=yield Xt(w,function Ur(w,p){return si.apply(this,arguments)}(v,{idToken:C}));de(k?.users.length,v,"internal-error");const L=k.users[0];w._notifyReloadListener(L);const te=null!==(p=L.providerUserInfo)&&void 0!==p&&p.length?function Hr(w){return w.map(p=>{var{providerId:v}=p,C=(0,se._T)(p,["providerId"]);return{providerId:v,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(L.providerUserInfo):[],fe=function Jt(w,p){return[...w.filter(C=>!p.some(k=>k.providerId===C.providerId)),...p]}(w.providerData,te),wt=!!w.isAnonymous&&!(w.email&&L.passwordHash||fe?.length),Kt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:fe,metadata:new Ki(L.createdAt,L.lastLoginAt),isAnonymous:wt};Object.assign(w,Kt)}),gr.apply(this,arguments)}function Ti(){return(Ti=(0,s.Z)(function*(w){const p=(0,G.m9)(w);yield Xn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function kr(){return(kr=(0,s.Z)(function*(w,p){const v=yield ht(w,{},(0,s.Z)(function*(){const C=(0,G.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:k,apiKey:L}=w.config,te=un(w,k,"/v1/token",`key=${L}`),fe=yield w._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",he.fetch()(te,{method:"POST",headers:fe,body:C})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){de(p.idToken,"internal-error"),de(typeof p.idToken<"u","internal-error"),de(typeof p.refreshToken<"u","internal-error");const v="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function yn(w){const p=pr(w);return de(p,"internal-error"),de(typeof p.exp<"u","internal-error"),de(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,v)}getToken(p,v=!1){var C=this;return(0,s.Z)(function*(){return de(!C.accessToken||C.refreshToken,p,"user-token-expired"),v||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,v){var C=this;return(0,s.Z)(function*(){const{accessToken:k,refreshToken:L,expiresIn:te}=yield function rn(w,p){return kr.apply(this,arguments)}(p,v);C.updateTokensAndExpiration(k,L,Number(te))})()}updateTokensAndExpiration(p,v,C){this.refreshToken=v||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,v){const{refreshToken:C,accessToken:k,expirationTime:L}=v,te=new Gt;return C&&(de("string"==typeof C,"internal-error",{appName:p}),te.refreshToken=C),k&&(de("string"==typeof k,"internal-error",{appName:p}),te.accessToken=k),L&&(de("number"==typeof L,"internal-error",{appName:p}),te.expirationTime=L),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Gt,this.toJSON())}_performRefresh(){return ot("not implemented")}}function fi(w,p){de("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class Jn{constructor(p){var{uid:v,auth:C,stsTokenManager:k}=p,L=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=C,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Ki(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(p){var v=this;return(0,s.Z)(function*(){const C=yield Xt(v,v.stsTokenManager.getToken(v.auth,p));return de(C,v.auth,"internal-error"),v.accessToken!==C&&(v.accessToken=C,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),C})()}getIdTokenResult(p){return function Po(w){return ui.apply(this,arguments)}(this,p)}reload(){return function li(w){return Ti.apply(this,arguments)}(this)}_assign(p){this!==p&&(de(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(v=>Object.assign({},v)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const v=new Jn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(p){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,v=!1){var C=this;return(0,s.Z)(function*(){let k=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),k=!0),v&&(yield Xn(C)),yield C.auth._persistUserIfCurrent(C),k&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,s.Z)(function*(){const v=yield p.getIdToken();return yield Xt(p,function yi(w,p){return Wn.apply(this,arguments)}(p.auth,{idToken:v})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,v){var C,k,L,te,fe,qe,tt,wt;const Kt=null!==(C=v.displayName)&&void 0!==C?C:void 0,Nr=null!==(k=v.email)&&void 0!==k?k:void 0,Rs=null!==(L=v.phoneNumber)&&void 0!==L?L:void 0,ou=null!==(te=v.photoURL)&&void 0!==te?te:void 0,Wh=null!==(fe=v.tenantId)&&void 0!==fe?fe:void 0,Gl=null!==(qe=v._redirectEventId)&&void 0!==qe?qe:void 0,$m=null!==(tt=v.createdAt)&&void 0!==tt?tt:void 0,qh=null!==(wt=v.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:su,emailVerified:Gm,isAnonymous:au,providerData:lu,stsTokenManager:Wl}=v;de(su&&Wl,p,"internal-error");const cu=Gt.fromJSON(this.name,Wl);de("string"==typeof su,p,"internal-error"),fi(Kt,p.name),fi(Nr,p.name),de("boolean"==typeof Gm,p,"internal-error"),de("boolean"==typeof au,p,"internal-error"),fi(Rs,p.name),fi(ou,p.name),fi(Wh,p.name),fi(Gl,p.name),fi($m,p.name),fi(qh,p.name);const Gc=new Jn({uid:su,auth:p,email:Nr,emailVerified:Gm,displayName:Kt,isAnonymous:au,photoURL:ou,phoneNumber:Rs,tenantId:Wh,stsTokenManager:cu,createdAt:$m,lastLoginAt:qh});return lu&&Array.isArray(lu)&&(Gc.providerData=lu.map(Zh=>Object.assign({},Zh))),Gl&&(Gc._redirectEventId=Gl),Gc}static _fromIdTokenResponse(p,v,C=!1){return(0,s.Z)(function*(){const k=new Gt;k.updateFromServerResponse(v);const L=new Jn({uid:v.localId,auth:p,stsTokenManager:k,isAnonymous:C});return yield Xn(L),L})()}}const Qi=new Map;function mi(w){Mt(w instanceof Function,"Expected a class definition");let p=Qi.get(w);return p?(Mt(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,Qi.set(w,p),p)}const sr=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(v,C){var k=this;return(0,s.Z)(function*(){k.storage[v]=C})()}_get(v){var C=this;return(0,s.Z)(function*(){const k=C.storage[v];return void 0===k?null:k})()}_remove(v){var C=this;return(0,s.Z)(function*(){delete C.storage[v]})()}_addListener(v,C){}_removeListener(v,C){}}return w.type="NONE",w})();function vr(w,p,v){return`firebase:${w}:${p}:${v}`}class q{constructor(p,v,C){this.persistence=p,this.auth=v,this.userKey=C;const{config:k,name:L}=this.auth;this.fullUserKey=vr(this.userKey,k.apiKey,L),this.fullPersistenceKey=vr("persistence",k.apiKey,L),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const v=yield p.persistence._get(p.fullUserKey);return v?Jn._fromJSON(p.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var v=this;return(0,s.Z)(function*(){if(v.persistence===p)return;const C=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=p,C?v.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,v,C="authUser"){return(0,s.Z)(function*(){if(!v.length)return new q(mi(sr),p,C);const k=(yield Promise.all(v.map(function(){var tt=(0,s.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let L=k[0]||mi(sr);const te=vr(C,p.config.apiKey,p.name);let fe=null;for(const tt of v)try{const wt=yield tt._get(te);if(wt){const Kt=Jn._fromJSON(p,wt);tt!==L&&(fe=Kt),L=tt;break}}catch{}const qe=k.filter(tt=>tt._shouldAllowMigration);return L._shouldAllowMigration&&qe.length?(L=qe[0],fe&&(yield L._set(te,fe.toJSON())),yield Promise.all(v.map(function(){var tt=(0,s.Z)(function*(wt){if(wt!==L)try{yield wt._remove(te)}catch{}});return function(wt){return tt.apply(this,arguments)}}())),new q(L,p,C)):new q(L,p,C)})()}}function W(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(X(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(B(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(st(p))return"Blackberry";if(At(p))return"Webos";if(V(p))return"Safari";if((p.includes("chrome/")||O(p))&&!p.includes("edge/"))return"Chrome";if(Ee(p))return"Android";{const C=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function B(w=(0,G.z$)()){return/firefox\//i.test(w)}function V(w=(0,G.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function O(w=(0,G.z$)()){return/crios\//i.test(w)}function X(w=(0,G.z$)()){return/iemobile/i.test(w)}function Ee(w=(0,G.z$)()){return/android/i.test(w)}function st(w=(0,G.z$)()){return/blackberry/i.test(w)}function At(w=(0,G.z$)()){return/webos/i.test(w)}function It(w=(0,G.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function en(w=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Wt(w=(0,G.z$)()){return It(w)||Ee(w)||At(w)||st(w)||/windows phone/i.test(w)||X(w)}function Ko(w,p=[]){let v;switch(w){case"Browser":v=W((0,G.z$)());break;case"Worker":v=`${W((0,G.z$)())}-${w}`;break;default:v=w}const C=p.length?p.join(","):"FirebaseCore-web";return`${v}/JsCore/${N.SDK_VERSION}/${C}`}function ae(){return(ae=(0,s.Z)(function*(w){return(yield Re(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ue(w,p){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*(w,p){return Re(w,"GET","/v2/recaptchaConfig",oe(w,p))})).apply(this,arguments)}function kt(w){return void 0!==w&&void 0!==w.getResponse}function on(w){return void 0!==w&&void 0!==w.enterprise}class Ct{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function mn(w){return new Promise((p,v)=>{const C=document.createElement("script");C.setAttribute("src",w),C.onload=p,C.onerror=k=>{const L=Ie("internal-error");L.customData=k,v(L)},C.type="text/javascript",C.charset="UTF-8",function Dn(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(C)})}function ar(w){return`__${w}${Math.floor(1e6*Math.random())}`}const ym="NO_RECAPTCHA";class ps{constructor(p){this.type="recaptcha-enterprise",this.auth=Tn(p)}verify(p="verify",v=!1){var C=this;return(0,s.Z)(function*(){function L(){return L=(0,s.Z)(function*(fe){if(!v){if(null==fe.tenantId&&null!=fe._agentRecaptchaConfig)return fe._agentRecaptchaConfig.siteKey;if(null!=fe.tenantId&&void 0!==fe._tenantRecaptchaConfigs[fe.tenantId])return fe._tenantRecaptchaConfigs[fe.tenantId].siteKey}return new Promise(function(){var qe=(0,s.Z)(function*(tt,wt){Ue(fe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Kt=>{if(void 0!==Kt.recaptchaKey){const Nr=new Ct(Kt);return null==fe.tenantId?fe._agentRecaptchaConfig=Nr:fe._tenantRecaptchaConfigs[fe.tenantId]=Nr,tt(Nr.siteKey)}wt(new Error("recaptcha Enterprise site key undefined"))}).catch(Kt=>{wt(Kt)})});return function(tt,wt){return qe.apply(this,arguments)}}())}),L.apply(this,arguments)}function te(fe,qe,tt){const wt=window.grecaptcha;on(wt)?wt.enterprise.ready(()=>{wt.enterprise.execute(fe,{action:p}).then(Kt=>{qe(Kt)}).catch(()=>{qe(ym)})}):tt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((fe,qe)=>{(function k(fe){return L.apply(this,arguments)})(C.auth).then(tt=>{if(!v&&on(window.grecaptcha))te(tt,fe,qe);else{if(typeof window>"u")return void qe(new Error("RecaptchaVerifier is only supported in browser"));mn("https://www.google.com/recaptcha/enterprise.js?render="+tt).then(()=>{te(tt,fe,qe)}).catch(wt=>{qe(wt)})}}).catch(tt=>{qe(tt)})})})()}}function ji(w,p,v){return it.apply(this,arguments)}function it(){return(it=(0,s.Z)(function*(w,p,v,C=!1){const k=new ps(w);let L;try{L=yield k.verify(v)}catch{L=yield k.verify(v,!0)}const te=Object.assign({},p);return Object.assign(te,C?{captchaResp:L}:{captchaResponse:L}),Object.assign(te,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(te,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),te})).apply(this,arguments)}class qt{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,v){const C=L=>new Promise((te,fe)=>{try{te(p(L))}catch(qe){fe(qe)}});C.onAbort=v,this.queue.push(C);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(p){var v=this;return(0,s.Z)(function*(){if(v.auth.currentUser===p)return;const C=[];try{for(const k of v.queue)yield k(p),k.onAbort&&C.push(k.onAbort)}catch(k){C.reverse();for(const L of C)try{L()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:k?.message})}})()}}class qn{constructor(p,v,C,k){this.app=p,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=C,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gs(this),this.idTokenSubscription=new gs(this),this.beforeStateQueue=new qt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(p,v){var C=this;return v&&(this._popupRedirectResolver=mi(v)),this._initializationPromise=this.queue((0,s.Z)(function*(){var k,L;if(!C._deleted&&(C.persistenceManager=yield q.create(C,p),!C._deleted)){if(null!==(k=C._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(v),C.lastNotifiedUid=(null===(L=C.currentUser)||void 0===L?void 0:L.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const v=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||v){if(p.currentUser&&v&&p.currentUser.uid===v.uid)return p._currentUser._assign(v),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(v,!0)}})()}initializeCurrentUser(p){var v=this;return(0,s.Z)(function*(){var C;const k=yield v.assertedPersistence.getCurrentUser();let L=k,te=!1;if(p&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const fe=null===(C=v.redirectUser)||void 0===C?void 0:C._redirectEventId,qe=L?._redirectEventId,tt=yield v.tryRedirectSignIn(p);(!fe||fe===qe)&&tt?.user&&(L=tt.user,te=!0)}if(!L)return v.directlySetCurrentUser(null);if(!L._redirectEventId){if(te)try{yield v.beforeStateQueue.runMiddleware(L)}catch(fe){L=k,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(fe))}return L?v.reloadAndSetCurrentUserOrClear(L):v.directlySetCurrentUser(null)}return de(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===L._redirectEventId?v.directlySetCurrentUser(L):v.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(p){var v=this;return(0,s.Z)(function*(){let C=null;try{C=yield v._popupRedirectResolver._completeRedirectFn(v,p,!0)}catch{yield v._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var v=this;return(0,s.Z)(function*(){try{yield Xn(p)}catch(C){if("auth/network-request-failed"!==C?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Vi(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var v=this;return(0,s.Z)(function*(){const C=p?(0,G.m9)(p):null;return C&&de(C.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(C&&C._clone(v))})()}_updateCurrentUser(p,v=!1){var C=this;return(0,s.Z)(function*(){if(!C._deleted)return p&&de(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),v||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,s.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var v=this;return this.queue((0,s.Z)(function*(){yield v.assertedPersistence.setPersistence(mi(p))}))}initializeRecaptchaConfig(){var p=this;return(0,s.Z)(function*(){const v=yield Ue(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new Ct(v);null==p.tenantId?p._agentRecaptchaConfig=C:p._tenantRecaptchaConfigs[p.tenantId]=C,C.emailPasswordEnabled&&new ps(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new G.LL("auth","Firebase",p())}onAuthStateChanged(p,v,C){return this.registerStateListener(this.authStateSubscription,p,v,C)}beforeAuthStateChanged(p,v){return this.beforeStateQueue.pushCallback(p,v)}onIdTokenChanged(p,v,C){return this.registerStateListener(this.idTokenSubscription,p,v,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,v){var C=this;return(0,s.Z)(function*(){const k=yield C.getOrInitRedirectPersistenceManager(v);return null===p?k.removeCurrentUser():k.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var v=this;return(0,s.Z)(function*(){if(!v.redirectPersistenceManager){const C=p&&mi(p)||v._popupRedirectResolver;de(C,v,"argument-error"),v.redirectPersistenceManager=yield q.create(v,[mi(C._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(p){var v=this;return(0,s.Z)(function*(){var C,k;return v._isInitialized&&(yield v.queue((0,s.Z)(function*(){}))),(null===(C=v._currentUser)||void 0===C?void 0:C._redirectEventId)===p?v._currentUser:(null===(k=v.redirectUser)||void 0===k?void 0:k._redirectEventId)===p?v.redirectUser:null})()}_persistUserIfCurrent(p){var v=this;return(0,s.Z)(function*(){if(p===v.currentUser)return v.queue((0,s.Z)(function*(){return v.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(v=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,v,C,k){if(this._deleted)return()=>{};const L="function"==typeof v?v:v.next.bind(v),te=this._isInitialized?Promise.resolve():this._initializationPromise;return de(te,this,"internal-error"),te.then(()=>L(this.currentUser)),"function"==typeof v?p.addObserver(v,C,k):p.addObserver(v)}directlySetCurrentUser(p){var v=this;return(0,s.Z)(function*(){v.currentUser&&v.currentUser!==p&&v._currentUser._stopProactiveRefresh(),p&&v.isProactiveRefreshEnabled&&p._startProactiveRefresh(),v.currentUser=p,p?yield v.assertedPersistence.setCurrentUser(p):yield v.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ko(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var v;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const k=yield null===(v=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();k&&(C["X-Firebase-Client"]=k);const L=yield p._getAppCheckToken();return L&&(C["X-Firebase-AppCheck"]=L),C})()}_getAppCheckToken(){var p=this;return(0,s.Z)(function*(){var v;const C=yield null===(v=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return C?.error&&function Le(w,...p){Fe.logLevel<=ue.in.WARN&&Fe.warn(`Auth (${N.SDK_VERSION}): ${w}`,...p)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function Tn(w){return(0,G.m9)(w)}class gs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,G.ne)(v=>this.observer=v)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ci(w,p,v){const C=Tn(w);de(C._canInitEmulator,C,"emulator-config-failed"),de(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const k=!!v?.disableWarnings,L=vl(p),{host:te,port:fe}=function wi(w){const p=vl(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!v)return{host:"",port:null};const C=v[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(C);if(k){const L=k[1];return{host:L,port:Yt(C.substr(L.length+1))}}{const[L,te]=C.split(":");return{host:L,port:Yt(te)}}}(p);C.config.emulator={url:`${L}//${te}${null===fe?"":`:${fe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:te,port:fe,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function gc(){function w(){const p=document.createElement("p"),v=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function vl(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function Yt(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class Qr{constructor(p,v){this.providerId=p,this.signInMethod=v}toJSON(){return ot("not implemented")}_getIdTokenResponse(p){return ot("not implemented")}_linkToIdToken(p,v){return ot("not implemented")}_getReauthenticationResolver(p){return ot("not implemented")}}function Ia(w,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,s.Z)(function*(w,p){return Re(w,"POST","/v1/accounts:resetPassword",oe(w,p))})).apply(this,arguments)}function Ii(w,p){return js.apply(this,arguments)}function js(){return(js=(0,s.Z)(function*(w,p){return Re(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function jr(){return(jr=(0,s.Z)(function*(w,p){return Re(w,"POST","/v1/accounts:update",oe(w,p))})).apply(this,arguments)}function $s(w,p){return Si.apply(this,arguments)}function Si(){return(Si=(0,s.Z)(function*(w,p){return vn(w,"POST","/v1/accounts:signInWithPassword",oe(w,p))})).apply(this,arguments)}function Rn(w,p){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,s.Z)(function*(w,p){return Re(w,"POST","/v1/accounts:sendOobCode",oe(w,p))})).apply(this,arguments)}function yl(){return(yl=(0,s.Z)(function*(w,p){return Rn(w,p)})).apply(this,arguments)}function Sa(w,p){return _s.apply(this,arguments)}function _s(){return(_s=(0,s.Z)(function*(w,p){return Rn(w,p)})).apply(this,arguments)}function yr(w,p){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,s.Z)(function*(w,p){return Rn(w,p)})).apply(this,arguments)}function br(){return(br=(0,s.Z)(function*(w,p){return Rn(w,p)})).apply(this,arguments)}function Gs(){return(Gs=(0,s.Z)(function*(w,p){return vn(w,"POST","/v1/accounts:signInWithEmailLink",oe(w,p))})).apply(this,arguments)}function bl(){return(bl=(0,s.Z)(function*(w,p){return vn(w,"POST","/v1/accounts:signInWithEmailLink",oe(w,p))})).apply(this,arguments)}class Rr extends Qr{constructor(p,v,C,k=null){super("password",C),this._email=p,this._password=v,this._tenantId=k}static _fromEmailAndPassword(p,v){return new Rr(p,v,"password")}static _fromEmailAndCode(p,v,C=null){return new Rr(p,v,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(p){var v=this;return(0,s.Z)(function*(){var C;switch(v.signInMethod){case"password":const k={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=p._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const L=yield ji(p,k,"signInWithPassword");return $s(p,L)}return $s(p,k).catch(function(){var L=(0,s.Z)(function*(te){if("auth/missing-recaptcha-token"===te.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const fe=yield ji(p,k,"signInWithPassword");return $s(p,fe)}return Promise.reject(te)});return function(te){return L.apply(this,arguments)}}());case"emailLink":return function _o(w,p){return Gs.apply(this,arguments)}(p,{email:v._email,oobCode:v._password});default:Me(p,"internal-error")}})()}_linkToIdToken(p,v){var C=this;return(0,s.Z)(function*(){switch(C.signInMethod){case"password":return Ii(p,{idToken:v,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function _c(w,p){return bl.apply(this,arguments)}(p,{idToken:v,email:C._email,oobCode:C._password});default:Me(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function vs(w,p){return wl.apply(this,arguments)}function wl(){return(wl=(0,s.Z)(function*(w,p){return vn(w,"POST","/v1/accounts:signInWithIdp",oe(w,p))})).apply(this,arguments)}class Fo extends Qr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const v=new Fo(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(v.idToken=p.idToken),p.accessToken&&(v.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(v.nonce=p.nonce),p.pendingToken&&(v.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(v.accessToken=p.oauthToken,v.secret=p.oauthTokenSecret):Me("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:k}=v,L=(0,se._T)(v,["providerId","signInMethod"]);if(!C||!k)return null;const te=new Fo(C,k);return te.idToken=L.idToken||void 0,te.accessToken=L.accessToken||void 0,te.secret=L.secret,te.nonce=L.nonce,te.pendingToken=L.pendingToken||null,te}_getIdTokenResponse(p){return vs(p,this.buildRequest())}_linkToIdToken(p,v){const C=this.buildRequest();return C.idToken=v,vs(p,C)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,vs(p,v)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),p.postBody=(0,G.xO)(v)}return p}}function Xu(){return(Xu=(0,s.Z)(function*(w,p){return Re(w,"POST","/v1/accounts:sendVerificationCode",oe(w,p))})).apply(this,arguments)}function Ju(){return(Ju=(0,s.Z)(function*(w,p){return vn(w,"POST","/v1/accounts:signInWithPhoneNumber",oe(w,p))})).apply(this,arguments)}function eh(){return(eh=(0,s.Z)(function*(w,p){const v=yield vn(w,"POST","/v1/accounts:signInWithPhoneNumber",oe(w,p));if(v.temporaryProof)throw xn(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const th={USER_NOT_FOUND:"user-not-found"};function wm(){return(wm=(0,s.Z)(function*(w,p){return vn(w,"POST","/v1/accounts:signInWithPhoneNumber",oe(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),th)})).apply(this,arguments)}class ys extends Qr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,v){return new ys({verificationId:p,verificationCode:v})}static _fromTokenResponse(p,v){return new ys({phoneNumber:p,temporaryProof:v})}_getIdTokenResponse(p){return function bm(w,p){return Ju.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,v){return function Fg(w,p){return eh.apply(this,arguments)}(p,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function nh(w,p){return wm.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:v,verificationId:C,verificationCode:k}=this.params;return p&&v?{temporaryProof:p,phoneNumber:v}:{sessionInfo:C,code:k}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:v,verificationCode:C,phoneNumber:k,temporaryProof:L}=p;return C||v||k||L?new ys({verificationId:v,verificationCode:C,phoneNumber:k,temporaryProof:L}):null}}class Ma{constructor(p){var v,C,k,L,te,fe;const qe=(0,G.zd)((0,G.pd)(p)),tt=null!==(v=qe.apiKey)&&void 0!==v?v:null,wt=null!==(C=qe.oobCode)&&void 0!==C?C:null,Kt=function In(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=qe.mode)&&void 0!==k?k:null);de(tt&&wt&&Kt,"argument-error"),this.apiKey=tt,this.operation=Kt,this.code=wt,this.continueUrl=null!==(L=qe.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(te=qe.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(fe=qe.tenantId)&&void 0!==fe?fe:null}static parseLink(p){const v=function xm(w){const p=(0,G.zd)((0,G.pd)(w)).link,v=p?(0,G.zd)((0,G.pd)(p)).deep_link_id:null,C=(0,G.zd)((0,G.pd)(w)).deep_link_id;return(C?(0,G.zd)((0,G.pd)(C)).link:null)||C||v||p||w}(p);try{return new Ma(v)}catch{return null}}}let ih=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,C){return Rr._fromEmailAndPassword(v,C)}static credentialWithLink(v,C){const k=Ma.parseLink(C);return de(k,"argument-error"),Rr._fromEmailAndCode(v,k.code,k.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class bs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Aa extends bs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Xo extends Aa{static credentialFromJSON(p){const v="string"==typeof p?JSON.parse(p):p;return de("providerId"in v&&"signInMethod"in v,"argument-error"),Fo._fromParams(v)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return de(p.idToken||p.accessToken,"argument-error"),Fo._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Xo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Xo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:C,oauthTokenSecret:k,pendingToken:L,nonce:te,providerId:fe}=p;if(!C&&!k&&!v&&!L||!fe)return null;try{return new Xo(fe)._credential({idToken:v,accessToken:C,nonce:te,pendingToken:L})}catch{return null}}}let rh=(()=>{class w extends Aa{constructor(){super("facebook.com")}static credential(v){return Fo._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),oh=(()=>{class w extends Aa{constructor(){super("google.com"),this.addScope("profile")}static credential(v,C){return Fo._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:C})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:C,oauthAccessToken:k}=v;if(!C&&!k)return null;try{return w.credential(C,k)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),vc=(()=>{class w extends Aa{constructor(){super("github.com")}static credential(v){return Fo._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class ws extends Qr{constructor(p,v){super(p,p),this.pendingToken=v}_getIdTokenResponse(p){return vs(p,this.buildRequest())}_linkToIdToken(p,v){const C=this.buildRequest();return C.idToken=v,vs(p,C)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,vs(p,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:k,pendingToken:L}=v;return C&&k&&L&&C===k?new ws(C,L):null}static _create(p,v){return new ws(p,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yc extends bs{constructor(p){de(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return yc.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return yc.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const v=ws.fromJSON(p);return de(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:v,providerId:C}=p;if(!v||!C)return null;try{return ws._create(C,v)}catch{return null}}}let sh=(()=>{class w extends Aa{constructor(){super("twitter.com")}static credential(v,C){return Fo._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:C})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:C,oauthTokenSecret:k}=v;if(!C||!k)return null;try{return w.credential(C,k)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function ka(w,p){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,s.Z)(function*(w,p){return vn(w,"POST","/v1/accounts:signUp",oe(w,p))})).apply(this,arguments)}class ei{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,v,C,k=!1){return(0,s.Z)(function*(){const L=yield Jn._fromIdTokenResponse(p,C,k),te=xl(C);return new ei({user:L,providerId:te,_tokenResponse:C,operationType:v})})()}static _forOperation(p,v,C){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const k=xl(C);return new ei({user:p,providerId:k,_tokenResponse:C,operationType:v})})()}}function xl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function bc(w){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,s.Z)(function*(w){var p;const v=Tn(w);if(yield v._initializationPromise,null!==(p=v.currentUser)&&void 0!==p&&p.isAnonymous)return new ei({user:v.currentUser,providerId:null,operationType:"signIn"});const C=yield ka(v,{returnSecureToken:!0}),k=yield ei._fromIdTokenResponse(v,"signIn",C,!0);return yield v._updateCurrentUser(k.user),k})).apply(this,arguments)}class qs extends G.ZR{constructor(p,v,C,k){var L;super(v.code,v.message),this.operationType=C,this.user=k,Object.setPrototypeOf(this,qs.prototype),this.customData={appName:p.name,tenantId:null!==(L=p.tenantId)&&void 0!==L?L:void 0,_serverResponse:v.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,v,C,k){return new qs(p,v,C,k)}}function Zs(w,p,v,C){return("reauthenticate"===p?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?qs._fromErrorAndOperation(w,L,p,C):L})}function Ji(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function Dm(w,p){return wc.apply(this,arguments)}function wc(){return wc=(0,s.Z)(function*(w,p){const v=(0,G.m9)(w);yield Cl(!0,v,p);const{providerUserInfo:C}=yield function Qn(w,p){return bi.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[p]}),k=Ji(C||[]);return v.providerData=v.providerData.filter(L=>k.has(L.providerId)),k.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),wc.apply(this,arguments)}function wr(w,p){return $i.apply(this,arguments)}function $i(){return($i=(0,s.Z)(function*(w,p,v=!1){const C=yield Xt(w,p._linkToIdToken(w.auth,yield w.getIdToken()),v);return ei._forOperation(w,"link",C)})).apply(this,arguments)}function Cl(w,p,v){return xs.apply(this,arguments)}function xs(){return(xs=(0,s.Z)(function*(w,p,v){yield Xn(p);const k=!1===w?"provider-already-linked":"no-such-provider";de(Ji(p.providerData).has(v)===w,p.auth,k)})).apply(this,arguments)}function ah(w,p){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,s.Z)(function*(w,p,v=!1){const{auth:C}=w,k="reauthenticate";try{const L=yield Xt(w,Zs(C,k,p,w),v);de(L.idToken,C,"internal-error");const te=pr(L.idToken);de(te,C,"internal-error");const{sub:fe}=te;return de(w.uid===fe,C,"user-mismatch"),ei._forOperation(w,k,L)}catch(L){throw"auth/user-not-found"===L?.code&&Me(C,"user-mismatch"),L}})).apply(this,arguments)}function El(w,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,s.Z)(function*(w,p,v=!1){const C="signIn",k=yield Zs(w,C,p),L=yield ei._fromIdTokenResponse(w,C,k);return v||(yield w._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Nt(w,p){return xc.apply(this,arguments)}function xc(){return(xc=(0,s.Z)(function*(w,p){return El(Tn(w),p)})).apply(this,arguments)}function Tm(w,p){return Td.apply(this,arguments)}function Td(){return(Td=(0,s.Z)(function*(w,p){const v=(0,G.m9)(w);return yield Cl(!1,v,p.providerId),wr(v,p)})).apply(this,arguments)}function Id(w,p){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,s.Z)(function*(w,p){return ah((0,G.m9)(w),p)})).apply(this,arguments)}function ch(){return(ch=(0,s.Z)(function*(w,p){return vn(w,"POST","/v1/accounts:signInWithCustomToken",oe(w,p))})).apply(this,arguments)}function Ng(w,p){return ve.apply(this,arguments)}function ve(){return ve=(0,s.Z)(function*(w,p){const v=Tn(w),C=yield function lh(w,p){return ch.apply(this,arguments)}(v,{token:p,returnSecureToken:!0}),k=yield ei._fromIdTokenResponse(v,"signIn",C);return yield v._updateCurrentUser(k.user),k}),ve.apply(this,arguments)}class Ht{constructor(p,v){this.factorId=p,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(p,v){return"phoneInfo"in v?Md._fromServerResponse(p,v):"totpInfo"in v?Dl._fromServerResponse(p,v):Me(p,"internal-error")}}class Md extends Ht{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,v){return new Md(v)}}class Dl extends Ht{constructor(p){super("totp",p)}static _fromServerResponse(p,v){return new Dl(v)}}function pi(w,p,v){var C;de((null===(C=v.url)||void 0===C?void 0:C.length)>0,w,"invalid-continue-uri"),de(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=v.url,p.dynamicLinkDomain=v.dynamicLinkDomain,p.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(de(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=v.iOS.bundleId),v.android&&(de(v.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=v.android.installApp,p.androidMinimumVersionCode=v.android.minimumVersion,p.androidPackageName=v.android.packageName)}function dh(w,p,v){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,s.Z)(function*(w,p,v){var C;const k=Tn(w),L={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=k._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const te=yield ji(k,L,"getOobCode",!0);v&&pi(k,te,v),yield Sa(k,te)}else v&&pi(k,L,v),yield Sa(k,L).catch(function(){var te=(0,s.Z)(function*(fe){if("auth/missing-recaptcha-token"!==fe.code)return Promise.reject(fe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const qe=yield ji(k,L,"getOobCode",!0);v&&pi(k,qe,v),yield Sa(k,qe)}});return function(fe){return te.apply(this,arguments)}}())}),Oa.apply(this,arguments)}function Jr(w,p,v){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,s.Z)(function*(w,p,v){yield Ia((0,G.m9)(w),{oobCode:p,newPassword:v})})).apply(this,arguments)}function uh(w,p){return hh.apply(this,arguments)}function hh(){return hh=(0,s.Z)(function*(w,p){yield function zs(w,p){return jr.apply(this,arguments)}((0,G.m9)(w),{oobCode:p})}),hh.apply(this,arguments)}function Cs(w,p){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,s.Z)(function*(w,p){const v=(0,G.m9)(w),C=yield Ia(v,{oobCode:p}),k=C.requestType;switch(de(k,v,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(C.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(C.mfaInfo,v,"internal-error");default:de(C.email,v,"internal-error")}let L=null;return C.mfaInfo&&(L=Ht._fromServerResponse(Tn(v),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:L},operation:k}})).apply(this,arguments)}function er(w,p){return Or.apply(this,arguments)}function Or(){return(Or=(0,s.Z)(function*(w,p){const{data:v}=yield Cs((0,G.m9)(w),p);return v.email})).apply(this,arguments)}function Es(w,p,v){return es.apply(this,arguments)}function es(){return es=(0,s.Z)(function*(w,p,v){var C;const k=Tn(w),L={returnSecureToken:!0,email:p,password:v,clientType:"CLIENT_TYPE_WEB"};let te;if(null!==(C=k._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const tt=yield ji(k,L,"signUpPassword");te=ka(k,tt)}else te=ka(k,L).catch(function(){var tt=(0,s.Z)(function*(wt){if("auth/missing-recaptcha-token"===wt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Kt=yield ji(k,L,"signUpPassword");return ka(k,Kt)}return Promise.reject(wt)});return function(wt){return tt.apply(this,arguments)}}());const fe=yield te.catch(tt=>Promise.reject(tt)),qe=yield ei._fromIdTokenResponse(k,"signIn",fe);return yield k._updateCurrentUser(qe.user),qe}),es.apply(this,arguments)}function No(w,p,v){return Nt((0,G.m9)(w),ih.credential(p,v))}function fh(w,p,v){return Ys.apply(this,arguments)}function Ys(){return Ys=(0,s.Z)(function*(w,p,v){var C;const k=Tn(w),L={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function te(fe,qe){de(qe.handleCodeInApp,k,"argument-error"),qe&&pi(k,fe,qe)}if(null!==(C=k._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const fe=yield ji(k,L,"getOobCode",!0);te(fe,v),yield yr(k,fe)}else te(L,v),yield yr(k,L).catch(function(){var fe=(0,s.Z)(function*(qe){if("auth/missing-recaptcha-token"!==qe.code)return Promise.reject(qe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const tt=yield ji(k,L,"getOobCode",!0);te(tt,v),yield yr(k,tt)}});return function(qe){return fe.apply(this,arguments)}}())}),Ys.apply(this,arguments)}function mh(w,p){return"EMAIL_SIGNIN"===Ma.parseLink(p)?.operation}function Lg(w,p,v){return gi.apply(this,arguments)}function gi(){return(gi=(0,s.Z)(function*(w,p,v){const C=(0,G.m9)(w),k=ih.credentialWithLink(p,v||ut());return de(k._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Nt(C,k)})).apply(this,arguments)}function Tl(){return(Tl=(0,s.Z)(function*(w,p){return Re(w,"POST","/v1/accounts:createAuthUri",oe(w,p))})).apply(this,arguments)}function ph(w,p){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,s.Z)(function*(w,p){const C={identifier:p,continueUri:Qt()?ut():"http://localhost"},{signinMethods:k}=yield function Ec(w,p){return Tl.apply(this,arguments)}((0,G.m9)(w),C);return k||[]}),Dc.apply(this,arguments)}function gh(w,p){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,s.Z)(function*(w,p){const v=(0,G.m9)(w),k={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&pi(v.auth,k,p);const{email:L}=yield function Ed(w,p){return yl.apply(this,arguments)}(v.auth,k);L!==w.email&&(yield w.reload())}),Fa.apply(this,arguments)}function Ad(w,p,v){return Il.apply(this,arguments)}function Il(){return Il=(0,s.Z)(function*(w,p,v){const C=(0,G.m9)(w),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};v&&pi(C.auth,L,v);const{email:te}=yield function Qu(w,p){return br.apply(this,arguments)}(C.auth,L);te!==w.email&&(yield w.reload())}),Il.apply(this,arguments)}function Tc(){return(Tc=(0,s.Z)(function*(w,p){return Re(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function _h(w,p){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,s.Z)(function*(w,{displayName:p,photoURL:v}){if(void 0===p&&void 0===v)return;const C=(0,G.m9)(w),L={idToken:yield C.getIdToken(),displayName:p,photoUrl:v,returnSecureToken:!0},te=yield Xt(C,function kd(w,p){return Tc.apply(this,arguments)}(C.auth,L));C.displayName=te.displayName||null,C.photoURL=te.photoUrl||null;const fe=C.providerData.find(({providerId:qe})=>"password"===qe);fe&&(fe.displayName=C.displayName,fe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(te)}),Rd.apply(this,arguments)}function vh(w,p){return Lo((0,G.m9)(w),p,null)}function lr(w,p){return Lo((0,G.m9)(w),null,p)}function Lo(w,p,v){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,s.Z)(function*(w,p,v){const{auth:C}=w,L={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(L.email=p),v&&(L.password=v);const te=yield Xt(w,Ii(C,L));yield w._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class Na{constructor(p,v,C={}){this.isNewUser=p,this.providerId=v,this.profile=C}}class Ic extends Na{constructor(p,v,C,k){super(p,v,C),this.username=k}}class Bg extends Na{constructor(p,v){super(p,"facebook.com",v)}}class yh extends Ic{constructor(p,v){super(p,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Vg extends Na{constructor(p,v){super(p,"google.com",v)}}class Sc extends Ic{constructor(p,v,C){super(p,"twitter.com",v,C)}}function Pd(w){const{user:p,_tokenResponse:v}=w;return p.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Od(w){var p,v;if(!w)return null;const{providerId:C}=w,k=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},L=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!C&&w?.idToken){const te=null===(v=null===(p=pr(w.idToken))||void 0===p?void 0:p.firebase)||void 0===v?void 0:v.sign_in_provider;if(te)return new Na(L,"anonymous"!==te&&"custom"!==te?te:null)}if(!C)return null;switch(C){case"facebook.com":return new Bg(L,k);case"github.com":return new yh(L,k);case"google.com":return new Vg(L,k);case"twitter.com":return new Sc(L,k,w.screenName||null);case"custom":case"anonymous":return new Na(L,null);default:return new Na(L,C,k)}}(v)}class ns{constructor(p,v,C){this.type=p,this.credential=v,this.auth=C}static _fromIdtoken(p,v){return new ns("enroll",p,v)}static _fromMfaPendingCredential(p){return new ns("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var v,C;if(p?.multiFactorSession){if(null!==(v=p.multiFactorSession)&&void 0!==v&&v.pendingCredential)return ns._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return ns._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Fd{constructor(p,v,C){this.session=p,this.hints=v,this.signInResolver=C}static _fromError(p,v){const C=Tn(p),k=v.customData._serverResponse,L=(k.mfaInfo||[]).map(fe=>Ht._fromServerResponse(C,fe));de(k.mfaPendingCredential,C,"internal-error");const te=ns._fromMfaPendingCredential(k.mfaPendingCredential);return new Fd(te,L,function(){var fe=(0,s.Z)(function*(qe){const tt=yield qe._process(C,te);delete k.mfaInfo,delete k.mfaPendingCredential;const wt=Object.assign(Object.assign({},k),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(v.operationType){case"signIn":const Kt=yield ei._fromIdTokenResponse(C,v.operationType,wt);return yield C._updateCurrentUser(Kt.user),Kt;case"reauthenticate":return de(v.user,C,"internal-error"),ei._forOperation(v.user,v.operationType,wt);default:Me(C,"internal-error")}});return function(qe){return fe.apply(this,arguments)}}())}resolveSignIn(p){var v=this;return(0,s.Z)(function*(){return v.signInResolver(p)})()}}function Ml(w,p){var v;const C=(0,G.m9)(w),k=p;return de(p.customData.operationType,C,"argument-error"),de(null===(v=k.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,C,"argument-error"),Fd._fromError(C,k)}class Va{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(C=>Ht._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Va(p)}getSession(){var p=this;return(0,s.Z)(function*(){return ns._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,v){var C=this;return(0,s.Z)(function*(){const k=p,L=yield C.getSession(),te=yield Xt(C.user,k._process(C.user.auth,L,v));return yield C.user._updateTokensIfNecessary(te),C.user.reload()})()}unenroll(p){var v=this;return(0,s.Z)(function*(){const C="string"==typeof p?p:p.uid,k=yield v.user.getIdToken();try{const L=yield Xt(v.user,function Ks(w,p){return Re(w,"POST","/v2/accounts/mfaEnrollment:withdraw",oe(w,p))}(v.user.auth,{idToken:k,mfaEnrollmentId:C}));v.enrolledFactors=v.enrolledFactors.filter(({uid:te})=>te!==C),yield v.user._updateTokensIfNecessary(L),yield v.user.reload()}catch(L){throw L}})()}}const Qs=new WeakMap;function Ua(w){const p=(0,G.m9)(w);return Qs.has(p)||Qs.set(p,Va._fromUser(p)),Qs.get(p)}const Al="__sak";class kl{constructor(p,v){this.storageRetriever=p,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Al,"1"),this.storage.removeItem(Al),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,v){return this.storage.setItem(p,JSON.stringify(v)),Promise.resolve()}_get(p){const v=this.storage.getItem(p);return Promise.resolve(v?JSON.parse(v):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rc=(()=>{class w extends kl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,C)=>this.onStorageEvent(v,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Nd(){const w=(0,G.z$)();return V(w)||It(w)}()&&function Ui(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Wt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const C of Object.keys(this.listeners)){const k=this.storage.getItem(C),L=this.localCache[C];k!==L&&v(C,L,k)}}onStorageEvent(v,C=!1){if(!v.key)return void this.forAllChangedKeys((fe,qe,tt)=>{this.notifyListeners(fe,tt)});const k=v.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(k);if(v.newValue!==fe)null!==v.newValue?this.storage.setItem(k,v.newValue):this.storage.removeItem(k);else if(this.localCache[k]===v.newValue&&!C)return}const L=()=>{const fe=this.storage.getItem(k);!C&&this.localCache[k]===fe||this.notifyListeners(k,fe)},te=this.storage.getItem(k);!function Fn(){return(0,G.w1)()&&10===document.documentMode}()||te===v.newValue||v.newValue===v.oldValue?L():setTimeout(L,10)}notifyListeners(v,C){this.localCache[v]=C;const k=this.listeners[v];if(k)for(const L of Array.from(k))L(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,C,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:C,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,C){var k=()=>super._set,L=this;return(0,s.Z)(function*(){yield k().call(L,v,C),L.localCache[v]=JSON.stringify(C)})()}_get(v){var C=()=>super._get,k=this;return(0,s.Z)(function*(){const L=yield C().call(k,v);return k.localCache[v]=JSON.stringify(L),L})()}_remove(v){var C=()=>super._remove,k=this;return(0,s.Z)(function*(){yield C().call(k,v),delete k.localCache[v]})()}}return w.type="LOCAL",w})(),xr=(()=>{class w extends kl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,C){}_removeListener(v,C){}}return w.type="SESSION",w})();let Vd=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const C=this.receivers.find(L=>L.isListeningto(v));if(C)return C;const k=new w(v);return this.receivers.push(k),k}isListeningto(v){return this.eventTarget===v}handleEvent(v){var C=this;return(0,s.Z)(function*(){const k=v,{eventId:L,eventType:te,data:fe}=k.data,qe=C.handlersMap[te];if(!qe?.size)return;k.ports[0].postMessage({status:"ack",eventId:L,eventType:te});const tt=Array.from(qe).map(function(){var Kt=(0,s.Z)(function*(Nr){return Nr(k.origin,fe)});return function(Nr){return Kt.apply(this,arguments)}}()),wt=yield function Eh(w){return Promise.all(w.map(function(){var p=(0,s.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(C){return{fulfilled:!1,reason:C}}});return function(v){return p.apply(this,arguments)}}()))}(tt);k.ports[0].postMessage({status:"done",eventId:L,eventType:te,response:wt})})()}_subscribe(v,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(C)}_unsubscribe(v,C){this.handlersMap[v]&&C&&this.handlersMap[v].delete(C),(!C||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Bo(w="",p=10){let v="";for(let C=0;C<p;C++)v+=Math.floor(10*Math.random());return w+v}class Dh{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,v,C=50){var k=this;return(0,s.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let te,fe;return new Promise((qe,tt)=>{const wt=Bo("",20);L.port1.start();const Kt=setTimeout(()=>{tt(new Error("unsupported_event"))},C);fe={messageChannel:L,onMessage(Nr){const Rs=Nr;if(Rs.data.eventId===wt)switch(Rs.data.status){case"ack":clearTimeout(Kt),te=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),qe(Rs.data.response);break;default:clearTimeout(Kt),clearTimeout(te),tt(new Error("invalid_response"))}}},k.handlers.add(fe),L.port1.addEventListener("message",fe.onMessage),k.target.postMessage({eventType:p,eventId:wt,data:v},[L.port2])}).finally(()=>{fe&&k.removeMessageHandler(fe)})})()}}function _i(){return window}function Oc(){return typeof _i().WorkerGlobalScope<"u"&&"function"==typeof _i().importScripts}function Ol(){return(Ol=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ai="firebaseLocalStorageDb",Ha=1,ti="firebaseLocalStorage",Mm="fbase_key";class Is{constructor(p){this.request=p}toPromise(){return new Promise((p,v)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Fc(w,p){return w.transaction([ti],p?"readwrite":"readonly").objectStore(ti)}function Ud(){const w=indexedDB.open(Ai,Ha);return new Promise((p,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const C=w.result;try{C.createObjectStore(ti,{keyPath:Mm})}catch(k){v(k)}}),w.addEventListener("success",(0,s.Z)(function*(){const C=w.result;C.objectStoreNames.contains(ti)?p(C):(C.close(),yield function ja(){const w=indexedDB.deleteDatabase(Ai);return new Is(w).toPromise()}(),p(yield Ud()))}))})}function Hd(w,p,v){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,s.Z)(function*(w,p,v){const C=Fc(w,!0).put({[Mm]:p,value:v});return new Is(C).toPromise()})).apply(this,arguments)}function Xs(){return(Xs=(0,s.Z)(function*(w,p){const v=Fc(w,!1).get(p),C=yield new Is(v).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Pl(w,p){const v=Fc(w,!0).delete(p);return new Is(v).toPromise()}const jd=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,s.Z)(function*(){return v.db||(v.db=yield Ud()),v.db})()}_withRetries(v){var C=this;return(0,s.Z)(function*(){let k=0;for(;;)try{const L=yield C._openDb();return yield v(L)}catch(L){if(k++>3)throw L;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,s.Z)(function*(){return Oc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,s.Z)(function*(){v.receiver=Vd._getInstance(function Pc(){return Oc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var C=(0,s.Z)(function*(k,L){return{keyProcessed:(yield v._poll()).includes(L.key)}});return function(k,L){return C.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var C=(0,s.Z)(function*(k,L){return["keyChanged"]});return function(k,L){return C.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,s.Z)(function*(){var C,k;if(v.activeServiceWorker=yield function Th(){return Ol.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Dh(v.activeServiceWorker);const L=yield v.sender._send("ping",{},800);L&&null!==(C=L[0])&&void 0!==C&&C.fulfilled&&null!==(k=L[0])&&void 0!==k&&k.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var C=this;return(0,s.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Ih(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:v},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Ud();return yield Hd(v,Al,"1"),yield Pl(v,Al),!0}catch{}return!1})()}_withPendingWrite(v){var C=this;return(0,s.Z)(function*(){C.pendingWrites++;try{yield v()}finally{C.pendingWrites--}})()}_set(v,C){var k=this;return(0,s.Z)(function*(){return k._withPendingWrite((0,s.Z)(function*(){return yield k._withRetries(L=>Hd(L,v,C)),k.localCache[v]=C,k.notifyServiceWorker(v)}))})()}_get(v){var C=this;return(0,s.Z)(function*(){const k=yield C._withRetries(L=>function Am(w,p){return Xs.apply(this,arguments)}(L,v));return C.localCache[v]=k,k})()}_remove(v){var C=this;return(0,s.Z)(function*(){return C._withPendingWrite((0,s.Z)(function*(){return yield C._withRetries(k=>Pl(k,v)),delete C.localCache[v],C.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,s.Z)(function*(){const C=yield v._withRetries(te=>{const fe=Fc(te,!1).getAll();return new Is(fe).toPromise()});if(!C)return[];if(0!==v.pendingWrites)return[];const k=[],L=new Set;for(const{fbase_key:te,value:fe}of C)L.add(te),JSON.stringify(v.localCache[te])!==JSON.stringify(fe)&&(v.notifyListeners(te,fe),k.push(te));for(const te of Object.keys(v.localCache))v.localCache[te]&&!L.has(te)&&(v.notifyListeners(te,null),k.push(te));return k})()}notifyListeners(v,C){this.localCache[v]=C;const k=this.listeners[v];if(k)for(const L of Array.from(k))L(C)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),zd=1e12;class Ah{constructor(p){this.auth=p,this.counter=zd,this._widgets=new Map}render(p,v){const C=this.counter;return this._widgets.set(C,new $d(p,this.auth.name,v||{})),this.counter++,C}reset(p){var v;const C=p||zd;null===(v=this._widgets.get(C))||void 0===v||v.delete(),this._widgets.delete(C)}getResponse(p){var v;return(null===(v=this._widgets.get(p||zd))||void 0===v?void 0:v.getResponse())||""}execute(p){var v=this;return(0,s.Z)(function*(){var C;return null===(C=v._widgets.get(p||zd))||void 0===C||C.execute(),""})()}}class $d{constructor(p,v,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof p?document.getElementById(p):p;de(k,"argument-error",{appName:v}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Gd(w){const p=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<w;C++)p.push(v.charAt(Math.floor(Math.random()*v.length)));return p.join("")}(50);const{callback:p,"expired-callback":v}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Rm=ar("rcb"),Ey=new Ar(3e4,6e4);class ta{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=_i().grecaptcha)||void 0===p||!p.render)}load(p,v=""){return de(function Ty(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),p,"argument-error"),this.shouldResolveImmediately(v)&&kt(_i().grecaptcha)?Promise.resolve(_i().grecaptcha):new Promise((C,k)=>{const L=_i().setTimeout(()=>{k(Ie(p,"network-request-failed"))},Ey.get());_i()[Rm]=()=>{_i().clearTimeout(L),delete _i()[Rm];const fe=_i().grecaptcha;if(!fe||!kt(fe))return void k(Ie(p,"internal-error"));const qe=fe.render;fe.render=(tt,wt)=>{const Kt=qe(tt,wt);return this.counter++,Kt},this.hostLanguage=v,C(fe)},mn(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:Rm,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(L),k(Ie(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var v;return!(null===(v=_i().grecaptcha)||void 0===v||!v.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Om{load(p){return(0,s.Z)(function*(){return new Ah(p)})()}clearedOneInstance(){}}const ki="recaptcha",Lc={theme:"light",type:"image"};class Bc{constructor(p,v=Object.assign({},Lc),C){this.parameters=v,this.type=ki,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tn(C),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof p?document.getElementById(p):p;de(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Om:new ta,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const v=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(v)||new Promise(L=>{const te=fe=>{fe&&(p.tokenChangeListeners.delete(te),L(fe))};p.tokenChangeListeners.add(te),p.isInvisible&&C.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return v=>{if(this.tokenChangeListeners.forEach(C=>C(v)),"function"==typeof p)p(v);else if("string"==typeof p){const C=_i()[p];"function"==typeof C&&C(v)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let v=p.container;if(!p.isInvisible){const C=document.createElement("div");v.appendChild(C),v=C}p.widgetId=p.getAssertedRecaptcha().render(v,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){de(Qt()&&!Oc(),p.auth,"internal-error"),yield function Wd(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const v=yield function _e(w){return ae.apply(this,arguments)}(p.auth);de(v,p.auth,"internal-error"),p.parameters.sitekey=v})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class zr{constructor(p,v){this.verificationId=p,this.onConfirmation=v}confirm(p){const v=ys._fromVerification(this.verificationId,p);return this.onConfirmation(v)}}function As(w,p,v){return qd.apply(this,arguments)}function qd(){return(qd=(0,s.Z)(function*(w,p,v){const C=Tn(w),k=yield Nl(C,p,(0,G.m9)(v));return new zr(k,L=>Nt(C,L))})).apply(this,arguments)}function Fl(w,p,v){return za.apply(this,arguments)}function za(){return(za=(0,s.Z)(function*(w,p,v){const C=(0,G.m9)(w);yield Cl(!1,C,"phone");const k=yield Nl(C.auth,p,(0,G.m9)(v));return new zr(k,L=>Tm(C,L))})).apply(this,arguments)}function kh(w,p,v){return $a.apply(this,arguments)}function $a(){return($a=(0,s.Z)(function*(w,p,v){const C=(0,G.m9)(w),k=yield Nl(C.auth,p,(0,G.m9)(v));return new zr(k,L=>Id(C,L))})).apply(this,arguments)}function Nl(w,p,v){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,s.Z)(function*(w,p,v){var C;const k=yield v.verify();try{let L;if(de("string"==typeof k,w,"argument-error"),de(v.type===ki,w,"argument-error"),L="string"==typeof p?{phoneNumber:p}:p,"session"in L){const te=L.session;if("phoneNumber"in L)return de("enroll"===te.type,w,"internal-error"),(yield function kc(w,p){return Re(w,"POST","/v2/accounts/mfaEnrollment:start",oe(w,p))}(w,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{de("signin"===te.type,w,"internal-error");const fe=(null===(C=L.multiFactorHint)||void 0===C?void 0:C.uid)||L.multiFactorUid;return de(fe,w,"missing-multi-factor-info"),(yield function Sh(w,p){return Re(w,"POST","/v2/accounts/mfaSignIn:start",oe(w,p))}(w,{mfaPendingCredential:te.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield function Pg(w,p){return Xu.apply(this,arguments)}(w,{phoneNumber:L.phoneNumber,recaptchaToken:k});return te}}finally{v._reset()}}),Vc.apply(this,arguments)}function eo(w,p){return $r.apply(this,arguments)}function $r(){return($r=(0,s.Z)(function*(w,p){yield wr((0,G.m9)(w),p)})).apply(this,arguments)}let jt=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=Tn(v)}verifyPhoneNumber(v,C){return Nl(this.auth,v,(0,G.m9)(C))}static credential(v,C){return ys._fromVerification(v,C)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:C,temporaryProof:k}=v;return C&&k?ys._fromTokenResponse(C,k):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function je(w,p){return p?mi(p):(de(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Yn extends Qr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return vs(p,this._buildIdpRequest())}_linkToIdToken(p,v){return vs(p,this._buildIdpRequest(v))}_getReauthenticationResolver(p){return vs(p,this._buildIdpRequest())}_buildIdpRequest(p){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(v.idToken=p),v}}function Nn(w){return El(w.auth,new Yn(w),w.bypassAuthState)}function Gr(w){const{auth:p,user:v}=w;return de(v,p,"internal-error"),ah(v,new Yn(w),w.bypassAuthState)}function is(w){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,s.Z)(function*(w){const{auth:p,user:v}=w;return de(v,p,"internal-error"),wr(v,new Yn(w),w.bypassAuthState)})).apply(this,arguments)}class Bn{constructor(p,v,C,k,L=!1){this.auth=p,this.resolver=C,this.user=k,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var p=this;return new Promise(function(){var v=(0,s.Z)(function*(C,k){p.pendingPromise={resolve:C,reject:k};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(L){p.reject(L)}});return function(C,k){return v.apply(this,arguments)}}())}onAuthEvent(p){var v=this;return(0,s.Z)(function*(){const{urlResponse:C,sessionId:k,postBody:L,tenantId:te,error:fe,type:qe}=p;if(fe)return void v.reject(fe);const tt={auth:v.auth,requestUri:C,sessionId:k,tenantId:te||void 0,postBody:L||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(qe)(tt))}catch(wt){v.reject(wt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Nn;case"linkViaPopup":case"linkViaRedirect":return is;case"reauthViaPopup":case"reauthViaRedirect":return Gr;default:Me(this.auth,"internal-error")}}resolve(p){Mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hn=new Ar(2e3,1e4);function Oe(w,p,v){return vo.apply(this,arguments)}function vo(){return(vo=(0,s.Z)(function*(w,p,v){const C=Tn(w);We(w,p,bs);const k=je(C,v);return new Zd(C,"signInViaPopup",p,k).executeNotNull()})).apply(this,arguments)}function Ll(w,p,v){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,s.Z)(function*(w,p,v){const C=(0,G.m9)(w);We(C.auth,p,bs);const k=je(C.auth,v);return new Zd(C.auth,"reauthViaPopup",p,k,C).executeNotNull()})).apply(this,arguments)}function Pm(w,p,v){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,s.Z)(function*(w,p,v){const C=(0,G.m9)(w);We(C.auth,p,bs);const k=je(C.auth,v);return new Zd(C.auth,"linkViaPopup",p,k,C).executeNotNull()})).apply(this,arguments)}let Zd=(()=>{class w extends Bn{constructor(v,C,k,L,te){super(v,C,L,te),this.provider=k,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,s.Z)(function*(){const C=yield v.execute();return de(C,v.auth,"internal-error"),C})()}onExecution(){var v=this;return(0,s.Z)(function*(){Mt(1===v.filter.length,"Popup operations only handle one event");const C=Bo();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],C),v.authWindow.associatedEvent=C,v.resolver._originValidation(v.auth).catch(k=>{v.reject(k)}),v.resolver._isIframeWebStorageSupported(v.auth,k=>{k||v.reject(Ie(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var C,k;this.pollId=null!==(k=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,hn.get())};v()}}return w.currentPopupAction=null,w})();const Rh="pendingRedirect",yo=new Map;class Uc extends Bn{constructor(p,v,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,v=this;return(0,s.Z)(function*(){let C=yo.get(v.auth._key());if(!C){try{const L=(yield function Hc(w,p){return to.apply(this,arguments)}(v.resolver,v.auth))?yield p().call(v):null;C=()=>Promise.resolve(L)}catch(k){C=()=>Promise.reject(k)}yo.set(v.auth._key(),C)}return v.bypassAuthState||yo.set(v.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var v=()=>super.onAuthEvent,C=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return v().call(C,p);if("unknown"!==p.type){if(p.eventId){const k=yield C.auth._redirectUserForId(p.eventId);if(k)return C.user=k,v().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function to(){return(to=(0,s.Z)(function*(w,p){const v=Yd(p),C=Ph(w);if(!(yield C._isAvailable()))return!1;const k="true"===(yield C._get(v));return yield C._remove(v),k})).apply(this,arguments)}function Fm(w,p){return na.apply(this,arguments)}function na(){return(na=(0,s.Z)(function*(w,p){return Ph(w)._set(Yd(p),"true")})).apply(this,arguments)}function jc(){yo.clear()}function Oh(w,p){yo.set(w._key(),p)}function Ph(w){return mi(w._redirectPersistence)}function Yd(w){return vr(Rh,w.config.apiKey,w.name)}function Fh(w,p,v){return function Bl(w,p,v){return di.apply(this,arguments)}(w,p,v)}function di(){return(di=(0,s.Z)(function*(w,p,v){const C=Tn(w);We(w,p,bs),yield C._initializationPromise;const k=je(C,v);return yield Fm(k,C),k._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Kd(w,p,v){return function Qd(w,p,v){return rs.apply(this,arguments)}(w,p,v)}function rs(){return(rs=(0,s.Z)(function*(w,p,v){const C=(0,G.m9)(w);We(C.auth,p,bs),yield C.auth._initializationPromise;const k=je(C.auth,v);yield Fm(k,C.auth);const L=yield ia(C);return k._openRedirect(C.auth,p,"reauthViaRedirect",L)})).apply(this,arguments)}function Xd(w,p,v){return function Jd(w,p,v){return Vl.apply(this,arguments)}(w,p,v)}function Vl(){return(Vl=(0,s.Z)(function*(w,p,v){const C=(0,G.m9)(w);We(C.auth,p,bs),yield C.auth._initializationPromise;const k=je(C.auth,v);yield Cl(!1,C,p.providerId),yield Fm(k,C.auth);const L=yield ia(C);return k._openRedirect(C.auth,p,"linkViaRedirect",L)})).apply(this,arguments)}function Nm(w,p){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,s.Z)(function*(w,p){return yield Tn(w)._initializationPromise,Nh(w,p,!1)})).apply(this,arguments)}function Nh(w,p){return zc.apply(this,arguments)}function zc(){return(zc=(0,s.Z)(function*(w,p,v=!1){const C=Tn(w),k=je(C,p),te=yield new Uc(C,k,v).execute();return te&&!v&&(delete te.user._redirectEventId,yield C._persistUserIfCurrent(te.user),yield C._setRedirectUser(null,p)),te})).apply(this,arguments)}function ia(w){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,s.Z)(function*(w){const p=Bo(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class Lh{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let v=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(v=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Lm(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bh(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=p,v=!0)),v}sendToConsumer(p,v){var C;if(p.error&&!Bh(p)){const k=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";v.onError(Ie(this.auth,k))}else v.onAuthEvent(p)}isEventForConsumer(p,v){const C=null===v.eventId||!!p.eventId&&p.eventId===v.eventId;return v.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jl(p))}saveEventToCache(p){this.cachedEventUids.add(jl(p)),this.lastProcessedEventTime=Date.now()}}function jl(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function Bh({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===p?.code}function Vh(w){return tu.apply(this,arguments)}function tu(){return(tu=(0,s.Z)(function*(w,p={}){return Re(w,"GET","/v1/projects",p)})).apply(this,arguments)}const Iy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hg=/^https?/;function zl(){return(zl=(0,s.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield Vh(w);for(const v of p)try{if(Bm(v))return}catch{}Me(w,"unauthorized-domain")})).apply(this,arguments)}function Bm(w){const p=ut(),{protocol:v,hostname:C}=new URL(p);if(w.startsWith("chrome-extension://")){const te=new URL(w);return""===te.hostname&&""===C?"chrome-extension:"===v&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===v&&te.hostname===C}if(!Hg.test(v))return!1;if(Iy.test(w))return C===w;const k=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(C)}const ra=new Ar(3e4,6e4);function $c(){const w=_i().___jsl;if(w?.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let Wa=null;const Hh=new Ar(5e3,15e3),ks="__/auth/iframe",nu="emulator/auth/iframe",Vm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Um(w){const p=w.config;de(p.authDomain,w,"auth-domain-config-required");const v=p.emulator?Oo(p,nu):`https://${w.config.authDomain}/${ks}`,C={apiKey:p.apiKey,appName:w.name,v:N.SDK_VERSION},k=jh.get(w.config.apiHost);k&&(C.eid=k);const L=w._getFrameworks();return L.length&&(C.fw=L.join(",")),`${v}?${(0,G.xO)(C).slice(1)}`}function ni(){return ni=(0,s.Z)(function*(w){const p=yield function oa(w){return Wa=Wa||function bo(w){return new Promise((p,v)=>{var C,k,L;function te(){$c(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{$c(),v(Ie(w,"network-request-failed"))},timeout:ra.get()})}if(null!==(k=null===(C=_i().gapi)||void 0===C?void 0:C.iframes)&&void 0!==k&&k.Iframe)p(gapi.iframes.getContext());else{if(null===(L=_i().gapi)||void 0===L||!L.load){const fe=ar("iframefcb");return _i()[fe]=()=>{gapi.load?te():v(Ie(w,"network-request-failed"))},mn(`https://apis.google.com/js/api.js?onload=${fe}`).catch(qe=>v(qe))}te()}}).catch(p=>{throw Wa=null,p})}(w),Wa}(w),v=_i().gapi;return de(v,w,"internal-error"),p.open({where:document.body,url:Um(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vm,dontclear:!0},C=>new Promise(function(){var k=(0,s.Z)(function*(L,te){yield C.restyle({setHideOnLeave:!1});const fe=Ie(w,"network-request-failed"),qe=_i().setTimeout(()=>{te(fe)},Hh.get());function tt(){_i().clearTimeout(qe),L(C)}C.ping(tt).then(tt,()=>{te(fe)})});return function(L,te){return k.apply(this,arguments)}}()))}),ni.apply(this,arguments)}const x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T=500,M=600,z="_blank",Q="http://localhost";class ee{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ke="__/auth/handler",yt="emulator/auth/handler",Lt=encodeURIComponent("fac");function Ut(w,p,v,C,k,L){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,s.Z)(function*(w,p,v,C,k,L){de(w.config.authDomain,w,"auth-domain-config-required"),de(w.config.apiKey,w,"invalid-api-key");const te={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:C,v:N.SDK_VERSION,eventId:k};if(p instanceof bs){p.setDefaultLanguage(w.languageCode),te.providerId=p.providerId||"",(0,G.xb)(p.getCustomParameters())||(te.customParameters=JSON.stringify(p.getCustomParameters()));for(const[wt,Kt]of Object.entries(L||{}))te[wt]=Kt}if(p instanceof Aa){const wt=p.getScopes().filter(Kt=>""!==Kt);wt.length>0&&(te.scopes=wt.join(","))}w.tenantId&&(te.tid=w.tenantId);const fe=te;for(const wt of Object.keys(fe))void 0===fe[wt]&&delete fe[wt];const qe=yield w._getAppCheckToken(),tt=qe?`#${Lt}=${encodeURIComponent(qe)}`:"";return`${function tr({config:w}){return w.emulator?Oo(w,yt):`https://${w.authDomain}/${Ke}`}(w)}?${(0,G.xO)(fe).slice(1)}${tt}`})).apply(this,arguments)}const sa="webStorageSupport",qa=class iu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xr,this._completeRedirectFn=Nh,this._overrideRedirectResult=Oh}_openPopup(p,v,C,k){var L=this;return(0,s.Z)(function*(){var te;Mt(null===(te=L.eventManagers[p._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const fe=yield Ut(p,v,C,ut(),k);return function pe(w,p,v,C=T,k=M){const L=Math.max((window.screen.availHeight-k)/2,0).toString(),te=Math.max((window.screen.availWidth-C)/2,0).toString();let fe="";const qe=Object.assign(Object.assign({},x),{width:C.toString(),height:k.toString(),top:L,left:te}),tt=(0,G.z$)().toLowerCase();v&&(fe=O(tt)?z:v),B(tt)&&(p=p||Q,qe.scrollbars="yes");const wt=Object.entries(qe).reduce((Nr,[Rs,ou])=>`${Nr}${Rs}=${ou},`,"");if(function Rt(w=(0,G.z$)()){var p;return It(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(tt)&&"_self"!==fe)return function Je(w,p){const v=document.createElement("a");v.href=w,v.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(C)}(p||"",fe),new ee(null);const Kt=window.open(p||"",fe,wt);de(Kt,w,"popup-blocked");try{Kt.focus()}catch{}return new ee(Kt)}(p,fe,Bo())})()}_openRedirect(p,v,C,k){var L=this;return(0,s.Z)(function*(){return yield L._originValidation(p),function Ts(w){_i().location.href=w}(yield Ut(p,v,C,ut(),k)),new Promise(()=>{})})()}_initialize(p){const v=p._key();if(this.eventManagers[v]){const{manager:k,promise:L}=this.eventManagers[v];return k?Promise.resolve(k):(Mt(L,"If manager is not set, promise should be"),L)}const C=this.initAndGetManager(p);return this.eventManagers[v]={promise:C},C.catch(()=>{delete this.eventManagers[v]}),C}initAndGetManager(p){var v=this;return(0,s.Z)(function*(){const C=yield function Hm(w){return ni.apply(this,arguments)}(p),k=new Lh(p);return C.register("authEvent",L=>(de(L?.authEvent,p,"invalid-auth-event"),{status:k.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[p._key()]={manager:k},v.iframes[p._key()]=C,k})()}_isIframeWebStorageSupported(p,v){this.iframes[p._key()].send(sa,{type:sa},k=>{var L;const te=null===(L=k?.[0])||void 0===L?void 0:L[sa];void 0!==te&&v(!!te),Me(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const v=p._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Uh(w){return zl.apply(this,arguments)}(p)),this.originValidationPromises[v]}get _shouldInitProactively(){return Wt()||V()||It()}};class Fr{constructor(p){this.factorId=p}_process(p,v,C){switch(v.type){case"enroll":return this._finalizeEnroll(p,v.credential,C);case"signin":return this._finalizeSignIn(p,v.credential);default:return ot("unexpected MultiFactorSessionType")}}}class no extends Fr{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new no(p)}_finalizeEnroll(p,v,C){return function Ba(w,p){return Re(w,"POST","/v2/accounts/mfaEnrollment:finalize",oe(w,p))}(p,{idToken:v,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,v){return function ea(w,p){return Re(w,"POST","/v2/accounts/mfaSignIn:finalize",oe(w,p))}(p,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Vo=(()=>{class w{constructor(){}static assertion(v){return no._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var ru="@firebase/auth";class Uo{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var v=this;return(0,s.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const v=this.auth.onIdTokenChanged(C=>{p(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,v),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const v=this.internalListeners.get(p);v&&(this.internalListeners.delete(p),v(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const zm=(0,G.Pz)("authIdTokenMaxAge")||300;let $g=null;const Sy=w=>function(){var p=(0,s.Z)(function*(v){const C=v&&(yield v.getIdTokenResult()),k=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(k&&k>zm)return;const L=C?.token;$g!==L&&($g=L,yield fetch(w,{method:L?"POST":"DELETE",headers:L?{Authorization:`Bearer ${L}`}:{}}))});return function(v){return p.apply(this,arguments)}}();function Za(w=(0,N.getApp)()){const p=(0,N._getProvider)(w,"auth");if(p.isInitialized())return p.getImmediate();const v=function zi(w,p){const v=(0,N._getProvider)(w,"auth");if(v.isInitialized()){const k=v.getImmediate(),L=v.getOptions();if((0,G.vZ)(L,p??{}))return k;Me(k,"already-initialized")}return v.initialize({options:p})}(w,{popupRedirectResolver:qa,persistence:[jd,Rc,xr]}),C=(0,G.Pz)("authTokenSyncURL");if(C){const L=Sy(C);(function La(w,p,v){(0,G.m9)(w).beforeAuthStateChanged(p,v)})(v,L,()=>L(v.currentUser)),function Mc(w,p,v,C){(0,G.m9)(w).onIdTokenChanged(p,v,C)}(v,te=>L(te))}const k=(0,G.q4)("auth");return k&&ci(v,`http://${k}`),v}!function jg(w){(0,N._registerComponent)(new re.wA("auth",(p,{options:v})=>{const C=p.getProvider("app").getImmediate(),k=p.getProvider("heartbeat"),L=p.getProvider("app-check-internal"),{apiKey:te,authDomain:fe}=C.options;de(te&&!te.includes(":"),"invalid-api-key",{appName:C.name});const qe={apiKey:te,authDomain:fe,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ko(w)},tt=new qn(C,k,L,qe);return function go(w,p){const v=p?.persistence||[],C=(Array.isArray(v)?v:[v]).map(mi);p?.errorMap&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(C,p?.popupRedirectResolver)}(tt,v),tt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,v,C)=>{p.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new re.wA("auth-internal",p=>{const v=Tn(p.getProvider("auth").getImmediate());return new Uo(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(ru,"0.23.2",function Wr(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,N.registerVersion)(ru,"0.23.2","esm2017")}("Browser")},2090:(xt,Ae,j)=>{j.d(Ae,{$s:()=>mi,BH:()=>Ne,DV:()=>bi,Dv:()=>Xn,G6:()=>Oo,GJ:()=>Wn,L:()=>xe,LL:()=>He,P0:()=>ze,Pz:()=>Ie,Sg:()=>We,UG:()=>ot,UI:()=>si,US:()=>re,Wj:()=>Ti,Wl:()=>Dt,Yr:()=>Ar,ZB:()=>ne,ZR:()=>Re,aH:()=>Me,b$:()=>Qt,cI:()=>vn,dS:()=>Hr,eu:()=>ge,g5:()=>N,gK:()=>gr,gQ:()=>yn,h$:()=>be,hl:()=>he,hu:()=>G,jU:()=>Mt,lb:()=>Jt,m9:()=>vr,ne:()=>Xt,p$:()=>Y,pd:()=>pr,q4:()=>Le,r3:()=>Qn,ru:()=>ut,tV:()=>K,uI:()=>de,ug:()=>rn,vZ:()=>vt,w1:()=>Yo,w9:()=>yi,xO:()=>ui,xb:()=>Ur,z$:()=>Ve,zI:()=>ye,zd:()=>or});const s={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},G=function(q,W){if(!q)throw N(W)},N=function(q){return new Error("Firebase Database ("+s.SDK_VERSION+") INTERNAL ASSERT FAILED: "+q)},se=function(q){const W=[];let B=0;for(let V=0;V<q.length;V++){let O=q.charCodeAt(V);O<128?W[B++]=O:O<2048?(W[B++]=O>>6|192,W[B++]=63&O|128):55296==(64512&O)&&V+1<q.length&&56320==(64512&q.charCodeAt(V+1))?(O=65536+((1023&O)<<10)+(1023&q.charCodeAt(++V)),W[B++]=O>>18|240,W[B++]=O>>12&63|128,W[B++]=O>>6&63|128,W[B++]=63&O|128):(W[B++]=O>>12|224,W[B++]=O>>6&63|128,W[B++]=63&O|128)}return W},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,W){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let O=0;O<q.length;O+=3){const X=q[O],Ee=O+1<q.length,st=Ee?q[O+1]:0,At=O+2<q.length,It=At?q[O+2]:0;let Fn=(15&st)<<2|It>>6,Wt=63&It;At||(Wt=64,Ee||(Fn=64)),V.push(B[X>>2],B[(3&X)<<4|st>>4],B[Fn],B[Wt])}return V.join("")},encodeString(q,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(q):this.encodeByteArray(se(q),W)},decodeString(q,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(q):function(q){const W=[];let B=0,V=0;for(;B<q.length;){const O=q[B++];if(O<128)W[V++]=String.fromCharCode(O);else if(O>191&&O<224){const X=q[B++];W[V++]=String.fromCharCode((31&O)<<6|63&X)}else if(O>239&&O<365){const At=((7&O)<<18|(63&q[B++])<<12|(63&q[B++])<<6|63&q[B++])-65536;W[V++]=String.fromCharCode(55296+(At>>10)),W[V++]=String.fromCharCode(56320+(1023&At))}else{const X=q[B++],Ee=q[B++];W[V++]=String.fromCharCode((15&O)<<12|(63&X)<<6|63&Ee)}}return W.join("")}(this.decodeStringToByteArray(q,W))},decodeStringToByteArray(q,W){this.init_();const B=W?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let O=0;O<q.length;){const X=B[q.charAt(O++)],st=O<q.length?B[q.charAt(O)]:0;++O;const It=O<q.length?B[q.charAt(O)]:64;++O;const Rt=O<q.length?B[q.charAt(O)]:64;if(++O,null==X||null==st||null==It||null==Rt)throw new De;V.push(X<<2|st>>4),64!==It&&(V.push(st<<4&240|It>>2),64!==Rt&&V.push(It<<6&192|Rt))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const be=function(q){const W=se(q);return re.encodeByteArray(W,!0)},xe=function(q){return be(q).replace(/\./g,"")},K=function(q){try{return re.decodeString(q,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function Y(q){return ne(void 0,q)}function ne(q,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return W}for(const B in W)!W.hasOwnProperty(B)||!Ge(B)||(q[B]=ne(q[B],W[B]));return q}function Ge(q){return"__proto__"!==q}const Fe=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const W=q&&K(q[1]);return W&&JSON.parse(W)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},Le=q=>{var W,B;return null===(B=null===(W=Fe())||void 0===W?void 0:W.emulatorHosts)||void 0===B?void 0:B[q]},ze=q=>{const W=Le(q);if(!W)return;const B=W.lastIndexOf(":");if(B<=0||B+1===W.length)throw new Error(`Invalid host ${W} with no separate hostname and port!`);const V=parseInt(W.substring(B+1),10);return"["===W[0]?[W.substring(1,B-1),V]:[W.substring(0,B),V]},Me=()=>{var q;return null===(q=Fe())||void 0===q?void 0:q.config},Ie=q=>{var W;return null===(W=Fe())||void 0===W?void 0:W[`_${q}`]};class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,B)=>{this.resolve=W,this.reject=B})}wrapCallback(W){return(B,V)=>{B?this.reject(B):this.resolve(V),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(B):W(B,V))}}}function We(q,W){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=W||"demo-project",O=q.iat||0,X=q.sub||q.user_id;if(!X)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ee=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:O,exp:O+3600,auth_time:O,sub:X,user_id:X,firebase:{sign_in_provider:"custom",identities:{}}},q);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(Ee)),""].join(".")}function Ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function ot(){var q;const W=null===(q=Fe())||void 0===q?void 0:q.forceEnvironment;if("node"===W)return!0;if("browser"===W)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Mt(){return"object"==typeof self&&self.self===self}function ut(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Yo(){const q=Ve();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Ar(){return!0===s.NODE_CLIENT||!0===s.NODE_ADMIN}function Oo(){return!ot()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){try{return"object"==typeof indexedDB}catch{return!1}}function ge(){return new Promise((q,W)=>{try{let B=!0;const V="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(V);O.onsuccess=()=>{O.result.close(),B||self.indexedDB.deleteDatabase(V),q(!0)},O.onupgradeneeded=()=>{B=!1},O.onerror=()=>{var X;W((null===(X=O.error)||void 0===X?void 0:X.message)||"")}}catch(B){W(B)}})}function ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Re extends Error{constructor(W,B,V){super(B),this.code=W,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,He.prototype.create)}}class He{constructor(W,B,V){this.service=W,this.serviceName=B,this.errors=V}create(W,...B){const V=B[0]||{},O=`${this.service}/${W}`,X=this.errors[W],Ee=X?function ht(q,W){return q.replace(ft,(B,V)=>{const O=W[V];return null!=O?String(O):`<${V}?>`})}(X,V):"Error";return new Re(O,`${this.serviceName}: ${Ee} (${O}).`,V)}}const ft=/\{\$([^}]+)}/g;function vn(q){return JSON.parse(q)}function Dt(q){return JSON.stringify(q)}const un=function(q){let W={},B={},V={},O="";try{const X=q.split(".");W=vn(K(X[0])||""),B=vn(K(X[1])||""),O=X[2],V=B.d||{},delete B.d}catch{}return{header:W,claims:B,data:V,signature:O}},yi=function(q){const B=un(q).claims;return!!B&&"object"==typeof B&&B.hasOwnProperty("iat")},Wn=function(q){const W=un(q).claims;return"object"==typeof W&&!0===W.admin};function Qn(q,W){return Object.prototype.hasOwnProperty.call(q,W)}function bi(q,W){if(Object.prototype.hasOwnProperty.call(q,W))return q[W]}function Ur(q){for(const W in q)if(Object.prototype.hasOwnProperty.call(q,W))return!1;return!0}function si(q,W,B){const V={};for(const O in q)Object.prototype.hasOwnProperty.call(q,O)&&(V[O]=W.call(B,q[O],O,q));return V}function vt(q,W){if(q===W)return!0;const B=Object.keys(q),V=Object.keys(W);for(const O of B){if(!V.includes(O))return!1;const X=q[O],Ee=W[O];if(ai(X)&&ai(Ee)){if(!vt(X,Ee))return!1}else if(X!==Ee)return!1}for(const O of V)if(!B.includes(O))return!1;return!0}function ai(q){return null!==q&&"object"==typeof q}function ui(q){const W=[];for(const[B,V]of Object.entries(q))Array.isArray(V)?V.forEach(O=>{W.push(encodeURIComponent(B)+"="+encodeURIComponent(O))}):W.push(encodeURIComponent(B)+"="+encodeURIComponent(V));return W.length?"&"+W.join("&"):""}function or(q){const W={};return q.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[O,X]=V.split("=");W[decodeURIComponent(O)]=decodeURIComponent(X)}}),W}function pr(q){const W=q.indexOf("?");if(!W)return"";const B=q.indexOf("#",W);return q.substring(W,B>0?B:void 0)}class yn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(W,B){B||(B=0);const V=this.W_;if("string"==typeof W)for(let Rt=0;Rt<16;Rt++)V[Rt]=W.charCodeAt(B)<<24|W.charCodeAt(B+1)<<16|W.charCodeAt(B+2)<<8|W.charCodeAt(B+3),B+=4;else for(let Rt=0;Rt<16;Rt++)V[Rt]=W[B]<<24|W[B+1]<<16|W[B+2]<<8|W[B+3],B+=4;for(let Rt=16;Rt<80;Rt++){const Fn=V[Rt-3]^V[Rt-8]^V[Rt-14]^V[Rt-16];V[Rt]=4294967295&(Fn<<1|Fn>>>31)}let It,en,O=this.chain_[0],X=this.chain_[1],Ee=this.chain_[2],st=this.chain_[3],At=this.chain_[4];for(let Rt=0;Rt<80;Rt++){Rt<40?Rt<20?(It=st^X&(Ee^st),en=1518500249):(It=X^Ee^st,en=1859775393):Rt<60?(It=X&Ee|st&(X|Ee),en=2400959708):(It=X^Ee^st,en=3395469782);const Fn=(O<<5|O>>>27)+It+At+en+V[Rt]&4294967295;At=st,st=Ee,Ee=4294967295&(X<<30|X>>>2),X=O,O=Fn}this.chain_[0]=this.chain_[0]+O&4294967295,this.chain_[1]=this.chain_[1]+X&4294967295,this.chain_[2]=this.chain_[2]+Ee&4294967295,this.chain_[3]=this.chain_[3]+st&4294967295,this.chain_[4]=this.chain_[4]+At&4294967295}update(W,B){if(null==W)return;void 0===B&&(B=W.length);const V=B-this.blockSize;let O=0;const X=this.buf_;let Ee=this.inbuf_;for(;O<B;){if(0===Ee)for(;O<=V;)this.compress_(W,O),O+=this.blockSize;if("string"==typeof W){for(;O<B;)if(X[Ee]=W.charCodeAt(O),++Ee,++O,Ee===this.blockSize){this.compress_(X),Ee=0;break}}else for(;O<B;)if(X[Ee]=W[O],++Ee,++O,Ee===this.blockSize){this.compress_(X),Ee=0;break}}this.inbuf_=Ee,this.total_+=B}digest(){const W=[];let B=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let O=this.blockSize-1;O>=56;O--)this.buf_[O]=255&B,B/=256;this.compress_(this.buf_);let V=0;for(let O=0;O<5;O++)for(let X=24;X>=0;X-=8)W[V]=this.chain_[O]>>X&255,++V;return W}}function Xt(q,W){const B=new pt(q,W);return B.subscribe.bind(B)}class pt{constructor(W,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{W(this)}).catch(V=>{this.error(V)})}next(W){this.forEachObserver(B=>{B.next(W)})}error(W){this.forEachObserver(B=>{B.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,B,V){let O;if(void 0===W&&void 0===B&&void 0===V)throw new Error("Missing Observer.");O=function hi(q,W){if("object"!=typeof q||null===q)return!1;for(const B of W)if(B in q&&"function"==typeof q[B])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:B,complete:V},void 0===O.next&&(O.next=Ki),void 0===O.error&&(O.error=Ki),void 0===O.complete&&(O.complete=Ki);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),X}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,W)}sendOne(W,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{B(this.observers[W])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ki(){}const Xn=function(q,W,B,V){let O;if(V<W?O="at least "+W:V>B&&(O=0===B?"none":"no more than "+B),O)throw new Error(q+" failed: Was called with "+V+(1===V?" argument.":" arguments.")+" Expects "+O+".")};function gr(q,W){return`${q} failed: ${W} argument `}function Ti(q,W,B,V){if((!V||B)&&"function"!=typeof B)throw new Error(gr(q,W)+"must be a valid function.")}function Jt(q,W,B,V){if((!V||B)&&("object"!=typeof B||null===B))throw new Error(gr(q,W)+"must be a valid context object.")}const Hr=function(q){const W=[];let B=0;for(let V=0;V<q.length;V++){let O=q.charCodeAt(V);if(O>=55296&&O<=56319){const X=O-55296;V++,G(V<q.length,"Surrogate pair missing trail surrogate."),O=65536+(X<<10)+(q.charCodeAt(V)-56320)}O<128?W[B++]=O:O<2048?(W[B++]=O>>6|192,W[B++]=63&O|128):O<65536?(W[B++]=O>>12|224,W[B++]=O>>6&63|128,W[B++]=63&O|128):(W[B++]=O>>18|240,W[B++]=O>>12&63|128,W[B++]=O>>6&63|128,W[B++]=63&O|128)}return W},rn=function(q){let W=0;for(let B=0;B<q.length;B++){const V=q.charCodeAt(B);V<128?W++:V<2048?W+=2:V>=55296&&V<=56319?(W+=4,B++):W+=3}return W},Gt=1e3,fi=2,Jn=144e5,Qi=.5;function mi(q,W=Gt,B=fi){const V=W*Math.pow(B,q),O=Math.round(Qi*V*(Math.random()-.5)*2);return Math.min(Jn,V+O)}function vr(q){return q&&q._delegate?q._delegate:q}},5256:(xt,Ae,j)=>{var s=j(4650);let G=null;function N(){return G}class ue{}const re=new s.OlP("DocumentToken");let De=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function be(){return(0,s.LFG)(K)}()},providedIn:"platform"}),n})();const xe=new s.OlP("Location Initialized");let K=(()=>{class n extends De{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){Y()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){Y()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ne(){return new K((0,s.LFG)(re))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function Ge(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ke(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Xe(n){return n&&"?"!==n[0]?"?"+n:n}let dt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Fe)},providedIn:"root"}),n})();const we=new s.OlP("appBaseHref");let Fe=(()=>{class n extends dt{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ge(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Xe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const l=this.prepareExternalUrl(r+Xe(o));this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,o){const l=this.prepareExternalUrl(r+Xe(o));this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(De),s.LFG(we,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Le=(()=>{class n extends dt{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ge(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let l=this.prepareExternalUrl(r+Xe(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,o){let l=this.prepareExternalUrl(r+Xe(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(De),s.LFG(we,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function We(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(ke(Ne(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Xe(i))}normalize(e){return n.stripTrailingSlash(function Ie(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Ne(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xe(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Xe,n.joinWithSlash=Ge,n.stripTrailingSlash=ke,n.\u0275fac=function(e){return new(e||n)(s.LFG(dt))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Me(){return new ze((0,s.LFG)(dt))}()},providedIn:"root"}),n})();function Ne(n){return n.replace(/\/index.html$/,"")}function ps(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const ji=/\s+/,it=[];let qt=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=it,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(ji):it}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(ji):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(ji).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class zi{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let go=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new zi(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,l),ci(u,r)}});for(let r=0,o=i.length;r<o;r++){const u=i.get(r).context;u.index=r,u.count=o,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ci(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ci(n,t){n.context.$implicit=t.item}let wi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Yt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){gc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){gc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Yt{constructor(){this.$implicit=null,this.ngIf=null}}function gc(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class Qr{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ia=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Qo=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Qr(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(Ia,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Si=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:l}=this;this._viewRef=i.createEmbeddedView(r,o,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();class Ed{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class yl{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Sa=new yl,_s=new Ed;let yr=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return Sa;if((0,s.F4k)(e))return _s;throw function Xr(n,t){return new s.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),In=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const xm="browser",Ma="server";function Aa(n){return n===Ma}let vc=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Em((0,s.LFG)(re),window)}),n})();class Em{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Dd(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const l=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ws(this.window.history)||ws(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ws(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class sh{}class wh extends ue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Mc extends wh{static makeCurrent(){!function se(n){G||(G=n)}(new Mc)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Sl(){return La=La||document.querySelector("base"),La?La.getAttribute("href"):null}();return null==e?null:function Ug(n){ts=ts||document.createElement("a"),ts.setAttribute("href",n);const t=ts.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){La=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ps(document.cookie,t)}}let ts,La=null;const Im=new s.OlP("TRANSITION_ID"),xh=[{provide:s.ip1,useFactory:function Ac(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=N(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Im,re,s.zs3],multi:!0}];let Fd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ml=new s.OlP("EventManagerPlugins");let kc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const l=r[o];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ml),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ba{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=N().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Ch=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let o=r.get(e)??0;return o+=i,o>0?r.set(e,o):r.delete(e),o}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ds=(()=>{class n extends Ch{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(o=>o.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ks={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Va=/%COMP%/g,Rl=new s.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Rc(n,t){return t.flat(100).map(e=>e.replace(Va,n))}function Bd(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let xr=(()=>{class n{constructor(e,i,r,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Eh(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof Oc?r.applyToHost(e):r instanceof Ts&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const l=this.eventManager,u=this.sharedStylesHost,m=this.removeStylesOnCompDestory;switch(i.encapsulation){case s.ifc.Emulated:o=new Oc(l,u,i,this.appId,m);break;case s.ifc.ShadowDom:return new _i(l,u,e,i);default:o=new Ts(l,u,i,m)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kc),s.LFG(Ds),s.LFG(s.AFp),s.LFG(Rl))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Eh{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ks[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Dh(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Dh(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Ks[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ks[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Bd(i)):this.eventManager.addEventListener(t,e,Bd(i))}}function Dh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class _i extends Eh{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Rc(r.id,r.styles);for(const l of o){const u=document.createElement("style");u.textContent=l,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ts extends Eh{constructor(t,e,i,r,o=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=Rc(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Oc extends Ts{constructor(t,e,i,r,o){const l=r+"-"+i.id;super(t,e,i,o,l),this.contentAttr=function Sm(n){return"_ngcontent-%COMP%".replace(Va,n)}(l),this.hostAttr=function Ld(n){return"_nghost-%COMP%".replace(Va,n)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Th=(()=>{class n extends Ba{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ol=["alt","control","meta","shift"],Ih={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ai=(()=>{class n extends Ba{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),l=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,o.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let l="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),l="code."),Ol.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),l+=_+".")}),l+=o,0!=i.length||0===o.length)return null;const m={};return m.domEventName=r,m.fullKey=l,m}static matchEventFullKeyCode(e,i){let r=Ih[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ol.forEach(l=>{l!==r&&(0,Pc[l])(e)&&(o+=l+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Am=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:xm},{provide:s.g9A,useValue:function ja(){Mc.makeCurrent()},multi:!0},{provide:re,useFactory:function Hd(){return(0,s.RDi)(document),document},deps:[]}]),Xs=new s.OlP(""),Pl=[{provide:s.rWj,useClass:class ns{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,l=!1;const u=function(m){l=l||m,o--,0==o&&i(l)};r.forEach(function(m){m.whenStable(u)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Js=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Ud(){return new s.qLn},deps:[]},{provide:Ml,useClass:Th,multi:!0,deps:[re,s.R0b,s.Lbi]},{provide:Ml,useClass:Ai,multi:!0,deps:[re]},{provide:xr,useClass:xr,deps:[kc,Ds,s.AFp,Rl]},{provide:s.FYo,useExisting:xr},{provide:Ch,useExisting:Ds},{provide:Ds,useClass:Ds,deps:[re]},{provide:kc,useClass:kc,deps:[Ml,s.R0b]},{provide:sh,useClass:Fd,deps:[]},[]];let Ms=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:Im,useExisting:s.AFp},xh]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xs,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...Js,...Pl],imports:[In,s.hGG]}),n})(),km=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function ea(){return new km((0,s.LFG)(re))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let $a=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Vc),i},providedIn:"root"}),n})(),Vc=(()=>{class n extends $a{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${s.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${s.JZr})`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Nl(n){return new Vc(n.get(re))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var $r=j(3269),jt=j(8996);function je(...n){const t=(0,$r.yG)(n);return(0,jt.D)(n,t)}var Yn=j(9751),Nn=j(5577),Gr=j(576);function is(n,t){return(0,Gr.m)(t)?(0,Nn.z)(n,t,1):(0,Nn.z)(n,1)}var Ln=j(4482),Bn=j(5403);function hn(n,t){return(0,Ln.e)((e,i)=>{let r=0;e.subscribe((0,Bn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var Oe=j(4004);class vo{}class Ll{}class Cr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),l=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(o=>o.toString()),r.length>0){const o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Cr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Cr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Cr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let l=this.headers.get(e);if(!l)return;l=l.filter(u=>-1===o.indexOf(u)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ga{encodeKey(t){return Uc(t)}encodeValue(t){return Uc(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Rh=/%(\d[a-f0-9])/gi,yo={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Uc(n){return encodeURIComponent(n).replace(Rh,(t,e)=>yo[e]??t)}function Hc(n){return`${n}`}class to{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ga,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Zd(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[l,u]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],m=e.get(l)||[];m.push(u),e.set(l,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Hc):[Hc(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new to({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Hc(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Hc(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class na{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Oh(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ph(n){return typeof Blob<"u"&&n instanceof Blob}function Yd(n){return typeof FormData<"u"&&n instanceof FormData}class Bl{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function jc(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Cr),this.context||(this.context=new na),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+l}}else this.params=new to,this.urlWithParams=e}serializeBody(){return null===this.body?null:Oh(this.body)||Ph(this.body)||Yd(this.body)||function Fh(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof to?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Yd(this.body)?null:Ph(this.body)?this.body.type||null:Oh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof to?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let m=t.headers||this.headers,_=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(m=Object.keys(t.setHeaders).reduce((D,R)=>D.set(R,t.setHeaders[R]),m)),t.setParams&&(_=Object.keys(t.setParams).reduce((D,R)=>D.set(R,t.setParams[R]),_)),new Bl(e,i,o,{params:_,headers:m,context:b,reportProgress:u,responseType:r,withCredentials:l})}}var di=(()=>((di=di||{})[di.Sent=0]="Sent",di[di.UploadProgress=1]="UploadProgress",di[di.ResponseHeader=2]="ResponseHeader",di[di.DownloadProgress=3]="DownloadProgress",di[di.Response=4]="Response",di[di.User=5]="User",di))();class Kd{constructor(t,e=200,i="OK"){this.headers=t.headers||new Cr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Qd extends Kd{constructor(t={}){super(t),this.type=di.ResponseHeader}clone(t={}){return new Qd({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class rs extends Kd{constructor(t={}){super(t),this.type=di.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new rs({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Xd extends Kd{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Jd(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Vl=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Bl)o=e;else{let m,_;m=r.headers instanceof Cr?r.headers:new Cr(r.headers),r.params&&(_=r.params instanceof to?r.params:new to({fromObject:r.params})),o=new Bl(e,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=je(o).pipe(is(m=>this.handler.handle(m)));if(e instanceof Bl||"events"===r.observe)return l;const u=l.pipe(hn(m=>m instanceof rs));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe((0,Oe.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return u.pipe((0,Oe.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return u.pipe((0,Oe.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return u.pipe((0,Oe.U)(m=>m.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new to).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Jd(r,i))}post(e,i,r={}){return this.request("POST",e,Jd(r,i))}put(e,i,r={}){return this.request("PUT",e,Jd(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vo))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Nm(n,t){return t(n)}function Ul(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const zc=new s.OlP("HTTP_INTERCEPTORS"),ia=new s.OlP("HTTP_INTERCEPTOR_FNS");function Hl(){let n=null;return(t,e)=>(null===n&&(n=((0,s.f3M)(zc,{optional:!0})??[]).reduceRight(Ul,Nm)),n(t,e))}let eu=(()=>{class n extends vo{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(ia)));this.chain=i.reduceRight((r,o)=>function Nh(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(r,o,this.injector),Nm)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ll),s.LFG(s.lqb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ra=/^\)\]\}',?\n/;let bo=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Yn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((F,$)=>r.setRequestHeader(F,$.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const F=e.detectContentTypeHeader();null!==F&&r.setRequestHeader("Content-Type",F)}if(e.responseType){const F=e.responseType.toLowerCase();r.responseType="json"!==F?F:"text"}const o=e.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const F=r.statusText||"OK",$=new Cr(r.getAllResponseHeaders()),Z=function $c(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return l=new Qd({headers:$,status:r.status,statusText:F,url:Z}),l},m=()=>{let{headers:F,status:$,statusText:Z,url:ie}=u(),Se=null;204!==$&&(Se=typeof r.response>"u"?r.responseText:r.response),0===$&&($=Se?200:0);let Ye=$>=200&&$<300;if("json"===e.responseType&&"string"==typeof Se){const Qe=Se;Se=Se.replace(ra,"");try{Se=""!==Se?JSON.parse(Se):null}catch(ct){Se=Qe,Ye&&(Ye=!1,Se={error:ct,text:Se})}}Ye?(i.next(new rs({body:Se,headers:F,status:$,statusText:Z,url:ie||void 0})),i.complete()):i.error(new Xd({error:Se,headers:F,status:$,statusText:Z,url:ie||void 0}))},_=F=>{const{url:$}=u(),Z=new Xd({error:F,status:r.status||0,statusText:r.statusText||"Unknown Error",url:$||void 0});i.error(Z)};let b=!1;const D=F=>{b||(i.next(u()),b=!0);let $={type:di.DownloadProgress,loaded:F.loaded};F.lengthComputable&&($.total=F.total),"text"===e.responseType&&r.responseText&&($.partialText=r.responseText),i.next($)},R=F=>{let $={type:di.UploadProgress,loaded:F.loaded};F.lengthComputable&&($.total=F.total),i.next($)};return r.addEventListener("load",m),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),e.reportProgress&&(r.addEventListener("progress",D),null!==o&&r.upload&&r.upload.addEventListener("progress",R)),r.send(o),i.next({type:di.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",m),r.removeEventListener("timeout",_),e.reportProgress&&(r.removeEventListener("progress",D),null!==o&&r.upload&&r.upload.removeEventListener("progress",R)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Wa=new s.OlP("XSRF_ENABLED"),Hh=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),nu=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Vm{}let jh=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ps(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re),s.LFG(s.Lbi),s.LFG(Hh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Um(n,t){const e=n.url.toLowerCase();if(!(0,s.f3M)(Wa)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,s.f3M)(Vm).getToken(),r=(0,s.f3M)(nu);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var ni=(()=>((ni=ni||{})[ni.Interceptors=0]="Interceptors",ni[ni.LegacyInterceptors=1]="LegacyInterceptors",ni[ni.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ni[ni.NoXsrfProtection=3]="NoXsrfProtection",ni[ni.JsonpSupport=4]="JsonpSupport",ni[ni.RequestsMadeViaParent=5]="RequestsMadeViaParent",ni))();function x(n,t){return{\u0275kind:n,\u0275providers:t}}function T(...n){const t=[Vl,bo,eu,{provide:vo,useExisting:eu},{provide:Ll,useExisting:bo},{provide:ia,useValue:Um,multi:!0},{provide:Wa,useValue:!0},{provide:Vm,useClass:jh}];for(const e of n)t.push(...e.\u0275providers);return(0,s.MR2)(t)}const z=new s.OlP("LEGACY_INTERCEPTOR_FN");let Lt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[T(x(ni.LegacyInterceptors,[{provide:z,useFactory:Hl},{provide:ia,useExisting:z,multi:!0}]))]}),n})();const{isArray:tr}=Array,{getPrototypeOf:sa,prototype:iu,keys:qa}=Object;function Fr(n){if(1===n.length){const t=n[0];if(tr(t))return{args:t,keys:null};if(function no(n){return n&&"object"==typeof n&&sa(n)===iu}(t)){const e=qa(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Vo=j(8421);const{isArray:zh}=Array;function $h(n){return(0,Oe.U)(t=>function jm(n,t){return zh(t)?n(...t):n(t)}(n,t))}function $l(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function ru(...n){const t=(0,$r.jO)(n),{args:e,keys:i}=Fr(n),r=new Yn.y(o=>{const{length:l}=e;if(!l)return void o.complete();const u=new Array(l);let m=l,_=l;for(let b=0;b<l;b++){let D=!1;(0,Vo.Xf)(e[b]).subscribe((0,Bn.x)(o,R=>{D||(D=!0,_--),u[b]=R},()=>m--,void 0,()=>{(!m||!D)&&(_||o.next(i?$l(i,u):u),o.complete())}))}});return t?r.pipe($h(t)):r}let Gh=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Uo=(()=>{class n extends Gh{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Wr=new s.OlP("NgValueAccessor"),zm={provide:Wr,useExisting:(0,s.Gpc)(()=>Za),multi:!0},Sy=new s.OlP("CompositionEventMode");let Za=(()=>{class n extends Gh{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $g(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Sy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([zm]),s.qOj]}),n})();const w=!1;function p(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function v(n){return null!=n&&"number"==typeof n.length}const C=new s.OlP("NgValidators"),k=new s.OlP("NgAsyncValidators"),L=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class te{static min(t){return function fe(n){return t=>{if(p(t.value)||p(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function qe(n){return t=>{if(p(t.value)||p(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return tt(t)}static requiredTrue(t){return function wt(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Kt(n){return p(n.value)||L.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Nr(n){return t=>p(t.value)||!v(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Rs(n){return t=>v(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function ou(n){if(!n)return Wh;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(p(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return lu(t)}static composeAsync(t){return cu(t)}}function tt(n){return p(n.value)?{required:!0}:null}function Wh(n){return null}function Gl(n){return null!=n}function $m(n){const t=(0,s.QGY)(n)?(0,jt.D)(n):n;if(w&&!(0,s.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new s.vHH(-1101,e)}return t}function qh(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function su(n,t){return t.map(e=>e(n))}function au(n){return n.map(t=>function Gm(n){return!n.validate}(t)?t:e=>t.validate(e))}function lu(n){if(!n)return null;const t=n.filter(Gl);return 0==t.length?null:function(e){return qh(su(e,t))}}function Wl(n){return null!=n?lu(au(n)):null}function cu(n){if(!n)return null;const t=n.filter(Gl);return 0==t.length?null:function(e){return ru(su(e,t).map($m)).pipe((0,Oe.U)(qh))}}function Gc(n){return null!=n?cu(au(n)):null}function Zh(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Gg(n){return n._rawValidators}function Wg(n){return n._rawAsyncValidators}function du(n){return n?Array.isArray(n)?n:[n]:[]}function qg(n,t){return Array.isArray(n)?n.includes(t):n===t}function My(n,t){const e=du(t);return du(n).forEach(r=>{qg(e,r)||e.push(r)}),e}function uC(n,t){return du(t).filter(e=>!qg(n,e))}class hC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Wl(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Gc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class wo extends hC{get formDirective(){return null}get path(){return null}}class Ya extends hC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ay{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let aa=(()=>{class n extends Ay{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ya,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),Yh=(()=>{class n extends Ay{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wo,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();function pC(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const la=!1,Ka="VALID",Zg="INVALID",Qh="PENDING",qm="DISABLED";function Fy(n){return(Yg(n)?n.validators:n)||null}function Ny(n,t){return(Yg(t)?t.asyncValidators:n)||null}function Yg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function _C(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,la?function pM(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new s.vHH(1001,la?function gM(n,t){return`Cannot find form control ${pC(n,t)}`}(t,e):"")}function vC(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,la?function _M(n,t){return`Must supply a value for form control ${pC(n,t)}`}(t,r):"")})}class Kg{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ka}get invalid(){return this.status===Zg}get pending(){return this.status==Qh}get disabled(){return this.status===qm}get enabled(){return this.status!==qm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(My(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(My(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(uC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(uC(t,this._rawAsyncValidators))}hasValidator(t){return qg(this._rawValidators,t)}hasAsyncValidator(t){return qg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Qh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=qm,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ka,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ka||this.status===Qh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qm:Ka}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Qh,this._hasOwnPendingAsyncValidator=!0;const e=$m(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?qm:this.errors?Zg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qh)?Qh:this._anyControlsHaveStatus(Zg)?Zg:Ka}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Yg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function vM(n){return Array.isArray(n)?Wl(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function gC(n){return Array.isArray(n)?Gc(n):n||null}(this._rawAsyncValidators)}}class xo extends Kg{constructor(t,e,i){super(Fy(e),Ny(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){vC(this,!0,t),Object.keys(t).forEach(i=>{_C(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class Ly extends xo{}const uu=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>By}),By="always";function Vy(n,t){return[...t.path,n]}function Xg(n,t,e=By){yC(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function bM(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&bC(n,t)})}(n,t),function xM(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function wM(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&bC(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function ML(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Xh(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Zm(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Jh(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function yC(n,t){const e=Gg(n);null!==t.validator?n.setValidators(Zh(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Wg(n);null!==t.asyncValidator?n.setAsyncValidators(Zh(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Jh(t._rawValidators,r),Jh(t._rawAsyncValidators,r)}function Zm(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Gg(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(l=>l!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=Wg(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(l=>l!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Jh(t._rawValidators,i),Jh(t._rawAsyncValidators,i),e}function bC(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Uy(n,t){yC(n,t)}function $y(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const DM={provide:wo,useExisting:(0,s.Gpc)(()=>Wy)},ef=(()=>Promise.resolve())();let Wy=(()=>{class n extends wo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new xo({},Wl(e),Gc(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ef.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Xg(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ef.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ef.then(()=>{const i=this._findContainer(e.path),r=new xo({});Uy(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ef.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){ef.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,$y(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(C,10),s.Y36(k,10),s.Y36(uu,8))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([DM]),s.qOj]}),n})();function TM(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function tf(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ii=class extends Kg{constructor(t=null,e,i){super(Fy(e),Ny(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=tf(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){TM(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){TM(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){tf(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let qy=(()=>{class n extends wo{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Vy(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),hu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const EC={provide:Wr,useExisting:(0,s.Gpc)(()=>ql),multi:!0};let ql=(()=>{class n extends Uo{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([EC]),s.qOj]}),n})(),Ym=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const i_=new s.OlP("NgModelWithFormControlWarning"),OM={provide:wo,useExisting:(0,s.Gpc)(()=>Qa)};let Qa=(()=>{class n extends wo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Xg(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Xh(e.control||null,e,!1),function EM(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,$y(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Xh(i||null,e),(n=>n instanceof ii)(r)&&(Xg(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Uy(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Jg(n,t){return Zm(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yC(this.form,this),this._oldForm&&Zm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(C,10),s.Y36(k,10),s.Y36(uu,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([OM]),s.qOj,s.TTD]}),n})();const nf={provide:wo,useExisting:(0,s.Gpc)(()=>Km)};let Km=(()=>{class n extends qy{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){r_(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wo,13),s.Y36(C,10),s.Y36(k,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[s._Bn([nf]),s.qOj]}),n})();const PM={provide:wo,useExisting:(0,s.Gpc)(()=>Qm)};let Qm=(()=>{class n extends wo{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Vy(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){r_(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wo,13),s.Y36(C,10),s.Y36(k,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[s._Bn([PM]),s.qOj]}),n})();function r_(n){return!(n instanceof Km||n instanceof Qa||n instanceof Qm)}const FM={provide:Ya,useExisting:(0,s.Gpc)(()=>Zc)};let Zc=(()=>{class n extends Ya{set isDisabled(e){}constructor(e,i,r,o,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Gy(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Za?e=o:function wC(n){return Object.getPrototypeOf(n.constructor)===Uo}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){this._added||this._setUpControl(),function zy(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Vy(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(wo,13),s.Y36(C,10),s.Y36(k,10),s.Y36(Wr,10),s.Y36(i_,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([FM]),s.qOj,s.TTD]}),n})();const NM={provide:Wr,useExisting:(0,s.Gpc)(()=>o_),multi:!0};function Qy(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let o_=(()=>{class n extends Uo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=Qy(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function PL(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([NM]),s.qOj]}),n})(),rf=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Qy(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(o_,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const LM={provide:Wr,useExisting:(0,s.Gpc)(()=>s_),multi:!0};function fu(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let s_=(()=>{class n extends Uo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,l)=>{o._setSelected(r.indexOf(l.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const l=o;for(let u=0;u<l.length;u++){const _=this._getOptionValue(l[u].value);r.push(_)}}else{const l=i.options;for(let u=0;u<l.length;u++){const m=l[u];if(m.selected){const _=this._getOptionValue(m.value);r.push(_)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Xm(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([LM]),s.qOj]}),n})(),IC=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(fu(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(fu(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s_,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Yc=(()=>{class n{constructor(){this._validator=Wh}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Wh,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const Jy={provide:C,useExisting:(0,s.Gpc)(()=>ep),multi:!0};let ep=(()=>{class n extends Yc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=e=>tt}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([Jy]),s.qOj]}),n})(),NC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ym]}),n})();class l_ extends Kg{constructor(t,e,i){super(Fy(e),Ny(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){vC(this,!1,t),t.forEach((i,r)=>{_C(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function LC(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let eb=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return LC(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new xo(r,o)}record(e,i=null){const r=this._reduceControls(e);return new Ly(r,i)}control(e,i,r){let o={};return this.useNonNullable?(LC(i)?o=i:(o.validators=i,o.asyncValidators=r),new ii(e,{...o,nonNullable:!0})):new ii(e,i,r)}array(e,i,r){const o=e.map(l=>this._createControl(l));return new l_(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof ii||e instanceof Kg?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yl=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:i_,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:uu,useValue:e.callSetDisabledState??By}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[NC]}),n})();var tp=j(8189);function np(...n){return function zM(){return(0,tp.J)(1)}()((0,jt.D)(n,(0,$r.yG)(n)))}function Er(...n){const t=(0,$r.yG)(n);return(0,Ln.e)((e,i)=>{(t?np(n,e,t):np(n,e)).subscribe(i)})}var et=j(7579);class Gi extends et.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const c_=(0,j(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var zt=j(4671),BC=j(9672);function ip(...n){const t=(0,$r.yG)(n),e=(0,$r.jO)(n),{args:i,keys:r}=Fr(n);if(0===i.length)return(0,jt.D)([],t);const o=new Yn.y(function VC(n,t,e=zt.y){return i=>{UC(t,()=>{const{length:r}=n,o=new Array(r);let l=r,u=r;for(let m=0;m<r;m++)UC(t,()=>{const _=(0,jt.D)(n[m],t);let b=!1;_.subscribe((0,Bn.x)(i,D=>{o[m]=D,b||(b=!0,u--),u||i.next(e(o.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,t,r?l=>$l(r,l):zt.y));return e?o.pipe($h(e)):o}function UC(n,t,e){n?(0,BC.f)(e,n,t):t()}function rp(n){return new Yn.y(t=>{(0,Vo.Xf)(n()).subscribe(t)})}var tb=j(9635);function pu(n,t){const e=(0,Gr.m)(n)?n:()=>n,i=r=>r.error(e());return new Yn.y(t?r=>t.schedule(i,0,r):i)}var Os=j(515),Lr=j(727);function nb(){return(0,Ln.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Bn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class HC extends Yn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Ln.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Lr.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Bn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Lr.w0.EMPTY)}return t}refCount(){return nb()(this)}}function tn(n,t){return(0,Ln.e)((e,i)=>{let r=null,o=0,l=!1;const u=()=>l&&!r&&i.complete();e.subscribe((0,Bn.x)(i,m=>{r?.unsubscribe();let _=0;const b=o++;(0,Vo.Xf)(n(m,b)).subscribe(r=(0,Bn.x)(i,D=>i.next(t?t(m,D,b,_++):D),()=>{r=null,u()}))},()=>{l=!0,u()}))})}function zn(n){return n<=0?()=>Os.E:(0,Ln.e)((t,e)=>{let i=0;t.subscribe((0,Bn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Ja(n){return(0,Ln.e)((t,e)=>{let i=!1;t.subscribe((0,Bn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function jC(n=ib){return(0,Ln.e)((t,e)=>{let i=!1;t.subscribe((0,Bn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function ib(){return new c_}function ca(n,t){const e=arguments.length>=2;return i=>i.pipe(n?hn((r,o)=>n(r,o,i)):zt.y,zn(1),e?Ja(t):jC(()=>new c_))}var Vn=j(8505);function Kl(n){return(0,Ln.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,Bn.x)(e,void 0,void 0,l=>{o=(0,Vo.Xf)(n(l,Kl(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function sf(n,t){return(0,Ln.e)(function UL(n,t,e,i,r){return(o,l)=>{let u=e,m=t,_=0;o.subscribe((0,Bn.x)(l,b=>{const D=_++;m=u?n(m,b,D):(u=!0,b),i&&l.next(m)},r&&(()=>{u&&l.next(m),l.complete()})))}}(n,t,arguments.length>=2,!0))}function rb(n){return n<=0?()=>Os.E:(0,Ln.e)((t,e)=>{let i=[];t.subscribe((0,Bn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function ob(n,t){const e=arguments.length>=2;return i=>i.pipe(n?hn((r,o)=>n(r,o,i)):zt.y,rb(1),e?Ja(t):jC(()=>new c_))}function d_(n){return(0,Oe.U)(()=>n)}function Ql(n){return(0,Ln.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const cn="primary",af=Symbol("RouteTitle");class u_{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function lf(n){return new u_(n)}function zC(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const l=i[o],u=n[o];if(l.startsWith(":"))r[l.substring(1)]=u;else if(l!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function el(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!$C(n[r],t[r]))return!1;return!0}function $C(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function GC(n){return Array.prototype.concat.apply([],n)}function WC(n){return n.length>0?n[n.length-1]:null}function qr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Xl(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,jt.D)(Promise.resolve(n)):je(n)}const op=!1,sb={exact:function YM(n,t,e){if(!Jl(n.segments,t.segments)||!sp(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!YM(n.children[i],t.children[i],e))return!1;return!0},subset:ab},qM={exact:function ZM(n,t){return el(n,t)},subset:function cf(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>$C(n[e],t[e]))},ignored:()=>!0};function h_(n,t,e){return sb[e.paths](n.root,t.root,e.matrixParams)&&qM[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function ab(n,t,e){return qC(n,t,t.segments,e)}function qC(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Jl(r,e)||t.hasChildren()||!sp(r,e,i))}if(n.segments.length===e.length){if(!Jl(n.segments,e)||!sp(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!ab(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Jl(n.segments,r)&&sp(n.segments,r,i)&&n.children[cn])&&qC(n.children[cn],t,o,i)}}function sp(n,t,e){return t.every((i,r)=>qM[e](n[r].parameters,i.parameters))}class Kc{constructor(t=new _n([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lf(this.queryParams)),this._queryParamMap}toString(){return ZC.serialize(this)}}class _n{constructor(t,e){this.segments=t,this.children=e,this.parent=null,qr(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hf(this)}}class Qc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=lf(this.parameters)),this._parameterMap}toString(){return YC(this)}}function Jl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let gu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new uf},providedIn:"root"}),n})();class uf{parse(t){const e=new ub(t);return new Kc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${_u(t.root,!0)}`,i=function QC(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${lp(e)}=${lp(r)}`).join("&"):`${lp(e)}=${lp(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function lb(n){return encodeURI(n)}(t.fragment)}`:""}`}}const ZC=new uf;function hf(n){return n.segments.map(t=>YC(t)).join("/")}function _u(n,t){if(!n.hasChildren())return hf(n);if(t){const e=n.children[cn]?_u(n.children[cn],!1):"",i=[];return qr(n.children,(r,o)=>{o!==cn&&i.push(`${o}:${_u(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function ap(n,t){let e=[];return qr(n.children,(i,r)=>{r===cn&&(e=e.concat(t(i,r)))}),qr(n.children,(i,r)=>{r!==cn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===cn?[_u(n.children[cn],!1)]:[`${r}:${_u(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[cn]?`${hf(n)}/${e[0]}`:`${hf(n)}/(${e.join("//")})`}}function f_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lp(n){return f_(n).replace(/%3B/gi,";")}function cb(n){return f_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function m_(n){return decodeURIComponent(n)}function db(n){return m_(n.replace(/\+/g,"%20"))}function YC(n){return`${cb(n.path)}${function KC(n){return Object.keys(n).map(t=>`;${cb(t)}=${cb(n[t])}`).join("")}(n.parameters)}`}const KM=/^[^\/()?;=#]+/;function p_(n){const t=n.match(KM);return t?t[0]:""}const os=/^[^=?&#]+/,XM=/^[^&#]+/;class ub{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _n([],{}):new _n([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[cn]=new _n(t,e)),i}parseSegment(){const t=p_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,op);return this.capture(t),new Qc(m_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=p_(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=p_(this.remaining);r&&(i=r,this.capture(i))}t[m_(e)]=m_(i)}parseQueryParam(t){const e=function QM(n){const t=n.match(os);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const l=function jL(n){const t=n.match(XM);return t?t[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=db(e),o=db(i);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=p_(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,op);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=cn);const l=this.parseChildren();e[o]=1===Object.keys(l).length?l[cn]:new _n([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,op)}}function g_(n){return n.segments.length>0?new _n([],{[cn]:n}):n}function __(n){const t={};for(const i of Object.keys(n.children)){const o=__(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function JM(n){if(1===n.numberOfChildren&&n.children[cn]){const t=n.children[cn];return new _n(n.segments.concat(t.segments),t.children)}return n}(new _n(n.segments,t))}function vu(n){return n instanceof Kc}const v_=!1;function eA(n,t,e,i,r){if(0===e.length)return ff(t.root,t.root,t.root,i,r);const o=function b_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new da(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const u={};return qr(o.outlets,(m,_)=>{u[_]="string"==typeof m?m.split("/"):m}),[...r,{outlets:u}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===l?(o.split("/").forEach((u,m)=>{0==m&&"."===u||(0==m&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,o]},[]);return new da(e,t,i)}(e);return o.toRoot()?ff(t.root,t.root,new _n([],{}),i,r):function l(m){const _=function eE(n,t,e,i){if(n.isAbsolute)return new mf(t.root,!0,0);if(-1===i)return new mf(e,e===t.root,0);return function tE(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,v_&&"Invalid number of '../'");r=i.segments.length}return new mf(i,!1,r-o)}(e,i+(cp(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,m),b=_.processChildren?Xc(_.segmentGroup,_.index,o.commands):hb(_.segmentGroup,_.index,o.commands);return ff(t.root,_.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function cp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function dp(n){return"object"==typeof n&&null!=n&&n.outlets}function ff(n,t,e,i,r){let l,o={};i&&qr(i,(m,_)=>{o[_]=Array.isArray(m)?m.map(b=>`${b}`):`${m}`}),l=n===t?e:JC(n,t,e);const u=g_(__(l));return new Kc(u,o,r)}function JC(n,t,e){const i={};return qr(n.children,(r,o)=>{i[o]=r===t?e:JC(r,t,e)}),new _n(n.segments,i)}class da{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&cp(i[0]))throw new s.vHH(4003,v_&&"Root segment cannot have matrix parameters");const r=i.find(dp);if(r&&r!==WC(i))throw new s.vHH(4004,v_&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mf{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function hb(n,t,e){if(n||(n=new _n([],{})),0===n.segments.length&&n.hasChildren())return Xc(n,t,e);const i=function iA(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const l=n.segments[r],u=e[i];if(dp(u))break;const m=`${u}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===m)break;if(m&&_&&"object"==typeof _&&void 0===_.outlets){if(!hp(m,_,l))return o;i+=2}else{if(!hp(m,{},l))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new _n(n.segments.slice(0,i.pathIndex),{});return o.children[cn]=new _n(n.segments.slice(i.pathIndex),n.children),Xc(o,0,r)}return i.match&&0===r.length?new _n(n.segments,{}):i.match&&!n.hasChildren()?fb(n,t,e):i.match?Xc(n,0,r):fb(n,t,e)}function Xc(n,t,e){if(0===e.length)return new _n(n.segments,{});{const i=function nA(n){return dp(n[0])?n[0].outlets:{[cn]:n}}(e),r={};if(!i[cn]&&n.children[cn]&&1===n.numberOfChildren&&0===n.children[cn].segments.length){const o=Xc(n.children[cn],t,e);return new _n(n.segments,o.children)}return qr(i,(o,l)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[l]=hb(n.children[l],t,o))}),qr(n.children,(o,l)=>{void 0===i[l]&&(r[l]=o)}),new _n(n.segments,r)}}function fb(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(dp(o)){const m=w_(o.outlets);return new _n(i,m)}if(0===r&&cp(e[0])){i.push(new Qc(n.segments[t].path,up(e[0]))),r++;continue}const l=dp(o)?o.outlets[cn]:`${o}`,u=r<e.length-1?e[r+1]:null;l&&u&&cp(u)?(i.push(new Qc(l,up(u))),r+=2):(i.push(new Qc(l,{})),r++)}return new _n(i,{})}function w_(n){const t={};return qr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=fb(new _n([],{}),0,e))}),t}function up(n){const t={};return qr(n,(e,i)=>t[i]=`${e}`),t}function hp(n,t,e){return n==e.path&&el(t,e.parameters)}const x_="imperative";class Ps{constructor(t,e){this.id=t,this.url=e}}class nE extends Ps{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jc extends Ps{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fp extends Ps{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mp extends Ps{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class C_ extends Ps{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mb extends Ps{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ec extends Ps{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E_ extends Ps{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class D_ extends Ps{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pp extends Ps{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rA{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class iE{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rE{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oA{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sA{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gp{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oE{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let lA=(()=>{class n{createUrlTree(e,i,r,o,l,u){return eA(e||i.root,r,o,l,u)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),dA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){return lA.\u0275fac(t)},providedIn:"root"}),n})();class sE{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=pb(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=pb(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=gb(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return gb(t,this._root).map(e=>e.value)}}function pb(n,t){if(n===t.value)return t;for(const e of t.children){const i=pb(n,e);if(i)return i}return null}function gb(n,t){if(n===t.value)return[t];for(const e of t.children){const i=gb(n,e);if(i.length)return i.unshift(t),i}return[]}class tl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ed(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class aE extends sE{constructor(t,e){super(t),this.snapshot=e,_b(this,t)}toString(){return this.snapshot.toString()}}function T_(n,t){const e=function uA(n,t){const l=new I_([],{},{},"",{},cn,t,null,n.root,-1,{});return new cE("",new tl(l,[]))}(n,t),i=new Gi([new Qc("",{})]),r=new Gi({}),o=new Gi({}),l=new Gi({}),u=new Gi(""),m=new ua(i,r,l,u,o,cn,t,e.root);return m.snapshot=e.root,new aE(new tl(m,[]),e)}class ua{constructor(t,e,i,r,o,l,u,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=l,this.component=u,this.title=this.data?.pipe((0,Oe.U)(_=>_[af]))??je(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Oe.U)(t=>lf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Oe.U)(t=>lf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lE(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function hA(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class I_{get title(){return this.data?.[af]}constructor(t,e,i,r,o,l,u,m,_,b,D){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=l,this.component=u,this.routeConfig=m,this._urlSegment=_,this._lastPathIndex=b,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cE extends sE{constructor(t,e){super(e),this.url=t,_b(this,e)}toString(){return vb(this._root)}}function _b(n,t){t.value._routerState=n,t.children.forEach(e=>_b(n,e))}function vb(n){const t=n.children.length>0?` { ${n.children.map(vb).join(", ")} } `:"";return`${n.value}${t}`}function S_(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,el(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),el(t.params,e.params)||n.params.next(e.params),function GM(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!el(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),el(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function yb(n,t){const e=el(n.params,t.params)&&function df(n,t){return Jl(n,t)&&n.every((e,i)=>el(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||yb(n.parent,t.parent))}function pf(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function WL(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return pf(n,i,r);return pf(n,i)})}(n,t,e);return new tl(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(u=>pf(n,u)),l}}const i=function M_(n){return new ua(new Gi(n.url),new Gi(n.params),new Gi(n.queryParams),new Gi(n.fragment),new Gi(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>pf(n,o));return new tl(i,r)}}const bb="ngNavigationCancelingError";function dE(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=vu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=A_(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function A_(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[bb]=!0,i.cancellationCode=t,e&&(i.url=e),i}function uE(n){return ha(n)&&vu(n.url)}function ha(n){return n&&n[bb]}class _p{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new dr,this.attachRef=null}}let dr=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new _p,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nl=!1;let gf=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=cn,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(dr),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,nl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,nl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,nl);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,nl);this._activatedRoute=e;const r=this.location,l=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,m=new Fs(e,u,r.injector);if(i&&function wb(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(l);this.activated=r.createComponent(_,r.length,m)}else this.activated=r.createComponent(l,{index:r.length,injector:m,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class Fs{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ua?this.route:t===dr?this.childContexts:this.parent.get(t,e)}}let td=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[gf],encapsulation:2}),n})();function yu(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function k_(n){const t=n.children&&n.children.map(k_),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==cn&&(e.component=td),e}function ss(n){return n.outlet||cn}function xb(n,t){const e=n.filter(i=>ss(i)===t);return e.push(...n.filter(i=>ss(i)!==t)),e}function yf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class mE{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),S_(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=ed(e);t.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,r[l],i),delete r[l]}),qr(r,(o,l)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=ed(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);if(i&&i.outlet){const l=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=ed(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=ed(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new gp(o.value.snapshot))}),t.children.length&&this.forwardEvent(new oA(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(S_(r),r===o)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(u.contexts),l.attachRef=u.componentRef,l.route=u.route.value,l.outlet&&l.outlet.attach(u.componentRef,u.route.value),S_(u.route.value),this.activateChildRoutes(t,null,l.children)}else{const u=yf(r.snapshot),m=u?.get(s._Vd)??null;l.attachRef=null,l.route=r,l.resolver=m,l.injector=u,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,i)}}class Cb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xp{constructor(t,e){this.component=t,this.route=e}}function fA(n,t,e){const i=n._root;return Cp(i,t?t._root:null,e,[i.value])}function bu(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function Cp(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=ed(t);return n.children.forEach(l=>{(function pE(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,l=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const m=function Eb(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Jl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Jl(n.url,t.url)||!el(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yb(n,t)||!el(n.queryParams,t.queryParams);default:return!yb(n,t)}}(l,o,o.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new Cb(i)):(o.data=l.data,o._resolvedData=l._resolvedData),Cp(n,t,o.component?u?u.children:null:e,i,r),m&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new xp(u.outlet.component,l))}else l&&wu(t,u,r),r.canActivateChecks.push(new Cb(i)),Cp(n,null,o.component?u?u.children:null:e,i,r)})(l,o[l.value.outlet],e,i.concat([l.value]),r),delete o[l.value.outlet]}),qr(o,(l,u)=>wu(l,e.getContext(u),r)),r}function wu(n,t,e){const i=ed(n),r=n.value;qr(i,(o,l)=>{wu(o,r.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new xp(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Ep(n){return"function"==typeof n}function Dp(n){return n instanceof c_||"EmptyError"===n?.name}const Tp=Symbol("INITIAL_VALUE");function xu(){return tn(n=>ip(n.map(t=>t.pipe(zn(1),Er(Tp)))).pipe((0,Oe.U)(t=>{for(const e of t)if(!0!==e){if(e===Tp)return Tp;if(!1===e||e instanceof Kc)return e}return!0}),hn(t=>t!==Tp),zn(1)))}function Sb(n){return(0,tb.z)((0,Vn.b)(t=>{if(vu(t))throw dE(0,t)}),(0,Oe.U)(t=>!0===t))}const Ip={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mb(n,t,e,i,r){const o=N_(n,t,e);return o.matched?function CE(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?je(r.map(l=>{const u=bu(l,n);return Xl(function F_(n){return n&&Ep(n.canMatch)}(u)?u.canMatch(t,e):n.runInContext(()=>u(t,e)))})).pipe(xu(),Sb()):je(!0)}(i=yu(t,i),t,e).pipe((0,Oe.U)(l=>!0===l?o:{...Ip})):je(o)}function N_(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Ip}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||zC)(e,n,t);if(!r)return{...Ip};const o={};qr(r.posParams,(u,m)=>{o[m]=u.path});const l=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function Sp(n,t,e,i){if(e.length>0&&function TE(n,t,e){return e.some(i=>Mp(n,t,i)&&ss(i)!==cn)}(n,e,i)){const o=new _n(t,function DE(n,t,e,i){const r={};r[cn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&ss(o)!==cn){const l=new _n([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,r[ss(o)]=l}return r}(n,t,i,new _n(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function IE(n,t,e){return e.some(i=>Mp(n,t,i))}(n,e,i)){const o=new _n(n.segments,function EE(n,t,e,i,r){const o={};for(const l of i)if(Mp(n,e,l)&&!r[ss(l)]){const u=new _n([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,o[ss(l)]=u}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new _n(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function Mp(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Ap(n,t,e,i){return!!(ss(n)===i||i!==cn&&Mp(t,e,n))&&("**"===n.path||N_(t,n,e).matched)}function tc(n,t,e){return 0===t.length&&!n.children[e]}const L_=!1;class B_{constructor(t){this.segmentGroup=t||null}}class V_{constructor(t){this.urlTree=t}}function fa(n){return pu(new B_(n))}function U_(n){return pu(new V_(n))}class ZL{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=Sp(this.urlTree.root,[],[],this.config).segmentGroup,e=new _n(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,cn).pipe((0,Oe.U)(o=>this.createUrlTree(__(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Kl(o=>{if(o instanceof V_)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof B_?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,cn).pipe((0,Oe.U)(r=>this.createUrlTree(__(r),t.queryParams,t.fragment))).pipe(Kl(r=>{throw r instanceof B_?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,L_)}createUrlTree(t,e,i){const r=g_(t);return new Kc(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Oe.U)(o=>new _n([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,jt.D)(r).pipe(is(o=>{const l=i.children[o],u=xb(e,o);return this.expandSegmentGroup(t,u,l,o).pipe((0,Oe.U)(m=>({segment:m,outlet:o})))}),sf((o,l)=>(o[l.outlet]=l.segment,o),{}),ob())}expandSegment(t,e,i,r,o,l){return(0,jt.D)(i).pipe(is(u=>this.expandSegmentAgainstRoute(t,e,i,u,r,o,l).pipe(Kl(_=>{if(_ instanceof B_)return je(null);throw _}))),ca(u=>!!u),Kl((u,m)=>{if(Dp(u))return tc(e,r,o)?je(new _n([],{})):fa(e);throw u}))}expandSegmentAgainstRoute(t,e,i,r,o,l,u){return Ap(r,e,o,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,l):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l):fa(e):fa(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?U_(o):this.lineralizeSegments(i,o).pipe((0,Nn.z)(l=>{const u=new _n(l,{});return this.expandSegment(t,u,e,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l){const{matched:u,consumedSegments:m,remainingSegments:_,positionalParamSegments:b}=N_(e,r,o);if(!u)return fa(e);const D=this.applyRedirectCommands(m,r.redirectTo,b);return r.redirectTo.startsWith("/")?U_(D):this.lineralizeSegments(r,D).pipe((0,Nn.z)(R=>this.expandSegment(t,e,i,R.concat(_),l,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=yu(i,t),i.loadChildren?(i._loadedRoutes?je({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Oe.U)(u=>(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,new _n(r,{})))):je(new _n(r,{}))):Mb(e,i,r,t).pipe(tn(({matched:l,consumedSegments:u,remainingSegments:m})=>l?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Nn.z)(b=>{const D=b.injector??t,R=b.routes,{segmentGroup:F,slicedSegments:$}=Sp(e,u,m,R),Z=new _n(F.segments,F.children);if(0===$.length&&Z.hasChildren())return this.expandChildren(D,R,Z).pipe((0,Oe.U)(Qe=>new _n(u,Qe)));if(0===R.length&&0===$.length)return je(new _n(u,{}));const ie=ss(i)===o;return this.expandSegment(D,Z,R,$,ie?cn:o,!0).pipe((0,Oe.U)(Ye=>new _n(u.concat(Ye.segments),Ye.children)))})):fa(e)))}getChildConfig(t,e,i){return e.children?je({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?je({routes:e._loadedRoutes,injector:e._loadedInjector}):function xE(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?je(!0):je(r.map(l=>{const u=bu(l,n);return Xl(function O_(n){return n&&Ep(n.canLoad)}(u)?u.canLoad(t,e):n.runInContext(()=>u(t,e)))})).pipe(xu(),Sb())}(t,e,i).pipe((0,Nn.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Vn.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Ab(n){return pu(A_(L_,3))}())):je({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return je(i);if(r.numberOfChildren>1||!r.children[cn])return t.redirectTo,pu(new s.vHH(4e3,L_));r=r.children[cn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Kc(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return qr(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[o]=e[u]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let l={};return qr(e.children,(u,m)=>{l[m]=this.createSegmentGroup(t,u,i,r)}),new _n(o,l)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,L_);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class ME{}class AE{constructor(t,e,i,r,o,l,u){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.urlSerializer=u}recognize(){const t=Sp(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,cn).pipe((0,Oe.U)(e=>{if(null===e)return null;const i=new I_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new tl(i,e),o=new cE(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=lE(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,jt.D)(Object.keys(i.children)).pipe(is(r=>{const o=i.children[r],l=xb(e,r);return this.processSegmentGroup(t,l,o,r)}),sf((r,o)=>r&&o?(r.push(...o),r):null),function HL(n,t=!1){return(0,Ln.e)((e,i)=>{let r=0;e.subscribe((0,Bn.x)(i,o=>{const l=n(o,r++);(l||t)&&i.next(o),!l&&i.complete()}))})}(r=>null!==r),Ja(null),ob(),(0,Oe.U)(r=>{if(null===r)return null;const o=RE(r);return function wA(n){n.sort((t,e)=>t.value.outlet===cn?-1:e.value.outlet===cn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,jt.D)(e).pipe(is(l=>this.processSegmentAgainstRoute(l._injector??t,l,i,r,o)),ca(l=>!!l),Kl(l=>{if(Dp(l))return tc(i,r,o)?je([]):je(null);throw l}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!Ap(e,i,r,o))return je(null);let l;if("**"===e.path){const u=r.length>0?WC(r).parameters:{},m=Cu(i)+r.length;l=je({snapshot:new I_(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PE(e),ss(e),e.component??e._loadedComponent??null,e,kb(i),m,Rb(e)),consumedSegments:[],remainingSegments:[]})}else l=Mb(i,e,r,t).pipe((0,Oe.U)(({matched:u,consumedSegments:m,remainingSegments:_,parameters:b})=>{if(!u)return null;const D=Cu(i)+m.length;return{snapshot:new I_(m,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PE(e),ss(e),e.component??e._loadedComponent??null,e,kb(i),D,Rb(e)),consumedSegments:m,remainingSegments:_}}));return l.pipe(tn(u=>{if(null===u)return je(null);const{snapshot:m,consumedSegments:_,remainingSegments:b}=u;t=e._injector??t;const D=e._loadedInjector??t,R=function xA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:F,slicedSegments:$}=Sp(i,_,b,R.filter(ie=>void 0===ie.redirectTo));if(0===$.length&&F.hasChildren())return this.processChildren(D,R,F).pipe((0,Oe.U)(ie=>null===ie?null:[new tl(m,ie)]));if(0===R.length&&0===$.length)return je([new tl(m,[])]);const Z=ss(e)===o;return this.processSegment(D,R,F,$,Z?cn:o).pipe((0,Oe.U)(ie=>null===ie?null:[new tl(m,ie)]))}))}}function kE(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function RE(n){const t=[],e=new Set;for(const i of n){if(!kE(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=RE(i.children);t.push(new tl(i.value,r))}return t.filter(i=>!e.has(i))}function kb(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Cu(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function PE(n){return n.data||{}}function Rb(n){return n.resolve||{}}function NE(n){return"string"==typeof n.title||null===n.title}function Fb(n){return tn(t=>{const e=n(t);return e?(0,jt.D)(e).pipe((0,Oe.U)(()=>t)):je(t)})}const io=new s.OlP("ROUTES");let as=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.f3M)(s.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return je(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Xl(e.loadComponent()).pipe((0,Oe.U)(Nb),(0,Vn.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Ql(()=>{this.componentLoaders.delete(e)})),r=new HC(i,()=>new et.x).pipe(nb());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return je({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Oe.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let m,_,b=!1;Array.isArray(u)?_=u:(m=u.create(e).injector,_=GC(m.get(io,[],s.XFs.Self|s.XFs.Optional)));return{routes:_.map(k_),injector:m}}),Ql(()=>{this.childrenLoaders.delete(i)})),l=new HC(o,()=>new et.x).pipe(nb());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(e){return Xl(e()).pipe((0,Oe.U)(Nb),(0,Nn.z)(i=>i instanceof s.YKP||Array.isArray(i)?je(i):(0,jt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nb(n){return function LE(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let j_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new et.x,this.configLoader=(0,s.f3M)(as),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(gu),this.rootContexts=(0,s.f3M)(dr),this.navigationId=0,this.afterPreactivation=()=>je(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new iE(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new rA(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Gi({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:x_,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(hn(i=>0!==i.id),(0,Oe.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),tn(i=>{let r=!1,o=!1;return je(i).pipe((0,Vn.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),tn(l=>{const u=e.browserUrlTree.toString(),m=!e.navigated||l.extractedUrl.toString()!==u||u!==e.currentUrlTree.toString();if(!m&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const b="";return this.events.next(new mp(l.id,e.serializeUrl(i.rawUrl),b,0)),e.rawUrlTree=l.rawUrl,l.resolve(null),Os.E}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return BE(l.source)&&(e.browserUrlTree=l.extractedUrl),je(l).pipe(tn(b=>{const D=this.transitions?.getValue();return this.events.next(new nE(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),D!==this.transitions?.getValue()?Os.E:Promise.resolve(b)}),function yA(n,t,e,i){return tn(r=>function qL(n,t,e,i,r){return new ZL(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Oe.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Vn.b)(b=>{this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},i.urlAfterRedirects=b.urlAfterRedirects}),function CA(n,t,e,i,r){return(0,Nn.z)(o=>function Dr(n,t,e,i,r,o,l="emptyOnly"){return new AE(n,t,e,i,r,l,o).recognize().pipe(tn(u=>null===u?function bA(n){return new Yn.y(t=>t.error(n))}(new ME):je(u)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,Oe.U)(l=>({...o,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Vn.b)(b=>{if(i.targetSnapshot=b.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!b.extras.skipLocationChange){const R=e.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);e.setBrowserUrl(R,b)}e.browserUrlTree=b.urlAfterRedirects}const D=new mb(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(D)}));if(m&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:b,extractedUrl:D,source:R,restoredState:F,extras:$}=l,Z=new nE(b,this.urlSerializer.serialize(D),R,F);this.events.next(Z);const ie=T_(D,this.rootComponentType).snapshot;return je(i={...l,targetSnapshot:ie,urlAfterRedirects:D,extras:{...$,skipLocationChange:!1,replaceUrl:!1}})}{const b="";return this.events.next(new mp(l.id,e.serializeUrl(i.extractedUrl),b,1)),e.rawUrlTree=l.rawUrl,l.resolve(null),Os.E}}),(0,Vn.b)(l=>{const u=new ec(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),(0,Oe.U)(l=>i={...l,guards:fA(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function Tb(n,t){return(0,Nn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return 0===l.length&&0===o.length?je({...e,guardsResult:!0}):function Ib(n,t,e,i){return(0,jt.D)(n).pipe((0,Nn.z)(r=>function _A(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?je(o.map(u=>{const m=yf(t)??r,_=bu(u,m);return Xl(function P_(n){return n&&Ep(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):m.runInContext(()=>_(n,t,e,i))).pipe(ca())})).pipe(xu()):je(!0)}(r.component,r.route,e,t,i)),ca(r=>!0!==r,!0))}(l,i,r,n).pipe((0,Nn.z)(u=>u&&function R_(n){return"boolean"==typeof n}(u)?function gA(n,t,e,i){return(0,jt.D)(t).pipe(is(r=>np(function yE(n,t){return null!==n&&t&&t(new rE(n)),je(!0)}(r.route.parent,i),function vE(n,t){return null!==n&&t&&t(new sA(n)),je(!0)}(r.route,i),function wE(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(l=>function mA(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>rp(()=>je(l.guards.map(m=>{const _=yf(l.node)??e,b=bu(m,_);return Xl(function pA(n){return n&&Ep(n.canActivateChild)}(b)?b.canActivateChild(i,n):_.runInContext(()=>b(i,n))).pipe(ca())})).pipe(xu())));return je(o).pipe(xu())}(n,r.path,e),function bE(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return je(!0);const r=i.map(o=>rp(()=>{const l=yf(t)??e,u=bu(o,l);return Xl(function Db(n){return n&&Ep(n.canActivate)}(u)?u.canActivate(t,n):l.runInContext(()=>u(t,n))).pipe(ca())}));return je(r).pipe(xu())}(n,r.route,e))),ca(r=>!0!==r,!0))}(i,o,n,t):je(u)),(0,Oe.U)(u=>({...e,guardsResult:u})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Vn.b)(l=>{if(i.guardsResult=l.guardsResult,vu(l.guardsResult))throw dE(0,l.guardsResult);const u=new E_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),hn(l=>!!l.guardsResult||(e.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Fb(l=>{if(l.guards.canActivateChecks.length)return je(l).pipe((0,Vn.b)(u=>{const m=new D_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}),tn(u=>{let m=!1;return je(u).pipe(function FE(n,t){return(0,Nn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return je(e);let o=0;return(0,jt.D)(r).pipe(is(l=>function KL(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!NE(r)&&(o[af]=r.title),function Ob(n,t,e,i){const r=function Pb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return je({});const o={};return(0,jt.D)(r).pipe((0,Nn.z)(l=>function il(n,t,e,i){const r=yf(t)??i,o=bu(n,r);return Xl(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[l],t,e,i).pipe(ca(),(0,Vn.b)(u=>{o[l]=u}))),rb(1),d_(o),Kl(l=>Dp(l)?Os.E:pu(l)))}(o,n,t,i).pipe((0,Oe.U)(l=>(n._resolvedData=l,n.data=lE(n,e).resolve,r&&NE(r)&&(n.data[af]=r.title),null)))}(l.route,i,n,t)),(0,Vn.b)(()=>o++),rb(1),(0,Nn.z)(l=>o===r.length?je(e):Os.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Vn.b)({next:()=>m=!0,complete:()=>{m||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),(0,Vn.b)(u=>{const m=new pp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}))}),Fb(l=>{const u=m=>{const _=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,Vn.b)(b=>{m.component=b}),(0,Oe.U)(()=>{})));for(const b of m.children)_.push(...u(b));return _};return ip(u(l.targetSnapshot.root)).pipe(Ja(),zn(1))}),Fb(()=>this.afterPreactivation()),(0,Oe.U)(l=>{const u=function GL(n,t,e){const i=pf(n,t._root,e?e._root:void 0);return new aE(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:u}}),(0,Vn.b)(l=>{e.currentUrlTree=l.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),e.routerState=l.targetRouterState,"deferred"===e.urlUpdateStrategy&&(l.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,l),e.browserUrlTree=l.urlAfterRedirects)}),((n,t,e)=>(0,Oe.U)(i=>(new mE(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l)),zn(1),(0,Vn.b)({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Jc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),Ql(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Kl(l=>{if(o=!0,ha(l)){uE(l)||(e.navigated=!0,e.restoreHistory(i,!0));const u=new fp(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode);if(this.events.next(u),uE(l)){const m=e.urlHandlingStrategy.merge(l.url,e.rawUrlTree),_={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||BE(i.source)};e.scheduleNavigation(m,x_,null,_,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const u=new C_(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);this.events.next(u);try{i.resolve(e.errorHandler(l))}catch(m){i.reject(m)}}return Os.E}))}))}cancelNavigationTransition(e,i,r){const o=new fp(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BE(n){return n!==x_}let VE=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===cn);return i}getResolvedTitleForRoute(e){return e.data[af]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Lb)},providedIn:"root"}),n})(),Lb=(()=>{class n extends VE{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(km))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(UE)},providedIn:"root"}),n})();class EA{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let UE=(()=>{class n extends EA{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const z_=new s.OlP("",{providedIn:"root",factory:()=>({})});let HE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(jE)},providedIn:"root"}),n})(),jE=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TA(n){throw n}function zE(n,t,e){return t.parse("/")}const $E={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)(z_,{optional:!0})||{},this.errorHandler=this.options.errorHandler||TA,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zE,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(HE),this.routeReuseStrategy=(0,s.f3M)(kp),this.urlCreationStrategy=(0,s.f3M)(dA),this.titleStrategy=(0,s.f3M)(VE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=GC((0,s.f3M)(io,{optional:!0})??[]),this.navigationTransitions=(0,s.f3M)(j_),this.urlSerializer=(0,s.f3M)(gu),this.location=(0,s.f3M)(ze),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Kc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=T_(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),x_,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const m={...r};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const u=this.parseUrl(e);this.scheduleNavigation(u,i,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(k_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:l,queryParamsHandling:u,preserveFragment:m}=i,_=m?this.currentUrlTree.fragment:l;let b=null;switch(u){case"merge":b={...this.currentUrlTree.queryParams,...o};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=o||null}return null!==b&&(b=this.removeEmptyProps(b)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,b,_??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=vu(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,x_,null,i)}navigate(e,i={skipLocationChange:!1}){return function Vb(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...$E}:!1===i?{...Bb}:i,vu(e))return h_(this.currentUrlTree,e,r);const o=this.parseUrl(e);return h_(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,l){if(this.disposed)return Promise.resolve(!1);let u,m,_,b;return l?(u=l.resolve,m=l.reject,_=l.promise):_=new Promise((D,R)=>{u=D,m=R}),b="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:b,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:u,reject:m,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(D=>Promise.reject(D))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eu=(()=>{class n{constructor(e,i,r,o,l,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=l,this.locationStrategy=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new et.x;const m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=e.events.subscribe(_=>{_ instanceof Jc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xi),s.Y36(ua),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(dt))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class Ub{}let qE=(()=>{class n{constructor(e,i,r,o,l){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(hn(e=>e instanceof Jc),is(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const l=o._injector??e,u=o._loadedInjector??l;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(l,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(u,o.children??o._loadedRoutes))}return(0,jt.D)(r).pipe((0,tp.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):je(null);const o=r.pipe((0,Nn.z)(l=>null===l?je(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,jt.D)([o,l]).pipe((0,tp.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xi),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(Ub),s.LFG(as))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hb=new s.OlP("");let ZE=(()=>{class n{constructor(e,i,r,o,l={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof nE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Jc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof oE&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new oE(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();var ls=(()=>((ls=ls||{})[ls.COMPLETE=0]="COMPLETE",ls[ls.FAILED=1]="FAILED",ls[ls.REDIRECTING=2]="REDIRECTING",ls))();const wf=!1;function id(n,t){return{\u0275kind:n,\u0275providers:t}}const jb=new s.OlP("",{providedIn:"root",factory:()=>!1});function KE(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(xi),r=n.get(QE);1===n.get(zb)&&i.initialNavigation(),n.get($b,null,s.XFs.Optional)?.setUpPreloading(),n.get(Hb,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const QE=new s.OlP(wf?"bootstrap done indicator":"",{factory:()=>new et.x}),zb=new s.OlP(wf?"initial navigation":"",{providedIn:"root",factory:()=>1});function OA(){let n=[];return n=wf?[{provide:s.Xts,multi:!0,useFactory:()=>{const t=(0,s.f3M)(xi);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function $L(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],id(1,n)}const $b=new s.OlP(wf?"router preloader":"");function XE(n){return id(0,[{provide:$b,useExisting:qE},{provide:Ub,useExisting:n}])}const xf=!1,Gb=new s.OlP(xf?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),JE=[ze,{provide:gu,useClass:uf},xi,dr,{provide:ua,useFactory:function YE(n){return n.routerState.root},deps:[xi]},as,xf?{provide:jb,useValue:!0}:[]];function Wb(){return new s.PXZ("Router",xi)}let rd=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[JE,xf&&i?.enableTracing?OA().\u0275providers:[],{provide:io,multi:!0,useValue:e},{provide:Gb,useFactory:Cf,deps:[[xi,new s.FiY,new s.tp0]]},{provide:z_,useValue:i||{}},i?.useHash?{provide:dt,useClass:Le}:{provide:dt,useClass:Fe},{provide:Hb,useFactory:()=>{const n=(0,s.f3M)(vc),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)(z_),i=(0,s.f3M)(j_),r=(0,s.f3M)(gu);return e.scrollOffset&&n.setOffset(e.scrollOffset),new ZE(r,i,n,t,e)}},i?.preloadingStrategy?XE(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:Wb},i?.initialNavigation?e2(i):[],[{provide:$_,useFactory:KE},{provide:s.tb,multi:!0,useExisting:$_}]]}}static forChild(e){return{ngModule:n,providers:[{provide:io,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Gb,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[td]}),n})();function Cf(n){if(xf&&n)throw new s.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function e2(n){return["disabled"===n.initialNavigation?id(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(xi);return()=>{t.setUpLocationChangeListener()}}},{provide:zb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?id(2,[{provide:zb,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(xe,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(xi),o=t.get(QE);(function MA(n,t){n.events.pipe(hn(e=>e instanceof Jc||e instanceof fp||e instanceof C_||e instanceof mp),(0,Oe.U)(e=>e instanceof Jc||e instanceof mp?ls.COMPLETE:e instanceof fp&&(0===e.code||1===e.code)?ls.REDIRECTING:ls.FAILED),hn(e=>e!==ls.REDIRECTING),zn(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(j_).afterPreactivation=()=>(i(!0),o.closed?je(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const $_=new s.OlP(xf?"Router Initializer":"");var Zr=j(6451),qb=j(5363),Pt=j(6063);class HA extends et.x{constructor(t=1/0,e=1/0,i=Pt.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:l}=this;e||(i.push(t),!r&&i.push(o.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let l=0;l<o.length&&!t.closed;l+=i?1:2)t.next(o[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const l=e.now();let u=0;for(let m=1;m<i.length&&i[m]<=l;m+=2)u=m;u&&i.splice(0,u+1)}}}var Zb=j(3099);function Tu(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,Zb.B)({connector:()=>new HA(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Iu(n,t){return(0,Gr.m)(t)?tn(()=>n,t):tn(()=>n)}var Yb=j(9468),nn=j(4976),Br=j(2011),Un=j(259);class Ef{constructor(t){return t}}class Rp{constructor(){return(0,Un.C6)()}}const G_=new s.OlP("angularfire2._apps"),eD={provide:Ef,useFactory:function zA(n){return n&&1===n.length?n[0]:new Ef((0,Un.Mq)())},deps:[[new s.FiY,G_]]},tD={provide:Rp,deps:[[new s.FiY,G_]]};function nD(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Ef(i)}}let $A=(()=>{class n{constructor(e){(0,Un.KN)("angularfire",nn.q4.full,"core"),(0,Un.KN)("angularfire",nn.q4.full,"app"),(0,Un.KN)("angular",s.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[eD,tD]}),n})();function GA(n,...t){return{ngModule:$A,providers:[{provide:G_,useFactory:nD(n),multi:!0,deps:[s.R0b,s.zs3,nn.HU,...t]}]}}const WA=(0,nn.u3)(Un.ZF,!0);var Ce=j(5861),ro=j(6881),nc=j(4859),H=j(2090),Co=j(1877);const Qb=new Map,iD={activated:!1,tokenObservers:[]},ZA={initialized:!1,enabled:!1};function Ri(n){return Qb.get(n)||Object.assign({},iD)}function Op(){return ZA}const Xb="https://content-firebaseappcheck.googleapis.com/v1",KA="exchangeDebugToken",QA={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class a2{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ce.Z)(function*(){e.stop();try{e.pending=new H.BH,yield function l2(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new H.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ur=new H.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Jb(n){if(!Ri(n).activated)throw ur.create("use-before-activation",{appName:n.name})}function Y_(n,t){return e0.apply(this,arguments)}function e0(){return(e0=(0,Ce.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const o={method:"POST",body:JSON.stringify(t),headers:i};let l,u;try{l=yield fetch(n,o)}catch(D){throw ur.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==l.status)throw ur.create("fetch-status-error",{httpStatus:l.status});try{u=yield l.json()}catch(D){throw ur.create("fetch-parse-error",{originalErrorMessage:D?.message})}const m=u.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw ur.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const _=1e3*Number(m[1]),b=Date.now();return{token:u.token,expireTimeMillis:b+_,issuedAtTimeMillis:b}})).apply(this,arguments)}function ek(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${Xb}/projects/${e}/apps/${i}:${KA}?key=${r}`,body:{debug_token:t}}}const tk="firebase-app-check-database",aD=1,Pp="firebase-app-check-store";let sd=null;function t0(n,t){return n0.apply(this,arguments)}function n0(){return(n0=(0,Ce.Z)(function*(n,t){const i=(yield function cD(){return sd||(sd=new Promise((n,t)=>{try{const e=indexedDB.open(tk,aD);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(ur.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Pp,{keyPath:"compositeKey"})}}catch(e){t(ur.create("storage-open",{originalErrorMessage:e?.message}))}}),sd)}()).transaction(Pp,"readwrite"),o=i.objectStore(Pp).put({compositeKey:n,value:t});return new Promise((l,u)=>{o.onsuccess=m=>{l()},i.onerror=m=>{var _;u(ur.create("storage-set",{originalErrorMessage:null===(_=m.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Df=new Co.Yd("@firebase/app-check");function a0(n,t){return(0,H.hl)()?function nk(n,t){return t0(function o0(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Df.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Q_(){return Op().enabled}function d0(){return u0.apply(this,arguments)}function u0(){return(u0=(0,Ce.Z)(function*(){const n=Op();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const sk={error:"UNKNOWN_ERROR"};function ak(n){return H.US.encodeString(JSON.stringify(n),!1)}function X_(n){return h0.apply(this,arguments)}function h0(){return(h0=(0,Ce.Z)(function*(n,t=!1){const e=n.app;Jb(e);const i=Ri(e);let o,r=i.token;if(r&&!Tf(r)&&(i.token=void 0,r=void 0),!r){const m=yield i.cachedTokenPromise;m&&(Tf(m)?r=m:yield a0(e,void 0))}if(!t&&r&&Tf(r))return{token:r.token};let u,l=!1;if(Q_()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Y_(ek(e,yield d0()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const m=yield i.exchangeTokenPromise;return yield a0(e,m),i.token=m,{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield Ri(e).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Df.warn(m.message):Df.error(m),o=m}return r?o?u=Tf(r)?{token:r.token,internalError:o}:gD(o):(u={token:r.token},i.token=r,yield a0(e,r)):u=gD(o),l&&function pD(n,t){const e=Ri(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,u),u})).apply(this,arguments)}function hD(n){return J_.apply(this,arguments)}function J_(){return(J_=(0,Ce.Z)(function*(n){const t=n.app;Jb(t);const{provider:e}=Ri(t);if(Q_()){const i=yield d0(),{token:r}=yield Y_(ek(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function f0(n,t){const e=Ri(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function fD(n){const{app:t}=n,e=Ri(t);let i=e.tokenRefresher;i||(i=function mD(n){const{app:t}=n;return new a2((0,Ce.Z)(function*(){let i;if(i=Ri(t).token?yield X_(n,!0):yield X_(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Ri(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},QA.RETRIAL_MIN_WAIT,QA.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Tf(n){return n.expireTimeMillis-Date.now()>0}function gD(n){return{token:ak(sk),error:n}}class m0{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ri(this.app);for(const e of t)f0(this.app,e.next);return Promise.resolve()}}const mk="app-check-internal";!function DD(){(0,ro._registerComponent)(new nc.wA("app-check",n=>function p0(n,t){return new m0(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(mk).initialize()})),(0,ro._registerComponent)(new nc.wA(mk,n=>function _D(n){return{getToken:t=>X_(n,t),getLimitedUseToken:()=>hD(n),addTokenListener:t=>function ev(n,t,e,i){const{app:r}=n,o=Ri(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&Tf(o.token)){const u=o.token;Promise.resolve().then(()=>{e({token:u.token}),fD(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>fD(n))}(n,"INTERNAL",t),removeTokenListener:t=>f0(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ro.registerVersion)("@firebase/app-check","0.8.0")}();class If{constructor(){return(0,nn.vb)("app-check")}}typeof window<"u"&&window,j(9260);const rv=new s.OlP("angularfire2.auth.use-emulator"),ov=new s.OlP("angularfire2.auth.settings"),D0=new s.OlP("angularfire2.auth.tenant-id"),MD=new s.OlP("angularfire2.auth.langugage-code"),sv=new s.OlP("angularfire2.auth.use-device-language"),T0=new s.OlP("angularfire.auth.persistence"),I0=(n,t,e,i,r,o,l,u)=>(0,Br.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),i&&(m.tenantId=i),m.languageCode=r,o&&m.useDeviceLanguage(),l)for(const[_,b]of Object.entries(l))m.settings[_]=b;return u&&m.setPersistence(u),m},[e,i,r,o,l,u]);let Fp,Sf=(()=>{class n{constructor(e,i,r,o,l,u,m,_,b,D,R,F){const $=new et.x,Z=je(void 0).pipe((0,qb.Q)(l.outsideAngular),tn(()=>o.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,9568)))),(0,Oe.U)(()=>(0,Br.on)(e,o,i)),(0,Oe.U)(ie=>I0(ie,o,u,_,b,D,m,R)),Tu({bufferSize:1,refCount:!1}));if(Aa(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=je(null);else{Z.pipe(ca()).subscribe();const Se=Z.pipe(tn(ct=>ct.getRedirectResult().then($t=>$t,()=>null)),nn.iC,Tu({bufferSize:1,refCount:!1})),Ye=Z.pipe(tn(ct=>new Yn.y($t=>({unsubscribe:o.runOutsideAngular(()=>ct.onAuthStateChanged(ln=>$t.next(ln),ln=>$t.error(ln),()=>$t.complete()))})))),Qe=Z.pipe(tn(ct=>new Yn.y($t=>({unsubscribe:o.runOutsideAngular(()=>ct.onIdTokenChanged(ln=>$t.next(ln),ln=>$t.error(ln),()=>$t.complete()))}))));this.authState=Se.pipe(Iu(Ye),(0,Yb.R)(l.outsideAngular),(0,qb.Q)(l.insideAngular)),this.user=Se.pipe(Iu(Qe),(0,Yb.R)(l.outsideAngular),(0,qb.Q)(l.insideAngular)),this.idToken=this.user.pipe(tn(ct=>ct?(0,jt.D)(ct.getIdToken()):je(null))),this.idTokenResult=this.user.pipe(tn(ct=>ct?(0,jt.D)(ct.getIdTokenResult()):je(null))),this.credential=(0,Zr.T)(Se,$,this.authState.pipe(hn(ct=>!ct))).pipe((0,Oe.U)(ct=>ct?.user?ct:null),(0,Yb.R)(l.outsideAngular),(0,qb.Q)(l.insideAngular))}return(0,Br.pX)(this,Z,o,{spy:{apply:(ie,Se,Ye)=>{(ie.startsWith("signIn")||ie.startsWith("createUser"))&&Ye.then(Qe=>$.next(Qe))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Br.Dh),s.LFG(Br.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(nn.HU),s.LFG(rv,8),s.LFG(ov,8),s.LFG(D0,8),s.LFG(MD,8),s.LFG(sv,8),s.LFG(T0,8),s.LFG(If,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ns=(()=>{class n{constructor(e){this._client=e,this._userContextSubject=new et.x,this.userContext$=this._userContextSubject.asObservable()}login(e){return(0,jt.D)(this._client.signInWithEmailAndPassword(e.email,e.password)).pipe((0,Oe.U)(i=>({authId:i.user?.uid,email:i.user?.email,role:""})))}register(e){return(0,jt.D)(this._client.createUserWithEmailAndPassword(e.email,e.password)).pipe(zn(1),(0,Oe.U)(i=>i.user.uid))}getOne(){return this._client.authState}logOut(){return(0,jt.D)(this._client.signOut())}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Sf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rl=(()=>{class n{constructor(){this._subject=new Gi({authId:"",email:"",role:""})}select(){return this._subject.asObservable()}setState(e){return je(this._subject.next(e)).pipe((0,Oe.U)(()=>{}))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();try{Fp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Fp=!1}let rc,On=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function bs(n){return n===xm}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Fp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mf=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function AD(){if(rc)return rc;if("object"!=typeof document||!document)return rc=new Set(Mf),rc;let n=document.createElement("input");return rc=new Set(Mf.filter(t=>(n.setAttribute("type",t),n.type===t))),rc}let Np,Su,Mu,av;function cs(n){return function xk(){if(null==Np&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Np=!0}))}finally{Np=Np||!1}return Np}()?n:!!n.capture}function kD(){if(null==Mu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Mu=!1,Mu;if("scrollBehavior"in document.documentElement.style)Mu=!0;else{const n=Element.prototype.scrollTo;Mu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Mu}function Af(){if("object"!=typeof document||!document)return 0;if(null==Su){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Su=0,0===n.scrollLeft&&(n.scrollLeft=1,Su=0===n.scrollLeft?1:2),n.remove()}return Su}function lv(n){if(function S0(){if(null==av){const n=typeof document<"u"?document.head:null;av=!(!n||!n.createShadowRoot&&!n.attachShadow)}return av}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function kf(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Eo(n){return n.composedPath?n.composedPath()[0]:n.target}function cv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ga(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var ad=j(4986);function pv(n,t=ad.z){return(0,Ln.e)((e,i)=>{let r=null,o=null,l=null;const u=()=>{if(r){r.unsubscribe(),r=null;const _=o;o=null,i.next(_)}};function m(){const _=l+n,b=t.now();if(b<_)return r=this.schedule(void 0,_-b),void i.add(r);u()}e.subscribe((0,Bn.x)(i,_=>{o=_,l=t.now(),r||(r=t.schedule(m,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{o=r=null}))})}function P0(n){return hn((t,e)=>n<=e)}function Bp(n,t=zt.y){return n=n??F0,(0,Ln.e)((e,i)=>{let r,o=!0;e.subscribe((0,Bn.x)(i,l=>{const u=t(l);(o||!n(r,u))&&(o=!1,r=u,i.next(l))}))})}function F0(n,t){return n===t}var _a=j(5032);function Cn(n){return(0,Ln.e)((t,e)=>{(0,Vo.Xf)(n).subscribe((0,Bn.x)(e,()=>e.complete(),_a.Z)),!e.closed&&t.subscribe(e)})}function Ot(n){return null!=n&&"false"!=`${n}`}function Ls(n,t=0){return function KD(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Vp(n){return Array.isArray(n)?n:[n]}function Tr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Wi(n){return n instanceof s.SBq?n.nativeElement:n}let QD=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jk=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Wi(e);return new Yn.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new et.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(QD))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N0=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=Ot(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ls(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(pv(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Jk),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),L0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[QD]}),n})();const XD=new Set;let ku,J2=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):JD}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function B0(n){if(!XD.has(n))try{ku||(ku=document.createElement("style"),ku.setAttribute("type","text/css"),document.head.appendChild(ku)),ku.sheet&&(ku.sheet.insertRule(`@media ${n} {body{ }}`,0),XD.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(On))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JD(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let eT=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new et.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return V0(Vp(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=ip(V0(Vp(e)).map(l=>this._registerQuery(l).observable));return o=np(o.pipe(zn(1)),o.pipe(P0(1),pv(0))),o.pipe((0,Oe.U)(l=>{const u={matches:!1,breakpoints:{}};return l.forEach(({matches:m,query:_})=>{u.matches=u.matches||m,u.breakpoints[_]=m}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Yn.y(l=>{const u=m=>this._zone.run(()=>l.next(m));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(Er(i),(0,Oe.U)(({matches:l})=>({query:e,matches:l})),Cn(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J2),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function V0(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class tT{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new et.x,this._typeaheadSubscription=Lr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new et.x,this.change=new et.x,t instanceof s.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Vn.b)(e=>this._pressedLetters.push(e)),pv(t),hn(()=>this._pressedLetters.length>0),(0,Oe.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,l=i[o];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(o<l?o:l-1,-1);break}return;default:return void((r||ga(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class o1 extends tT{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class s1 extends tT{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let gv=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function oB(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function rB(n){try{return n.frameElement}catch{return null}}(function d1(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===$0(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=$0(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function G0(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function W0(n){return!function _v(n){return function c1(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function a1(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function l1(n){return function nT(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||ld(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(On))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ld(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function $0(n){if(!ld(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class q0{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(zn(1)).subscribe(t)}}let Of=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new q0(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gv),s.LFG(s.R0b),s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Y0(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function K0(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const h1=new s.OlP("cdk-input-modality-detector-options"),f1={ignoreKeys:[18,17,224,91,16]},Ru=cs({passive:!0,capture:!0});let iT=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Gi(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(u=>u===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Eo(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Y0(l)?"keyboard":"mouse"),this._mostRecentTarget=Eo(l))},this._onTouchstart=l=>{K0(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Eo(l))},this._options={...f1,...o},this.modalityDetected=this._modality.pipe(P0(1)),this.modalityChanged=this.modalityDetected.pipe(Bp()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ru),r.addEventListener("mousedown",this._onMousedown,Ru),r.addEventListener("touchstart",this._onTouchstart,Ru)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ru),document.removeEventListener("mousedown",this._onMousedown,Ru),document.removeEventListener("touchstart",this._onTouchstart,Ru))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(On),s.LFG(s.R0b),s.LFG(re),s.LFG(h1,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const X0=new s.OlP("cdk-focus-monitor-default-options"),vv=cs({passive:!0,capture:!0});let Ou=(()=>{class n{constructor(e,i,r,o,l){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new et.x,this._rootNodeFocusAndBlurListener=u=>{for(let _=Eo(u);_;_=_.parentElement)"focus"===u.type?this._onFocus(u,_):this._onBlur(u,_)},this._document=o,this._detectionMode=l?.detectionMode||0}monitor(e,i=!1){const r=Wi(e);if(!this._platform.isBrowser||1!==r.nodeType)return je(null);const o=lv(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const u={checkChildren:i,subject:new et.x,rootNode:o};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const i=Wi(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Wi(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([u,m])=>this._originChanged(u,i,m)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Eo(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,vv),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,vv)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Cn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vv),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vv),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let l=0;l<o.length;l++)if(o[l].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(On),s.LFG(iT),s.LFG(re,8),s.LFG(X0,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _1="cdk-high-contrast-black-on-white",oT="cdk-high-contrast-white-on-black",J0="cdk-high-contrast-active";let sT=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(eT).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(J0,_1,oT),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(J0,_1):2===i&&e.add(J0,oT)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(On),s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v1=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sT))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[L0]}),n})();const aB=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function lB(){return(0,s.f3M)(re)}}),cB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let va=(()=>{class n{constructor(e){this.value="ltr",this.change=new s.vpe,e&&(this.value=function y1(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?cB.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(aB,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const a=["text"];function c(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",6),2&n){const e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function d(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",7),2&n){const e=s.oxw();s.Q6J("disabled",e.disabled)}}function h(n,t){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("(",e.group.label,")")}}const f=[[["mat-icon"]],"*"],g=["mat-icon","*"],P=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function S(){return!0}});let U=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!cv()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sT),s.LFG(P,8),s.LFG(re))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[yv,yv]}),n})();function Ze(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Ot(t)}constructor(...t){super(...t),this._disabled=!1}}}function nt(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function gt(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ot(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function Ft(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Ls(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function Be(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let E5=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class D5{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const dB=cs({passive:!0,capture:!0});class T5{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Eo(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const l=o.get(i);l?l.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,dB)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,dB)))}}const uB={enterDuration:225,exitDuration:150},hB=cs({passive:!0,capture:!0}),fB=["mousedown","touchstart"],mB=["mouseup","mouseleave","touchend","touchcancel"];class bv{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Wi(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...uB,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const l=i.radius||function S5(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),u=t-r.left,m=e-r.top,_=o.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=u-l+"px",b.style.top=m-l+"px",b.style.height=2*l+"px",b.style.width=2*l+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);const D=window.getComputedStyle(b),F=D.transitionDuration,$="none"===D.transitionProperty||"0s"===F||"0s, 0s"===F||0===r.width&&0===r.height,Z=new D5(this,b,i,$);b.style.transform="scale3d(1, 1, 1)",Z.state=0,i.persistent||(this._mostRecentTransientRipple=Z);let ie=null;return!$&&(_||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Se=()=>this._finishRippleTransition(Z),Ye=()=>this._destroyRipple(Z);b.addEventListener("transitionend",Se),b.addEventListener("transitioncancel",Ye),ie={onTransitionEnd:Se,onTransitionCancel:Ye}}),this._activeRipples.set(Z,ie),($||!_)&&this._finishRippleTransition(Z),Z}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...uB,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Wi(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,fB.forEach(i=>{bv._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{mB.forEach(e=>{this._triggerElement.addEventListener(e,this,hB)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Y0(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!K0(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(fB.forEach(e=>bv._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&mB.forEach(e=>t.removeEventListener(e,this,hB)))}}bv._eventManager=new T5;const w1=new s.OlP("mat-ripple-global-options");let aT=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new bv(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(On),s.Y36(w1,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),wv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[U,U]}),n})(),M5=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&s.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),n})(),pB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[U]}),n})();const gB=new s.OlP("MAT_OPTION_PARENT_COMPONENT"),_B=new s.OlP("MatOptgroup");let A5=0;class vB{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let k5=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Ot(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+A5++,this.onSelectionChange=new s.vpe,this._stateChanges=new et.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!ga(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new vB(this,e))}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(a,7),2&e){let r;s.iGM(r=s.CRH())&&(i._text=r.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),x1=(()=>{class n extends k5{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(gB,8),s.Y36(_B,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(s.Ikx("id",i.id),s.uIk("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),s.ekj("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},exportAs:["matOption"],features:[s.qOj],ngContentSelectors:g,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(s.F$t(f),s.YNc(0,c,1,2,"mat-pseudo-checkbox",0),s.Hsn(1),s.TgZ(2,"span",1,2),s.Hsn(4,1),s.qZA(),s.YNc(5,d,1,1,"mat-pseudo-checkbox",3),s.YNc(6,h,2,1,"span",4),s._UZ(7,"div",5)),2&e&&(s.Q6J("ngIf",i.multiple),s.xp6(5),s.Q6J("ngIf",!i.multiple&&i.selected&&!i.hideSingleSelectionIndicator),s.xp6(1),s.Q6J("ngIf",i.group&&i.group._inert),s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[aT,wi,M5],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),tw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[wv,In,U,pB]}),n})();const P5=["*",[["mat-toolbar-row"]]],F5=["*","mat-toolbar-row"],N5=nt(class{constructor(n){this._elementRef=n}});let L5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),B5=(()=>{class n extends N5{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(On),s.Y36(re))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,L5,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:F5,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(P5),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),V5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[U,U]}),n})();const U5=["mat-button",""],H5=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],j5=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],z5=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],$5=nt(Ze(gt(class{constructor(n){this._elementRef=n}})));let G5=(()=>{class n extends $5{constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,s.f3M)(Ou),this._isFab=!1;const l=e.nativeElement.classList;for(const u of z5)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(m=>{l.add(m)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(aT,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},features:[s.qOj]}),n})(),lT=(()=>{class n extends G5{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(On),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:U5,ngContentSelectors:j5,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(s.F$t(H5),s._UZ(0,"span",0),s.Hsn(1),s.TgZ(2,"span",1),s.Hsn(3,1),s.qZA(),s.Hsn(4,2),s._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(s.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),s.xp6(6),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[aT],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),xv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[U,wv,U]}),n})();var Z5=j(1144);const Y5=["addListener","removeListener"],K5=["addEventListener","removeEventListener"],Q5=["on","off"];function Pf(n,t,e,i){if((0,Gr.m)(e)&&(i=e,e=void 0),i)return Pf(n,t,e).pipe($h(i));const[r,o]=function eW(n){return(0,Gr.m)(n.addEventListener)&&(0,Gr.m)(n.removeEventListener)}(n)?K5.map(l=>u=>n[l](t,u,e)):function X5(n){return(0,Gr.m)(n.addListener)&&(0,Gr.m)(n.removeListener)}(n)?Y5.map(yB(n,t)):function J5(n){return(0,Gr.m)(n.on)&&(0,Gr.m)(n.off)}(n)?Q5.map(yB(n,t)):[];if(!r&&(0,Z5.z)(n))return(0,Nn.z)(l=>Pf(l,t,e))((0,Vo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Yn.y(l=>{const u=(...m)=>l.next(1<m.length?m:m[0]);return r(u),()=>o(u)})}function yB(n,t){return e=>i=>n[e](t,i)}var bB=j(4408);const nw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=nw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Lr.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=nw;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=nw;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var wB=j(7565);const xB=new class nW extends wB.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class tW extends bB.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=nw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(nw.cancelAnimationFrame(e),t._scheduled=void 0)}});let C1,iW=1;const cT={};function CB(n){return n in cT&&(delete cT[n],!0)}const rW={setImmediate(n){const t=iW++;return cT[t]=!0,C1||(C1=Promise.resolve()),C1.then(()=>CB(t)&&n()),t},clearImmediate(n){CB(n)}},{setImmediate:oW,clearImmediate:sW}=rW,dT={setImmediate(...n){const{delegate:t}=dT;return(t?.setImmediate||oW)(...n)},clearImmediate(n){const{delegate:t}=dT;return(t?.clearImmediate||sW)(n)},delegate:void 0},cW=new class lW extends wB.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class aW extends bB.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=dT.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(dT.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var uW=j(3532);function E1(n=0,t,e=ad.P){let i=-1;return null!=t&&((0,uW.K)(t)?e=t:i=t),new Yn.y(r=>{let o=function hW(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let l=0;return e.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function D1(n,t=ad.z){return function dW(n){return(0,Ln.e)((t,e)=>{let i=!1,r=null,o=null,l=!1;const u=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const _=r;r=null,e.next(_)}l&&e.complete()},m=()=>{o=null,l&&e.complete()};t.subscribe((0,Bn.x)(e,_=>{i=!0,r=_,o||(0,Vo.Xf)(n(_)).subscribe(o=(0,Bn.x)(e,u,m))},()=>{l=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>E1(n,t))}const fW=["contentWrapper"],mW=["*"],pW=new s.OlP("VIRTUAL_SCROLL_STRATEGY");let Up=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new et.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Yn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(D1(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):je()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(hn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Wi(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Pf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(On),s.LFG(re,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hp=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new et.x,this._elementScrolled=new Yn.y(l=>this.ngZone.runOutsideAngular(()=>Pf(this.elementRef.nativeElement,"scroll").pipe(Cn(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Af()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Af()?e.left=e.right:1==Af()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;kD()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==e?e=l?r:i:"end"==e&&(e=l?i:r),l&&2==Af()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:l&&1==Af()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Up),s.Y36(s.R0b),s.Y36(va,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),jp=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new et.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(D1(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(On),s.LFG(s.R0b),s.LFG(re,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EB=new s.OlP("VIRTUAL_SCROLLABLE");let vW=(()=>{class n extends Hp{constructor(e,i,r,o){super(e,i,r,o)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Up),s.Y36(s.R0b),s.Y36(va,8))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const bW=typeof requestAnimationFrame<"u"?xB:cW;let wW=(()=>{class n extends vW{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Ot(e)}constructor(e,i,r,o,l,u,m,_){super(e,u,r,l),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=_,this._platform=(0,s.f3M)(On),this._detachedSubject=new et.x,this._renderedRangeSubject=new et.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Yn.y(b=>this._scrollStrategy.scrolledIndexChange.subscribe(D=>Promise.resolve().then(()=>this.ngZone.run(()=>b.next(D))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Lr.w0.EMPTY,this._viewportChanges=m.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Er(null),D1(0,bW)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Cn(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function yW(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const o="horizontal"==this.orientation,l=o?"X":"Y";let m=`translate${l}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(m+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=m&&(this._renderedContentTransform=m,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",o="right",l="rtl"==this.dir?.value;i="start"==e?l?o:r:"end"==e?l?r:o:e||("horizontal"===this.orientation?"left":"top");const u=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-u}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(pW,8),s.Y36(va,8),s.Y36(Up),s.Y36(jp),s.Y36(EB,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&s.Gf(fW,7),2&e){let r;s.iGM(r=s.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[s._Bn([{provide:Hp,useFactory:(t,e)=>t||e,deps:[[new s.FiY,new s.tBr(EB)],n]}]),s.qOj,s.jDz],ngContentSelectors:mW,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(3),s.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Ff=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),T1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[yv,Ff,wW,yv,Ff]}),n})();class DB{}class xW{}const Pu="*";function oc(n,t){return{type:7,name:n,definitions:t,options:{}}}function oo(n,t=null){return{type:4,styles:t,timings:n}}function I1(n,t=null){return{type:3,steps:n,options:t}}function TB(n,t=null){return{type:2,steps:n,options:t}}function $n(n){return{type:6,styles:n,offset:null}}function Ho(n,t,e){return{type:0,name:n,styles:t,options:e}}function so(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function IB(n){Promise.resolve().then(n)}class iw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){IB(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class SB{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?IB(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==o&&this._onFinish()}),l.onDestroy(()=>{++i==o&&this._onDestroy()}),l.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,u)=>Math.max(l,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const A1="!",uT=["*"],CW=["content"];function EW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function DW(n,t){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const TW=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],IW=["mat-drawer","mat-drawer-content","*"];function SW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function MW(n,t){1&n&&(s.TgZ(0,"mat-sidenav-content"),s.Hsn(1,2),s.qZA())}const AW=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],kW=["mat-sidenav","mat-sidenav-content","*"],MB={transformDrawer:oc("transform",[Ho("open, open-instant",$n({transform:"none",visibility:"visible"})),Ho("void",$n({"box-shadow":"none",visibility:"hidden"})),so("void => open-instant",oo("0ms")),so("void <=> open, open-instant => void",oo("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},OW=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function PW(){return!1}}),k1=new s.OlP("MAT_DRAWER_CONTAINER");let hT=(()=>{class n extends Hp{constructor(e,i,r,o,l){super(r,o,l),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>kB)),s.Y36(s.SBq),s.Y36(Up),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:Hp,useExisting:n}]),s.qOj],ngContentSelectors:uT,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),AB=(()=>{class n{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Ot(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Ot(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Ot(e))}constructor(e,i,r,o,l,u,m,_){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=l,this._interactivityChecker=u,this._doc=m,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new et.x,this._animationEnd=new et.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(hn(b=>b),(0,Oe.U)(()=>{})),this.openedStart=this._animationStarted.pipe(hn(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),d_(void 0)),this._closedStream=this.openedChange.pipe(hn(b=>!b),(0,Oe.U)(()=>{})),this.closedStart=this._animationStarted.pipe(hn(b=>b.fromState!==b.toState&&"void"===b.toState),d_(void 0)),this._destroyed=new et.x,this.onPositionChanged=new s.vpe,this._modeChanged=new et.x,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Pf(this._elementRef.nativeElement,"keydown").pipe(hn(b=>27===b.keyCode&&!this.disableClose&&!ga(b)),Cn(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe(Bp((b,D)=>b.fromState===D.fromState&&b.toState===D.toState)).subscribe(b=>{const{fromState:D,toState:R}=b;(0===R.indexOf("open")&&"void"===D||"void"===R&&0===D.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(zn(1)).subscribe(l=>o(l?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Of),s.Y36(Ou),s.Y36(On),s.Y36(s.R0b),s.Y36(gv),s.Y36(re,8),s.Y36(k1,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&s.Gf(CW,5),2&e){let r;s.iGM(r=s.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&s.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(s.uIk("align",null),s.d8E("@transform",i._animationState),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:uT,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[Hp],encapsulation:2,data:{animation:[MB.transformDrawer]},changeDetection:0}),n})(),kB=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Ot(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Ot(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,o,l,u=!1,m){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=m,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new et.x,this._doCheckSubject=new et.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new et.x,e&&e.change.pipe(Cn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),l.change().pipe(Cn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=u}ngAfterContentInit(){this._allDrawers.changes.pipe(Er(this._allDrawers),Cn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Er(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(pv(10),Cn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(hn(i=>i.fromState!==i.toState),Cn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Cn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Cn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(zn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Cn((0,Zr.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(va,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(jp),s.Y36(OW),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,hT,5),s.Suo(r,AB,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(hT,5),2&e){let r;s.iGM(r=s.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:k1,useExisting:n}])],ngContentSelectors:IW,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(TW),s.YNc(0,EW,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,DW,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[wi,hT],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),R1=(()=>{class n extends hT{constructor(e,i,r,o,l){super(e,i,r,o,l)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>RB)),s.Y36(s.SBq),s.Y36(Up),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:Hp,useExisting:n}]),s.qOj],ngContentSelectors:uT,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),FW=(()=>{class n extends AB{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Ot(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Ls(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Ls(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(s.uIk("align",null),s.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[s.qOj],ngContentSelectors:uT,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[Hp],encapsulation:2,data:{animation:[MB.transformDrawer]},changeDetection:0}),n})(),RB=(()=>{class n extends kB{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,R1,5),s.Suo(r,FW,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[s._Bn([{provide:k1,useExisting:n}]),s.qOj],ngContentSelectors:kW,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(AW),s.YNc(0,SW,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,MW,2,0,"mat-sidenav-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[wi,R1],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),NW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[In,U,Ff,Ff,U]}),n})();const LW=["*"];let fT;function rw(n){return function BW(){if(void 0===fT&&(fT=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(fT=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return fT}()?.createHTML(n)||n}function OB(n){return Error(`Unable to find icon with the name "${n}"`)}function PB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function FB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class zp{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let mT=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new zp(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const l=this._sanitizer.sanitize(s.q3G.HTML,r);if(!l)throw FB(r);const u=rw(l);return this._addSvgIconConfig(e,i,new zp("",u,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new zp(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw FB(i);const l=rw(o);return this._addSvgIconSetConfig(e,new zp("",l,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw PB(e);const r=this._cachedIconsByUrl.get(i);return r?je(pT(r)):this._loadSvgIconFromConfig(new zp(e,null)).pipe((0,Vn.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,Oe.U)(o=>pT(o)))}getNamedSvgIcon(e,i=""){const r=NB(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(e,l):pu(OB(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?je(pT(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Oe.U)(i=>pT(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?je(r):ru(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(Kl(u=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,l.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(_)),je(null)})))).pipe((0,Oe.U)(()=>{const l=this._extractIconWithNameFromAnySet(e,i);if(!l)throw OB(e);return l}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(o),u=this._extractSvgIconFromSet(l,e,o.options);if(u)return u}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Vn.b)(i=>e.svgText=i),(0,Oe.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?je(null):this._fetchIcon(e).pipe((0,Vn.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const l=o.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const u=this._svgElementFromString(rw("<svg></svg>"));return u.appendChild(l),this._setSvgAttributes(u,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(rw("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:l,value:u}=r[o];"id"!==l&&i.setAttribute(l,u)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function VW(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!l)throw PB(i);const u=this._inProgressUrlFetches.get(l);if(u)return u;const m=this._httpClient.get(l,{responseType:"text",withCredentials:o}).pipe((0,Oe.U)(_=>rw(_)),Ql(()=>this._inProgressUrlFetches.delete(l)),(0,Zb.B)());return this._inProgressUrlFetches.set(l,m),m}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(NB(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return HW(o)?new zp(o.url,null,o.options):new zp(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vl,8),s.LFG($a),s.LFG(re,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pT(n){return n.cloneNode(!0)}function NB(n,t){return n+":"+t}function HW(n){return!(!n.url||!n.options)}const jW=nt(class{constructor(n){this._elementRef=n}}),zW=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),$W=new s.OlP("mat-icon-location",{providedIn:"root",factory:function GW(){const n=(0,s.f3M)(re),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),LB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],WW=LB.map(n=>`[${n}]`).join(", "),qW=/^url\(['"]?#(.*?)['"]?\)$/;let O1=(()=>{class n extends jW{get inline(){return this._inline}set inline(e){this._inline=Ot(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,l,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Lr.w0.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(l=>{o.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(WW),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)LB.forEach(l=>{const u=i[o],m=u.getAttribute(l),_=m?m.match(qW):null;if(_){let b=r.get(u);b||(b=[],r.set(u,b)),b.push({name:l,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(zn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(mT),s.$8M("aria-hidden"),s.Y36($W),s.Y36(s.qLn),s.Y36(zW,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:LW,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),P1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[U,U]}),n})();const ZW=["*"],JW=new s.OlP("MAT_CARD_CONFIG");let Cv=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(JW,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ZW,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),F1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),N1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),ow=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[U,In,U]}),n})();function uq(n,t){1&n&&(s.TgZ(0,"button",10),s._uU(1," Podopieczni "),s.qZA()),2&n&&s.Q6J("routerLink","/users-list")}function hq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.logOut())}),s.TgZ(1,"mat-icon"),s._uU(2,"login"),s.qZA(),s._uU(3," Log out "),s.qZA()}}function fq(n,t){1&n&&(s.TgZ(0,"button",10)(1,"mat-icon"),s._uU(2,"account_circle"),s.qZA(),s._uU(3,"Login "),s.qZA()),2&n&&s.Q6J("routerLink","/login")}function mq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-icon",20),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.onToggleClicked())}),s._uU(1,"highlight_off"),s.qZA()}}function pq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-icon",20),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.onToggleClicked())}),s._uU(1,"menu"),s.qZA()}}function gq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-toolbar",3)(1,"div",4)(2,"div",5)(3,"div",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onToggleClicked())}),s._UZ(4,"img",7),s.qZA()(),s.TgZ(5,"div",8)(6,"button",9),s._uU(7,"Home"),s.qZA(),s.TgZ(8,"button",10),s._uU(9," Treningi "),s.qZA(),s.TgZ(10,"button",10),s._uU(11,"Raporty"),s.qZA(),s.YNc(12,uq,2,1,"button",11),s.qZA()(),s.TgZ(13,"div",12)(14,"div",13),s.YNc(15,hq,4,0,"button",14),s.YNc(16,fq,4,1,"ng-template",null,15,s.W1O),s.qZA()(),s.TgZ(18,"div",16),s.YNc(19,mq,2,0,"mat-icon",17),s.ALo(20,"async"),s.YNc(21,pq,2,0,"ng-template",null,18,s.W1O),s.qZA()()}if(2&n){const e=t.ngIf,i=s.MAs(17),r=s.MAs(22),o=s.oxw();s.xp6(3),s.Q6J("routerLink","/"),s.xp6(3),s.Q6J("routerLink","/"),s.xp6(2),s.Q6J("routerLink","/training-plans"),s.xp6(2),s.Q6J("routerLink","/reports"),s.xp6(2),s.Q6J("ngIf","admin"===e.role),s.xp6(3),s.Q6J("ngIf",e.authId)("ngIfElse",i),s.xp6(4),s.Q6J("ngIf",s.lcZ(20,9,o.isToggle$))("ngIfElse",r)}}function _q(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.onToggleClicked())}),s._uU(1," Podopieczni "),s.qZA()}2&n&&s.Q6J("routerLink","/users-list")}function vq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.logOut())})("click",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.onToggleClicked())}),s.TgZ(1,"mat-icon"),s._uU(2,"login"),s.qZA(),s._uU(3," Log out "),s.qZA()}}function yq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.onToggleClicked())}),s.TgZ(1,"mat-icon"),s._uU(2,"account_circle"),s.qZA(),s._uU(3,"Login "),s.qZA()}2&n&&s.Q6J("routerLink","/login")}function bq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-card-content")(1,"div",23)(2,"div",4)(3,"button",24),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.onToggleClicked())}),s._uU(4," Home "),s.qZA()(),s.TgZ(5,"div",4)(6,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.onToggleClicked())}),s._uU(7," Treningi "),s.qZA()()(),s.TgZ(8,"div",4)(9,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.onToggleClicked())}),s._uU(10," Raporty "),s.qZA()(),s.TgZ(11,"div",4),s.YNc(12,_q,2,1,"button",26),s.qZA(),s.TgZ(13,"div",4),s.YNc(14,vq,4,0,"button",14),s.YNc(15,yq,4,1,"ng-template",null,15,s.W1O),s.qZA()()}if(2&n){const e=t.ngIf,i=s.MAs(16);s.xp6(3),s.Q6J("routerLink","/"),s.xp6(3),s.Q6J("routerLink","/training-plans"),s.xp6(3),s.Q6J("routerLink","/reports"),s.xp6(3),s.Q6J("ngIf","admin"===e.role),s.xp6(2),s.Q6J("ngIf",e.authId)("ngIfElse",i)}}function wq(n,t){if(1&n&&(s.TgZ(0,"mat-card",21),s.YNc(1,bq,17,6,"mat-card-content",22),s.ALo(2,"async"),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",s.lcZ(2,1,e.userAuthContext$))}}function xq(n,t){1&n&&(s.TgZ(0,"mat-sidenav-container")(1,"mat-sidenav-content",27),s.Hsn(2),s.qZA()())}const Cq=["*"];let Eq=(()=>{class n{constructor(e,i,r,o){this._authService=e,this._router=i,this._inMemoryUserContextStorage=r,this._cdr=o,this.userAuthContext$=this._inMemoryUserContextStorage.select(),this._isToggleSubject=new Gi(!1),this.isToggle$=this._isToggleSubject.asObservable()}logOut(){this._authService.logOut().pipe(tn(()=>this._inMemoryUserContextStorage.setState({authId:"",email:"",role:""}))).subscribe({next:()=>{this._router.navigate(["/"])}})}onToggleClicked(){this._isToggleSubject.next(!this._isToggleSubject.value)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ns),s.Y36(xi),s.Y36(rl),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-navigation"]],ngContentSelectors:Cq,decls:6,vars:7,consts:[["class","bg-cadetblue text-ghostwhite sticky-top border-grey d-flex justify-content-between z-index-2",4,"ngIf"],["class","fullscreen card-sd",4,"ngIf","ngIfElse"],["isToggleMenu",""],[1,"bg-cadetblue","text-ghostwhite","sticky-top","border-grey","d-flex","justify-content-between","z-index-2"],[1,"row"],[1,"col","ms-2"],[1,"d-flex-center","pointer",3,"routerLink","click"],["src","/assets/logo-sd.png","width","40"],[1,"col","text-start","p-0","navigation-hide"],["mat-button","",1,"mx-2","ms-2",3,"routerLink"],["mat-button","",1,"mx-2",3,"routerLink"],["class","mx-2","mat-button","",3,"routerLink",4,"ngIf"],[1,"navigation-hide"],[1,"col","p-o","text-end"],["class","mx-2","mat-button","",3,"click",4,"ngIf","ngIfElse"],["noLogin",""],[1,"navigation-menu","pointer","text-ghostwhite"],[3,"click",4,"ngIf","ngIfElse"],["isToggleIcon",""],["mat-button","",1,"mx-2",3,"click"],[3,"click"],[1,"fullscreen","card-sd"],[4,"ngIf"],[1,"container"],["mat-button","",1,"mx-2","ms-2",3,"routerLink","click"],["mat-button","",1,"mx-2",3,"routerLink","click"],["class","mx-2","mat-button","",3,"routerLink","click",4,"ngIf"],[1,"dimgray-color","font-size"]],template:function(e,i){if(1&e&&(s.F$t(),s.YNc(0,gq,23,11,"mat-toolbar",0),s.ALo(1,"async"),s.YNc(2,wq,3,3,"mat-card",1),s.ALo(3,"async"),s.YNc(4,xq,3,0,"ng-template",null,2,s.W1O)),2&e){const r=s.MAs(5);s.Q6J("ngIf",s.lcZ(1,3,i.userAuthContext$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(3,5,i.isToggle$))("ngIfElse",r)}},dependencies:[B5,Eu,lT,RB,R1,O1,wi,Cv,N1,yr],encapsulation:2,changeDetection:0}),n})(),Dq=(()=>{class n{constructor(){this.myControl=new ii(""),this.options=["One","Two","Three"]}ngOnInit(){this.filteredOptions=this.myControl.valueChanges.pipe(Er(""),(0,Oe.U)(e=>this._filter(e||"")))}_filter(e){const i=e.toLowerCase();return this.options.filter(r=>r.toLowerCase().includes(i))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,i){1&e&&(s.TgZ(0,"app-navigation")(1,"div"),s._UZ(2,"router-outlet"),s.qZA()())},dependencies:[gf,Eq],styles:[".center[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;background-color:#eee;min-height:100vh}.center_mat-card[_ngcontent-%COMP%]{width:100%;max-width:320px;min-height:200px}"]}),n})();function L1(){return(0,Ln.e)((n,t)=>{let e,i=!1;n.subscribe((0,Bn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}j(9568);var lt,BB=j(3942),Tq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sc={},B1=B1||{},dn=Tq||self;function gT(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function sw(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var V1="closure_uid_"+(1e9*Math.random()>>>0),Sq=0;function Mq(n,t,e){return n.call.apply(n.bind,arguments)}function Aq(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function jo(n,t,e){return(jo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Mq:Aq).apply(null,arguments)}function _T(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ao(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var l=Array(arguments.length-2),u=2;u<arguments.length;u++)l[u-2]=arguments[u];return t.prototype[r].apply(i,l)}}function Nf(){this.s=this.s,this.o=this.o}Nf.prototype.s=!1,Nf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Iq(n){Object.prototype.hasOwnProperty.call(n,V1)&&n[V1]||(n[V1]=++Sq)}(this)},Nf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const VB=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function U1(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function UB(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(gT(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let l=0;l<o;l++)n[r+l]=i[l]}else n.push(i)}}function zo(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}zo.prototype.h=function(){this.defaultPrevented=!0};var Rq=function(){if(!dn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{dn.addEventListener("test",()=>{},t),dn.removeEventListener("test",()=>{},t)}catch{}return n}();function aw(n){return/^[\s\xa0]*$/.test(n)}function vT(){var n=dn.navigator;return n&&(n=n.userAgent)?n:""}function cd(n){return-1!=vT().indexOf(n)}function H1(n){return H1[" "](n),n}H1[" "]=function(){};var z1,n,Pq=cd("Opera"),Ev=cd("Trident")||cd("MSIE"),HB=cd("Edge"),j1=HB||Ev,jB=cd("Gecko")&&!(-1!=vT().toLowerCase().indexOf("webkit")&&!cd("Edge"))&&!(cd("Trident")||cd("MSIE"))&&!cd("Edge"),Fq=-1!=vT().toLowerCase().indexOf("webkit")&&!cd("Edge");function zB(){var n=dn.document;return n?n.documentMode:void 0}e:{var $1="",G1=(n=vT(),jB?/rv:([^\);]+)(\)|;)/.exec(n):HB?/Edge\/([\d\.]+)/.exec(n):Ev?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Fq?/WebKit\/(\S+)/.exec(n):Pq?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(G1&&($1=G1?G1[1]:""),Ev){var W1=zB();if(null!=W1&&W1>parseFloat($1)){z1=String(W1);break e}}z1=$1}var Nq=dn.document&&Ev&&(zB()||parseInt(z1,10))||void 0;function lw(n,t){if(zo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(jB){e:{try{H1(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Lq[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&lw.$.h.call(this)}}ao(lw,zo);var Lq={2:"touch",3:"pen",4:"mouse"};lw.prototype.h=function(){lw.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var cw="closure_listenable_"+(1e6*Math.random()|0),Bq=0;function Vq(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++Bq,this.fa=this.ia=!1}function yT(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Z1(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function GB(n){const t={};for(const e in n)t[e]=n[e];return t}const WB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qB(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<WB.length;o++)e=WB[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function bT(n){this.src=n,this.g={},this.h=0}function Y1(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=VB(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(yT(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function K1(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}bT.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var l=K1(n,t,i,r);return-1<l?(t=n[l],e||(t.ia=!1)):((t=new Vq(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var Q1="closure_lm_"+(1e6*Math.random()|0),X1={};function ZB(n,t,e,i,r){if(i&&i.once)return KB(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ZB(n,t[o],e,i,r);return null}return e=nR(e),n&&n[cw]?n.O(t,e,sw(i)?!!i.capture:!!i,r):YB(n,t,e,!1,i,r)}function YB(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var l=sw(r)?!!r.capture:!!r,u=eR(n);if(u||(n[Q1]=u=new bT(n)),(e=u.add(t,e,i,l,o)).proxy)return e;if(i=function Hq(){const t=jq;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Rq||(r=l),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(XB(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function KB(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)KB(n,t[o],e,i,r);return null}return e=nR(e),n&&n[cw]?n.P(t,e,sw(i)?!!i.capture:!!i,r):YB(n,t,e,!0,i,r)}function QB(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)QB(n,t[o],e,i,r);else i=sw(i)?!!i.capture:!!i,e=nR(e),n&&n[cw]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=K1(o=n.g[t],e,i,r))&&(yT(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=eR(n))&&(t=n.g[t.toString()],n=-1,t&&(n=K1(t,e,i,r)),(e=-1<n?t[n]:null)&&J1(e))}function J1(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[cw])Y1(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(XB(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=eR(t))?(Y1(e,n),0==e.h&&(e.src=null,t[Q1]=null)):yT(n)}}}function XB(n){return n in X1?X1[n]:X1[n]="on"+n}function jq(n,t){if(n.fa)n=!0;else{t=new lw(t,this);var e=n.listener,i=n.la||n.src;n.ia&&J1(n),n=e.call(i,t)}return n}function eR(n){return(n=n[Q1])instanceof bT?n:null}var tR="__closure_events_fn_"+(1e9*Math.random()>>>0);function nR(n){return"function"==typeof n?n:(n[tR]||(n[tR]=function(t){return n.handleEvent(t)}),n[tR])}function lo(){Nf.call(this),this.i=new bT(this),this.S=this,this.J=null}function To(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new zo(t,n);else if(t instanceof zo)t.target=t.target||n;else{var r=t;qB(t=new zo(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var l=t.g=e[o];r=wT(l,i,!0,t)&&r}if(r=wT(l=t.g=n,i,!0,t)&&r,r=wT(l,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=wT(l=t.g=e[o],i,!1,t)&&r}function wT(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var l=t[o];if(l&&!l.fa&&l.capture==e){var u=l.listener,m=l.la||l.src;l.ia&&Y1(n.i,l),r=!1!==u.call(m,i)&&r}}return r&&!i.defaultPrevented}ao(lo,Nf),lo.prototype[cw]=!0,lo.prototype.removeEventListener=function(n,t,e,i){QB(this,n,t,e,i)},lo.prototype.N=function(){if(lo.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)yT(e[i]);delete n.g[t],n.h--}}this.J=null},lo.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},lo.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var iR=dn.JSON.stringify;function $q(){var n=rR;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var JB=new class zq{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Wq,n=>n.reset());class Wq{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function qq(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function Zq(n){dn.setTimeout(()=>{throw n},0)}let dw,uw=!1,rR=new class Gq{constructor(){this.h=this.g=null}add(t,e){const i=JB.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},eV=()=>{const n=dn.Promise.resolve(void 0);dw=()=>{n.then(Yq)}};var Yq=()=>{for(var n;n=$q();){try{n.h.call(n.g)}catch(e){Zq(e)}var t=JB;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}uw=!1};function xT(n,t){lo.call(this),this.h=n||1,this.g=t||dn,this.j=jo(this.qb,this),this.l=Date.now()}function oR(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function sR(n,t,e){if("function"==typeof n)e&&(n=jo(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=jo(n.handleEvent,n)}return 2147483647<Number(t)?-1:dn.setTimeout(n,t||0)}function tV(n){n.g=sR(()=>{n.g=null,n.i&&(n.i=!1,tV(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ao(xT,lo),(lt=xT.prototype).ga=!1,lt.T=null,lt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),To(this,"tick"),this.ga&&(oR(this),this.start()))}},lt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.N=function(){xT.$.N.call(this),oR(this),delete this.g};class Kq extends Nf{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:tV(this)}N(){super.N(),this.g&&(dn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hw(n){Nf.call(this),this.h=n,this.g={}}ao(hw,Nf);var nV=[];function iV(n,t,e,i){Array.isArray(e)||(e&&(nV[0]=e.toString()),e=nV);for(var r=0;r<e.length;r++){var o=ZB(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function rV(n){Z1(n.g,function(t,e){this.g.hasOwnProperty(e)&&J1(t)},n),n.g={}}function CT(){this.g=!0}function Dv(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function e8(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var l=1;l<r.length;l++)r[l]=""}}}return iR(e)}catch{return t}}(n,e)+(i?" "+i:"")})}hw.prototype.N=function(){hw.$.N.call(this),rV(this)},hw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},CT.prototype.Ea=function(){this.g=!1},CT.prototype.info=function(){};var $p={},oV=null;function ET(){return oV=oV||new lo}function sV(n){zo.call(this,$p.Ta,n)}function fw(n){const t=ET();To(t,new sV(t))}function aV(n,t){zo.call(this,$p.STAT_EVENT,n),this.stat=t}function ds(n){const t=ET();To(t,new aV(t,n))}function lV(n,t){zo.call(this,$p.Ua,n),this.size=t}function mw(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return dn.setTimeout(function(){n()},t)}$p.Ta="serverreachability",ao(sV,zo),$p.STAT_EVENT="statevent",ao(aV,zo),$p.Ua="timingevent",ao(lV,zo);var DT={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function aR(){}function uV(){}aR.prototype.h=null;var dR,pw={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lR(){zo.call(this,"d")}function cR(){zo.call(this,"c")}function TT(){}function gw(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new hw(this),this.P=t8,this.V=new xT(n=j1?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hV}function hV(){this.i=null,this.g="",this.h=!1}ao(lR,zo),ao(cR,zo),ao(TT,aR),TT.prototype.g=function(){return new XMLHttpRequest},TT.prototype.i=function(){return{}},dR=new TT;var t8=45e3,uR={},IT={};function hR(n,t,e){n.L=1,n.v=kT(Fu(t)),n.s=e,n.S=!0,fV(n,null)}function fV(n,t){n.G=Date.now(),_w(n),n.A=Fu(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),CV(e.i,"t",i),n.C=0,e=n.l.J,n.h=new hV,n.g=qV(n.l,e?t:null,!n.s),0<n.O&&(n.M=new Kq(jo(n.Pa,n,n.g),n.O)),iV(n.U,n.g,"readystatechange",n.nb),t=n.I?GB(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),fw(),function Qq(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var l="",u=o.split("&"),m=0;m<u.length;m++){var _=u[m].split("=");if(1<_.length){var b=_[0];_=_[1];var D=b.split("_");l=2<=D.length&&"type"==D[1]?l+(b+"=")+_+"&":l+(b+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function mV(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function pV(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=n8(n,e),r==IT){4==t&&(n.o=4,ds(14),i=!1),Dv(n.j,n.m,null,"[Incomplete Response]");break}if(r==uR){n.o=4,ds(15),Dv(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Dv(n.j,n.m,r,null),fR(n,r)}mV(n)&&r!=IT&&r!=uR&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ds(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),bR(t),t.M=!0,ds(11))):(Dv(n.j,n.m,e,"[Invalid Chunked Response]"),Gp(n),vw(n))}function n8(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?IT:(e=Number(t.substring(e,i)),isNaN(e)?uR:(i+=1)+e>t.length?IT:(t=t.slice(i,i+e),n.C=i+e,t))}function _w(n){n.Y=Date.now()+n.P,gV(n,n.P)}function gV(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=mw(jo(n.lb,n),t)}function ST(n){n.B&&(dn.clearTimeout(n.B),n.B=null)}function vw(n){0==n.l.H||n.J||zV(n.l,n)}function Gp(n){ST(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,oR(n.V),rV(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function fR(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||mR(e.i,n)))if(!n.K&&mR(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;LT(e),FT(e)}yR(e),ds(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=mw(jo(e.ib,e),6e3));if(1>=TV(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else qp(e,11)}else if((n.K||e.g==n)&&LT(e),!aw(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.V=_[0],_=_[1],2==e.H)if("c"==_[0]){e.K=_[1],e.pa=_[2];const b=_[3];null!=b&&(e.ra=b,e.l.info("VER="+e.ra));const D=_[4];null!=D&&(e.Ga=D,e.l.info("SVER="+e.Ga));const R=_[5];null!=R&&"number"==typeof R&&0<R&&(e.L=i=1.5*R,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const F=n.g;if(F){const $=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var o=i.i;o.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(pR(o,o.h),o.h=null))}if(i.F){const Z=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;Z&&(i.Da=Z,Pi(i.I,i.F,Z))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var l=n;if((i=e).wa=WV(i,i.J?i.pa:null,i.Y),l.K){IV(i.i,l);var u=l,m=i.L;m&&u.setTimeout(m),u.B&&(ST(u),_w(u)),i.g=l}else HV(i);0<e.j.length&&NT(e)}else"stop"!=_[0]&&"close"!=_[0]||qp(e,7);else 3==e.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?qp(e,7):vR(e):"noop"!=_[0]&&e.h&&e.h.Aa(_),e.A=0)}fw()}catch{}}function _V(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(gT(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function o8(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(gT(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function r8(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(gT(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(lt=gw.prototype).setTimeout=function(n){this.P=n},lt.nb=function(n){n=n.target;const t=this.M;t&&3==dd(n)?t.l():this.Pa(n)},lt.Pa=function(n){try{if(n==this.g)e:{const b=dd(this.g);var t=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||j1||this.g&&(this.h.h||this.g.ja()||FV(this.g)))){this.J||4!=b||7==t||fw(),ST(this);var e=this.g.da();this.ca=e;t:if(mV(this)){var i=FV(this.g);n="";var r=i.length,o=4==dd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Gp(this),vw(this);var l="";break t}this.h.i=new dn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==e,function Xq(n,t,e,i,r,o,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+l})}(this.j,this.u,this.A,this.m,this.W,b,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,m=this.g;if((u=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!aw(u)){var _=u;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,ds(12),Gp(this),vw(this);break e}Dv(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fR(this,e)}this.S?(pV(this,b,l),j1&&this.i&&3==b&&(iV(this.U,this.V,"tick",this.mb),this.V.start())):(Dv(this.j,this.m,l,null),fR(this,l)),4==b&&Gp(this),this.i&&!this.J&&(4==b?zV(this.l,this):(this.i=!1,_w(this)))}else(function C8(n){const t={};n=(n.g&&2<=dd(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(aw(n[i]))continue;var e=qq(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function Uq(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<l.indexOf("Unknown SID")?(this.o=3,ds(12)):(this.o=0,ds(13)),Gp(this),vw(this)}}}catch{}},lt.mb=function(){if(this.g){var n=dd(this.g),t=this.g.ja();this.C<t.length&&(ST(this),pV(this,n,t),this.i&&4!=n&&_w(this))}},lt.cancel=function(){this.J=!0,Gp(this)},lt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Jq(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(fw(),ds(17)),Gp(this),this.o=2,vw(this)):gV(this,this.Y-n)};var vV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wp(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wp){this.h=n.h,MT(this,n.j),this.s=n.s,this.g=n.g,AT(this,n.m),this.l=n.l;var t=n.i,e=new ww;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),yV(this,e),this.o=n.o}else n&&(t=String(n).match(vV))?(this.h=!1,MT(this,t[1]||"",!0),this.s=yw(t[2]||""),this.g=yw(t[3]||"",!0),AT(this,t[4]),this.l=yw(t[5]||"",!0),yV(this,t[6]||"",!0),this.o=yw(t[7]||"")):(this.h=!1,this.i=new ww(null,this.h))}function Fu(n){return new Wp(n)}function MT(n,t,e){n.j=e?yw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function AT(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function yV(n,t,e){t instanceof ww?(n.i=t,function h8(n,t){t&&!n.j&&(Lf(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(wV(this,i),CV(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=bw(t,d8)),n.i=new ww(t,n.h))}function Pi(n,t,e){n.i.set(t,e)}function kT(n){return Pi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function yw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function bw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,a8),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function a8(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(bw(t,bV,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(bw(t,bV,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(bw(e,"/"==e.charAt(0)?c8:l8,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",bw(e,u8)),n.join("")};var bV=/[#\/\?@]/g,l8=/[#\?:]/g,c8=/[#\?]/g,d8=/[#\?@]/g,u8=/#/g;function ww(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Lf(n){n.g||(n.g=new Map,n.h=0,n.i&&function s8(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function wV(n,t){Lf(n),t=Tv(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function xV(n,t){return Lf(n),t=Tv(n,t),n.g.has(t)}function CV(n,t,e){wV(n,t),0<e.length&&(n.i=null,n.g.set(Tv(n,t),U1(e)),n.h+=e.length)}function Tv(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function EV(n){this.l=n||m8,n=dn.PerformanceNavigationTiming?0<(n=dn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(dn.g&&dn.g.Ka&&dn.g.Ka()&&dn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=ww.prototype).add=function(n,t){Lf(this),this.i=null,n=Tv(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},lt.forEach=function(n,t){Lf(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},lt.ta=function(){Lf(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},lt.Z=function(n){Lf(this);let t=[];if("string"==typeof n)xV(this,n)&&(t=t.concat(this.g.get(Tv(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},lt.set=function(n,t){return Lf(this),this.i=null,xV(this,n=Tv(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},lt.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=o;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var m8=10;function DV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function TV(n){return n.h?1:n.g?n.g.size:0}function mR(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function pR(n,t){n.g?n.g.add(t):n.h=t}function IV(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function SV(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return U1(n.i)}EV.prototype.cancel=function(){if(this.i=SV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var p8=class{stringify(n){return dn.JSON.stringify(n,void 0)}parse(n){return dn.JSON.parse(n,void 0)}};function g8(){this.g=new p8}function _8(n,t,e){const i=e||"";try{_V(n,function(r,o){let l=r;sw(r)&&(l=iR(r)),t.push(i+o+"="+encodeURIComponent(l))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function RT(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function xw(n){this.l=n.fc||null,this.j=n.ob||!1}function OT(n,t){lo.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=gR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ao(xw,aR),xw.prototype.g=function(){return new OT(this.l,this.j)},xw.prototype.i=function(n){return function(){return n}}({}),ao(OT,lo);var gR=0;function MV(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Cw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ew(n)}function Ew(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=OT.prototype).open=function(n,t){if(this.readyState!=gR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Ew(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||dn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cw(this)),this.readyState=gR},lt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ew(this)),this.g&&(this.readyState=3,Ew(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof dn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MV(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},lt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Cw(this):Ew(this),3==this.readyState&&MV(this)}},lt.Za=function(n){this.g&&(this.response=this.responseText=n,Cw(this))},lt.Ya=function(n){this.g&&(this.response=n,Cw(this))},lt.ka=function(){this.g&&Cw(this)},lt.setRequestHeader=function(n,t){this.v.append(n,t)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(OT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var y8=dn.JSON.parse;function hr(n){lo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=AV,this.L=this.M=!1}ao(hr,lo);var AV="",b8=/^https?$/i,w8=["POST","PUT"];function kV(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,RV(n),PT(n)}function RV(n){n.F||(n.F=!0,To(n,"complete"),To(n,"error"))}function OV(n){if(n.h&&typeof B1<"u"&&(!n.C[1]||4!=dd(n)||2!=n.da()))if(n.v&&4==dd(n))sR(n.La,0,n);else if(To(n,"readystatechange"),4==dd(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===l){var r=String(n.I).match(vV)[1]||null;!r&&dn.self&&dn.self.location&&(r=dn.self.location.protocol.slice(0,-1)),i=!b8.test(r?r.toLowerCase():"")}e=i}if(e)To(n,"complete"),To(n,"success");else{n.m=6;try{var o=2<dd(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",RV(n)}}finally{PT(n)}}}function PT(n,t){if(n.g){PV(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||To(n,"ready");try{e.onreadystatechange=i}catch{}}}function PV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(dn.clearTimeout(n.A),n.A=null)}function dd(n){return n.g?n.g.readyState:0}function FV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case AV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function NV(n){let t="";return Z1(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function _R(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=NV(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Pi(n,t,e))}function Dw(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function LV(n){this.Ga=0,this.j=[],this.l=new CT,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dw("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dw("baseRetryDelayMs",5e3,n),this.hb=Dw("retryDelaySeedMs",1e4,n),this.eb=Dw("forwardChannelMaxRetries",2,n),this.xa=Dw("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new EV(n&&n.concurrentRequestLimit),this.Ja=new g8,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vR(n){if(BV(n),3==n.H){var t=n.W++,e=Fu(n.I);if(Pi(e,"SID",n.K),Pi(e,"RID",t),Pi(e,"TYPE","terminate"),Tw(n,e),(t=new gw(n,n.l,t)).L=2,t.v=kT(Fu(e)),e=!1,dn.navigator&&dn.navigator.sendBeacon)try{e=dn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&dn.Image&&((new Image).src=t.v,e=!0),e||(t.g=qV(t.l,null),t.g.ha(t.v)),t.G=Date.now(),_w(t)}GV(n)}function FT(n){n.g&&(bR(n),n.g.cancel(),n.g=null)}function BV(n){FT(n),n.u&&(dn.clearTimeout(n.u),n.u=null),LT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&dn.clearTimeout(n.m),n.m=null)}function NT(n){if(!DV(n.i)&&!n.m){n.m=!0;var t=n.Na;dw||eV(),uw||(dw(),uw=!0),rR.add(t,n),n.C=0}}function VV(n,t){var e;e=t?t.m:n.W++;const i=Fu(n.I);Pi(i,"SID",n.K),Pi(i,"RID",e),Pi(i,"AID",n.V),Tw(n,i),n.o&&n.s&&_R(i,n.o,n.s),e=new gw(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=UV(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),pR(n.i,e),hR(e,i,t)}function Tw(n,t){n.na&&Z1(n.na,function(e,i){Pi(t,i,e)}),n.h&&_V({},function(e,i){Pi(t,i,e)})}function UV(n,t,e){e=Math.min(n.j.length,e);var i=n.h?jo(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const l=["count="+e];-1==o?0<e?(o=r[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let u=!0;for(let m=0;m<e;m++){let _=r[m].g;const b=r[m].map;if(_-=o,0>_)o=Math.max(0,r[m].g-100),u=!1;else try{_8(b,l,"req"+_+"_")}catch{i&&i(b)}}if(u){i=l.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function HV(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;dw||eV(),uw||(dw(),uw=!0),rR.add(t,n),n.A=0}}function yR(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=mw(jo(n.Ma,n),$V(n,n.A)),n.A++,0))}function bR(n){null!=n.B&&(dn.clearTimeout(n.B),n.B=null)}function jV(n){n.g=new gw(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Fu(n.wa);Pi(t,"RID","rpc"),Pi(t,"SID",n.K),Pi(t,"AID",n.V),Pi(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&Pi(t,"TO",n.qa),Pi(t,"TYPE","xmlhttp"),Tw(n,t),n.o&&n.s&&_R(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=kT(Fu(t)),e.s=null,e.S=!0,fV(e,n)}function LT(n){null!=n.v&&(dn.clearTimeout(n.v),n.v=null)}function zV(n,t){var e=null;if(n.g==t){LT(n),bR(n),n.g=null;var i=2}else{if(!mR(n.i,t))return;e=t.F,IV(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;To(i=ET(),new lV(i,e)),NT(n)}else HV(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function E8(n,t){return!(TV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=mw(jo(n.Na,n,t),$V(n,n.C)),n.C++,0)))}(n,t)||2==i&&yR(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:qp(n,5);break;case 4:qp(n,10);break;case 3:qp(n,6);break;default:qp(n,2)}}function $V(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function qp(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=jo(n.pb,n);e||(e=new Wp("//www.google.com/images/cleardot.gif"),dn.location&&"http"==dn.location.protocol||MT(e,"https"),kT(e)),function v8(n,t){const e=new CT;if(dn.Image){const i=new Image;i.onload=_T(RT,e,i,"TestLoadImage: loaded",!0,t),i.onerror=_T(RT,e,i,"TestLoadImage: error",!1,t),i.onabort=_T(RT,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=_T(RT,e,i,"TestLoadImage: timeout",!1,t),dn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else ds(2);n.H=0,n.h&&n.h.za(t),GV(n),BV(n)}function GV(n){if(n.H=0,n.ma=[],n.h){const t=SV(n.i);(0!=t.length||0!=n.j.length)&&(UB(n.ma,t),UB(n.ma,n.j),n.i.i.length=0,U1(n.j),n.j.length=0),n.h.ya()}}function WV(n,t,e){var i=e instanceof Wp?Fu(e):new Wp(e);if(""!=i.g)t&&(i.g=t+"."+i.g),AT(i,i.m);else{var r=dn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Wp(null);i&&MT(o,i),t&&(o.g=t),r&&AT(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&Pi(i,e,t),Pi(i,"VER",n.ra),Tw(n,i),i}function qV(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new hr(e&&n.Ha&&!n.va?new xw({ob:!0}):n.va)).Oa(n.J),t}function ZV(){}function BT(){if(Ev&&!(10<=Number(Nq)))throw Error("Environmental error: no available transport.")}function ya(n,t){lo.call(this),this.g=new LV(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!aw(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!aw(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Iv(this)}function YV(n){lR.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function KV(){cR.call(this),this.status=1}function Iv(n){this.g=n}function ac(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function wR(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],l=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;l=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(l<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((o=(t=e+((l=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=o+((l=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function ri(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(lt=hr.prototype).Oa=function(n){this.M=n},lt.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dR.g(),this.C=function dV(n){return n.h||(n.h=n.i())}(this.u?this.u:dR),this.g.onreadystatechange=jo(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void kV(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=dn.FormData&&n instanceof dn.FormData,!(0<=VB(w8,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of e)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{PV(this),0<this.B&&((this.L=function x8(n){return Ev&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jo(this.ua,this)):this.A=sR(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){kV(this,o)}},lt.ua=function(){typeof B1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,To(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,To(this,"complete"),To(this,"abort"),PT(this))},lt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),PT(this,!0)),hr.$.N.call(this)},lt.La=function(){this.s||(this.G||this.v||this.l?OV(this):this.kb())},lt.kb=function(){OV(this)},lt.isActive=function(){return!!this.g},lt.da=function(){try{return 2<dd(this)?this.g.status:-1}catch{return-1}},lt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},lt.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),y8(t)}},lt.Ia=function(){return this.m},lt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=LV.prototype).ra=8,lt.H=1,lt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new gw(this,this.l,n);let o=this.s;if(this.U&&(o?(o=GB(o),qB(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=UV(this,r,t),Pi(e=Fu(this.I),"RID",n),Pi(e,"CVER",22),this.F&&Pi(e,"X-HTTP-Session-Id",this.F),Tw(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(NV(o)))+"&"+t:this.o&&_R(e,this.o,o)),pR(this.i,r),this.bb&&Pi(e,"TYPE","init"),this.P?(Pi(e,"$req",t),Pi(e,"SID","null"),r.aa=!0,hR(r,e,null)):hR(r,e,t),this.H=2}}else 3==this.H&&(n?VV(this,n):0==this.j.length||DV(this.i)||VV(this))},lt.Ma=function(){if(this.u=null,jV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=mw(jo(this.jb,this),n)}},lt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ds(10),FT(this),jV(this))},lt.ib=function(){null!=this.v&&(this.v=null,FT(this),yR(this),ds(19))},lt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ds(2)):(this.l.info("Failed to ping google.com"),ds(1))},lt.isActive=function(){return!!this.h&&this.h.isActive(this)},(lt=ZV.prototype).Ba=function(){},lt.Aa=function(){},lt.za=function(){},lt.ya=function(){},lt.isActive=function(){return!0},lt.Va=function(){},BT.prototype.g=function(n,t){return new ya(n,t)},ao(ya,lo),ya.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;ds(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=WV(n,null,n.Y),NT(n)},ya.prototype.close=function(){vR(this.g)},ya.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=iR(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&NT(t)},ya.prototype.N=function(){this.g.h=null,delete this.j,vR(this.g),delete this.g,ya.$.N.call(this)},ao(YV,lR),ao(KV,cR),ao(Iv,ZV),Iv.prototype.Ba=function(){To(this.g,"a")},Iv.prototype.Aa=function(n){To(this.g,new YV(n))},Iv.prototype.za=function(n){To(this.g,new KV)},Iv.prototype.ya=function(){To(this.g,"b")},ao(ac,function D8(){this.blockSize=-1}),ac.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ac.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)wR(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){wR(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){wR(this,i),r=0;break}}this.h=r,this.i+=t},ac.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var T8={};function xR(n){return-128<=n&&128>n?function Oq(n,t){var e=T8;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new ri([0|t],0>t?-1:0)}):new ri([0|n],0>n?-1:0)}function ud(n){if(isNaN(n)||!isFinite(n))return Sv;if(0>n)return Io(ud(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=CR;return new ri(t,0)}var CR=4294967296,Sv=xR(0),ER=xR(1),XV=xR(16777216);function Nu(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function sl(n){return-1==n.h}function Io(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new ri(e,~n.h).add(ER)}function VT(n,t){return n.add(Io(t))}function UT(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Iw(n,t){this.g=n,this.h=t}function HT(n,t){if(Nu(t))throw Error("division by zero");if(Nu(n))return new Iw(Sv,Sv);if(sl(n))return t=HT(Io(n),t),new Iw(Io(t.g),Io(t.h));if(sl(t))return t=HT(n,Io(t)),new Iw(Io(t.g),t.h);if(30<n.g.length){if(sl(n)||sl(t))throw Error("slowDivide_ only works with positive integers.");for(var e=ER,i=t;0>=i.X(n);)e=JV(e),i=JV(i);var r=Mv(e,1),o=Mv(i,1);for(i=Mv(i,2),e=Mv(e,2);!Nu(i);){var l=o.add(i);0>=l.X(n)&&(r=r.add(e),o=l),i=Mv(i,1),e=Mv(e,1)}return t=VT(n,r.R(t)),new Iw(r,t)}for(r=Sv;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),l=(o=ud(e)).R(t);sl(l)||0<l.X(n);)l=(o=ud(e-=i)).R(t);Nu(o)&&(o=ER),r=r.add(o),n=VT(n,l)}return new Iw(r,n)}function JV(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new ri(e,n.h)}function Mv(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new ri(r,n.h)}(lt=ri.prototype).ea=function(){if(sl(this))return-Io(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:CR+i)*t,t*=CR}return n},lt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Nu(this))return"0";if(sl(this))return"-"+Io(this).toString(n);for(var t=ud(Math.pow(n,6)),e=this,i="";;){var r=HT(e,t).g,o=((0<(e=VT(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Nu(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},lt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},lt.X=function(n){return sl(n=VT(this,n))?-1:Nu(n)?0:1},lt.abs=function(){return sl(this)?Io(this):this},lt.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),l=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,e[r]=(l&=65535)<<16|(o&=65535)}return new ri(e,-2147483648&e[e.length-1]?-1:0)},lt.R=function(n){if(Nu(this)||Nu(n))return Sv;if(sl(this))return sl(n)?Io(this).R(Io(n)):Io(Io(this).R(n));if(sl(n))return Io(this.R(Io(n)));if(0>this.X(XV)&&0>n.X(XV))return ud(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,l=65535&this.D(i),u=n.D(r)>>>16,m=65535&n.D(r);e[2*i+2*r]+=l*m,UT(e,2*i+2*r),e[2*i+2*r+1]+=o*m,UT(e,2*i+2*r+1),e[2*i+2*r+1]+=l*u,UT(e,2*i+2*r+1),e[2*i+2*r+2]+=o*u,UT(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new ri(e,0)},lt.gb=function(n){return HT(this,n).h},lt.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new ri(e,this.h&n.h)},lt.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new ri(e,this.h|n.h)},lt.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new ri(e,this.h^n.h)},BT.prototype.createWebChannel=BT.prototype.g,ya.prototype.send=ya.prototype.u,ya.prototype.open=ya.prototype.m,ya.prototype.close=ya.prototype.close,DT.NO_ERROR=0,DT.TIMEOUT=8,DT.HTTP_ERROR=6,cV.COMPLETE="complete",uV.EventType=pw,pw.OPEN="a",pw.CLOSE="b",pw.ERROR="c",pw.MESSAGE="d",lo.prototype.listen=lo.prototype.O,hr.prototype.listenOnce=hr.prototype.P,hr.prototype.getLastError=hr.prototype.Sa,hr.prototype.getLastErrorCode=hr.prototype.Ia,hr.prototype.getStatus=hr.prototype.da,hr.prototype.getResponseJson=hr.prototype.Wa,hr.prototype.getResponseText=hr.prototype.ja,hr.prototype.send=hr.prototype.ha,hr.prototype.setWithCredentials=hr.prototype.Oa,ac.prototype.digest=ac.prototype.l,ac.prototype.reset=ac.prototype.reset,ac.prototype.update=ac.prototype.j,ri.prototype.add=ri.prototype.add,ri.prototype.multiply=ri.prototype.R,ri.prototype.modulo=ri.prototype.gb,ri.prototype.compare=ri.prototype.X,ri.prototype.toNumber=ri.prototype.ea,ri.prototype.toString=ri.prototype.toString,ri.prototype.getBits=ri.prototype.D,ri.fromNumber=ud,ri.fromString=function QV(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Io(QV(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=ud(Math.pow(t,8)),i=Sv,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+o),t);8>o?(o=ud(Math.pow(t,o)),i=i.R(o).add(ud(l))):i=(i=i.R(e)).add(ud(l))}return i};var I8=sc.createWebChannelTransport=function(){return new BT},S8=sc.getStatEventTarget=function(){return ET()},DR=sc.ErrorCode=DT,M8=sc.EventType=cV,A8=sc.Event=$p,eU=sc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},k8=sc.FetchXmlHttpFactory=xw,jT=sc.WebChannel=uV,R8=sc.XhrIo=hr,O8=sc.Md5=ac,Av=sc.Integer=ri;const tU="@firebase/firestore";class co{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}co.UNAUTHENTICATED=new co(null),co.GOOGLE_CREDENTIALS=new co("google-credentials-uid"),co.FIRST_PARTY=new co("first-party-uid"),co.MOCK_USER=new co("mock-user");let kv="9.23.0";const Bf=new Co.Yd("@firebase/firestore");function TR(){return Bf.logLevel}function $e(n,...t){if(Bf.logLevel<=Co.in.DEBUG){const e=t.map(IR);Bf.debug(`Firestore (${kv}): ${n}`,...e)}}function Ir(n,...t){if(Bf.logLevel<=Co.in.ERROR){const e=t.map(IR);Bf.error(`Firestore (${kv}): ${n}`,...e)}}function al(n,...t){if(Bf.logLevel<=Co.in.WARN){const e=t.map(IR);Bf.warn(`Firestore (${kv}): ${n}`,...e)}}function IR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function _t(n="Unexpected state"){const t=`FIRESTORE (${kv}) INTERNAL ASSERTION FAILED: `+n;throw Ir(t),new Error(t)}function Tt(n,t){n||_t()}function at(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends H.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class nU{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class N8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(co.UNAUTHENTICATED))}shutdown(){}}class L8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class B8{constructor(t){this.t=t,this.currentUser=co.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let l=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Yr,t.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const _=l;t.enqueueRetryable((0,Ce.Z)(function*(){yield _.promise,yield o(i.currentUser)}))},m=_=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(_=>m(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Yr)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tt("string"==typeof i.accessToken),new nU(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Tt(null===t||"string"==typeof t),new co(t)}}class V8{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=co.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class U8{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new V8(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(co.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iU{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H8{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=o=>{null!=o.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.T;return this.T=o.token,$e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Tt("string"==typeof e.token),this.T=e.token,new iU(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function j8(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class rU{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=j8(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function an(n,t){return n<t?-1:n>t?1:0}function Rv(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function oU(n){return n+"\0"}class qi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Pe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Pe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Pe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return qi.fromMillis(Date.now())}static fromDate(t){return qi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new qi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?an(this.nanoseconds,t.nanoseconds):an(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(t){this.timestamp=t}static fromTimestamp(t){return new St(t)}static min(){return new St(new qi(0,0))}static max(){return new St(new qi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sw{constructor(t,e,i){void 0===e?e=0:e>t.length&&_t(),void 0===i?i=t.length-e:i>t.length-e&&_t(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Sw.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Sw?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),l=e.get(r);if(o<l)return-1;if(o>l)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class An extends Sw{construct(t,e,i){return new An(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Pe(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new An(e)}static emptyPath(){return new An([])}}const z8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends Sw{construct(t,e,i){return new fr(t,e,i)}static isValidIdentifier(t){return z8.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Pe(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if("\\"===u){if(r+1===t.length)throw new Pe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Pe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,r+=2}else"`"===u?(l=!l,r++):"."!==u||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new Pe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fr(e)}static emptyPath(){return new fr([])}}class rt{constructor(t){this.path=t}static fromPath(t){return new rt(An.fromString(t))}static fromName(t){return new rt(An.fromString(t).popFirst(5))}static empty(){return new rt(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===An.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return An.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new rt(new An(t.slice()))}}class zT{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function SR(n){return n.fields.find(t=>2===t.kind)}function Zp(n){return n.fields.filter(t=>2!==t.kind)}zT.UNKNOWN_ID=-1;class $T{constructor(t,e){this.fieldPath=t,this.kind=e}}class Mw{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Mw(0,ba.min())}}function sU(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(1e9===i?new qi(e+1,0):new qi(e,i));return new ba(r,rt.empty(),t)}function aU(n){return new ba(n.readTime,n.key,-1)}class ba{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ba(St.min(),rt.empty(),-1)}static max(){return new ba(St.max(),rt.empty(),-1)}}function MR(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=rt.comparator(n.documentKey,t.documentKey),0!==e?e:an(n.largestBatchId,t.largestBatchId))}const lU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Vf(n){return AR.apply(this,arguments)}function AR(){return AR=(0,Ce.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==lU)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),AR.apply(this,arguments)}class ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ce((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ce?e:ce.resolve(e)}catch(e){return ce.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ce.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ce.reject(e)}static resolve(t){return new ce((e,i)=>{e(t)})}static reject(t){return new ce((e,i)=>{i(t)})}static waitFor(t){return new ce((e,i)=>{let r=0,o=0,l=!1;t.forEach(u=>{++r,u.next(()=>{++o,l&&o===r&&e()},m=>i(m))}),l=!0,o===r&&e()})}static or(t){let e=ce.resolve(!1);for(const i of t)e=e.next(r=>r?ce.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ce((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let m=0;m<o;m++){const _=m;e(t[_]).next(b=>{l[_]=b,++u,u===o&&i(l)},b=>r(b))}})}static doWhile(t,e){return new ce((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class GT{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new Yr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new Aw(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=kR(i.target.error);this.v.reject(new Aw(t,r))}}static open(t,e,i,r){try{return new GT(e,t.transaction(r,i))}catch(o){throw new Aw(e,o)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||($e("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new q8(e)}}class lc{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===lc.S((0,H.z$)())&&Ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return $e("SimpleDb","Removing database:",t),Yp(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,H.hl)())return!1;if(lc.C())return!0;const t=(0,H.z$)(),e=lc.S(t),i=0<e&&e<10,r=lc.N(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,Ce.Z)(function*(){return e.db||($e("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=l=>{i(l.target.result)},o.onblocked=()=>{r(new Aw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=l=>{const u=l.target.error;r("VersionError"===u.name?new Pe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new Pe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new Aw(t,u))},o.onupgradeneeded=l=>{$e("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',l.oldVersion),e.V.O(l.target.result,o.transaction,l.oldVersion,e.version).next(()=>{$e("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Ce.Z)(function*(){const l="readonly"===e;let u=0;for(;;){++u;try{o.db=yield o.$(t);const m=GT.open(o.db,t,l?"readonly":"readwrite",i),_=r(m).next(b=>(m.P(),b)).catch(b=>(m.abort(b),ce.reject(b))).toPromise();return _.catch(()=>{}),yield m.R,_}catch(m){const _=m,b="FirebaseError"!==_.name&&u<3;if($e("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),o.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class W8{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Yp(this.L.delete())}}class Aw extends Pe{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Uf(n){return"IndexedDbTransactionError"===n.name}class q8{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?($e("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Yp(i)}add(t){return $e("SimpleDb","ADD",this.store.name,t,t),Yp(this.store.add(t))}get(t){return Yp(this.store.get(t)).next(e=>(void 0===e&&(e=null),$e("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return $e("SimpleDb","DELETE",this.store.name,t),Yp(this.store.delete(t))}count(){return $e("SimpleDb","COUNT",this.store.name),Yp(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(l,u)=>{o.push(u)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ce((o,l)=>{r.onerror=u=>{l(u.target.error)},r.onsuccess=u=>{o(u.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ce((r,o)=>{i.onerror=l=>{o(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(t,e){$e("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,l,u)=>u.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new ce((i,r)=>{e.onerror=o=>{const l=kR(o.target.error);r(l)},e.onsuccess=o=>{const l=o.target.result;l?t(l.primaryKey,l.value).next(u=>{u?l.continue():i()}):i()}})}W(t,e){const i=[];return new ce((r,o)=>{t.onerror=l=>{o(l.target.error)},t.onsuccess=l=>{const u=l.target.result;if(!u)return void r();const m=new W8(u),_=e(u.primaryKey,u.value,m);if(_ instanceof ce){const b=_.catch(D=>(m.done(),ce.reject(D)));i.push(b)}m.isDone?r():null===m.K?u.continue():u.continue(m.K)}}).next(()=>ce.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Yp(n){return new ce((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=kR(i.target.error);e(r)}})}let dU=!1;function kR(n){const t=lc.S((0,H.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dU||(dU=!0,setTimeout(()=>{throw i},0)),i}}return n}class Z8{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;$e("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ce.Z)(function*(){e.task=null;try{$e("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){Uf(i)?$e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Vf(i)}yield e.et(6e4)}))}}class Y8{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,Ce.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,o=!0;return ce.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(l=>{if(null!==l&&!i.has(l))return $e("IndexBackiller",`Processing collection: ${l}`),this.it(t,l,r).next(u=>{r-=u,i.add(l)});o=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(t,l).next(()=>this.rt(r,o)).next(u=>($e("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(t,e,u))).next(()=>l.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,o)=>{const l=aU(o);MR(l,i)>0&&(i=l)}),new ba(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let wa=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function kw(n){return null==n}function Rw(n){return 0===n&&1/n==-1/0}function uU(n){return"number"==typeof n&&Number.isInteger(n)&&!Rw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function $o(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=hU(t)),t=K8(n.get(e),t);return hU(t)}function K8(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function hU(n){return n+"\x01\x01"}function hd(n){const t=n.length;if(Tt(t>=2),2===t)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),An.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const l=n.indexOf("\x01",o);switch((l<0||l>e)&&_t(),n.charAt(l+1)){case"\x01":const u=n.substring(o,l);let m;0===r.length?m=u:(r+=u,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(o,l),r+="\0";break;case"\x11":r+=n.substring(o,l+1);break;default:_t()}o=l+2}return new An(i)}const fU=["userId","batchId"];function WT(n,t){return[n,$o(t)]}function mU(n,t,e){return[n,$o(t),e]}const Q8={},X8=["prefixPath","collectionGroup","readTime","documentId"],J8=["prefixPath","collectionGroup","documentId"],eZ=["collectionGroup","readTime","prefixPath","documentId"],tZ=["canonicalId","targetId"],nZ=["targetId","path"],iZ=["path","targetId"],rZ=["collectionId","parent"],oZ=["indexId","uid"],sZ=["uid","sequenceNumber"],aZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lZ=["indexId","uid","orderedDocumentKey"],cZ=["userId","collectionPath","documentId"],dZ=["userId","collectionPath","largestBatchId"],uZ=["userId","collectionGroup","largestBatchId"],pU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hZ=[...pU,"documentOverlays"],gU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_U=gU,fZ=[..._U,"indexConfiguration","indexState","indexEntries"];class RR extends cU{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function uo(n,t){const e=at(n);return lc.M(e.ht,t)}function vU(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Hf(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function yU(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Ci{constructor(t,e){this.comparator=t,this.root=e||So.EMPTY}insert(t,e){return new Ci(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,So.BLACK,null,null))}remove(t){return new Ci(this.comparator,this.root.remove(t,this.comparator).copy(null,null,So.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qT(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qT(this.root,t,this.comparator,!1)}getReverseIterator(){return new qT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qT(this.root,t,this.comparator,!0)}}class qT{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class So{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??So.RED,this.left=r??So.EMPTY,this.right=o??So.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new So(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return So.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return So.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,So.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,So.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}So.EMPTY=null,So.RED=!0,So.BLACK=!1,So.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(n,t,e,i,r){return this}insert(n,t,e){return new So(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fi{constructor(t){this.comparator=t,this.data=new Ci(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new bU(this.data.getIterator())}getIteratorFrom(t){return new bU(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Fi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Fi(this.comparator);return e.data=t,e}}class bU{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ov(n){return n.hasNext()?n.getNext():void 0}class Bs{constructor(t){this.fields=t,t.sort(fr.comparator)}static empty(){return new Bs([])}unionWith(t){let e=new Fi(fr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Bs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Rv(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class wU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new wU("Invalid base64 string: "+r):r}}(t);return new Kr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Kr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return an(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Kr.EMPTY_BYTE_STRING=new Kr("");const pZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jf(n){if(Tt(!!n),"string"==typeof n){let t=0;const e=pZ.exec(n);if(Tt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mr(n.seconds),nanos:mr(n.nanos)}}function mr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Lu(n){return"string"==typeof n?Kr.fromBase64String(n):Kr.fromUint8Array(n)}function ZT(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function YT(n){const t=n.mapValue.fields.__previous_value__;return ZT(t)?YT(t):t}function Ow(n){const t=jf(n.mapValue.fields.__local_write_time__.timestampValue);return new qi(t.seconds,t.nanos)}class gZ{constructor(t,e,i,r,o,l,u,m,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=m,this.useFetchStreams=_}}class zf{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new zf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof zf&&t.projectId===this.projectId&&t.database===this.database}}const $f={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},KT={nullValue:"NULL_VALUE"};function Gf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ZT(n)?4:DU(n)?9007199254740991:10:_t()}function fd(n,t){if(n===t)return!0;const e=Gf(n);if(e!==Gf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ow(n).isEqual(Ow(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=jf(i.timestampValue),l=jf(r.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Lu(n.bytesValue).isEqual(Lu(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return mr(i.geoPointValue.latitude)===mr(r.geoPointValue.latitude)&&mr(i.geoPointValue.longitude)===mr(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return mr(i.integerValue)===mr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=mr(i.doubleValue),l=mr(r.doubleValue);return o===l?Rw(o)===Rw(l):isNaN(o)&&isNaN(l)}return!1}(n,t);case 9:return Rv(n.arrayValue.values||[],t.arrayValue.values||[],fd);case 10:return function(i,r){const o=i.mapValue.fields||{},l=r.mapValue.fields||{};if(vU(o)!==vU(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===l[u]||!fd(o[u],l[u])))return!1;return!0}(n,t);default:return _t()}var r}function Pw(n,t){return void 0!==(n.values||[]).find(e=>fd(e,t))}function Wf(n,t){if(n===t)return 0;const e=Gf(n),i=Gf(t);if(e!==i)return an(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return an(n.booleanValue,t.booleanValue);case 2:return function(r,o){const l=mr(r.integerValue||r.doubleValue),u=mr(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(n,t);case 3:return xU(n.timestampValue,t.timestampValue);case 4:return xU(Ow(n),Ow(t));case 5:return an(n.stringValue,t.stringValue);case 6:return function(r,o){const l=Lu(r),u=Lu(o);return l.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const l=r.split("/"),u=o.split("/");for(let m=0;m<l.length&&m<u.length;m++){const _=an(l[m],u[m]);if(0!==_)return _}return an(l.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const l=an(mr(r.latitude),mr(o.latitude));return 0!==l?l:an(mr(r.longitude),mr(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const l=r.values||[],u=o.values||[];for(let m=0;m<l.length&&m<u.length;++m){const _=Wf(l[m],u[m]);if(_)return _}return an(l.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===$f.mapValue&&o===$f.mapValue)return 0;if(r===$f.mapValue)return 1;if(o===$f.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),m=o.fields||{},_=Object.keys(m);u.sort(),_.sort();for(let b=0;b<u.length&&b<_.length;++b){const D=an(u[b],_[b]);if(0!==D)return D;const R=Wf(l[u[b]],m[_[b]]);if(0!==R)return R}return an(u.length,_.length)}(n.mapValue,t.mapValue);default:throw _t()}}function xU(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return an(n,t);const e=jf(n),i=jf(t),r=an(e.seconds,i.seconds);return 0!==r?r:an(e.nanos,i.nanos)}function Pv(n){return OR(n)}function OR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=jf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Lu(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const l of i.values||[])o?o=!1:r+=",",r+=OR(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",l=!0;for(const u of r)l?l=!1:o+=",",o+=`${u}:${OR(i.fields[u])}`;return o+"}"}(n.mapValue):_t();var t}function Kp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function PR(n){return!!n&&"integerValue"in n}function Fw(n){return!!n&&"arrayValue"in n}function CU(n){return!!n&&"nullValue"in n}function EU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function XT(n){return!!n&&"mapValue"in n}function Nw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Hf(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Nw(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Nw(n.arrayValue.values[e]);return t}return Object.assign({},n)}function DU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _Z(n){return"nullValue"in n?KT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Kp(zf.empty(),rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_t()}function vZ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Kp(zf.empty(),rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?$f:_t()}function TU(n,t){const e=Wf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function IU(n,t){const e=Wf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Mo{constructor(t){this.value=t}static empty(){return new Mo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!XT(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nw(e)}setAll(t){let e=fr.emptyPath(),i={},r=[];t.forEach((l,u)=>{if(!e.isImmediateParentOf(u)){const m=this.getFieldsMap(e);this.applyChanges(m,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=Nw(l):r.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());XT(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return fd(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];XT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Hf(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Mo(Nw(this.value))}}function SU(n){const t=[];return Hf(n.fields,(e,i)=>{const r=new fr([e]);if(XT(i)){const o=SU(i.mapValue).fields;if(0===o.length)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)}),new Bs(t)}class Ni{constructor(t,e,i,r,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Ni(t,0,St.min(),St.min(),St.min(),Mo.empty(),0)}static newFoundDocument(t,e,i,r){return new Ni(t,1,e,St.min(),i,r,0)}static newNoDocument(t,e){return new Ni(t,2,e,St.min(),St.min(),Mo.empty(),0)}static newUnknownDocument(t,e){return new Ni(t,3,e,St.min(),St.min(),Mo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ni&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qf{constructor(t,e){this.position=t,this.inclusive=e}}function MU(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(i=o.field.isKeyField()?rt.comparator(rt.fromName(l.referenceValue),e.key):Wf(l,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function AU(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!fd(n.position[e],t.position[e]))return!1;return!0}class Fv{constructor(t,e="asc"){this.field=t,this.dir=e}}function yZ(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class kU{}class Sn extends kU{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new bZ(t,e,i):"array-contains"===e?new CZ(t,i):"in"===e?new LU(t,i):"not-in"===e?new EZ(t,i):"array-contains-any"===e?new DZ(t,i):new Sn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new wZ(t,i):new xZ(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Wf(e,this.value)):null!==e&&Gf(this.value)===Gf(e)&&this.matchesComparison(Wf(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class oi extends kU{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new oi(t,e)}matches(t){return Nv(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Nv(n){return"and"===n.op}function FR(n){return"or"===n.op}function NR(n){return RU(n)&&Nv(n)}function RU(n){for(const t of n.filters)if(t instanceof oi)return!1;return!0}function LR(n){if(n instanceof Sn)return n.field.canonicalString()+n.op.toString()+Pv(n.value);if(NR(n))return n.filters.map(t=>LR(t)).join(",");{const t=n.filters.map(e=>LR(e)).join(",");return`${n.op}(${t})`}}function OU(n,t){return n instanceof Sn?(e=n,(i=t)instanceof Sn&&e.op===i.op&&e.field.isEqual(i.field)&&fd(e.value,i.value)):n instanceof oi?function(e,i){return i instanceof oi&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,l)=>r&&OU(o,i.filters[l]),!0)}(n,t):void _t();var e,i}function PU(n,t){const e=n.filters.concat(t);return oi.create(e,n.op)}function FU(n){return n instanceof Sn?`${(t=n).field.canonicalString()} ${t.op} ${Pv(t.value)}`:n instanceof oi?function(t){return t.op.toString()+" {"+t.getFilters().map(FU).join(" ,")+"}"}(n):"Filter";var t}class bZ extends Sn{constructor(t,e,i){super(t,e,i),this.key=rt.fromName(i.referenceValue)}matches(t){const e=rt.comparator(t.key,this.key);return this.matchesComparison(e)}}class wZ extends Sn{constructor(t,e){super(t,"in",e),this.keys=NU(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class xZ extends Sn{constructor(t,e){super(t,"not-in",e),this.keys=NU(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function NU(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>rt.fromName(i.referenceValue))}class CZ extends Sn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Fw(e)&&Pw(e.arrayValue,this.value)}}class LU extends Sn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Pw(this.value.arrayValue,e)}}class EZ extends Sn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Pw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Pw(this.value.arrayValue,e)}}class DZ extends Sn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Fw(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Pw(this.value.arrayValue,i))}}class TZ{constructor(t,e=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.dt=null}}function BR(n,t=null,e=[],i=[],r=null,o=null,l=null){return new TZ(n,t,e,i,r,o,l)}function Qp(n){const t=at(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>LR(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),kw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Pv(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Pv(i)).join(",")),t.dt=e}return t.dt}function Lw(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!yZ(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!OU(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!AU(n.startAt,t.startAt)&&AU(n.endAt,t.endAt)}function JT(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function eI(n,t){return n.filters.filter(e=>e instanceof Sn&&e.field.isEqual(t))}function BU(n,t,e){let i=KT,r=!0;for(const o of eI(n,t)){let l=KT,u=!0;switch(o.op){case"<":case"<=":l=_Z(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,u=!1;break;case"!=":case"not-in":l=KT}TU({value:i,inclusive:r},{value:l,inclusive:u})<0&&(i=l,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const l=e.position[o];TU({value:i,inclusive:r},{value:l,inclusive:e.inclusive})<0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}function VU(n,t,e){let i=$f,r=!0;for(const o of eI(n,t)){let l=$f,u=!0;switch(o.op){case">=":case">":l=vZ(o.value),u=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,u=!1;break;case"!=":case"not-in":l=$f}IU({value:i,inclusive:r},{value:l,inclusive:u})>0&&(i=l,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const l=e.position[o];IU({value:i,inclusive:r},{value:l,inclusive:e.inclusive})>0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}class Bu{constructor(t,e=null,i=[],r=[],o=null,l="F",u=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=m,this.wt=null,this._t=null}}function UU(n,t,e,i,r,o,l,u){return new Bu(n,t,e,i,r,o,l,u)}function Lv(n){return new Bu(n)}function HU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function VR(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function tI(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function UR(n){return null!==n.collectionGroup}function Xp(n){const t=at(n);if(null===t.wt){t.wt=[];const e=tI(t),i=VR(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new Fv(e)),t.wt.push(new Fv(fr.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Fv(fr.keyField(),o))}}}return t.wt}function us(n){const t=at(n);if(!t._t)if("F"===t.limitType)t._t=BR(t.path,t.collectionGroup,Xp(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Xp(t))e.push(new Fv(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new qf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qf(t.startAt.position,t.startAt.inclusive):null;t._t=BR(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function HR(n,t){t.getFirstInequalityField(),tI(n);const e=n.filters.concat([t]);return new Bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function nI(n,t,e){return new Bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Bw(n,t){return Lw(us(n),us(t))&&n.limitType===t.limitType}function jU(n){return`${Qp(us(n))}|lt:${n.limitType}`}function jR(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>FU(i)).join(", ")}]`),kw(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Pv(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Pv(i)).join(",")),`Target(${e})`}(us(n))}; limitType=${n.limitType})`}function Vw(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):rt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Xp(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,l){const u=MU(r,o,l);return r.inclusive?u<=0:u<0}(e.startAt,Xp(e),i)||e.endAt&&!function(r,o,l){const u=MU(r,o,l);return r.inclusive?u>=0:u>0}(e.endAt,Xp(e),i)));var e,i}function zU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $U(n){return(t,e)=>{let i=!1;for(const r of Xp(n)){const o=IZ(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function IZ(n,t,e){const i=n.field.isKeyField()?rt.comparator(t.key,e.key):function(r,o,l){const u=o.data.field(r),m=l.data.field(r);return null!==u&&null!==m?Wf(u,m):_t()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return _t()}}class Vu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Hf(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return yU(this.inner)}size(){return this.innerSize}}const SZ=new Ci(rt.comparator);function Vs(){return SZ}const GU=new Ci(rt.comparator);function Uw(...n){let t=GU;for(const e of n)t=t.insert(e.key,e);return t}function WU(n){let t=GU;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function md(){return Hw()}function qU(){return Hw()}function Hw(){return new Vu(n=>n.toString(),(n,t)=>n.isEqual(t))}const MZ=new Ci(rt.comparator),AZ=new Fi(rt.comparator);function pn(...n){let t=AZ;for(const e of n)t=t.add(e);return t}const kZ=new Fi(an);function zR(){return kZ}function ZU(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rw(t)?"-0":t}}function YU(n){return{integerValue:""+n}}function KU(n,t){return uU(t)?YU(t):ZU(n,t)}class iI{constructor(){this._=void 0}}function RZ(n,t,e){return n instanceof Bv?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&ZT(r)&&(r=YT(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Jp?XU(n,t):n instanceof eg?JU(n,t):function(i,r){const o=QU(i,r),l=e3(o)+e3(i.gt);return PR(o)&&PR(i.gt)?YU(l):ZU(i.serializer,l)}(n,t)}function OZ(n,t,e){return n instanceof Jp?XU(n,t):n instanceof eg?JU(n,t):e}function QU(n,t){return n instanceof Vv?PR(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Bv extends iI{}class Jp extends iI{constructor(t){super(),this.elements=t}}function XU(n,t){const e=t3(t);for(const i of n.elements)e.some(r=>fd(r,i))||e.push(i);return{arrayValue:{values:e}}}class eg extends iI{constructor(t){super(),this.elements=t}}function JU(n,t){let e=t3(t);for(const i of n.elements)e=e.filter(r=>!fd(r,i));return{arrayValue:{values:e}}}class Vv extends iI{constructor(t,e){super(),this.serializer=t,this.gt=e}}function e3(n){return mr(n.integerValue||n.doubleValue)}function t3(n){return Fw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class jw{constructor(t,e){this.field=t,this.transform=e}}class FZ{constructor(t,e){this.version=t,this.transformResults=e}}class Zi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function rI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class oI{}function n3(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Hv(n.key,Zi.none()):new Uv(n.key,n.data,Zi.none());{const e=n.data,i=Mo.empty();let r=new Fi(fr.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);null===l&&o.length>1&&(o=o.popLast(),l=e.field(o)),null===l?i.delete(o):i.set(o,l),r=r.add(o)}return new Uu(n.key,i,new Bs(r.toArray()),Zi.none())}}function NZ(n,t,e){n instanceof Uv?function(i,r,o){const l=i.value.clone(),u=s3(i.fieldTransforms,r,o.transformResults);l.setAll(u),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):n instanceof Uu?function(i,r,o){if(!rI(i.precondition,r))return void r.convertToUnknownDocument(o.version);const l=s3(i.fieldTransforms,r,o.transformResults),u=r.data;u.setAll(o3(i)),u.setAll(l),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function zw(n,t,e,i){return n instanceof Uv?function(r,o,l,u){if(!rI(r.precondition,o))return l;const m=r.value.clone(),_=a3(r.fieldTransforms,u,o);return m.setAll(_),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null}(n,t,e,i):n instanceof Uu?function(r,o,l,u){if(!rI(r.precondition,o))return l;const m=a3(r.fieldTransforms,u,o),_=o.data;return _.setAll(o3(r)),_.setAll(m),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,t,e,i):(l=e,rI(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l);var o,l}function LZ(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=QU(i.transform,r||null);null!=o&&(null===e&&(e=Mo.empty()),e.set(i.field,o))}return e||null}function r3(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Rv(e,i,(r,o)=>function PZ(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Jp&&i instanceof Jp||e instanceof eg&&i instanceof eg?Rv(e.elements,i.elements,fd):e instanceof Vv&&i instanceof Vv?fd(e.gt,i.gt):e instanceof Bv&&i instanceof Bv);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Uv extends oI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Uu extends oI{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function o3(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function s3(n,t,e){const i=new Map;Tt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,OZ(l,u,e[r]))}return i}function a3(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,RZ(o,l,t))}return i}class Hv extends oI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $R extends oI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GR{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&NZ(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=zw(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=zw(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=qU();return this.mutations.forEach(r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(r.key)?null:u;const m=n3(l,u);null!==m&&i.set(r.key,m),l.isValidDocument()||l.convertToNoDocument(St.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),pn())}isEqual(t){return this.batchId===t.batchId&&Rv(this.mutations,t.mutations,(e,i)=>r3(e,i))&&Rv(this.baseMutations,t.baseMutations,(e,i)=>r3(e,i))}}class WR{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Tt(t.mutations.length===i.length);let r=MZ;const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new WR(t,e,i,r)}}class qR{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class VZ{constructor(t,e){this.count=t,this.unchangedNames=e}}var Vr,kn;function l3(n){switch(n){default:return _t();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function c3(n){if(void 0===n)return Ir("GRPC error has no .code"),me.UNKNOWN;switch(n){case Vr.OK:return me.OK;case Vr.CANCELLED:return me.CANCELLED;case Vr.UNKNOWN:return me.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return me.INTERNAL;case Vr.UNAVAILABLE:return me.UNAVAILABLE;case Vr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Vr.NOT_FOUND:return me.NOT_FOUND;case Vr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Vr.ABORTED:return me.ABORTED;case Vr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Vr.DATA_LOSS:return me.DATA_LOSS;default:return _t()}}(kn=Vr||(Vr={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";class ZR{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sI}static getOrCreateInstance(){return null===sI&&(sI=new ZR),sI}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let sI=null;function d3(){return new TextEncoder}const UZ=new Av([4294967295,4294967295],0);function u3(n){const t=d3().encode(n),e=new O8;return e.update(t),new Uint8Array(e.digest())}function h3(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Av([e,i],0),new Av([r,o],0)]}class YR{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new $w(`Invalid padding: ${e}`);if(i<0)throw new $w(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new $w(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new $w(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=Av.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(Av.fromNumber(i)));return 1===r.compare(UZ)&&(r=new Av([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=u3(t),[i,r]=h3(e);for(let o=0;o<this.hashCount;o++){const l=this.Et(i,r,o);if(!this.At(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new YR(o,r,e);return i.forEach(u=>l.insert(u)),l}insert(t){if(0===this.It)return;const e=u3(t),[i,r]=h3(e);for(let o=0;o<this.hashCount;o++){const l=this.Et(i,r,o);this.Rt(l)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class $w extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gw{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Ww.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Gw(St.min(),r,new Ci(an),Vs(),pn())}}class Ww{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Ww(i,e,pn(),pn(),pn())}}class aI{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class f3{constructor(t,e){this.targetId=t,this.Vt=e}}class m3{constructor(t,e,i=Kr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class p3{constructor(){this.St=0,this.Dt=_3(),this.Ct=Kr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=pn(),e=pn(),i=pn();return this.Dt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:_t()}}),new Ww(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=_3()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class HZ{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Vs(),this.zt=g3(),this.Wt=new Ci(an)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:_t()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,o=this.se(i);if(o){const l=o.target;if(JT(l))if(0===r){const u=new rt(l.path);this.Yt(i,u,Ni.newNoDocument(u,St.min()))}else Tt(1===r);else{const u=this.ie(i);if(u!==r){const m=this.re(t,u);0!==m&&(this.ee(i),this.Wt=this.Wt.insert(i,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=ZR.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(_,b,D){var R,F,$,Z,ie,Se;const Ye={localCacheCount:b,existenceFilterCount:D.count},Qe=D.unchangedNames;return Qe&&(Ye.bloomFilter={applied:0===_,hashCount:null!==(R=Qe?.hashCount)&&void 0!==R?R:0,bitmapLength:null!==(Z=null===($=null===(F=Qe?.bits)||void 0===F?void 0:F.bitmap)||void 0===$?void 0:$.length)&&void 0!==Z?Z:0,padding:null!==(Se=null===(ie=Qe?.bits)||void 0===ie?void 0:ie.padding)&&void 0!==Se?Se:0}),Ye}(m,u,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:l=0},hashCount:u=0}=i;let m,_;try{m=Lu(o).toUint8Array()}catch(b){if(b instanceof wU)return al("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{_=new YR(m,l,u)}catch(b){return al(b instanceof $w?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===_.It?1:r!==e-this.oe(t.targetId,_)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const l=this.Gt.ue(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.vt(u)||(this.Yt(t,o,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((o,l)=>{const u=this.se(l);if(u){if(o.current&&JT(u.target)){const m=new rt(u.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,Ni.newNoDocument(m,t))}o.Mt&&(e.set(l,o.Ot()),o.Ft())}});let i=pn();this.zt.forEach((o,l)=>{let u=!0;l.forEachWhile(m=>{const _=this.se(m);return!_||"TargetPurposeLimboResolution"===_.purpose||(u=!1,!1)}),u&&(i=i.add(o))}),this.jt.forEach((o,l)=>l.setReadTime(t));const r=new Gw(t,e,this.Wt,this.jt,i);return this.jt=Vs(),this.zt=g3(),this.Wt=new Ci(an),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new p3,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Fi(an),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||$e("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new p3),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function g3(){return new Ci(rt.comparator)}function _3(){return new Ci(rt.comparator)}const jZ={asc:"ASCENDING",desc:"DESCENDING"},zZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$Z={and:"AND",or:"OR"};class GZ{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function KR(n,t){return n.useProto3Json||kw(t)?t:{value:t}}function jv(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function v3(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function WZ(n,t){return jv(n,t.toTimestamp())}function Sr(n){return Tt(!!n),St.fromTimestamp(function(t){const e=jf(t);return new qi(e.seconds,e.nanos)}(n))}function QR(n,t){return(e=n,new An(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function y3(n){const t=An.fromString(n);return Tt(S3(t)),t}function qw(n,t){return QR(n.databaseId,t.path)}function pd(n,t){const e=y3(t);if(e.get(1)!==n.databaseId.projectId)throw new Pe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Pe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new rt(w3(e))}function XR(n,t){return QR(n.databaseId,t)}function b3(n){const t=y3(n);return 4===t.length?An.emptyPath():w3(t)}function Zw(n){return new An(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function w3(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function x3(n,t,e){return{name:qw(n,t),fields:e.value.mapValue.fields}}function C3(n,t,e){const i=pd(n,t.name),r=Sr(t.updateTime),o=t.createTime?Sr(t.createTime):St.min(),l=new Mo({mapValue:{fields:t.fields}}),u=Ni.newFoundDocument(i,r,o,l);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Yw(n,t){let e;if(t instanceof Uv)e={update:x3(n,t.key,t.value)};else if(t instanceof Hv)e={delete:qw(n,t.key)};else if(t instanceof Uu)e={update:x3(n,t.key,t.data),updateMask:eY(t.fieldMask)};else{if(!(t instanceof $R))return _t();e={verify:qw(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const l=o.transform;if(l instanceof Bv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Jp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof eg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Vv)return{fieldPath:o.field.canonicalString(),increment:l.gt};throw _t()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:WZ(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:_t()),e;var r}function JR(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Zi.updateTime(Sr(r.updateTime)):void 0!==r.exists?Zi.exists(r.exists):Zi.none():Zi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,l){let u=null;"setToServerValue"in l?(Tt("REQUEST_TIME"===l.setToServerValue),u=new Bv):"appendMissingElements"in l?u=new Jp(l.appendMissingElements.values||[]):"removeAllFromArray"in l?u=new eg(l.removeAllFromArray.values||[]):"increment"in l?u=new Vv(o,l.increment):_t();const m=fr.fromServerFormat(l.fieldPath);return new jw(m,u)}(n,r)):[];var r;if(t.update){const r=pd(n,t.update.name),o=new Mo({mapValue:{fields:t.update.fields}});if(t.updateMask){const l=new Bs((t.updateMask.fieldPaths||[]).map(_=>fr.fromServerFormat(_)));return new Uu(r,o,l,e,i)}return new Uv(r,o,e,i)}if(t.delete){const r=pd(n,t.delete);return new Hv(r,e)}if(t.verify){const r=pd(n,t.verify);return new $R(r,e)}return _t()}function E3(n,t){return{documents:[XR(n,t.path)]}}function eO(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=XR(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=XR(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0!==m.length)return I3(oi.create(m,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(m){if(0!==m.length)return m.map(_=>{return{field:Zf((b=_).field),direction:QZ(b.dir)};var b})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const l=KR(n,t.limit);var u,m;return null!==l&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt={before:!(m=t.endAt).inclusive,values:m.position}),e}function D3(n){let t=b3(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Tt(1===i);const b=e.from[0];b.allDescendants?r=b.collectionId:t=t.child(b.collectionId)}let o=[];e.where&&(o=function(b){const D=T3(b);return D instanceof oi&&NR(D)?D.getFilters():[D]}(e.where));let l=[];e.orderBy&&(l=e.orderBy.map(b=>{return new Fv(zv((D=b).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let u=null;e.limit&&(u=function(b){let D;return D="object"==typeof b?b.value:b,kw(D)?null:D}(e.limit));let m=null;var b;e.startAt&&(m=new qf((b=e.startAt).values||[],!!b.before));let _=null;return e.endAt&&(_=function(b){return new qf(b.values||[],!b.before)}(e.endAt)),UU(t,r,l,o,u,"F",m,_)}function T3(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=zv(t.unaryFilter.field);return Sn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=zv(t.unaryFilter.field);return Sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=zv(t.unaryFilter.field);return Sn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zv(t.unaryFilter.field);return Sn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(n):void 0!==n.fieldFilter?Sn.create(zv((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return oi.create(t.compositeFilter.filters.map(e=>T3(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return _t()}}(t.compositeFilter.op))}(n):_t();var t}function QZ(n){return jZ[n]}function XZ(n){return zZ[n]}function JZ(n){return $Z[n]}function Zf(n){return{fieldPath:n.canonicalString()}}function zv(n){return fr.fromServerFormat(n.fieldPath)}function I3(n){return n instanceof Sn?function(t){if("=="===t.op){if(EU(t.value))return{unaryFilter:{field:Zf(t.field),op:"IS_NAN"}};if(CU(t.value))return{unaryFilter:{field:Zf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(EU(t.value))return{unaryFilter:{field:Zf(t.field),op:"IS_NOT_NAN"}};if(CU(t.value))return{unaryFilter:{field:Zf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zf(t.field),op:XZ(t.op),value:t.value}}}(n):n instanceof oi?function(t){const e=t.getFilters().map(i=>I3(i));return 1===e.length?e[0]:{compositeFilter:{op:JZ(t.op),filters:e}}}(n):_t()}function eY(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function S3(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Hu{constructor(t,e,i,r,o=St.min(),l=St.min(),u=Kr.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=m}withSequenceNumber(t){return new Hu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class M3{constructor(t){this.fe=t}}function A3(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:lI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:qw(r=n.fe,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:jv(r,o.version.toTimestamp()),createTime:jv(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:tg(t.version)};else{if(!t.isUnknownDocument())return _t();i.unknownDocument={path:e.path.toArray(),version:tg(t.version)}}var r,o;return i}function lI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function tg(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ng(n){const t=new qi(n.seconds,n.nanoseconds);return St.fromTimestamp(t)}function ig(n,t){const e=(t.baseMutations||[]).map(o=>JR(n.fe,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>JR(n.fe,o)),r=qi.fromMillis(t.localWriteTimeMs);return new GR(t.batchId,r,e,i)}function Kw(n){const t=ng(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?ng(n.lastLimboFreeSnapshotVersion):St.min();let i;var r;return void 0!==n.query.documents?(Tt(1===(r=n.query).documents.length),i=us(Lv(b3(r.documents[0])))):i=us(D3(n.query)),new Hu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Kr.fromBase64String(n.resumeToken))}function k3(n,t){const e=tg(t.snapshotVersion),i=tg(t.lastLimboFreeSnapshotVersion);let r;r=JT(t.target)?E3(n.fe,t.target):eO(n.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Qp(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function tO(n){const t=D3({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?nI(t,t.limit,"L"):t}function nO(n,t){return new qR(t.largestBatchId,JR(n.fe,t.overlayMutation))}function R3(n,t){const e=t.path.lastSegment();return[n,$o(t.path.popLast()),e]}function O3(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:tg(i.readTime),documentKey:$o(i.documentKey.path),largestBatchId:i.largestBatchId}}class nY{getBundleMetadata(t,e){return P3(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:ng(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return P3(t).put({bundleId:(i=e).id,createTime:tg(Sr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return F3(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:tO(r.bundledQuery),readTime:ng(r.readTime)};var r})}saveNamedQuery(t,e){return F3(t).put({name:(i=e).name,readTime:tg(Sr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function P3(n){return uo(n,"bundles")}function F3(n){return uo(n,"namedQueries")}class cI{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new cI(t,e.uid||"")}getOverlay(t,e){return Qw(t).get(R3(this.userId,e)).next(i=>i?nO(this.serializer,i):null)}getOverlays(t,e){const i=md();return ce.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,l)=>{const u=new qR(e,l);r.push(this.we(t,u))}),ce.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(l=>r.add($o(l.getCollectionPath())));const o=[];return r.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);o.push(Qw(t).J("collectionPathOverlayIndex",u))}),ce.waitFor(o)}getOverlaysForCollection(t,e,i){const r=md(),o=$o(e),l=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Qw(t).j("collectionPathOverlayIndex",l).next(u=>{for(const m of u){const _=nO(this.serializer,m);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=md();let l;const u=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Qw(t).X({index:"collectionGroupOverlayIndex",range:u},(m,_,b)=>{const D=nO(this.serializer,_);o.size()<r||D.largestBatchId===l?(o.set(D.getKey(),D),l=D.largestBatchId):b.done()}).next(()=>o)}we(t,e){return Qw(t).put(function(i,r,o){const[l,u,m]=R3(r,o.mutation.key);return{userId:r,collectionPath:u,documentId:m,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Yw(i.fe,o.mutation)}}(this.serializer,this.userId,e))}}function Qw(n){return uo(n,"documentOverlays")}class rg{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(mr(t.integerValue));else if("doubleValue"in t){const i=mr(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),Rw(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(Lu(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?DU(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):_t()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),rt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function iY(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function N3(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=iY(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}rg.Ve=new rg;class rY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=N3(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=N3(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class oY{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class sY{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class Xw{constructor(){this.je=new rY,this.ze=new oY(this.je),this.We=new sY(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class og{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new og(this.indexId,this.documentKey,this.arrayValue,i)}}function Yf(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=L3(n.arrayValue,t.arrayValue),0!==e?e:(e=L3(n.directionalValue,t.directionalValue),0!==e?e:rt.comparator(n.documentKey,t.documentKey)))}function L3(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class aY{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){Tt(t.collectionGroup===this.collectionId);const e=SR(t);if(void 0!==e&&!this.en(e))return!1;const i=Zp(t);let r=new Set,o=0,l=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const u=i[o];if(!this.nn(this.Ze,u)||!this.sn(this.Ye[l++],u))return!1}++o}for(;o<i.length;++o)if(l>=this.Ye.length||!this.sn(this.Ye[l++],i[o]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function B3(n){var t,e;if(Tt(n instanceof Sn||n instanceof oi),n instanceof Sn){if(n instanceof LU){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>Sn.create(n.field,"==",o)))||[];return oi.create(r,"or")}return n}const i=n.filters.map(r=>B3(r));return oi.create(i,n.op)}function lY(n){if(0===n.getFilters().length)return[];const t=oO(B3(n));return Tt(V3(t)),iO(t)||rO(t)?[t]:t.getFilters()}function iO(n){return n instanceof Sn}function rO(n){return n instanceof oi&&NR(n)}function V3(n){return iO(n)||rO(n)||function(t){if(t instanceof oi&&FR(t)){for(const e of t.getFilters())if(!iO(e)&&!rO(e))return!1;return!0}return!1}(n)}function oO(n){if(Tt(n instanceof Sn||n instanceof oi),n instanceof Sn)return n;if(1===n.filters.length)return oO(n.filters[0]);const t=n.filters.map(i=>oO(i));let e=oi.create(t,n.op);return e=dI(e),V3(e)?e:(Tt(e instanceof oi),Tt(Nv(e)),Tt(e.filters.length>1),e.filters.reduce((i,r)=>sO(i,r)))}function sO(n,t){let e;return Tt(n instanceof Sn||n instanceof oi),Tt(t instanceof Sn||t instanceof oi),e=n instanceof Sn?t instanceof Sn?oi.create([n,t],"and"):U3(n,t):t instanceof Sn?U3(t,n):function(i,r){if(Tt(i.filters.length>0&&r.filters.length>0),Nv(i)&&Nv(r))return PU(i,r.getFilters());const o=FR(i)?i:r,l=FR(i)?r:i,u=o.filters.map(m=>sO(m,l));return oi.create(u,"or")}(n,t),dI(e)}function U3(n,t){if(Nv(t))return PU(t,n.getFilters());{const e=t.filters.map(i=>sO(n,i));return oi.create(e,"or")}}function dI(n){if(Tt(n instanceof Sn||n instanceof oi),n instanceof Sn)return n;const t=n.getFilters();if(1===t.length)return dI(t[0]);if(RU(n))return n;const e=t.map(r=>dI(r)),i=[];return e.forEach(r=>{r instanceof Sn?i.push(r):r instanceof oi&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:oi.create(i,n.op)}class cY{constructor(){this.rn=new aO}addToCollectionParentIndex(t,e){return this.rn.add(e),ce.resolve()}getCollectionParents(t,e){return ce.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return ce.resolve()}deleteFieldIndex(t,e){return ce.resolve()}getDocumentsMatchingTarget(t,e){return ce.resolve(null)}getIndexType(t,e){return ce.resolve(0)}getFieldIndexes(t,e){return ce.resolve([])}getNextCollectionGroupToUpdate(t){return ce.resolve(null)}getMinOffset(t,e){return ce.resolve(ba.min())}getMinOffsetFromCollectionGroup(t,e){return ce.resolve(ba.min())}updateCollectionGroup(t,e,i){return ce.resolve()}updateIndexEntries(t,e){return ce.resolve()}}class aO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Fi(An.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Fi(An.comparator)).toArray()}}const uI=new Uint8Array(0);class dY{constructor(t,e){this.user=t,this.databaseId=e,this.on=new aO,this.un=new Vu(i=>Qp(i),(i,r)=>Lw(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const o={collectionId:i,parent:$o(r)};return H3(t).put(o)}return ce.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[oU(e),""],!1,!0);return H3(t).j(r).next(o=>{for(const l of o){if(l.collectionId!==e)break;i.push(hd(l.parent))}return i})}addFieldIndex(t,e){const i=hI(t),r={indexId:(l=e).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var l;delete r.indexId;const o=i.add(r);if(e.indexState){const l=ex(t);return o.next(u=>{l.put(O3(u,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=hI(t),r=ex(t),o=Jw(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Jw(t);let r=!0;const o=new Map;return ce.forEach(this.cn(e),l=>this.an(t,l).next(u=>{r&&(r=!!u),o.set(l,u)})).next(()=>{if(r){let l=pn();const u=[];return ce.forEach(o,(m,_)=>{var b;$e("IndexedDbIndexManager",`Using index ${b=m,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Qe=>`${Qe.fieldPath}:${Qe.kind}`).join(",")}`} to execute ${Qp(e)}`);const D=function(Qe,ct){const $t=SR(ct);if(void 0===$t)return null;for(const ln of eI(Qe,$t.fieldPath))switch(ln.op){case"array-contains-any":return ln.value.arrayValue.values||[];case"array-contains":return[ln.value]}return null}(_,m),R=function(Qe,ct){const $t=new Map;for(const ln of Zp(ct))for(const jn of eI(Qe,ln.fieldPath))switch(jn.op){case"==":case"in":$t.set(ln.fieldPath.canonicalString(),jn.value);break;case"not-in":case"!=":return $t.set(ln.fieldPath.canonicalString(),jn.value),Array.from($t.values())}return null}(_,m),F=function(Qe,ct){const $t=[];let ln=!0;for(const jn of Zp(ct)){const Ro=0===jn.kind?BU(Qe,jn.fieldPath,Qe.startAt):VU(Qe,jn.fieldPath,Qe.startAt);$t.push(Ro.value),ln&&(ln=Ro.inclusive)}return new qf($t,ln)}(_,m),$=function(Qe,ct){const $t=[];let ln=!0;for(const jn of Zp(ct)){const Ro=0===jn.kind?VU(Qe,jn.fieldPath,Qe.endAt):BU(Qe,jn.fieldPath,Qe.endAt);$t.push(Ro.value),ln&&(ln=Ro.inclusive)}return new qf($t,ln)}(_,m),Z=this.hn(m,_,F),ie=this.hn(m,_,$),Se=this.ln(m,_,R),Ye=this.fn(m.indexId,D,Z,F.inclusive,ie,$.inclusive,Se);return ce.forEach(Ye,Qe=>i.H(Qe,e.limit).next(ct=>{ct.forEach($t=>{const ln=rt.fromSegments($t.documentKey);l.has(ln)||(l=l.add(ln),u.push(ln))})}))}).next(()=>u)}return ce.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:lY(oi.create(t.filters,"and")).map(i=>BR(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,o,l,u){const m=(null!=e?e.length:1)*Math.max(i.length,o.length),_=m/(null!=e?e.length:1),b=[];for(let D=0;D<m;++D){const R=e?this.dn(e[D/_]):uI,F=this.wn(t,R,i[D%_],r),$=this._n(t,R,o[D%_],l),Z=u.map(ie=>this.wn(t,R,ie,!0));b.push(...this.createRange(F,$,Z))}return b}wn(t,e,i,r){const o=new og(t,rt.empty(),e,i);return r?o:o.Je()}_n(t,e,i,r){const o=new og(t,rt.empty(),e,i);return r?o.Je():o}an(t,e){const i=new aY(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let l=null;for(const u of o)i.tn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(t,e){let i=2;const r=this.cn(e);return ce.forEach(r,o=>this.an(t,o).next(l=>{l?0!==i&&l.fields.length<function(u){let m=new Fi(fr.comparator),_=!1;for(const b of u.filters)for(const D of b.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?_=!0:m=m.add(D.field));for(const b of u.orderBy)b.field.isKeyField()||(m=m.add(b.field));return m.size+(_?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new Xw;for(const r of Zp(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const l=i.He(r.kind);rg.Ve._e(o,l)}return i.Qe()}dn(t){const e=new Xw;return rg.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new Xw;return rg.Ve._e(Kp(this.databaseId,e),i.He(function(r){const o=Zp(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new Xw);let o=0;for(const l of Zp(t)){const u=i[o++];for(const m of r)if(this.yn(e,l.fieldPath)&&Fw(u))r=this.pn(r,l,u);else{const _=m.He(l.kind);rg.Ve._e(u,_)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],o=[];for(const l of i.arrayValue.values||[])for(const u of r){const m=new Xw;m.seed(u.Qe()),rg.Ve._e(l,m.He(e.kind)),o.push(m)}return o}yn(t,e){return!!t.filters.find(i=>i instanceof Sn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=hI(t),r=ex(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(o=>{const l=[];return ce.forEach(o,u=>r.get([u.indexId,this.uid]).next(m=>{l.push(function(_,b){const D=b?new Mw(b.sequenceNumber,new ba(ng(b.readTime),new rt(hd(b.documentKey)),b.largestBatchId)):Mw.empty(),R=_.fields.map(([F,$])=>new $T(fr.fromServerFormat(F),$));return new zT(_.indexId,_.collectionGroup,R,D)}(u,m))})).next(()=>l)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:an(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=hI(t),o=ex(t);return this.Tn(t).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(u=>ce.forEach(u,m=>o.put(O3(m.indexId,this.user,l,i)))))}updateIndexEntries(t,e){const i=new Map;return ce.forEach(e,(r,o)=>{const l=i.get(r.collectionGroup);return(l?ce.resolve(l):this.getFieldIndexes(t,r.collectionGroup)).next(u=>(i.set(r.collectionGroup,u),ce.forEach(u,m=>this.En(t,r,m).next(_=>{const b=this.An(o,m);return _.isEqual(b)?ce.resolve():this.vn(t,o,m,_,b)}))))})}Rn(t,e,i,r){return Jw(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return Jw(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=Jw(t);let o=new Fi(Yf);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(l,u)=>{o=o.add(new og(i.indexId,e,u.arrayValue,u.directionalValue))}).next(()=>o)}An(t,e){let i=new Fi(Yf);const r=this.mn(e,t);if(null==r)return i;const o=SR(e);if(null!=o){const l=t.data.field(o.fieldPath);if(Fw(l))for(const u of l.arrayValue.values||[])i=i.add(new og(e.indexId,t.key,this.dn(u),r))}else i=i.add(new og(e.indexId,t.key,uI,r));return i}vn(t,e,i,r,o){$e("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const l=[];return function(u,m,_,b,D){const R=u.getIterator(),F=m.getIterator();let $=Ov(R),Z=Ov(F);for(;$||Z;){let ie=!1,Se=!1;if($&&Z){const Ye=_($,Z);Ye<0?Se=!0:Ye>0&&(ie=!0)}else null!=$?Se=!0:ie=!0;ie?(b(Z),Z=Ov(F)):Se?(D($),$=Ov(R)):($=Ov(R),Z=Ov(F))}}(r,o,Yf,u=>{l.push(this.Rn(t,e,i,u))},u=>{l.push(this.Pn(t,e,i,u))}),ce.waitFor(l)}Tn(t){let e=1;return ex(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((l,u)=>Yf(l,u)).filter((l,u,m)=>!u||0!==Yf(l,m[u-1]));const r=[];r.push(t);for(const l of i){const u=Yf(l,t),m=Yf(l,e);if(0===u)r[0]=t.Je();else if(u>0&&m<0)r.push(l),r.push(l.Je());else if(m>0)break}r.push(e);const o=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];o.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,uI,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,uI,[]]))}return o}bn(t,e){return Yf(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(j3)}getMinOffset(t,e){return ce.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||_t())).next(j3)}}function H3(n){return uo(n,"collectionParents")}function Jw(n){return uo(n,"indexEntries")}function hI(n){return uo(n,"indexConfiguration")}function ex(n){return uo(n,"indexState")}function j3(n){Tt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;MR(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ba(t.readTime,t.documentKey,e)}const z3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Go{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Go(t,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $3(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],l=IDBKeyRange.only(e.batchId);let u=0;const m=i.X({range:l},(b,D,R)=>(u++,R.delete()));o.push(m.next(()=>{Tt(1===u)}));const _=[];for(const b of e.mutations){const D=mU(t,b.key.path,e.batchId);o.push(r.delete(D)),_.push(b.key)}return ce.waitFor(o).next(()=>_)}function fI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw _t();t=n.noDocument}return JSON.stringify(t).length}Go.DEFAULT_COLLECTION_PERCENTILE=10,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Go.DEFAULT=new Go(41943040,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Go.DISABLED=new Go(-1,0,0);class mI{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){Tt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new mI(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kf(t).X({index:"userMutationsIndex",range:i},(r,o,l)=>{e=!1,l.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=$v(t),l=Kf(t);return l.add({}).next(u=>{Tt("number"==typeof u);const m=new GR(u,e,i,r),_=function(R,F,$){const Z=$.baseMutations.map(Se=>Yw(R.fe,Se)),ie=$.mutations.map(Se=>Yw(R.fe,Se));return{userId:F,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:Z,mutations:ie}}(this.serializer,this.userId,m),b=[];let D=new Fi((R,F)=>an(R.canonicalString(),F.canonicalString()));for(const R of r){const F=mU(this.userId,R.key.path,u);D=D.add(R.key.path.popLast()),b.push(l.put(_)),b.push(o.put(F,Q8))}return D.forEach(R=>{b.push(this.indexManager.addToCollectionParentIndex(t,R))}),t.addOnCommittedListener(()=>{this.Vn[u]=m.keys()}),ce.waitFor(b).next(()=>m)})}lookupMutationBatch(t,e){return Kf(t).get(e).next(i=>i?(Tt(i.userId===this.userId),ig(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?ce.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Kf(t).X({index:"userMutationsIndex",range:r},(l,u,m)=>{u.userId===this.userId&&(Tt(u.batchId>=i),o=ig(this.serializer,u)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Kf(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,o,l)=>{i=o.batchId,l.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kf(t).j("userMutationsIndex",e).next(i=>i.map(r=>ig(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=WT(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return $v(t).X({range:r},(l,u,m)=>{const[_,b,D]=l,R=hd(b);if(_===this.userId&&e.path.isEqual(R))return Kf(t).get(D).next(F=>{if(!F)throw _t();Tt(F.userId===this.userId),o.push(ig(this.serializer,F))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Fi(an);const r=[];return e.forEach(o=>{const l=WT(this.userId,o.path),u=IDBKeyRange.lowerBound(l),m=$v(t).X({range:u},(_,b,D)=>{const[R,F,$]=_,Z=hd(F);R===this.userId&&o.path.isEqual(Z)?i=i.add($):D.done()});r.push(m)}),ce.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=WT(this.userId,i),l=IDBKeyRange.lowerBound(o);let u=new Fi(an);return $v(t).X({range:l},(m,_,b)=>{const[D,R,F]=m,$=hd(R);D===this.userId&&i.isPrefixOf($)?$.length===r&&(u=u.add(F)):b.done()}).next(()=>this.Dn(t,u))}Dn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Kf(t).get(o).next(l=>{if(null===l)throw _t();Tt(l.userId===this.userId),i.push(ig(this.serializer,l))}))}),ce.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return $3(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return $v(t).X({range:i},(o,l,u)=>{if(o[0]===this.userId){const m=hd(o[1]);r.push(m)}else u.done()}).next(()=>{Tt(0===r.length)})})}containsKey(t,e){return G3(t,this.userId,e)}xn(t){return W3(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function G3(n,t,e){const i=WT(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let l=!1;return $v(n).X({range:o,Y:!0},(u,m,_)=>{const[b,D,R]=u;b===t&&D===r&&(l=!0),_.done()}).next(()=>l)}function Kf(n){return uo(n,"mutations")}function $v(n){return uo(n,"documentMutations")}function W3(n){return uo(n,"mutationQueues")}class sg{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new sg(0)}static Mn(){return new sg(-1)}}class uY{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new sg(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>St.fromTimestamp(new qi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Gv(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(Tt(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return Gv(t).X((l,u)=>{const m=Kw(u);m.sequenceNumber<=e&&null===i.get(m.targetId)&&(r++,o.push(this.removeTargetData(t,m)))}).next(()=>ce.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Gv(t).X((i,r)=>{const o=Kw(r);e(o)})}$n(t){return q3(t).get("targetGlobalKey").next(e=>(Tt(null!==e),e))}On(t,e){return q3(t).put("targetGlobalKey",e)}Fn(t,e){return Gv(t).put(k3(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Qp(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Gv(t).X({range:r,index:"queryTargetsIndex"},(l,u,m)=>{const _=Kw(u);Lw(e,_.target)&&(o=_,m.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Qf(t);return e.forEach(l=>{const u=$o(l.path);r.push(o.put({targetId:i,path:u})),r.push(this.referenceDelegate.addReference(t,i,l))}),ce.waitFor(r)}removeMatchingKeys(t,e,i){const r=Qf(t);return ce.forEach(e,o=>{const l=$o(o.path);return ce.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Qf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Qf(t);let o=pn();return r.X({range:i,Y:!0},(l,u,m)=>{const _=hd(l[1]),b=new rt(_);o=o.add(b)}).next(()=>o)}containsKey(t,e){const i=$o(e.path),r=IDBKeyRange.bound([i],[oU(i)],!1,!0);let o=0;return Qf(t).X({index:"documentTargetsIndex",Y:!0,range:r},([l,u],m,_)=>{0!==l&&(o++,_.done())}).next(()=>o>0)}le(t,e){return Gv(t).get(e).next(i=>i?Kw(i):null)}}function Gv(n){return uo(n,"targets")}function q3(n){return uo(n,"targetGlobal")}function Qf(n){return uo(n,"targetDocuments")}function Z3([n,t],[e,i]){const r=an(n,e);return 0===r?an(t,i):r}class hY{constructor(t){this.Ln=t,this.buffer=new Fi(Z3),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Z3(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Y3{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ce.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Uf(i)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Vf(i)}yield e.Qn(3e5)}))}}class fY{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ce.resolve(wa.ct);const i=new hY(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(z3)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z3):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,o,l,u,m,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,l=Date.now(),this.nthSequenceNumber(t,r))).next(D=>(i=D,u=Date.now(),this.removeTargets(t,i,e))).next(D=>(o=D,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(D=>(_=Date.now(),TR()<=Co.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-b}ms\n\tDetermined least recently used ${r} in `+(u-l)+`ms\n\tRemoved ${o} targets in `+(m-u)+`ms\n\tRemoved ${D} documents in `+(_-m)+`ms\nTotal Duration: ${_-b}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:D})))}}class mY{constructor(t,e){this.db=t,this.garbageCollector=function K3(n,t){return new fY(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return pI(t,i)}removeReference(t,e,i){return pI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return pI(t,e)}Xn(t,e){return function(i,r){let o=!1;return W3(i).Z(l=>G3(i,l,r).next(u=>(u&&(o=!0),ce.resolve(!u)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(t,(l,u)=>{if(u<=e){const m=this.Xn(t,l).next(_=>{if(!_)return o++,i.getEntry(t,l).next(()=>(i.removeEntry(l,St.min()),Qf(t).delete([0,$o(l.path)])))});r.push(m)}}).next(()=>ce.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return pI(t,e)}Yn(t,e){const i=Qf(t);let r,o=wa.ct;return i.X({index:"documentTargetsIndex"},([l,u],{path:m,sequenceNumber:_})=>{0===l?(o!==wa.ct&&e(new rt(hd(r)),o),o=_,r=m):o=wa.ct}).next(()=>{o!==wa.ct&&e(new rt(hd(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function pI(n,t){return Qf(n).put((i=n.currentSequenceNumber,{targetId:0,path:$o(t.path),sequenceNumber:i}));var i}class Q3{constructor(){this.changes=new Vu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ni.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ce.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class pY{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return ag(t).put(i)}removeEntry(t,e,i){return ag(t).delete(function(r,o){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],lI(o),l[l.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=Ni.newInvalidDocument(e);return ag(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(tx(e))},(r,o)=>{i=this.ts(e,o)}).next(()=>i)}es(t,e){let i={size:0,document:Ni.newInvalidDocument(e)};return ag(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(tx(e))},(r,o)=>{i={document:this.ts(e,o),size:fI(o)}}).next(()=>i)}getEntries(t,e){let i=Vs();return this.ns(t,e,(r,o)=>{const l=this.ts(r,o);i=i.insert(r,l)}).next(()=>i)}ss(t,e){let i=Vs(),r=new Ci(rt.comparator);return this.ns(t,e,(o,l)=>{const u=this.ts(o,l);i=i.insert(o,u),r=r.insert(o,fI(l))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return ce.resolve();let r=new Fi(tH);e.forEach(m=>r=r.add(m));const o=IDBKeyRange.bound(tx(r.first()),tx(r.last())),l=r.getIterator();let u=l.getNext();return ag(t).X({index:"documentKeyIndex",range:o},(m,_,b)=>{const D=rt.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;u&&tH(u,D)<0;)i(u,null),u=l.getNext();u&&u.isEqual(D)&&(i(u,_),u=l.hasNext()?l.getNext():null),u?b.G(tx(u)):b.done()}).next(()=>{for(;u;)i(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,l=[o.popLast().toArray(),o.lastSegment(),lI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ag(t).j(IDBKeyRange.bound(l,u,!0)).next(m=>{let _=Vs();for(const b of m){const D=this.ts(rt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);D.isFoundDocument()&&(Vw(e,D)||r.has(D.key))&&(_=_.insert(D.key,D))}return _})}getAllFromCollectionGroup(t,e,i,r){let o=Vs();const l=eH(e,i),u=eH(e,ba.max());return ag(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,u,!0)},(m,_,b)=>{const D=this.ts(rt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);o=o.insert(D.key,D),o.size===r&&b.done()}).next(()=>o)}newChangeBuffer(t){return new gY(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return J3(t).get("remoteDocumentGlobalKey").next(e=>(Tt(!!e),e))}Zn(t,e){return J3(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function tY(n,t){let e;if(t.document)e=C3(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=rt.fromSegments(t.noDocument.path),r=ng(t.noDocument.readTime);e=Ni.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return _t();{const i=rt.fromSegments(t.unknownDocument.path),r=ng(t.unknownDocument.version);e=Ni.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new qi(i[0],i[1]);return St.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(St.min()))return i}return Ni.newInvalidDocument(t)}}function X3(n){return new pY(n)}class gY extends Q3{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new Vu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Fi((o,l)=>an(o.canonicalString(),l.canonicalString()));return this.changes.forEach((o,l)=>{const u=this.us.get(o);if(e.push(this.os.removeEntry(t,o,u.readTime)),l.isValidDocument()){const m=A3(this.os.serializer,l);r=r.add(o.path.popLast());const _=fI(m);i+=_-u.size,e.push(this.os.addEntry(t,o,m))}else if(i-=u.size,this.trackRemovals){const m=A3(this.os.serializer,l.convertToNoDocument(St.min()));e.push(this.os.addEntry(t,o,m))}}),r.forEach(o=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.os.updateMetadata(t,i)),ce.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((o,l)=>{this.us.set(o,{size:l,readTime:i.get(o).readTime})}),i))}}function J3(n){return uo(n,"remoteDocumentGlobal")}function ag(n){return uo(n,"remoteDocumentsV14")}function tx(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function eH(n,t){const e=t.documentKey.path.toArray();return[n,lI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function tH(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=an(e[o],i[o]),r)return r;return r=an(e.length,i.length),r||(r=an(e[e.length-2],i[i.length-2]),r||an(e[e.length-1],i[i.length-1]))}class _Y{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class nH{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&zw(i.mutation,r,Bs.empty(),qi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,pn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=pn()){const r=md();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let l=Uw();return o.forEach((u,m)=>{l=l.insert(u,m.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=md();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,pn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((l,u)=>{e.set(l,u)})})}computeViews(t,e,i,r){let o=Vs();const l=Hw(),u=Hw();return e.forEach((m,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof Uu)?o=o.insert(_.key,_):void 0!==b?(l.set(_.key,b.mutation.getFieldMask()),zw(b.mutation,_,b.mutation.getFieldMask(),qi.now())):l.set(_.key,Bs.empty())}),this.recalculateAndSaveOverlays(t,o).next(m=>(m.forEach((_,b)=>l.set(_,b)),e.forEach((_,b)=>{var D;return u.set(_,new _Y(b,null!==(D=l.get(_))&&void 0!==D?D:null))}),u))}recalculateAndSaveOverlays(t,e){const i=Hw();let r=new Ci((l,u)=>l-u),o=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const u of l)u.keys().forEach(m=>{const _=e.get(m);if(null===_)return;let b=i.get(m)||Bs.empty();b=u.applyToLocalView(_,b),i.set(m,b);const D=(r.get(u.batchId)||pn()).add(m);r=r.insert(u.batchId,D)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const m=u.getNext(),_=m.key,b=m.value,D=qU();b.forEach(R=>{if(!o.has(R)){const F=n3(e.get(R),i.get(R));null!==F&&D.set(R,F),o=o.add(R)}}),l.push(this.documentOverlayCache.saveOverlays(t,_,D))}return ce.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return rt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):UR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ce.resolve(md());let u=-1,m=o;return l.next(_=>ce.forEach(_,(b,D)=>(u<D.largestBatchId&&(u=D.largestBatchId),o.get(b)?ce.resolve():this.remoteDocumentCache.getEntry(t,b).next(R=>{m=m.insert(b,R)}))).next(()=>this.populateOverlays(t,_,o)).next(()=>this.computeViews(t,m,_,pn())).next(b=>({batchId:u,changes:WU(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new rt(e)).next(i=>{let r=Uw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=Uw();return this.indexManager.getCollectionParents(t,r).next(l=>ce.forEach(l,u=>{const m=(_=e,b=u.child(r),new Bu(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(t,m,i).next(_=>{_.forEach((b,D)=>{o=o.insert(b,D)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((u,m)=>{const _=m.getKey();null===o.get(_)&&(o=o.insert(_,Ni.newInvalidDocument(_)))});let l=Uw();return o.forEach((u,m)=>{const _=r.get(u);void 0!==_&&zw(_.mutation,m,Bs.empty(),qi.now()),Vw(e,m)&&(l=l.insert(u,m))}),l})}}class vY{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return ce.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:Sr(i.createTime)}),ce.resolve()}getNamedQuery(t,e){return ce.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:tO(i.bundledQuery),readTime:Sr(i.readTime)}),ce.resolve();var i}}class yY{constructor(){this.overlays=new Ci(rt.comparator),this.ls=new Map}getOverlay(t,e){return ce.resolve(this.overlays.get(e))}getOverlays(t,e){const i=md();return ce.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.we(t,e,o)}),ce.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),ce.resolve()}getOverlaysForCollection(t,e,i){const r=md(),o=e.length+1,l=new rt(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const m=u.getNext().value,_=m.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===o&&m.largestBatchId>i&&r.set(m.getKey(),m)}return ce.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Ci((_,b)=>_-b);const l=this.overlays.getIterator();for(;l.hasNext();){const _=l.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let b=o.get(_.largestBatchId);null===b&&(b=md(),o=o.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const u=md(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((_,b)=>u.set(_,b)),!(u.size()>=r)););return ce.resolve(u)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new qR(e,i));let o=this.ls.get(e);void 0===o&&(o=pn(),this.ls.set(e,o)),this.ls.set(e,o.add(i.key))}}class lO{constructor(){this.fs=new Fi(ho.ds),this.ws=new Fi(ho._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new ho(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new ho(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new rt(new An([])),i=new ho(e,t),r=new ho(e,t+1),o=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),o.push(l.key)}),o}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new rt(new An([])),i=new ho(e,t),r=new ho(e,t+1);let o=pn();return this.ws.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(t){const e=new ho(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class ho{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return rt.comparator(t.key,e.key)||an(t.As,e.As)}static _s(t,e){return an(t.As,e.As)||rt.comparator(t.key,e.key)}}class bY{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Fi(ho.ds)}checkEmpty(t){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.vs;this.vs++;const l=new GR(o,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Rs=this.Rs.add(new ho(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ce.resolve(l)}lookupMutationBatch(t,e){return ce.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),o=r<0?0:r;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new ho(e,0),r=new ho(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],l=>{const u=this.Ps(l.As);o.push(u)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Fi(an);return e.forEach(r=>{const o=new ho(r,0),l=new ho(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,l],u=>{i=i.add(u.As)})}),ce.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;rt.isDocumentKey(o)||(o=o.child(""));const l=new ho(new rt(o),0);let u=new Fi(an);return this.Rs.forEachWhile(m=>{const _=m.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(u=u.add(m.As)),!0)},l),ce.resolve(this.Vs(u))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Tt(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ce.forEach(e.mutations,r=>{const o=new ho(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new ho(e,0),r=this.Rs.firstAfterOrEqual(i);return ce.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ce.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class wY{constructor(t){this.Ds=t,this.docs=new Ci(rt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ce.resolve(i?i.document.mutableCopy():Ni.newInvalidDocument(e))}getEntries(t,e){let i=Vs();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Ni.newInvalidDocument(r))}),ce.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Vs();const l=e.path,u=new rt(l.child("")),m=this.docs.getIteratorFrom(u);for(;m.hasNext();){const{key:_,value:{document:b}}=m.getNext();if(!l.isPrefixOf(_.path))break;_.path.length>l.length+1||MR(aU(b),i)<=0||(r.has(b.key)||Vw(e,b))&&(o=o.insert(b.key,b.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(t,e,i,r){_t()}Cs(t,e){return ce.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new xY(this)}getSize(t){return ce.resolve(this.size)}}class xY extends Q3{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),ce.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class CY{constructor(t){this.persistence=t,this.xs=new Vu(e=>Qp(e),Lw),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Ns=0,this.ks=new lO,this.targetCount=0,this.Ms=sg.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),ce.resolve()}getLastRemoteSnapshotVersion(t){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ce.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),ce.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new sg(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,ce.resolve()}updateTargetData(t,e){return this.Fn(e),ce.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,ce.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.xs.forEach((l,u)=>{u.sequenceNumber<=e&&null===i.get(u.targetId)&&(this.xs.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),ce.waitFor(o).next(()=>r)}getTargetCount(t){return ce.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return ce.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),ce.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(l=>{o.push(r.markPotentiallyOrphaned(t,l))}),ce.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),ce.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return ce.resolve(i)}containsKey(t,e){return ce.resolve(this.ks.containsKey(e))}}class cO{constructor(t,e){this.$s={},this.overlays={},this.Os=new wa(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new CY(this),this.indexManager=new cY,this.remoteDocumentCache=new wY(i=>this.referenceDelegate.Ls(i)),this.serializer=new M3(e),this.qs=new vY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new yY,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new bY(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){$e("MemoryPersistence","Starting transaction:",t);const r=new EY(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(t,e){return ce.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class EY extends cU{constructor(t){super(),this.currentSequenceNumber=t}}class gI{constructor(t){this.persistence=t,this.Qs=new lO,this.js=null}static zs(t){return new gI(t)}get Ws(){if(this.js)return this.js;throw _t()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),ce.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),ce.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ws,i=>{const r=rt.fromPath(i);return this.Hs(t,r).next(o=>{o||e.removeEntry(r,St.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return ce.or([()=>ce.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class DY{constructor(t){this.serializer=t}O(t,e,i,r){const o=new GT("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fU,{unique:!0}),u.createObjectStore("documentMutations"),iH(t),function(u){u.createObjectStore("remoteDocuments")}(t));let l=ce.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),iH(t)),l=l.next(()=>function(u){const m=u.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",_)}(o))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(u,m){return m.store("mutations").j().next(_=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fU,{unique:!0});const b=m.store("mutations"),D=_.map(R=>b.put(R));return ce.waitFor(D)})}(t,o))),l=l.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(o))),i<6&&r>=6&&(l=l.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(o)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(o))),i<8&&r>=8&&(l=l.next(()=>this.ti(t,o))),i<9&&r>=9&&(l=l.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(l=l.next(()=>this.ei(o))),i<11&&r>=11&&(l=l.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(l=l.next(()=>{!function(u){const m=u.createObjectStore("documentOverlays",{keyPath:cZ});m.createIndex("collectionPathOverlayIndex",dZ,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",uZ,{unique:!1})}(t)})),i<13&&r>=13&&(l=l.next(()=>function(u){const m=u.createObjectStore("remoteDocumentsV14",{keyPath:X8});m.createIndex("documentKeyIndex",J8),m.createIndex("collectionGroupIndex",eZ)}(t)).next(()=>this.ni(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(t,o))),i<15&&r>=15&&(l=l.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:oZ}).createIndex("sequenceNumberIndex",sZ,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:aZ}).createIndex("documentKeyIndex",lZ,{unique:!1})}(t))),l}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=fI(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>ce.forEach(r,o=>{const l=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(u=>ce.forEach(u,m=>{Tt(m.userId===o.userId);const _=ig(this.serializer,m);return $3(t,o.userId,_).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((l,u)=>{const m=new An(l),_=[0,$o(m)];o.push(e.get(_).next(b=>b?ce.resolve():e.put({targetId:0,path:$o(m),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ce.waitFor(o))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:rZ});const i=e.store("collectionParents"),r=new aO,o=l=>{if(r.add(l)){const u=l.lastSegment(),m=l.popLast();return i.put({collectionId:u,parent:$o(m)})}};return e.store("remoteDocuments").X({Y:!0},(l,u)=>{const m=new An(l);return o(m.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([l,u,m],_)=>{const b=hd(u);return o(b.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const o=Kw(r),l=k3(this.serializer,o);return e.put(l)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((o,l)=>{const u=e.store("remoteDocumentsV14"),m=(_=l,_.document?new rt(An.fromString(_.document.name).popFirst(5)):_.noDocument?rt.fromSegments(_.noDocument.path):_.unknownDocument?rt.fromSegments(_.unknownDocument.path):_t()).path.toArray();var _;const b={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(u.put(b))}).next(()=>ce.waitFor(r))}si(t,e){const i=e.store("mutations"),r=X3(this.serializer),o=new cO(gI.zs,this.serializer.fe);return i.j().next(l=>{const u=new Map;return l.forEach(m=>{var _;let b=null!==(_=u.get(m.userId))&&void 0!==_?_:pn();ig(this.serializer,m).keys().forEach(D=>b=b.add(D)),u.set(m.userId,b)}),ce.forEach(u,(m,_)=>{const b=new co(_),D=cI.de(this.serializer,b),R=o.getIndexManager(b),F=mI.de(b,this.serializer,R,o.referenceDelegate);return new nH(r,F,D,R).recalculateAndSaveOverlaysForDocumentKeys(new RR(e,wa.ct),m).next()})})}}function iH(n){n.createObjectStore("targetDocuments",{keyPath:nZ}).createIndex("documentTargetsIndex",iZ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tZ,{unique:!0}),n.createObjectStore("targetGlobal")}const dO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uO{constructor(t,e,i,r,o,l,u,m,_,b,D=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=o,this.window=l,this.document=u,this.ri=_,this.oi=b,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=R=>Promise.resolve(),!uO.D())throw new Pe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mY(this,r),this.di=e+"main",this.serializer=new M3(m),this.wi=new lc(this.di,this.ui,new DY(this.serializer)),this.Bs=new uY(this.referenceDelegate,this.serializer),this.remoteDocumentCache=X3(this.serializer),this.qs=new nY,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&Ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(me.FAILED_PRECONDITION,dO);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new wa(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,Ce.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,Ce.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,Ce.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>vI(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(Uf(t))return $e("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return nx(t).get("owner").next(e=>ce.resolve(this.Ri(e)))}Pi(t){return vI(t).delete(this.clientId)}bi(){var t=this;return(0,Ce.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=uo(i,"clientMetadata");return r.j().next(o=>{const l=t.Si(o,18e5),u=o.filter(m=>-1===l.indexOf(m));return ce.forEach(u,m=>r.delete(m.clientId)).next(()=>u)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?ce.resolve(!0):nx(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Pe(me.FAILED_PRECONDITION,dO);return!1}}return!(!this.networkEnabled||!this.inForeground)||vI(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&$e("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ce.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new RR(e,wa.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>vI(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return mI.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new dY(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return cI.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){$e("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(l=this.ui)?fZ:14===l?_U:13===l?gU:12===l?hZ:11===l?pU:void _t();var l;let u;return this.wi.runTransaction(t,r,o,m=>(u=new RR(m,this.Os?this.Os.next():wa.ct),"readwrite-primary"===e?this.Ti(u).next(_=>!!_||this.Ei(u)).next(_=>{if(!_)throw Ir(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Pe(me.FAILED_PRECONDITION,lU);return i(u)}).next(_=>this.vi(u).next(()=>_)):this.Oi(u).next(()=>i(u)))).then(m=>(u.raiseOnCommittedEvent(),m))}Oi(t){return nx(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Pe(me.FAILED_PRECONDITION,dO)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nx(t).put("owner",e)}static D(){return lc.D()}Ai(t){const e=nx(t);return e.get("owner").next(i=>this.Ri(i)?($e("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ce.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Ir(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,H.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return $e("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ir("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){Ir("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function nx(n){return uo(n,"owner")}function vI(n){return uo(n,"clientMetadata")}function hO(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class fO{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=pn(),r=pn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new fO(t,e.fromCache,i,r)}}class rH{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(o=>o||this.Gi(t,e,r,i)).next(o=>o||this.Qi(t,e))}Ki(t,e){if(HU(e))return ce.resolve(null);let i=us(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=nI(e,null,"F"),i=us(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const l=pn(...o);return this.Ui.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(m=>{const _=this.ji(e,u);return this.zi(e,_,l,m.readTime)?this.Ki(t,nI(e,null,"F")):this.Wi(t,_,e,m)}))})))}Gi(t,e,i,r){return HU(e)||r.isEqual(St.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(o=>{const l=this.ji(e,o);return this.zi(e,l,i,r)?this.Qi(t,e):(TR()<=Co.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jR(e)),this.Wi(t,l,e,sU(r,-1)))})}ji(t,e){let i=new Fi($U(t));return e.forEach((r,o)=>{Vw(t,o)&&(i=i.add(o))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(t,e){return TR()<=Co.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",jR(e)),this.Ui.getDocumentsMatchingQuery(t,e,ba.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(l=>{o=o.insert(l.key,l)}),o))}}class TY{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new Ci(an),this.Yi=new Vu(o=>Qp(o),Lw),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nH(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function oH(n,t,e,i){return new TY(n,t,e,i)}function sH(n,t){return mO.apply(this,arguments)}function mO(){return mO=(0,Ce.Z)(function*(n,t){const e=at(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],u=[];let m=pn();for(const _ of r){l.push(_.batchId);for(const b of _.mutations)m=m.add(b.key)}for(const _ of o){u.push(_.batchId);for(const b of _.mutations)m=m.add(b.key)}return e.localDocuments.getDocuments(i,m).next(_=>({er:_,removedBatchIds:l,addedBatchIds:u}))})})}),mO.apply(this,arguments)}function aH(n){const t=at(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function lH(n,t,e){let i=pn(),r=pn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let l=Vs();return e.forEach((u,m)=>{const _=o.get(u);m.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(u)),m.isNoDocument()&&m.version.isEqual(St.min())?(t.removeEntry(u,m.readTime),l=l.insert(u,m)):!_.isValidDocument()||m.version.compareTo(_.version)>0||0===m.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(m),l=l.insert(u,m)):$e("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",m.version)}),{nr:l,sr:r}})}function MY(n,t){const e=at(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Wv(n,t){const e=at(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(o=>o?(r=o,ce.resolve(r)):e.Bs.allocateTargetId(i).next(l=>(r=new Hu(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function qv(n,t,e){return pO.apply(this,arguments)}function pO(){return pO=(0,Ce.Z)(function*(n,t,e){const i=at(n),r=i.Ji.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Uf(l))throw l;$e("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),pO.apply(this,arguments)}function yI(n,t,e){const i=at(n);let r=St.min(),o=pn();return i.persistence.runTransaction("Execute query","readonly",l=>function(u,m,_){const b=at(u),D=b.Yi.get(_);return void 0!==D?ce.resolve(b.Ji.get(D)):b.Bs.getTargetData(m,_)}(i,l,us(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,u.targetId).next(m=>{o=m})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,t,e?r:St.min(),e?o:pn())).next(u=>(uH(i,zU(t),u),{documents:u,ir:o})))}function cH(n,t){const e=at(n),i=at(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.le(o,t).next(l=>l?l.target:null))}function dH(n,t){const e=at(n),i=e.Xi.get(t)||St.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,sU(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(uH(e,t,r),r))}function uH(n,t,e){let i=n.Xi.get(t)||St.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(t,i)}function gO(){return gO=(0,Ce.Z)(function*(n,t,e,i){const r=at(n);let o=pn(),l=Vs();for(const _ of e){const b=t.rr(_.metadata.name);_.document&&(o=o.add(b));const D=t.ur(_);D.setReadTime(t.cr(_.metadata.readTime)),l=l.insert(b,D)}const u=r.Zi.newChangeBuffer({trackRemovals:!0}),m=yield Wv(r,(_=i,us(Lv(An.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>lH(_,u,l).next(b=>(u.apply(_),b)).next(b=>r.Bs.removeMatchingKeysForTargetId(_,m.targetId).next(()=>r.Bs.addMatchingKeys(_,o,m.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,b.nr,b.sr)).next(()=>b.nr)))}),gO.apply(this,arguments)}function kY(n,t){return _O.apply(this,arguments)}function _O(){return _O=(0,Ce.Z)(function*(n,t,e=pn()){const i=yield Wv(n,us(tO(t.bundledQuery))),r=at(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const l=Sr(t.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(o,t);const u=i.withResumeToken(Kr.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(u.targetId,u),r.Bs.updateTargetData(o,u).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,e,i.targetId)).next(()=>r.qs.saveNamedQuery(o,t))})}),_O.apply(this,arguments)}function hH(n,t){return`firestore_clients_${n}_${t}`}function fH(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function vO(n,t){return`firestore_targets_${n}_${t}`}class bI{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let o,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Pe(r.error.code,r.error.message))),l?new bI(t,e,r.state,o):(Ir("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class ix{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Pe(i.error.code,i.error.message))),o?new ix(t,i.state,r):(Ir("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class wI{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=zR();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=uU(i.activeTargetIds[l]),o=o.add(i.activeTargetIds[l]);return r?new wI(t,o):(Ir("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class yO{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new yO(e.clientId,e.onlineState):(Ir("SharedClientState",`Failed to parse online state: ${t}`),null)}}class bO{constructor(){this.activeTargetIds=zR()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wO{constructor(t,e,i,r,o){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ci(an),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=hH(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new bO),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const o=t.getItem(hH(t.persistenceKey,r));if(o){const l=wI.ar(r,o);l&&(t.gr=t.gr.insert(l.clientId,l))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(vO(this.persistenceKey,t));if(i){const r=ix.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(vO(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return $e("SharedClientState","READ",t,e),e}setItem(t,e){$e("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){$e("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if($e("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ce.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(o){let l=wa.ct;if(null!=o)try{const u=JSON.parse(o);Tt("number"==typeof u),l=u}catch(u){Ir("SharedClientState","Failed to read sequence number from WebStorage",u)}return l}(i.newValue);r!==wa.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Qr(o)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new bI(this.currentUser,t,e,i),o=fH(this.persistenceKey,this.currentUser,t);this.setItem(o,r.hr())}Cr(t){const e=fH(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=vO(this.persistenceKey,t),o=new ix(t,e,i);this.setItem(r,o.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return wI.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return bI.ar(new co(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return ix.ar(r,e)}br(t){return yO.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,Ce.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);$e("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),o=this.Sr(i),l=[],u=[];return o.forEach(m=>{r.has(m)||l.push(m)}),r.forEach(m=>{o.has(m)||u.push(m)}),this.syncEngine.Wr(l,u).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=zR();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class mH{constructor(){this.Hr=new bO,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new bO,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class RY{Yr(t){}shutdown(){}}class pH{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xI=null;function xO(){return null===xI?xI=268435456+Math.round(2147483648*Math.random()):xI++,"0x"+xI.toString(16)}const OY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PY{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Wo="WebChannelConnection";class FY extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,o){const l=xO(),u=this.To(t,e);$e("RestConnection",`Sending RPC '${t}' ${l}:`,u,i);const m={};return this.Eo(m,r,o),this.Ao(t,u,m,i).then(_=>($e("RestConnection",`Received RPC '${t}' ${l}: `,_),_),_=>{throw al("RestConnection",`RPC '${t}' ${l} failed with error: `,_,"url: ",u,"request:",i),_})}vo(t,e,i,r,o,l){return this.Io(t,e,i,r,o)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+kv,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}To(t,e){return`${this.mo}/v1/${e}:${OY[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const o=xO();return new Promise((l,u)=>{const m=new R8;m.setWithCredentials(!0),m.listenOnce(M8.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case DR.NO_ERROR:const b=m.getResponseJson();$e(Wo,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(b)),l(b);break;case DR.TIMEOUT:$e(Wo,`RPC '${t}' ${o} timed out`),u(new Pe(me.DEADLINE_EXCEEDED,"Request time out"));break;case DR.HTTP_ERROR:const D=m.getStatus();if($e(Wo,`RPC '${t}' ${o} failed with status:`,D,"response text:",m.getResponseText()),D>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const F=R?.error;if(F&&F.status&&F.message){const $=function(Z){const ie=Z.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(ie)>=0?ie:me.UNKNOWN}(F.status);u(new Pe($,F.message))}else u(new Pe(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else u(new Pe(me.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{$e(Wo,`RPC '${t}' ${o} completed.`)}});const _=JSON.stringify(r);$e(Wo,`RPC '${t}' ${o} sending request:`,r),m.send(e,"POST",_,i,15)})}Ro(t,e,i){const r=xO(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=I8(),u=S8(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;void 0!==_&&(m.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(m.xmlHttpFactory=new k8({})),this.Eo(m.initMessageHeaders,e,i),m.encodeInitMessageHeaders=!0;const b=o.join("");$e(Wo,`Creating RPC '${t}' stream ${r}: ${b}`,m);const D=l.createWebChannel(b,m);let R=!1,F=!1;const $=new PY({ro:ie=>{F?$e(Wo,`Not sending because RPC '${t}' stream ${r} is closed:`,ie):(R||($e(Wo,`Opening RPC '${t}' stream ${r} transport.`),D.open(),R=!0),$e(Wo,`RPC '${t}' stream ${r} sending:`,ie),D.send(ie))},oo:()=>D.close()}),Z=(ie,Se,Ye)=>{ie.listen(Se,Qe=>{try{Ye(Qe)}catch(ct){setTimeout(()=>{throw ct},0)}})};return Z(D,jT.EventType.OPEN,()=>{F||$e(Wo,`RPC '${t}' stream ${r} transport opened.`)}),Z(D,jT.EventType.CLOSE,()=>{F||(F=!0,$e(Wo,`RPC '${t}' stream ${r} transport closed`),$.wo())}),Z(D,jT.EventType.ERROR,ie=>{F||(F=!0,al(Wo,`RPC '${t}' stream ${r} transport errored:`,ie),$.wo(new Pe(me.UNAVAILABLE,"The operation could not be completed")))}),Z(D,jT.EventType.MESSAGE,ie=>{var Se;if(!F){const Ye=ie.data[0];Tt(!!Ye);const ct=Ye.error||(null===(Se=Ye[0])||void 0===Se?void 0:Se.error);if(ct){$e(Wo,`RPC '${t}' stream ${r} received error:`,ct);const $t=ct.status;let ln=function(Ro){const gl=Vr[Ro];if(void 0!==gl)return c3(gl)}($t),jn=ct.message;void 0===ln&&(ln=me.INTERNAL,jn="Unknown error status: "+$t+" with message "+ct.message),F=!0,$.wo(new Pe(ln,jn)),D.close()}else $e(Wo,`RPC '${t}' stream ${r} received:`,Ye),$._o(Ye)}}),Z(u,A8.STAT_EVENT,ie=>{ie.stat===eU.PROXY?$e(Wo,`RPC '${t}' stream ${r} detected buffering proxy`):ie.stat===eU.NOPROXY&&$e(Wo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{$.fo()},0),$}}function gH(){return typeof window<"u"?window:null}function CI(){return typeof document<"u"?document:null}function rx(n){return new GZ(n,!0)}class CO{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&$e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class _H{constructor(t,e,i,r,o,l,u,m){this.ii=t,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new CO(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,Ce.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,Ce.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,Ce.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(Ir(e.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new Pe(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,Ce.Z)(function*(){t.state=0,t.start()}))}tu(t){return $e("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NY extends _H{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function ZZ(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:_t(),r=t.targetChange.targetIds||[],o=function(m,_){return m.useProto3Json?(Tt(void 0===_||"string"==typeof _),Kr.fromBase64String(_||"")):(Tt(void 0===_||_ instanceof Uint8Array),Kr.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(m){const _=void 0===m.code?me.UNKNOWN:c3(m.code);return new Pe(_,m.message||"")}(l);e=new m3(i,r,o,u||null)}else if("documentChange"in t){const i=t.documentChange,r=pd(n,i.document.name),o=Sr(i.document.updateTime),l=i.document.createTime?Sr(i.document.createTime):St.min(),u=new Mo({mapValue:{fields:i.document.fields}}),m=Ni.newFoundDocument(r,o,l,u);e=new aI(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const i=t.documentDelete,r=pd(n,i.document),o=i.readTime?Sr(i.readTime):St.min(),l=Ni.newNoDocument(r,o);e=new aI([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in t){const i=t.documentRemove,r=pd(n,i.document);e=new aI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return _t();{const i=t.filter,{count:r=0,unchangedNames:o}=i,l=new VZ(r,o);e=new f3(i.targetId,l)}}var m;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return St.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?St.min():o.readTime?Sr(o.readTime):St.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=Zw(this.serializer),e.addTarget=function(r,o){let l;const u=o.target;if(l=JT(u)?{documents:E3(r,u)}:{query:eO(r,u)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=v3(r,o.resumeToken);const m=KR(r,o.expectedCount);null!==m&&(l.expectedCount=m)}else if(o.snapshotVersion.compareTo(St.min())>0){l.readTime=jv(r,o.snapshotVersion.toTimestamp());const m=KR(r,o.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,t);const i=function KZ(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=Zw(this.serializer),e.removeTarget=t,this.Wo(e)}}class LY extends _H{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(Tt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function YZ(n,t){return n&&n.length>0?(Tt(void 0!==t),n.map(e=>function(i,r){let o=Sr(i.updateTime?i.updateTime:r);return o.isEqual(St.min())&&(o=Sr(r)),new FZ(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Sr(t.commitTime);return this.listener.cu(i,e)}return Tt(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Zw(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Yw(this.serializer,i))};this.Wo(e)}}class BY extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Pe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Pe(me.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(t,e,i,o,l,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(me.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class UY{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ir(e),this.mu=!1):$e("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class HY{constructor(t,e,i,r,o){var l=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(u=>{i.enqueueAndForget((0,Ce.Z)(function*(){var m;Xf(l)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,Ce.Z)(function*(_){const b=at(_);b.vu.add(4),yield Zv(b),b.bu.set("Unknown"),b.vu.delete(4),yield ox(b)}),function(_){return m.apply(this,arguments)})(l))}))}),this.bu=new UY(i,r)}}function ox(n){return DO.apply(this,arguments)}function DO(){return DO=(0,Ce.Z)(function*(n){if(Xf(n))for(const t of n.Ru)yield t(!0)}),DO.apply(this,arguments)}function Zv(n){return TO.apply(this,arguments)}function TO(){return TO=(0,Ce.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),TO.apply(this,arguments)}function EI(n,t){const e=at(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),MO(e)?SO(e):Kv(e).Ko()&&IO(e,t))}function sx(n,t){const e=at(n),i=Kv(e);e.Au.delete(t),i.Ko()&&vH(e,t),0===e.Au.size&&(i.Ko()?i.jo():Xf(e)&&e.bu.set("Unknown"))}function IO(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Kv(n).su(t)}function vH(n,t){n.Vu.qt(t),Kv(n).iu(t)}function SO(n){n.Vu=new HZ({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),Kv(n).start(),n.bu.gu()}function MO(n){return Xf(n)&&!Kv(n).Uo()&&n.Au.size>0}function Xf(n){return 0===at(n).vu.size}function yH(n){n.Vu=void 0}function jY(n){return AO.apply(this,arguments)}function AO(){return AO=(0,Ce.Z)(function*(n){n.Au.forEach((t,e)=>{IO(n,t)})}),AO.apply(this,arguments)}function zY(n,t){return kO.apply(this,arguments)}function kO(){return kO=(0,Ce.Z)(function*(n,t){yH(n),MO(n)?(n.bu.Iu(t),SO(n)):n.bu.set("Unknown")}),kO.apply(this,arguments)}function $Y(n,t,e){return RO.apply(this,arguments)}function RO(){return RO=(0,Ce.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof m3&&2===t.state&&t.cause)try{yield(i=(0,Ce.Z)(function*(r,o){const l=o.cause;for(const u of o.targetIds)r.Au.has(u)&&(yield r.remoteSyncer.rejectListen(u,l),r.Au.delete(u),r.Vu.removeTarget(u))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){$e("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield DI(n,i)}else if(t instanceof aI?n.Vu.Ht(t):t instanceof f3?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(St.min()))try{const i=yield aH(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const l=r.Vu.ce(o);return l.targetChanges.forEach((u,m)=>{if(u.resumeToken.approximateByteSize()>0){const _=r.Au.get(m);_&&r.Au.set(m,_.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,m)=>{const _=r.Au.get(u);if(!_)return;r.Au.set(u,_.withResumeToken(Kr.EMPTY_BYTE_STRING,_.snapshotVersion)),vH(r,u);const b=new Hu(_.target,u,m,_.sequenceNumber);IO(r,b)}),r.remoteSyncer.applyRemoteEvent(l)}(n,e))}catch(i){$e("RemoteStore","Failed to raise snapshot:",i),yield DI(n,i)}var i}),RO.apply(this,arguments)}function DI(n,t,e){return OO.apply(this,arguments)}function OO(){return OO=(0,Ce.Z)(function*(n,t,e){if(!Uf(t))throw t;n.vu.add(1),yield Zv(n),n.bu.set("Offline"),e||(e=()=>aH(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield ox(n)}))}),OO.apply(this,arguments)}function bH(n,t){return t().catch(e=>DI(n,e,t))}function Yv(n){return PO.apply(this,arguments)}function PO(){return PO=(0,Ce.Z)(function*(n){const t=at(n),e=Jf(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;GY(t);)try{const r=yield MY(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,WY(t,r)}catch(r){yield DI(t,r)}wH(t)&&xH(t)}),PO.apply(this,arguments)}function GY(n){return Xf(n)&&n.Eu.length<10}function WY(n,t){n.Eu.push(t);const e=Jf(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function wH(n){return Xf(n)&&!Jf(n).Uo()&&n.Eu.length>0}function xH(n){Jf(n).start()}function qY(n){return FO.apply(this,arguments)}function FO(){return FO=(0,Ce.Z)(function*(n){Jf(n).hu()}),FO.apply(this,arguments)}function ZY(n){return NO.apply(this,arguments)}function NO(){return NO=(0,Ce.Z)(function*(n){const t=Jf(n);for(const e of n.Eu)t.uu(e.mutations)}),NO.apply(this,arguments)}function YY(n,t,e){return LO.apply(this,arguments)}function LO(){return LO=(0,Ce.Z)(function*(n,t,e){const i=n.Eu.shift(),r=WR.from(i,t,e);yield bH(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Yv(n)}),LO.apply(this,arguments)}function KY(n,t){return BO.apply(this,arguments)}function BO(){return BO=(0,Ce.Z)(function*(n,t){var e;t&&Jf(n).ou&&(yield(e=(0,Ce.Z)(function*(i,r){if(l3(o=r.code)&&o!==me.ABORTED){const l=i.Eu.shift();Jf(i).Qo(),yield bH(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield Yv(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),wH(n)&&xH(n)}),BO.apply(this,arguments)}function CH(n,t){return VO.apply(this,arguments)}function VO(){return VO=(0,Ce.Z)(function*(n,t){const e=at(n);e.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const i=Xf(e);e.vu.add(3),yield Zv(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield ox(e)}),VO.apply(this,arguments)}function UO(n,t){return HO.apply(this,arguments)}function HO(){return HO=(0,Ce.Z)(function*(n,t){const e=at(n);t?(e.vu.delete(2),yield ox(e)):t||(e.vu.add(2),yield Zv(e),e.bu.set("Unknown"))}),HO.apply(this,arguments)}function Kv(n){return n.Su||(n.Su=function(t,e,i){const r=at(t);return r.fu(),new NY(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:jY.bind(null,n),ao:zY.bind(null,n),nu:$Y.bind(null,n)}),n.Ru.push(function(){var t=(0,Ce.Z)(function*(e){e?(n.Su.Qo(),MO(n)?SO(n):n.bu.set("Unknown")):(yield n.Su.stop(),yH(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Jf(n){return n.Du||(n.Du=function(t,e,i){const r=at(t);return r.fu(),new LY(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:qY.bind(null,n),ao:KY.bind(null,n),au:ZY.bind(null,n),cu:YY.bind(null,n)}),n.Ru.push(function(){var t=(0,Ce.Z)(function*(e){e?(n.Du.Qo(),yield Yv(n)):(yield n.Du.stop(),n.Eu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class jO{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,u=new jO(t,e,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qv(n,t){if(Ir("AsyncQueue",`${t}: ${n}`),Uf(n))return new Pe(me.UNAVAILABLE,`${t}: ${n}`);throw n}class Xv{constructor(t){this.comparator=t?(e,i)=>t(e,i)||rt.comparator(e.key,i.key):(e,i)=>rt.comparator(e.key,i.key),this.keyedMap=Uw(),this.sortedSet=new Ci(this.comparator)}static emptySet(t){return new Xv(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Xv)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Xv;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class EH{constructor(){this.Cu=new Ci(rt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):_t():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Jv{constructor(t,e,i,r,o,l,u,m,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=m,this.hasCachedResults=_}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new Jv(t,e,Xv.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class QY{constructor(){this.Nu=void 0,this.listeners=[]}}class XY{constructor(){this.queries=new Vu(t=>jU(t),Bw),this.onlineState="Unknown",this.ku=new Set}}function zO(n,t){return $O.apply(this,arguments)}function $O(){return $O=(0,Ce.Z)(function*(n,t){const e=at(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new QY),r)try{o.Nu=yield e.onListen(i)}catch(l){const u=Qv(l,`Initialization of query '${jR(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,o),o.listeners.push(t),t.Mu(e.onlineState),o.Nu&&t.$u(o.Nu)&&qO(e)}),$O.apply(this,arguments)}function GO(n,t){return WO.apply(this,arguments)}function WO(){return WO=(0,Ce.Z)(function*(n,t){const e=at(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const l=o.listeners.indexOf(t);l>=0&&(o.listeners.splice(l,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),WO.apply(this,arguments)}function JY(n,t){const e=at(n);let i=!1;for(const r of t){const l=e.queries.get(r.query);if(l){for(const u of l.listeners)u.$u(r)&&(i=!0);l.Nu=r}}i&&qO(e)}function e7(n,t,e){const i=at(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function qO(n){n.ku.forEach(t=>{t.next()})}class ZO{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Jv(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=Jv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class t7{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class DH{constructor(t){this.serializer=t}rr(t){return pd(this.serializer,t)}ur(t){return t.metadata.exists?C3(this.serializer,t.document,!1):Ni.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return Sr(t)}}class n7{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=TH(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=An.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new DH(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const l of r.metadata.queries){const u=(e.get(l)||pn()).add(o);e.set(l,u)}}return e}complete(){var t=this;return(0,Ce.Z)(function*(){const e=yield function AY(n,t,e,i){return gO.apply(this,arguments)}(t.localStore,new DH(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield kY(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function TH(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class IH{constructor(t){this.key=t}}class SH{constructor(t){this.key=t}}class MH{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=pn(),this.mutatedKeys=pn(),this.tc=$U(t),this.ec=new Xv(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new EH,r=e?e.ec:this.ec;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((b,D)=>{const R=r.get(b),F=Vw(this.query,D)?D:null,$=!!R&&this.mutatedKeys.has(R.key),Z=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ie=!1;R&&F?R.data.isEqual(F.data)?$!==Z&&(i.track({type:3,doc:F}),ie=!0):this.rc(R,F)||(i.track({type:2,doc:F}),ie=!0,(m&&this.tc(F,m)>0||_&&this.tc(F,_)<0)&&(u=!0)):!R&&F?(i.track({type:0,doc:F}),ie=!0):R&&!F&&(i.track({type:1,doc:R}),ie=!0,(m||_)&&(u=!0)),ie&&(F?(l=l.add(F),o=Z?o.add(b):o.delete(b)):(l=l.delete(b),o=o.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),o=o.delete(b.key),i.track({type:1,doc:b})}return{ec:l,ic:i,zi:u,mutatedKeys:o}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const o=t.ic.xu();o.sort((_,b)=>function(D,R){const F=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return F(D)-F(R)}(_.type,b.type)||this.tc(_.doc,b.doc)),this.oc(i);const l=e?this.uc():[],u=0===this.Zu.size&&this.current?1:0,m=u!==this.Xu;return this.Xu=u,0!==o.length||m?{snapshot:new Jv(this.query,t.ec,r,o,t.mutatedKeys,0===u,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new EH,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=pn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new SH(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new IH(i))}),e}hc(t){this.Yu=t.ir,this.Zu=pn();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return Jv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class r7{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class o7{constructor(t){this.key=t,this.fc=!1}}class s7{constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Vu(u=>jU(u),Bw),this._c=new Map,this.mc=new Set,this.gc=new Ci(rt.comparator),this.yc=new Map,this.Ic=new lO,this.Tc={},this.Ec=new Map,this.Ac=sg.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function a7(n,t){return YO.apply(this,arguments)}function YO(){return YO=(0,Ce.Z)(function*(n,t){const e=vP(n);let i,r;const o=e.wc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const l=yield Wv(e.localStore,us(t)),u=e.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield KO(e,t,i,"current"===u,l.resumeToken),e.isPrimaryClient&&EI(e.remoteStore,l)}return r}),YO.apply(this,arguments)}function KO(n,t,e,i,r){return QO.apply(this,arguments)}function QO(){return QO=(0,Ce.Z)(function*(n,t,e,i,r){n.Rc=(D,R,F)=>{return($=(0,Ce.Z)(function*(Z,ie,Se,Ye){let Qe=ie.view.sc(Se);Qe.zi&&(Qe=yield yI(Z.localStore,ie.query,!1).then(({documents:ln})=>ie.view.sc(ln,Qe)));const ct=Ye&&Ye.targetChanges.get(ie.targetId),$t=ie.view.applyChanges(Qe,Z.isPrimaryClient,ct);return aP(Z,ie.targetId,$t.cc),$t.snapshot}),function(Z,ie,Se,Ye){return $.apply(this,arguments)})(n,D,R,F);var $};const o=yield yI(n.localStore,t,!0),l=new MH(t,o.ir),u=l.sc(o.documents),m=Ww.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),_=l.applyChanges(u,n.isPrimaryClient,m);aP(n,e,_.cc);const b=new r7(t,e,l);return n.wc.set(t,b),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),_.snapshot}),QO.apply(this,arguments)}function l7(n,t){return XO.apply(this,arguments)}function XO(){return XO=(0,Ce.Z)(function*(n,t){const e=at(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(o=>!Bw(o,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield qv(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),sx(e.remoteStore,i.targetId),ey(e,i.targetId)}).catch(Vf))):(ey(e,i.targetId),yield qv(e.localStore,i.targetId,!0))}),XO.apply(this,arguments)}function JO(){return JO=(0,Ce.Z)(function*(n,t,e){const i=yP(n);try{const r=yield function(o,l){const u=at(o),m=qi.now(),_=l.reduce((R,F)=>R.add(F.key),pn());let b,D;return u.persistence.runTransaction("Locally write mutations","readwrite",R=>{let F=Vs(),$=pn();return u.Zi.getEntries(R,_).next(Z=>{F=Z,F.forEach((ie,Se)=>{Se.isValidDocument()||($=$.add(ie))})}).next(()=>u.localDocuments.getOverlayedDocuments(R,F)).next(Z=>{b=Z;const ie=[];for(const Se of l){const Ye=LZ(Se,b.get(Se.key).overlayedDocument);null!=Ye&&ie.push(new Uu(Se.key,Ye,SU(Ye.value.mapValue),Zi.exists(!0)))}return u.mutationQueue.addMutationBatch(R,m,ie,l)}).next(Z=>{D=Z;const ie=Z.applyToLocalDocumentSet(b,$);return u.documentOverlayCache.saveOverlays(R,Z.batchId,ie)})}).then(()=>({batchId:D.batchId,changes:WU(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,l,u){let m=o.Tc[o.currentUser.toKey()];m||(m=new Ci(an)),m=m.insert(l,u),o.Tc[o.currentUser.toKey()]=m}(i,r.batchId,e),yield ju(i,r.changes),yield Yv(i.remoteStore)}catch(r){const o=Qv(r,"Failed to persist write");e.reject(o)}}),JO.apply(this,arguments)}function AH(n,t){return eP.apply(this,arguments)}function eP(){return eP=(0,Ce.Z)(function*(n,t){const e=at(n);try{const i=yield function SY(n,t){const e=at(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const u=[];t.targetChanges.forEach((b,D)=>{const R=r.get(D);if(!R)return;u.push(e.Bs.removeMatchingKeys(o,b.removedDocuments,D).next(()=>e.Bs.addMatchingKeys(o,b.addedDocuments,D)));let F=R.withSequenceNumber(o.currentSequenceNumber);var $,Z,ie;null!==t.targetMismatches.get(D)?F=F.withResumeToken(Kr.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,i)),r=r.insert(D,F),Z=F,ie=b,(0===($=R).resumeToken.approximateByteSize()||Z.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0)&&u.push(e.Bs.updateTargetData(o,F))});let m=Vs(),_=pn();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,b))}),u.push(lH(o,l,t.documentUpdates).next(b=>{m=b.nr,_=b.sr})),!i.isEqual(St.min())){const b=e.Bs.getLastRemoteSnapshotVersion(o).next(D=>e.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(b)}return ce.waitFor(u).next(()=>l.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,m,_)).next(()=>m)}).then(o=>(e.Ji=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const l=e.yc.get(o);l&&(Tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?Tt(l.fc):r.removedDocuments.size>0&&(Tt(l.fc),l.fc=!1))}),yield ju(e,i,t)}catch(i){yield Vf(i)}}),eP.apply(this,arguments)}function kH(n,t,e){const i=at(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((o,l)=>{const u=l.view.Mu(t);u.snapshot&&r.push(u.snapshot)}),function(o,l){const u=at(o);u.onlineState=l;let m=!1;u.queries.forEach((_,b)=>{for(const D of b.listeners)D.Mu(l)&&(m=!0)}),m&&qO(u)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function d7(n,t,e){return tP.apply(this,arguments)}function tP(){return tP=(0,Ce.Z)(function*(n,t,e){const i=at(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),o=r&&r.key;if(o){let l=new Ci(rt.comparator);l=l.insert(o,Ni.newNoDocument(o,St.min()));const u=pn().add(o),m=new Gw(St.min(),new Map,new Ci(an),l,u);yield AH(i,m),i.gc=i.gc.remove(o),i.yc.delete(t),lP(i)}else yield qv(i.localStore,t,!1).then(()=>ey(i,t,e)).catch(Vf)}),tP.apply(this,arguments)}function u7(n,t){return nP.apply(this,arguments)}function nP(){return nP=(0,Ce.Z)(function*(n,t){const e=at(n),i=t.batch.batchId;try{const r=yield function IY(n,t){const e=at(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Zi.newChangeBuffer({trackRemovals:!0});return function(l,u,m,_){const b=m.batch,D=b.keys();let R=ce.resolve();return D.forEach(F=>{R=R.next(()=>_.getEntry(u,F)).next($=>{const Z=m.docVersions.get(F);Tt(null!==Z),$.version.compareTo(Z)<0&&(b.applyToRemoteDocument($,m),$.isValidDocument()&&($.setReadTime(m.commitVersion),_.addEntry($)))})}),R.next(()=>l.mutationQueue.removeMutationBatch(u,b))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=pn();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(u=u.add(l.batch.mutations[m].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);sP(e,i,null),oP(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield ju(e,r)}catch(r){yield Vf(r)}}),nP.apply(this,arguments)}function h7(n,t,e){return iP.apply(this,arguments)}function iP(){return iP=(0,Ce.Z)(function*(n,t,e){const i=at(n);try{const r=yield function(o,l){const u=at(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return u.mutationQueue.lookupMutationBatch(m,l).next(b=>(Tt(null!==b),_=b.keys(),u.mutationQueue.removeMutationBatch(m,b))).next(()=>u.mutationQueue.performConsistencyCheck(m)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(m,_,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>u.localDocuments.getDocuments(m,_))})}(i.localStore,t);sP(i,t,e),oP(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield ju(i,r)}catch(r){yield Vf(r)}}),iP.apply(this,arguments)}function rP(){return rP=(0,Ce.Z)(function*(n,t){const e=at(n);Xf(e.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const l=at(o);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>l.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=Qv(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),rP.apply(this,arguments)}function oP(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function sP(n,t,e){const i=at(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function ey(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||RH(n,i)})}function RH(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(sx(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),lP(n))}function aP(n,t,e){for(const i of e)i instanceof IH?(n.Ic.addReference(i.key,t),m7(n,i)):i instanceof SH?($e("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||RH(n,i.key)):_t()}function m7(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||($e("SyncEngine","New document in limbo: "+e),n.mc.add(i),lP(n))}function lP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new rt(An.fromString(t)),i=n.Ac.next();n.yc.set(i,new o7(e)),n.gc=n.gc.insert(e,i),EI(n.remoteStore,new Hu(us(Lv(e.path)),i,"TargetPurposeLimboResolution",wa.ct))}}function ju(n,t,e){return cP.apply(this,arguments)}function cP(){return cP=(0,Ce.Z)(function*(n,t,e){const i=at(n),r=[],o=[],l=[];var u;i.wc.isEmpty()||(i.wc.forEach((u,m)=>{l.push(i.Rc(m,t,e).then(_=>{if((_||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,_?.fromCache?"not-current":"current"),_){r.push(_);const b=fO.Li(m.targetId,_);o.push(b)}}))}),yield Promise.all(l),i.dc.nu(r),yield(u=(0,Ce.Z)(function*(m,_){const b=at(m);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>ce.forEach(_,R=>ce.forEach(R.Fi,F=>b.persistence.referenceDelegate.addReference(D,R.targetId,F)).next(()=>ce.forEach(R.Bi,F=>b.persistence.referenceDelegate.removeReference(D,R.targetId,F)))))}catch(D){if(!Uf(D))throw D;$e("LocalStore","Failed to update sequence numbers: "+D)}for(const D of _){const R=D.targetId;if(!D.fromCache){const F=b.Ji.get(R),Z=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);b.Ji=b.Ji.insert(R,Z)}}}),function(m,_){return u.apply(this,arguments)})(i.localStore,o))}),cP.apply(this,arguments)}function p7(n,t){return dP.apply(this,arguments)}function dP(){return dP=(0,Ce.Z)(function*(n,t){const e=at(n);if(!e.currentUser.isEqual(t)){$e("SyncEngine","User change. New user:",t.toKey());const i=yield sH(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(l=>{l.forEach(u=>{u.reject(new Pe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield ju(e,i.er)}var r}),dP.apply(this,arguments)}function g7(n,t){const e=at(n),i=e.yc.get(t);if(i&&i.fc)return pn().add(i.key);{let r=pn();const o=e._c.get(t);if(!o)return r;for(const l of o){const u=e.wc.get(l);r=r.unionWith(u.view.nc)}return r}}function _7(n,t){return uP.apply(this,arguments)}function uP(){return uP=(0,Ce.Z)(function*(n,t){const e=at(n),i=yield yI(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&aP(e,t.targetId,r.cc),r}),uP.apply(this,arguments)}function v7(n,t){return hP.apply(this,arguments)}function hP(){return hP=(0,Ce.Z)(function*(n,t){const e=at(n);return dH(e.localStore,t).then(i=>ju(e,i))}),hP.apply(this,arguments)}function y7(n,t,e,i){return fP.apply(this,arguments)}function fP(){return fP=(0,Ce.Z)(function*(n,t,e,i){const r=at(n),o=yield function(l,u){const m=at(l),_=at(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Sn(b,u).next(D=>D?m.localDocuments.getDocuments(b,D):ce.resolve(null)))}(r.localStore,t);var u;null!==o?("pending"===e?yield Yv(r.remoteStore):"acknowledged"===e||"rejected"===e?(sP(r,t,i||null),oP(r,t),u=t,at(at(r.localStore).mutationQueue).Cn(u)):_t(),yield ju(r,o)):$e("SyncEngine","Cannot apply mutation batch with id: "+t)}),fP.apply(this,arguments)}function mP(){return mP=(0,Ce.Z)(function*(n,t){const e=at(n);if(vP(e),yP(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield OH(e,i.toArray());e.vc=!0,yield UO(e.remoteStore,!0);for(const o of r)EI(e.remoteStore,o)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((o,l)=>{e.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(ey(e,l),qv(e.localStore,l,!0))),sx(e.remoteStore,l)}),yield r,yield OH(e,i),function(o){const l=at(o);l.yc.forEach((u,m)=>{sx(l.remoteStore,m)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Ci(rt.comparator)}(e),e.vc=!1,yield UO(e.remoteStore,!1)}}),mP.apply(this,arguments)}function OH(n,t,e){return pP.apply(this,arguments)}function pP(){return pP=(0,Ce.Z)(function*(n,t,e){const i=at(n),r=[],o=[];for(const l of t){let u;const m=i._c.get(l);if(m&&0!==m.length){u=yield Wv(i.localStore,us(m[0]));for(const _ of m){const b=i.wc.get(_),D=yield _7(i,b);D.snapshot&&o.push(D.snapshot)}}else{const _=yield cH(i.localStore,l);u=yield Wv(i.localStore,_),yield KO(i,PH(_),l,!1,u.resumeToken)}r.push(u)}return i.dc.nu(o),r}),pP.apply(this,arguments)}function PH(n){return UU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function w7(n){const t=at(n);return at(at(t.localStore).persistence).$i()}function x7(n,t,e,i){return gP.apply(this,arguments)}function gP(){return gP=(0,Ce.Z)(function*(n,t,e,i){const r=at(n);if(r.vc)return void $e("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const l=yield dH(r.localStore,zU(o[0])),u=Gw.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Kr.EMPTY_BYTE_STRING);yield ju(r,l,u);break}case"rejected":yield qv(r.localStore,t,!0),ey(r,t,i);break;default:_t()}}),gP.apply(this,arguments)}function C7(n,t,e){return _P.apply(this,arguments)}function _P(){return _P=(0,Ce.Z)(function*(n,t,e){const i=vP(n);if(i.vc){for(const r of t){if(i._c.has(r)){$e("SyncEngine","Adding an already active target "+r);continue}const o=yield cH(i.localStore,r),l=yield Wv(i.localStore,o);yield KO(i,PH(o),l.targetId,!1,l.resumeToken),EI(i.remoteStore,l)}for(const r of e)i._c.has(r)&&(yield qv(i.localStore,r,!1).then(()=>{sx(i.remoteStore,r),ey(i,r)}).catch(Vf))}}),_P.apply(this,arguments)}function vP(n){const t=at(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=AH.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=g7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=d7.bind(null,t),t.dc.nu=JY.bind(null,t.eventManager),t.dc.Pc=e7.bind(null,t.eventManager),t}function yP(n){const t=at(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=u7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=h7.bind(null,t),t}class ax{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ce.Z)(function*(){e.serializer=rx(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return oH(this.persistence,new rH,t.initialUser,this.serializer)}createPersistence(t){return new cO(gI.zs,this.serializer)}createSharedClientState(t){return new mH}terminate(){var t=this;return(0,Ce.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class bP extends ax{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield yP(i.Vc.syncEngine),yield Yv(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return oH(this.persistence,new rH,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new Y3(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new Y8(e,this.persistence);return new Z8(t.asyncQueue,i)}createPersistence(t){const e=hO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Go.withCacheSize(this.cacheSizeBytes):Go.DEFAULT;return new uO(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,gH(),CI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new mH}}class FH extends bP{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof wO&&(i.sharedClientState.syncEngine={jr:y7.bind(null,r),zr:x7.bind(null,r),Wr:C7.bind(null,r),$i:w7.bind(null,r),Qr:v7.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var o=(0,Ce.Z)(function*(l){yield function b7(n,t){return mP.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=gH();if(!wO.D(e))throw new Pe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=hO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new wO(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class ty{initialize(t,e){var i=this;return(0,Ce.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>kH(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=p7.bind(null,i.syncEngine),yield UO(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new XY}createDatastore(t){const e=rx(t.databaseInfo.databaseId),i=new FY(t.databaseInfo);return new BY(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=u=>kH(this.syncEngine,u,0),l=pH.D()?new pH:new RY,new HY(e,i,r,o,l);var e,i,r,o,l}createSyncEngine(t,e){return function(i,r,o,l,u,m,_){const b=new s7(i,r,o,l,u,m);return _&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ce.Z)(function*(e){const i=at(e);$e("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Zv(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function NH(n,t=10240){let e=0;return{read:()=>(0,Ce.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class TI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Ir("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class T7{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new Yr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,Ce.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,Ce.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const o=yield t.$c(r);return new t7(JSON.parse(o),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,Ce.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,Ce.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class I7{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Pe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ce.Z)(function*(o,l){const u=at(o),m=Zw(u.serializer)+"/documents",_={documents:l.map(F=>qw(u.serializer,F))},b=yield u.vo("BatchGetDocuments",m,_,l.length),D=new Map;b.forEach(F=>{const $=function qZ(n,t){return"found"in t?function(e,i){Tt(!!i.found);const r=pd(e,i.found.name),o=Sr(i.found.updateTime),l=i.found.createTime?Sr(i.found.createTime):St.min(),u=new Mo({mapValue:{fields:i.found.fields}});return Ni.newFoundDocument(r,o,l,u)}(n,t):"missing"in t?function(e,i){Tt(!!i.missing),Tt(!!i.readTime);const r=pd(e,i.missing),o=Sr(i.readTime);return Ni.newNoDocument(r,o)}(n,t):_t()}(u.serializer,F);D.set($.key.toString(),$)});const R=[];return l.forEach(F=>{const $=D.get(F.toString());Tt(!!$),R.push($)}),R}),function(o,l){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Hv(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=rt.fromPath(r);t.mutations.push(new $R(o,t.precondition(o)))}),yield(i=(0,Ce.Z)(function*(r,o){const l=at(r),u=Zw(l.serializer)+"/documents",m={writes:o.map(_=>Yw(l.serializer,_))};yield l.Io("Commit",u,m)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw _t();e=St.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Pe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(St.min())?Zi.exists(!1):Zi.updateTime(e):Zi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(St.min()))throw new Pe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zi.updateTime(e)}return Zi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class S7{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new CO(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,Ce.Z)(function*(){const e=new I7(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Uc(o)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!kw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!l3(e)}return!1}}class M7{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=co.UNAUTHENTICATED,this.clientId=rU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,Ce.Z)(function*(u){$e("FirestoreClient","Received user=",u.uid),yield o.authCredentialListener(u),o.user=u});return function(u){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>($e("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var t=this;return(0,Ce.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Qv(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function II(n,t){return wP.apply(this,arguments)}function wP(){return wP=(0,Ce.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ce.Z)(function*(o){i.isEqual(o)||(yield sH(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),wP.apply(this,arguments)}function xP(n,t){return CP.apply(this,arguments)}function CP(){return CP=(0,Ce.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield EP(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>CH(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>CH(t.remoteStore,o)),n._onlineComponents=t}),CP.apply(this,arguments)}function LH(n){return"FirebaseError"===n.name?n.code===me.FAILED_PRECONDITION||n.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function EP(n){return DP.apply(this,arguments)}function DP(){return DP=(0,Ce.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$e("FirestoreClient","Using user provided OfflineComponentProvider");try{yield II(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!LH(e))throw e;al("Error using user provided cache. Falling back to memory cache: "+e),yield II(n,new ax)}}else $e("FirestoreClient","Using default OfflineComponentProvider"),yield II(n,new ax);return n._offlineComponents}),DP.apply(this,arguments)}function SI(n){return TP.apply(this,arguments)}function TP(){return TP=(0,Ce.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?($e("FirestoreClient","Using user provided OnlineComponentProvider"),yield xP(n,n._uninitializedComponentsProvider._online)):($e("FirestoreClient","Using default OnlineComponentProvider"),yield xP(n,new ty))),n._onlineComponents}),TP.apply(this,arguments)}function BH(n){return EP(n).then(t=>t.persistence)}function MI(n){return EP(n).then(t=>t.localStore)}function VH(n){return SI(n).then(t=>t.remoteStore)}function IP(n){return SI(n).then(t=>t.syncEngine)}function ny(n){return SP.apply(this,arguments)}function SP(){return SP=(0,Ce.Z)(function*(n){const t=yield SI(n),e=t.eventManager;return e.onListen=a7.bind(null,t.syncEngine),e.onUnlisten=l7.bind(null,t.syncEngine),e}),SP.apply(this,arguments)}function HH(n,t,e={}){const i=new Yr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(r,o,l,u,m){const _=new TI({next:D=>{o.enqueueAndForget(()=>GO(r,b));const R=D.docs.has(l);!R&&D.fromCache?m.reject(new Pe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&D.fromCache&&u&&"server"===u.source?m.reject(new Pe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(D)},error:D=>m.reject(D)}),b=new ZO(Lv(l.path),_,{includeMetadataChanges:!0,Ku:!0});return zO(r,b)}(yield ny(n),n.asyncQueue,t,e,i)})),i.promise}function jH(n,t,e={}){const i=new Yr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(r,o,l,u,m){const _=new TI({next:D=>{o.enqueueAndForget(()=>GO(r,b)),D.fromCache&&"server"===u.source?m.reject(new Pe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(D)},error:D=>m.reject(D)}),b=new ZO(l,_,{includeMetadataChanges:!0,Ku:!0});return zO(r,b)}(yield ny(n),n.asyncQueue,t,e,i)})),i.promise}function zH(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const $H=new Map;function MP(n,t,e){if(!e)throw new Pe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function GH(n,t,e,i){if(!0===t&&!0===i)throw new Pe(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function WH(n){if(!rt.isDocumentKey(n))throw new Pe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qH(n){if(rt.isDocumentKey(n))throw new Pe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":_t()}function Mn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Pe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=AI(n);throw new Pe(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function ZH(n,t){if(t<=0)throw new Pe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class YH{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Pe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Pe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}GH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=zH(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lx{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Pe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YH(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new N8;switch(e.type){case"firstParty":return new U8(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Pe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=$H.get(t);e&&($e("ComponentProvider","Removing Datastore"),$H.delete(t),e.terminate())}(this),Promise.resolve()}}function KH(n,t,e,i={}){var r;const o=(n=Mn(n,lx))._getSettings(),l=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==l&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let u,m;if("string"==typeof i.mockUserToken)u=i.mockUserToken,m=co.MOCK_USER;else{u=(0,H.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Pe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new co(_)}n._authCredentials=new L8(new nU(u,m))}}class Li{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Li(this.firestore,t,this._key)}}class Ao{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ao(this.firestore,t,this._query)}}class gd extends Ao{constructor(t,e,i){super(t,e,Lv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Li(this.firestore,null,new rt(t))}withConverter(t){return new gd(this.firestore,t,this._path)}}function QH(n,t,...e){if(n=(0,H.m9)(n),MP("collection","path",t),n instanceof lx){const i=An.fromString(t,...e);return qH(i),new gd(n,null,i)}{if(!(n instanceof Li||n instanceof gd))throw new Pe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(An.fromString(t,...e));return qH(i),new gd(n.firestore,null,i)}}function kI(n,t,...e){if(n=(0,H.m9)(n),1===arguments.length&&(t=rU.A()),MP("doc","path",t),n instanceof lx){const i=An.fromString(t,...e);return WH(i),new Li(n,null,new rt(i))}{if(!(n instanceof Li||n instanceof gd))throw new Pe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(An.fromString(t,...e));return WH(i),new Li(n.firestore,n instanceof gd?n.converter:null,new rt(i))}}function XH(n,t){return n=(0,H.m9)(n),t=(0,H.m9)(t),(n instanceof Li||n instanceof gd)&&(t instanceof Li||t instanceof gd)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function AP(n,t){return n=(0,H.m9)(n),t=(0,H.m9)(t),n instanceof Ao&&t instanceof Ao&&n.firestore===t.firestore&&Bw(n._query,t._query)&&n.converter===t.converter}class V7{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new CO(this,"async_queue_retry"),this.Xc=()=>{const e=CI();e&&$e("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=CI();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=CI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new Yr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,Ce.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!Uf(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,Ir("INTERNAL UNHANDLED ERROR: ",function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=jO.createAndSchedule(this,t,e,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&_t()}verifyOperationInProgress(){}sa(){var t=this;return(0,Ce.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function kP(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class U7{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Bi extends lx{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new V7,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||JH(this),this._firestoreClient.terminate()}}function j7(n,t){const e="object"==typeof n?n:(0,ro.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,ro._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,H.P0)("firestore");o&&KH(r,...o)}return r}function Mr(n){return n._firestoreClient||JH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function JH(n){var t,e,i;const r=n._freezeSettings(),o=(u=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new gZ(n._databaseId,u,n._persistenceKey,(_=r).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,zH(_.experimentalLongPollingOptions),_.useFetchStreams));var u,_;n._firestoreClient=new M7(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function ej(n,t,e){const i=new Yr;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield II(n,e),yield xP(n,t),i.resolve()}catch(r){const o=r;if(!LH(o))throw o;al("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function tj(n){if(n._initialized||n._terminated)throw new Pe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _d{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _d(Kr.fromBase64String(t))}catch(e){throw new Pe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new _d(Kr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class zu{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Pe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class lg{constructor(t){this._methodName=t}}class RI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Pe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Pe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return an(this._lat,t._lat)||an(this._long,t._long)}}const X7=/^__.*__$/;class J7{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Uu(t,this.data,this.fieldMask,e,this.fieldTransforms):new Uv(t,this.data,e,this.fieldTransforms)}}class nj{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Uu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function ij(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class OI{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new OI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return NI(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(ij(this.ca)&&X7.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class e9{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||rx(t)}ya(t,e,i,r=!1){return new OI({ca:t,methodName:e,ga:i,path:fr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cg(n){const t=n._freezeSettings(),e=rx(n._databaseId);return new e9(n._databaseId,!!t.ignoreUndefinedProperties,e)}function PI(n,t,e,i,r,o={}){const l=n.ya(o.merge||o.mergeFields?2:0,t,e,r);FP("Data must be an object, but it was:",l,i);const u=sj(i,l);let m,_;if(o.merge)m=new Bs(l.fieldMask),_=l.fieldTransforms;else if(o.mergeFields){const b=[];for(const D of o.mergeFields){const R=ux(t,D,e);if(!l.contains(R))throw new Pe(me.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);lj(b,R)||b.push(R)}m=new Bs(b),_=l.fieldTransforms.filter(D=>m.covers(D.field))}else m=null,_=l.fieldTransforms;return new J7(new Mo(u),m,_)}class dx extends lg{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof dx}}function rj(n,t,e){return new OI({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class RP extends lg{_toFieldTransform(t){return new jw(t.path,new Bv)}isEqual(t){return t instanceof RP}}class t9 extends lg{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=rj(this,t,!0),i=this.pa.map(o=>dg(o,e)),r=new Jp(i);return new jw(t.path,r)}isEqual(t){return this===t}}class n9 extends lg{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=rj(this,t,!0),i=this.pa.map(o=>dg(o,e)),r=new eg(i);return new jw(t.path,r)}isEqual(t){return this===t}}class i9 extends lg{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new Vv(t.serializer,KU(t.serializer,this.Ia));return new jw(t.path,e)}isEqual(t){return this===t}}function OP(n,t,e,i){const r=n.ya(1,t,e);FP("Data must be an object, but it was:",r,i);const o=[],l=Mo.empty();Hf(i,(m,_)=>{const b=FI(t,m,e);_=(0,H.m9)(_);const D=r.da(b);if(_ instanceof dx)o.push(b);else{const R=dg(_,D);null!=R&&(o.push(b),l.set(b,R))}});const u=new Bs(o);return new nj(l,u,r.fieldTransforms)}function PP(n,t,e,i,r,o){const l=n.ya(1,t,e),u=[ux(t,i,e)],m=[r];if(o.length%2!=0)throw new Pe(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<o.length;R+=2)u.push(ux(t,o[R])),m.push(o[R+1]);const _=[],b=Mo.empty();for(let R=u.length-1;R>=0;--R)if(!lj(_,u[R])){const F=u[R];let $=m[R];$=(0,H.m9)($);const Z=l.da(F);if($ instanceof dx)_.push(F);else{const ie=dg($,Z);null!=ie&&(_.push(F),b.set(F,ie))}}const D=new Bs(_);return new nj(b,D,l.fieldTransforms)}function oj(n,t,e,i=!1){return dg(e,n.ya(i?4:3,t))}function dg(n,t){if(aj(n=(0,H.m9)(n)))return FP("Unsupported field value:",t,n),sj(n,t);if(n instanceof lg)return function(e,i){if(!ij(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const l of e){let u=dg(l,i.wa(o));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,H.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return KU(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=qi.fromDate(e);return{timestampValue:jv(i.serializer,r)}}if(e instanceof qi){const r=new qi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:jv(i.serializer,r)}}if(e instanceof RI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof _d)return{bytesValue:v3(i.serializer,e._byteString)};if(e instanceof Li){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:QR(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${AI(e)}`)}(n,t)}function sj(n,t){const e={};return yU(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hf(n,(i,r)=>{const o=dg(r,t.ha(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function aj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qi||n instanceof RI||n instanceof _d||n instanceof Li||n instanceof lg)}function FP(n,t,e){if(!aj(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=AI(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function ux(n,t,e){if((t=(0,H.m9)(t))instanceof zu)return t._internalPath;if("string"==typeof t)return FI(n,t);throw NI("Field path arguments must be of type string or ",n,!1,void 0,e)}const r9=new RegExp("[~\\*/\\[\\]]");function FI(n,t,e){if(t.search(r9)>=0)throw NI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new zu(...t.split("."))._internalPath}catch{throw NI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function NI(n,t,e,i,r){const o=i&&!i.isEmpty(),l=void 0!==r;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let m="";return(o||l)&&(m+=" (found",o&&(m+=` in field ${i}`),l&&(m+=` in document ${r}`),m+=")"),new Pe(me.INVALID_ARGUMENT,u+n+m)}function lj(n,t){return n.some(e=>e.isEqual(t))}class hx{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new o9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(LI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class o9 extends hx{data(){return super.data()}}function LI(n,t){return"string"==typeof t?FI(n,t):t instanceof zu?t._internalPath:t._delegate._internalPath}function cj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Pe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NP{}class fx extends NP{}function em(n,t,...e){let i=[];t instanceof NP&&i.push(t),i=i.concat(e),function(r){const o=r.filter(u=>u instanceof iy).length,l=r.filter(u=>u instanceof mx).length;if(o>1||o>0&&l>0)throw new Pe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class mx extends fx{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new mx(t,e,i)}_apply(t){const e=this._parse(t);return fj(t._query,e),new Ao(t.firestore,t.converter,HR(t._query,e))}_parse(t){const e=cg(t.firestore);return function(r,o,l,u,m,_,b){let D;if(m.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Pe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){hj(b,_);const R=[];for(const F of b)R.push(uj(u,r,F));D={arrayValue:{values:R}}}else D=uj(u,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||hj(b,_),D=oj(l,"where",b,"in"===_||"not-in"===_);return Sn.create(m,_,D)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class iy extends NP{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new iy(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:oi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const l=r.getFlattenedFilters();for(const u of l)fj(o,u),o=HR(o,u)}(t._query,e),new Ao(t.firestore,t.converter,HR(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class LP extends fx{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new LP(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Pe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Pe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Fv(r,o);return function(u,m){if(null===VR(u)){const _=tI(u);null!==_&&mj(0,_,m.field)}}(i,l),l}(t._query,this._field,this._direction);return new Ao(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Bu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class BI extends fx{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new BI(t,e,i)}_apply(t){return new Ao(t.firestore,t.converter,nI(t._query,this._limit,this._limitType))}}class VI extends fx{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new VI(t,e,i)}_apply(t){const e=dj(t,this.type,this._docOrFields,this._inclusive);return new Ao(t.firestore,t.converter,(r=e,new Bu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class UI extends fx{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new UI(t,e,i)}_apply(t){const e=dj(t,this.type,this._docOrFields,this._inclusive);return new Ao(t.firestore,t.converter,(r=e,new Bu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function dj(n,t,e,i){if(e[0]=(0,H.m9)(e[0]),e[0]instanceof hx)return function(r,o,l,u,m){if(!u)throw new Pe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const _=[];for(const b of Xp(r))if(b.field.isKeyField())_.push(Kp(o,u.key));else{const D=u.data.field(b.field);if(ZT(D))throw new Pe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const R=b.field.canonicalString();throw new Pe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}_.push(D)}return new qf(_,m)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=cg(n.firestore);return function(o,l,u,m,_,b){const D=o.explicitOrderBy;if(_.length>D.length)throw new Pe(me.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let F=0;F<_.length;F++){const $=_[F];if(D[F].field.isKeyField()){if("string"!=typeof $)throw new Pe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof $}`);if(!UR(o)&&-1!==$.indexOf("/"))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${$}' contains a slash.`);const Z=o.path.child(An.fromString($));if(!rt.isDocumentKey(Z))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Z}' is not because it contains an odd number of segments.`);const ie=new rt(Z);R.push(Kp(l,ie))}else{const Z=oj(u,m,$);R.push(Z)}}return new qf(R,b)}(n._query,n.firestore._databaseId,r,t,e,i)}}function uj(n,t,e){if("string"==typeof(e=(0,H.m9)(e))){if(""===e)throw new Pe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UR(t)&&-1!==e.indexOf("/"))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(An.fromString(e));if(!rt.isDocumentKey(i))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Kp(n,new rt(i))}if(e instanceof Li)return Kp(n,e._key);throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${AI(e)}.`)}function hj(n,t){if(!Array.isArray(n)||0===n.length)throw new Pe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fj(n,t){if(t.isInequality()){const i=tI(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=VR(n);null!==o&&mj(0,r,o)}const e=function(i,r){for(const o of i)for(const l of o.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Pe(me.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function mj(n,t,e){if(!e.isEqual(t))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class BP{convertValue(t,e="none"){switch(Gf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Lu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw _t()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Hf(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new RI(mr(t.latitude),mr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=YT(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Ow(t));default:return null}}convertTimestamp(t){const e=jf(t);return new qi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=An.fromString(t);Tt(S3(i));const r=new zf(i.get(1),i.get(3)),o=new rt(i.popFirst(5));return r.isEqual(e)||Ir(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function HI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class m9 extends BP{constructor(t){super(),this.firestore=t}convertBytes(t){return new _d(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Li(this.firestore,null,e)}}class ug{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $u extends hx{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new px(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(LI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class px extends $u{data(t={}){return super.data(t)}}class tm{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ug(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new px(this._firestore,this._userDataWriter,i.key,i,new ug(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Pe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new px(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ug(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const u=new px(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ug(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,_=-1;return 0!==l.type&&(m=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),1!==l.type&&(o=o.add(l.doc),_=o.indexOf(l.doc.key)),{type:g9(l.type),doc:u,oldIndex:m,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function g9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function gj(n,t){return n instanceof $u&&t instanceof $u?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof tm&&t instanceof tm&&n._firestore===t._firestore&&AP(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class nm extends BP{constructor(t){super(),this.firestore=t}convertBytes(t){return new _d(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Li(this.firestore,null,e)}}function _j(n,t,e){n=Mn(n,Li);const i=Mn(n.firestore,Bi),r=HI(n.converter,t,e);return ry(i,[PI(cg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Zi.none())])}function vj(n,t,e,...i){n=Mn(n,Li);const r=Mn(n.firestore,Bi),o=cg(r);let l;return l="string"==typeof(t=(0,H.m9)(t))||t instanceof zu?PP(o,"updateDoc",n._key,t,e,i):OP(o,"updateDoc",n._key,t),ry(r,[l.toMutation(n._key,Zi.exists(!0))])}function yj(n,...t){var e,i,r;n=(0,H.m9)(n);let o={includeMetadataChanges:!1},l=0;"object"!=typeof t[l]||kP(t[l])||(o=t[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges};if(kP(t[l])){const D=t[l];t[l]=null===(e=D.next)||void 0===e?void 0:e.bind(D),t[l+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),t[l+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let m,_,b;if(n instanceof Li)_=Mn(n.firestore,Bi),b=Lv(n._key.path),m={next:D=>{t[l]&&t[l](VP(_,n,D))},error:t[l+1],complete:t[l+2]};else{const D=Mn(n,Ao);_=Mn(D.firestore,Bi),b=D._query;const R=new nm(_);m={next:F=>{t[l]&&t[l](new tm(_,R,D,F))},error:t[l+1],complete:t[l+2]},cj(n._query)}return function(D,R,F,$){const Z=new TI($),ie=new ZO(R,Z,F);return D.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return zO(yield ny(D),ie)})),()=>{Z.Dc(),D.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return GO(yield ny(D),ie)}))}}(Mr(_),b,u,m)}function ry(n,t){return function(e,i){const r=new Yr;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function c7(n,t,e){return JO.apply(this,arguments)}(yield IP(e),i,r)})),r.promise}(Mr(n),t)}function VP(n,t,e){const i=e.docs.get(t._key),r=new nm(n);return new $u(n,r,t._key,i,new ug(e.hasPendingWrites,e.fromCache),t.converter)}const P9={maxAttempts:5};class bj{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=cg(t)}set(t,e,i){this._verifyNotCommitted();const r=im(t,this._firestore),o=HI(r.converter,e,i),l=PI(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,Zi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=im(t,this._firestore);let l;return l="string"==typeof(e=(0,H.m9)(e))||e instanceof zu?PP(this._dataReader,"WriteBatch.update",o._key,e,i,r):OP(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(l.toMutation(o._key,Zi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=im(t,this._firestore);return this._mutations=this._mutations.concat(new Hv(e._key,Zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function im(n,t){if((n=(0,H.m9)(n)).firestore!==t)throw new Pe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class F9 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=cg(t)}get(t){const e=im(t,this._firestore),i=new m9(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return _t();const o=r[0];if(o.isFoundDocument())return new hx(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new hx(this._firestore,i,e._key,null,e.converter);throw _t()})}set(t,e,i){const r=im(t,this._firestore),o=HI(r.converter,e,i),l=PI(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(t,e,i,...r){const o=im(t,this._firestore);let l;return l="string"==typeof(e=(0,H.m9)(e))||e instanceof zu?PP(this._dataReader,"Transaction.update",o._key,e,i,r):OP(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,l),this}delete(t){const e=im(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=im(t,this._firestore),i=new nm(this._firestore);return super.get(t).then(r=>new $u(this._firestore,i,e._key,r._document,new ug(!1,!1),e.converter))}}!function(n,t=!0){kv=ro.SDK_VERSION,(0,ro._registerComponent)(new nc.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),l=new Bi(new B8(e.getProvider("auth-internal")),new H8(e.getProvider("app-check-internal")),function(u,m){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Pe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zf(u.options.projectId,m)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,ro.registerVersion)(tU,"3.13.0",n),(0,ro.registerVersion)(tU,"3.13.0","esm2017")}();function UP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function xj(){if(typeof Uint8Array>"u")throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function Cj(){if(!function mZ(){return typeof atob<"u"}())throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class gx{constructor(t){this._delegate=t}static fromBase64String(t){return Cj(),new gx(_d.fromBase64String(t))}static fromUint8Array(t){return xj(),new gx(_d.fromUint8Array(t))}toBase64(){return Cj(),this._delegate.toBase64()}toUint8Array(){return xj(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function HP(n){return function $9(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class G9{enableIndexedDbPersistence(t,e){return function z7(n,t){tj(n=Mn(n,Bi));const e=Mr(n);if(e._uninitializedComponentsProvider)throw new Pe(me.FAILED_PRECONDITION,"SDK cache is already specified.");al("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new ty;return ej(e,r,new bP(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function $7(n){tj(n=Mn(n,Bi));const t=Mr(n);if(t._uninitializedComponentsProvider)throw new Pe(me.FAILED_PRECONDITION,"SDK cache is already specified.");al("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new ty;return ej(t,i,new FH(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function G7(n){if(n._initialized&&!n._terminated)throw new Pe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Yr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(e=(0,Ce.Z)(function*(i){if(!lc.D())return Promise.resolve();const r=i+"main";yield lc.delete(r)}),function(i){return e.apply(this,arguments)})(hO(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class Ej{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof zf||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&al("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){KH(this._delegate,t,e,i)}enableNetwork(){return function q7(n){return function A7(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const t=yield BH(n),e=yield VH(n);return t.setNetworkEnabled(!0),function(i){const r=at(i);return r.vu.delete(0),ox(r)}(e)}))}(Mr(n=Mn(n,Bi)))}(this._delegate)}disableNetwork(){return function Z7(n){return function k7(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const t=yield BH(n),e=yield VH(n);return t.setNetworkEnabled(!1),(i=(0,Ce.Z)(function*(r){const o=at(r);o.vu.add(0),yield Zv(o),o.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Mr(n=Mn(n,Bi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,GH("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function W7(n){return function(t){const e=new Yr;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function f7(n,t){return rP.apply(this,arguments)}(yield IP(t),e)})),e.promise}(Mr(n=Mn(n,Bi)))}(this._delegate)}onSnapshotsInSync(t){return function D9(n,t){return function P7(n,t){const e=new TI(t);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield ny(n),r=e,at(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield ny(n),r=e,void at(i).ku.delete(r);var i,r}))}}(Mr(n=Mn(n,Bi)),kP(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new oy(this,QH(this._delegate,t))}catch(e){throw hs(e,"collection()","Firestore.collection()")}}doc(t){try{return new ll(this,kI(this._delegate,t))}catch(e){throw hs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new fs(this,function B7(n,t){if(n=Mn(n,lx),MP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Pe(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ao(n,null,(e=t,new Bu(An.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw hs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function N9(n,t,e){n=Mn(n,Bi);const i=Object.assign(Object.assign({},P9),e);return function(r){if(r.maxAttempts<1)throw new Pe(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,l){const u=new Yr;return r.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const m=yield function UH(n){return SI(n).then(t=>t.datastore)}(r);new S7(r.asyncQueue,m,l,o,u).run()})),u.promise}(Mr(n),r=>t(new F9(n,r)),i)}(this._delegate,e=>t(new Dj(this,e)))}batch(){return Mr(this._delegate),new Tj(new bj(this._delegate,t=>ry(this._delegate,t)))}loadBundle(t){return function Y7(n,t){const e=Mr(n=Mn(n,Bi)),i=new U7;return function F7(n,t,e,i){const r=function(o,l){let u;return u="string"==typeof o?d3().encode(o):o,m=function(m,_){if(m instanceof Uint8Array)return NH(m,_);if(m instanceof ArrayBuffer)return NH(new Uint8Array(m),_);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new T7(m,l);var m}(e,rx(t));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function E7(n,t,e){const i=at(n);var r;(r=(0,Ce.Z)(function*(o,l,u){try{const m=yield l.getMetadata();if(yield function(R,F){const $=at(R),Z=Sr(F.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",ie=>$.qs.getBundleMetadata(ie,F.id)).then(ie=>!!ie&&ie.createTime.compareTo(Z)>=0)}(o.localStore,m))return yield l.close(),u._completeWith({taskState:"Success",documentsLoaded:(R=m).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);u._updateProgress(TH(m));const _=new n7(m,o.localStore,l.serializer);let b=yield l.bc();for(;b;){const R=yield _.zu(b);R&&u._updateProgress(R),b=yield l.bc()}const D=yield _.complete();return yield ju(o,D.Ju,void 0),yield function(R,F){const $=at(R);return $.persistence.runTransaction("Save bundle","readwrite",Z=>$.qs.saveBundleMetadata(Z,F))}(o.localStore,m),u._completeWith(D.progress),Promise.resolve(D.Hu)}catch(m){return al("SyncEngine",`Loading bundle failed with ${m}`),u._failWith(m),Promise.resolve(new Set)}var R}),function(o,l,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield IP(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function K7(n,t){return function N7(n,t){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(e,i){const r=at(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(yield MI(n),t)}))}(Mr(n=Mn(n,Bi)),t).then(e=>e?new Ao(n,null,e.query):null)}(this._delegate,t).then(e=>e?new fs(this,e):null)}}class jI extends BP{constructor(t){super(),this.firestore=t}convertBytes(t){return new gx(new _d(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ll.forKey(e,this.firestore,null)}}class Dj{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new jI(t)}get(t){const e=fg(t);return this._delegate.get(e).then(i=>new _x(this._firestore,new $u(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=fg(t);return i?(UP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=fg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=fg(t);return this._delegate.delete(e),this}}class Tj{constructor(t){this._delegate=t}set(t,e,i){const r=fg(t);return i?(UP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=fg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=fg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class hg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new px(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new vx(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=hg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new hg(t,new jI(t),e),r.set(e,o)),o}}hg.INSTANCES=new WeakMap;class ll{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new jI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ll(e,new Li(e._delegate,i,new rt(t)))}static forKey(t,e,i){return new ll(e,new Li(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new oy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new oy(this.firestore,QH(this._delegate,t))}catch(e){throw hs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,H.m9)(t))instanceof Li&&XH(this._delegate,t)}set(t,e){e=UP("DocumentReference.set",e);try{return e?_j(this._delegate,t,e):_j(this._delegate,t)}catch(i){throw hs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?vj(this._delegate,t):vj(this._delegate,t,e,...i)}catch(r){throw hs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function C9(n){return ry(Mn(n.firestore,Bi),[new Hv(n._key,Zi.none())])}(this._delegate)}onSnapshot(...t){const e=Ij(t),i=Sj(t,r=>new _x(this.firestore,new $u(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return yj(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function v9(n){n=Mn(n,Li);const t=Mn(n.firestore,Bi),e=Mr(t),i=new nm(t);return function R7(n,t){const e=new Yr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(r,o,l){try{const u=yield function(m,_){const b=at(m);return b.persistence.runTransaction("read document","readonly",D=>b.localDocuments.getDocument(D,_))}(r,o);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new Pe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const m=Qv(u,`Failed to get document '${o} from cache`);l.reject(m)}}),function(r,o,l){return i.apply(this,arguments)})(yield MI(n),t,e);var i})),e.promise}(e,n._key).then(r=>new $u(t,i,n._key,r,new ug(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function y9(n){n=Mn(n,Li);const t=Mn(n.firestore,Bi);return HH(Mr(t),n._key,{source:"server"}).then(e=>VP(t,n,e))}(this._delegate):function _9(n){n=Mn(n,Li);const t=Mn(n.firestore,Bi);return HH(Mr(t),n._key).then(e=>VP(t,n,e))}(this._delegate),e.then(i=>new _x(this.firestore,new $u(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new ll(this.firestore,this._delegate.withConverter(t?hg.getInstance(this.firestore,t):null))}}function hs(n,t,e){return n.message=n.message.replace(t,e),n}function Ij(n){for(const t of n)if("object"==typeof t&&!HP(t))return t;return{}}function Sj(n,t){var e,i;let r;return r=HP(n[0])?n[0]:HP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class _x{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ll(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return gj(this._delegate,t._delegate)}}class vx extends _x{data(t){const e=this._delegate.data(t);return function F8(n,t){n||_t()}(void 0!==e),e}}class fs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new jI(t)}where(t,e,i){try{return new fs(this.firestore,em(this._delegate,function s9(n,t,e){const i=t,r=LI("where",n);return mx._create(r,i,e)}(t,e,i)))}catch(r){throw hs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new fs(this.firestore,em(this._delegate,function a9(n,t="asc"){const e=t,i=LI("orderBy",n);return LP._create(i,e)}(t,e)))}catch(i){throw hs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new fs(this.firestore,em(this._delegate,function l9(n){return ZH("limit",n),BI._create("limit",n,"F")}(t)))}catch(e){throw hs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new fs(this.firestore,em(this._delegate,function c9(n){return ZH("limitToLast",n),BI._create("limitToLast",n,"L")}(t)))}catch(e){throw hs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new fs(this.firestore,em(this._delegate,function d9(...n){return VI._create("startAt",n,!0)}(...t)))}catch(e){throw hs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new fs(this.firestore,em(this._delegate,function u9(...n){return VI._create("startAfter",n,!1)}(...t)))}catch(e){throw hs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new fs(this.firestore,em(this._delegate,function h9(...n){return UI._create("endBefore",n,!1)}(...t)))}catch(e){throw hs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new fs(this.firestore,em(this._delegate,function f9(...n){return UI._create("endAt",n,!0)}(...t)))}catch(e){throw hs(e,"endAt()","Query.endAt()")}}isEqual(t){return AP(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function w9(n){n=Mn(n,Ao);const t=Mn(n.firestore,Bi),e=Mr(t),i=new nm(t);return function O7(n,t){const e=new Yr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(r,o,l){try{const u=yield yI(r,o,!0),m=new MH(o,u.ir),_=m.sc(u.documents),b=m.applyChanges(_,!1);l.resolve(b.snapshot)}catch(u){const m=Qv(u,`Failed to execute query '${o} against cache`);l.reject(m)}}),function(r,o,l){return i.apply(this,arguments)})(yield MI(n),t,e);var i})),e.promise}(e,n._query).then(r=>new tm(t,i,n,r))}(this._delegate):"server"===t?.source?function x9(n){n=Mn(n,Ao);const t=Mn(n.firestore,Bi),e=Mr(t),i=new nm(t);return jH(e,n._query,{source:"server"}).then(r=>new tm(t,i,n,r))}(this._delegate):function b9(n){n=Mn(n,Ao);const t=Mn(n.firestore,Bi),e=Mr(t),i=new nm(t);return cj(n._query),jH(e,n._query).then(r=>new tm(t,i,n,r))}(this._delegate),e.then(i=>new jP(this.firestore,new tm(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=Ij(t),i=Sj(t,r=>new jP(this.firestore,new tm(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return yj(this._delegate,e,i)}withConverter(t){return new fs(this.firestore,this._delegate.withConverter(t?hg.getInstance(this.firestore,t):null))}}class q9{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new vx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new vx(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new q9(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new vx(this._firestore,i))})}isEqual(t){return gj(this._delegate,t._delegate)}}class oy extends fs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ll(this.firestore,t):null}doc(t){try{return new ll(this.firestore,void 0===t?kI(this._delegate):kI(this._delegate,t))}catch(e){throw hs(e,"doc()","CollectionReference.doc()")}}add(t){return function E9(n,t){const e=Mn(n.firestore,Bi),i=kI(n),r=HI(n.converter,t);return ry(e,[PI(cg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Zi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new ll(this.firestore,e))}isEqual(t){return XH(this._delegate,t._delegate)}withConverter(t){return new oy(this.firestore,this._delegate.withConverter(t?hg.getInstance(this.firestore,t):null))}}function fg(n){return Mn(n,Li)}class zP{constructor(...t){this._delegate=new zu(...t)}static documentId(){return new zP(fr.keyField().canonicalString())}isEqual(t){return(t=(0,H.m9)(t))instanceof zu&&this._delegate._internalPath.isEqual(t._internalPath)}}class mg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function B9(){return new RP("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new mg(t)}static delete(){const t=function L9(){return new dx("deleteField")}();return t._methodName="FieldValue.delete",new mg(t)}static arrayUnion(...t){const e=function V9(...n){return new t9("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new mg(e)}static arrayRemove(...t){const e=function U9(...n){return new n9("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new mg(e)}static increment(t){const e=function H9(n){return new i9("increment",n)}(t);return e._methodName="FieldValue.increment",new mg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Z9={Firestore:Ej,GeoPoint:RI,Timestamp:qi,Blob:gx,Transaction:Dj,WriteBatch:Tj,DocumentReference:ll,DocumentSnapshot:_x,Query:fs,QueryDocumentSnapshot:vx,QuerySnapshot:jP,CollectionReference:oy,FieldPath:zP,FieldValue:mg,setLogLevel:function W9(n){!function P8(n){Bf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Mj(n,t){return function Q9(n,t=ad.z){return new Yn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function $P(n,t){return Mj(n,t).pipe((0,Oe.U)(e=>({payload:e,type:"query"})))}function zI(n,t){return $P(n,t).pipe(Er(void 0),L1(),(0,Oe.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(l=>({type:l.type,payload:l}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,u)=>{const m=r.find(b=>b.doc.ref.isEqual(l.ref)),_=e?.payload.docs.find(b=>b.ref.isEqual(l.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(l.metadata)||!m&&_&&JSON.stringify(_.metadata)===JSON.stringify(l.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:l}})}),o}))}function Aj(n,t,e){return zI(n,e).pipe(sf((i,r)=>function J9(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function eK(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return GP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return GP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return GP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Bp(),(0,Oe.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function GP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function kj(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function K9(n){(function Y9(n,t){n.INTERNAL.registerComponent(new nc.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Z9)))})(n,(t,e)=>new Ej(t,e,new G9)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(BB.Z);class Rj{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=zI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Oe.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Er(void 0),L1(),hn(([i,r])=>r.length>0||!i),(0,Oe.U)(([i,r])=>r),nn.iC)}auditTrail(t){return this.stateChanges(t).pipe(sf((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=kj(t);return Aj(this.query,e,this.afs.schedulers.outsideAngular).pipe(nn.iC)}valueChanges(t={}){return $P(this.query,this.afs.schedulers.outsideAngular).pipe((0,Oe.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),nn.iC)}get(t){return(0,jt.D)(this.query.get(t)).pipe(nn.iC)}add(t){return this.ref.add(t)}doc(t){return new Oj(this.ref.doc(t),this.afs)}}class Oj{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=Pj(i,e);return new Rj(r,o,this.afs)}snapshotChanges(){return function X9(n,t){return Mj(n,t).pipe(Er(void 0),L1(),(0,Oe.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(nn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Oe.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,jt.D)(this.ref.get(t)).pipe(nn.iC)}}class tK{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?zI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Oe.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),hn(e=>e.length>0),nn.iC):zI(this.query,this.afs.schedulers.outsideAngular).pipe(nn.iC)}auditTrail(t){return this.stateChanges(t).pipe(sf((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=kj(t);return Aj(this.query,e,this.afs.schedulers.outsideAngular).pipe(nn.iC)}valueChanges(t={}){return $P(this.query,this.afs.schedulers.outsideAngular).pipe((0,Oe.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),nn.iC)}get(t){return(0,jt.D)(this.query.get(t)).pipe(nn.iC)}}const nK=new s.OlP("angularfire2.enableFirestorePersistence"),iK=new s.OlP("angularfire2.firestore.persistenceSettings"),rK=new s.OlP("angularfire2.firestore.settings"),oK=new s.OlP("angularfire2.firestore.use-emulator");function Pj(n,t=(e=>e)){return{query:t(n),ref:n}}let Fj=(()=>{class n{constructor(e,i,r,o,l,u,m,_,b,D,R,F,$,Z,ie,Se,Ye){this.schedulers=m;const Qe=(0,Br.on)(e,u,i),ct=b;D&&I0(Qe,u,R,$,Z,ie,F,Se),[this.firestore,this.persistenceEnabled$]=(0,Br.cc)(`${Qe.name}.firestore`,"AngularFirestore",Qe.name,()=>{const $t=u.runOutsideAngular(()=>Qe.firestore());if(o&&$t.settings(o),ct&&$t.useEmulator(...ct),r&&!Aa(l)){const ln=()=>{try{return(0,jt.D)($t.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(jn){return typeof console<"u"&&console.warn(jn),je(!1)}};return[$t,u.runOutsideAngular(ln)]}return[$t,je(!1)]},[o,ct,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:l}=Pj(r,i),u=this.schedulers.ngZone.run(()=>o);return new Rj(u,l,this)}collectionGroup(e,i){const r=i||(l=>l),o=this.firestore.collectionGroup(e);return new tK(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new Oj(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Br.Dh),s.LFG(Br.xv,8),s.LFG(nK,8),s.LFG(rK,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(nn.HU),s.LFG(iK,8),s.LFG(oK,8),s.LFG(Sf,8),s.LFG(rv,8),s.LFG(ov,8),s.LFG(D0,8),s.LFG(MD,8),s.LFG(sv,8),s.LFG(T0,8),s.LFG(If,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const Nj="@firebase/database";let WP="";function Bj(n){WP=n}class lK{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,H.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,H.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class cK{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,H.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Vj=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new lK(t)}}catch{}return new cK},pg=Vj("localStorage"),qP=Vj("sessionStorage"),sy=new Co.Yd("@firebase/database"),Uj=function(){let n=1;return function(){return n++}}(),Hj=function(n){const t=(0,H.dS)(n),e=new H.gQ;e.update(t);const i=e.digest();return H.US.encodeByteArray(i)},yx=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=yx.apply(null,i):t+="object"==typeof i?(0,H.Wl)(i):i,t+=" "}return t};let gg=null,jj=!0;const zj=function(n,t){(0,H.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(sy.logLevel=Co.in.VERBOSE,gg=sy.log.bind(sy),t&&qP.set("logging_enabled",!0)):"function"==typeof n?gg=n:(gg=null,qP.remove("logging_enabled"))},fo=function(...n){if(!0===jj&&(jj=!1,null===gg&&!0===qP.get("logging_enabled")&&zj(!0)),gg){const t=yx.apply(null,n);gg(t)}},bx=function(n){return function(...t){fo(n,...t)}},ZP=function(...n){const t="FIREBASE INTERNAL ERROR: "+yx(...n);sy.error(t)},vd=function(...n){const t=`FIREBASE FATAL ERROR: ${yx(...n)}`;throw sy.error(t),new Error(t)},qo=function(...n){const t="FIREBASE WARNING: "+yx(...n);sy.warn(t)},$I=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},rm="[MIN_NAME]",Gu="[MAX_NAME]",_g=function(n,t){if(n===t)return 0;if(n===rm||t===Gu)return-1;if(t===rm||n===Gu)return 1;{const e=Wj(n),i=Wj(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},hK=function(n,t){return n===t?0:n<t?-1:1},wx=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,H.Wl)(t))},YP=function(n){if("object"!=typeof n||null===n)return(0,H.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,H.Wl)(t[i]),e+=":",e+=YP(n[t[i]]);return e+="}",e},$j=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function mo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Gj=function(n){(0,H.hu)(!$I(n),"Invalid JSON number");const i=1023;let r,o,l,u,m;0===n?(o=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=u+i,l=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(o=0,l=Math.round(n/Math.pow(2,-1074))));const _=[];for(m=52;m;m-=1)_.push(l%2?1:0),l=Math.floor(l/2);for(m=11;m;m-=1)_.push(o%2?1:0),o=Math.floor(o/2);_.push(r?1:0),_.reverse();const b=_.join("");let D="";for(m=0;m<64;m+=8){let R=parseInt(b.substr(m,8),2).toString(16);1===R.length&&(R="0"+R),D+=R}return D.toLowerCase()},gK=new RegExp("^-?(0*)\\d{1,10}$"),Wj=function(n){if(gK.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},ay=function(n){try{n()}catch(t){setTimeout(()=>{throw qo("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},yK=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xx=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class bK{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){qo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class wK{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(fo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qo(t)}}let Cx=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Qj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ez="websocket",tz="long_polling";class QP{constructor(t,e,i,r,o=!1,l="",u=!1,m=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=pg.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&pg.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function nz(n,t,e){let i;if((0,H.hu)("string"==typeof t,"typeof type must == string"),(0,H.hu)("object"==typeof e,"typeof params must == object"),t===ez)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==tz)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function xK(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return mo(e,(o,l)=>{r.push(o+"="+l)}),i+r.join("&")}class CK{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,H.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,H.p$)(this.counters_)}}const XP={},JP={};function eF(n){const t=n.toString();return XP[t]||(XP[t]=new CK),XP[t]}class DK{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&ay(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class om{constructor(t,e,i,r,o,l,u){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bx(t),this.stats_=eF(e),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),nz(e,tz,m))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new DK(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,H.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tF((...o)=>{const[l,u,m,_,b]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=u,this.password=m;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[l,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Qj.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){om.forceAllow_=!0}static forceDisallow(){om.forceDisallow_=!0}static isAvailable(){return!((0,H.Yr)()||!om.forceAllow_&&(om.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,H.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,H.h$)(e),r=$j(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,H.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,H.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class tF{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Uj(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=tF.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){fo("frame writing exception"),u.stack&&fo(u.stack),fo(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||fo("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,H.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{fo("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let WI=null;typeof MozWebSocket<"u"?WI=MozWebSocket:typeof WebSocket<"u"&&(WI=WebSocket);let ly=(()=>{class n{constructor(e,i,r,o,l,u,m){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bx(this.connId),this.stats_=eF(i),this.connURL=n.connectionURL_(i,u,m,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,l){const u={v:"5"};return!(0,H.Yr)()&&typeof location<"u"&&location.hostname&&Qj.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),o&&(u.ac=o),l&&(u.p=l),nz(e,ez,u)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,pg.set("previous_websocket_failure",!0);try{let r;if((0,H.Yr)()){r={headers:{"User-Agent":`Firebase/5/${WP}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,u=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;u&&(r.proxy={origin:u})}this.mySock=new WI(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==WI&&!n.forceDisallow_}static previouslyFailed(){return pg.isInMemoryStorage||!0===pg.get("previous_websocket_failure")}markConnectionHealthy(){pg.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,H.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,H.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,H.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=$j(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),cz=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[om,ly]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=ly&&ly.isAvailable();let r=i&&!ly.previouslyFailed();if(e.webSocketOnly&&(i||qo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ly];else{const o=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class gz{constructor(t,e,i,r,o,l,u,m,_,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bx("c:"+this.id+":"),this.transportManager_=new cz(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=xx(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=wx("t",t),i=wx("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=wx("t",t),i=wx("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=wx("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?ZP("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ZP("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&qo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),xx(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xx(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(pg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class _z{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class vz{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,H.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,H.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class qI extends vz{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,H.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new qI}getInitialEvent(t){return(0,H.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const yz=32,bz=768;class Kn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Hn(){return new Kn("")}function bn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function sm(n){return n.pieces_.length-n.pieceNum_}function vi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Kn(n.pieces_,t)}function iF(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ex(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function wz(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Kn(t,0)}function Yi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Kn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Kn(e,0)}function wn(n){return n.pieceNum_>=n.pieces_.length}function ms(n,t){const e=bn(n),i=bn(t);if(null===e)return t;if(e===i)return ms(vi(n),vi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function qK(n,t){const e=Ex(n,0),i=Ex(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=_g(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function rF(n,t){if(sm(n)!==sm(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function cl(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(sm(n)>sm(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class ZK{constructor(t,e){this.errorPrefix_=e,this.parts_=Ex(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,H.ug)(this.parts_[i]);xz(this)}}function xz(n){if(n.byteLength_>bz)throw new Error(n.errorPrefix_+"has a key path longer than "+bz+" bytes ("+n.byteLength_+").");if(n.parts_.length>yz)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yz+") or object contains a cycle "+vg(n))}function vg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class oF extends vz{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new oF}getInitialEvent(t){return(0,H.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Dx=1e3;let YI,yg=(()=>{class n extends _z{constructor(e,i,r,o,l,u,m,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=m,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=bx("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Dx,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,H.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");oF.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&qI.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,l={r:o,a:e,b:i};this.log_((0,H.Wl)(l)),(0,H.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new H.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const m=u.d;"ok"===u.s?i.resolve(m):i.reject(m)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),(0,H.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.hu)(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(u).set(l,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const l={p:r};e.tag&&(l.q=i._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest("q",l,m=>{const _=m.d,b=m.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",m),"ok"!==b&&this.removeListen_(r,o),e.onComplete&&e.onComplete(b,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,H.r3)(e,"w")){const r=(0,H.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();qo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,H.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,H.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const l=o.s,u=o.d||"error";this.authToken_===e&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,H.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const l={p:e};o&&(l.q=r,l.t=o),this.sendRequest("n",l)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const l={p:i,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,l){this.initConnection_();const u={p:i,d:r};void 0!==l&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,H.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):ZP("Unrecognized action received from server: "+(0,H.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,H.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Dx,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Dx,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Dx),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ce.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),l=e.id+":"+n.nextConnectionId_++,u=e.lastSessionId;let m=!1,_=null;const b=function(){_?_.close():(m=!0,o())};e.realtime_={close:b,sendRequest:function(F){(0,H.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(F)}};const R=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[F,$]=yield Promise.all([e.authTokenProvider_.getToken(R),e.appCheckTokenProvider_.getToken(R)]);m?fo("getToken() completed but was canceled"):(fo("getToken() completed. Creating connection."),e.authToken_=F&&F.accessToken,e.appCheckToken_=$&&$.token,_=new gz(l,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,Z=>{qo(Z+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},u))}catch(F){e.log_("Failed to get token: "+F),m||(e.repoInfo_.nodeAdmin&&qo(F),b())}}})()}interrupt(e){fo("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){fo("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,H.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Dx,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(l=>YP(l)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Kn(e).toString();let o;if(this.listens.has(r)){const l=this.listens.get(r);o=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){fo("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){fo("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,H.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+WP.replace(/\./g,"-")]=1,(0,H.uI)()?e["framework.cordova"]=1:(0,H.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=qI.getInstance().currentlyOnline();return(0,H.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class En{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new En(t,e)}}class ZI{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new En(rm,t),r=new En(rm,e);return 0!==this.compare(i,r)}minPost(){return En.MIN}}class Dz extends ZI{static get __EMPTY_NODE(){return YI}static set __EMPTY_NODE(t){YI=t}compare(t,e){return _g(t.name,e.name)}isDefinedOn(t){throw(0,H.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return En.MIN}maxPost(){return new En(Gu,YI)}makePost(t,e){return(0,H.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new En(t,YI)}toString(){return".key"}}const yd=new Dz;class KI{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse_?t.left:t.right;else{if(0===l){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let aF,cc=(()=>{class n{constructor(e,i,r,o,l){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??Us.EMPTY_NODE,this.right=l??Us.EMPTY_NODE}copy(e,i,r,o,l){return new n(e??this.key,i??this.value,r??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===l?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Us.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Us.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Us{constructor(t,e=Us.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Us(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,cc.BLACK,null,null))}remove(t){return new Us(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,cc.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new KI(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new KI(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new KI(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new KI(this.root_,null,this.comparator_,!0,t)}}function nQ(n,t){return _g(n.name,t.name)}function sF(n,t){return _g(n,t)}Us.EMPTY_NODE=new class tQ{copy(t,e,i,r,o){return this}insert(t,e,i){return new cc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Tz=function(n){return"number"==typeof n?"number:"+Gj(n):"string:"+n},Iz=function(n){if(n.isLeafNode()){const t=n.val();(0,H.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,H.r3)(t,".sv"),"Priority must be a string or number.")}else(0,H.hu)(n===aF||n.isEmpty(),"priority of unexpected type.");(0,H.hu)(n===aF||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Sz,Mz,Az,cy=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,H.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Iz(this.priorityNode_)}static set __childrenNodeConstructor(e){Sz=e}static get __childrenNodeConstructor(){return Sz}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return wn(e)?this:".priority"===bn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=bn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,H.hu)(".priority"!==r||1===sm(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(vi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Tz(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Gj(this.value_):this.value_,this.lazyHash_=Hj(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,H.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,H.hu)(o>=0,"Unknown leaf type: "+i),(0,H.hu)(l>=0,"Unknown leaf type: "+r),o===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ei=new class sQ extends ZI{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?_g(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return En.MIN}maxPost(){return new En(Gu,new cy("[PRIORITY-POST]",Az))}makePost(t,e){const i=Mz(t);return new En(e,new cy("[PRIORITY-POST]",i))}toString(){return".priority"}},aQ=Math.log(2);class lQ{constructor(t){this.count=parseInt(Math.log(t+1)/aQ,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const QI=function(n,t,e,i){n.sort(t);const r=function(m,_){const b=_-m;let D,R;if(0===b)return null;if(1===b)return D=n[m],R=e?e(D):D,new cc(R,D.node,cc.BLACK,null,null);{const F=parseInt(b/2,10)+m,$=r(m,F),Z=r(F+1,_);return D=n[F],R=e?e(D):D,new cc(R,D.node,cc.BLACK,$,Z)}},u=function(m){let _=null,b=null,D=n.length;const R=function($,Z){const ie=D-$,Se=D;D-=$;const Ye=r(ie+1,Se),Qe=n[ie],ct=e?e(Qe):Qe;F(new cc(ct,Qe.node,Z,null,Ye))},F=function($){_?(_.left=$,_=$):(b=$,_=$)};for(let $=0;$<m.count;++$){const Z=m.nextBitIsOne(),ie=Math.pow(2,m.count-($+1));Z?R(ie,cc.BLACK):(R(ie,cc.BLACK),R(ie,cc.RED))}return b}(new lQ(n.length));return new Us(i||t,u)};let lF;const dy={};class Wu{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,H.hu)(dy&&Ei,"ChildrenNode.ts has not been loaded"),lF=lF||new Wu({".priority":dy},{".priority":Ei}),lF}get(t){const e=(0,H.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Us?e:null}hasIndex(t){return(0,H.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,H.hu)(t!==yd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(En.Wrap);let u,l=o.getNext();for(;l;)r=r||t.isDefinedOn(l.node),i.push(l),l=o.getNext();u=r?QI(i,t.getCompare()):dy;const m=t.toString(),_=Object.assign({},this.indexSet_);_[m]=t;const b=Object.assign({},this.indexes_);return b[m]=u,new Wu(b,_)}addToIndexes(t,e){const i=(0,H.UI)(this.indexes_,(r,o)=>{const l=(0,H.DV)(this.indexSet_,o);if((0,H.hu)(l,"Missing index implementation for "+o),r===dy){if(l.isDefinedOn(t.node)){const u=[],m=e.getIterator(En.Wrap);let _=m.getNext();for(;_;)_.name!==t.name&&u.push(_),_=m.getNext();return u.push(t),QI(u,l.getCompare())}return dy}{const u=e.get(t.name);let m=r;return u&&(m=m.remove(new En(t.name,u))),m.insert(t,t.node)}});return new Wu(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,H.UI)(this.indexes_,r=>{if(r===dy)return r;{const o=e.get(t.name);return o?r.remove(new En(t.name,o)):r}});return new Wu(i,this.indexSet_)}}let Tx,fn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Iz(this.priorityNode_),this.children_.isEmpty()&&(0,H.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Tx||(Tx=new n(new Us(sF),null,Wu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Tx}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Tx:i}}getChild(e){const i=bn(e);return null===i?this:this.getImmediateChild(i).getChild(vi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,H.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new En(e,i);let o,l;i.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),l=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?Tx:this.priorityNode_;return new n(o,u,l)}}updateChild(e,i){const r=bn(e);if(null===r)return i;{(0,H.hu)(".priority"!==bn(e)||1===sm(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(vi(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,l=!0;if(this.forEachChild(Ei,(u,m)=>{i[u]=m.val(e),r++,l&&n.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):l=!1}),!e&&l&&o<2*r){const u=[];for(const m in i)u[m]=i[m];return u}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Tz(this.getPriority().val())+":"),this.forEachChild(Ei,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":Hj(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const l=o.getPredecessorKey(new En(e,i));return l?l.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new En(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new En(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,En.Wrap);let l=o.peek();for(;null!=l&&i.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,En.Wrap);let l=o.peek();for(;null!=l&&i.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ix?-1:0}withIndex(e){if(e===yd||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===yd||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ei),o=i.getIterator(Ei);let l=r.getNext(),u=o.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=r.getNext(),u=o.getNext()}return null===l&&null===u}return!1}return!1}}resolveIndex_(e){return e===yd?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Ix=new class cQ extends fn{constructor(){super(new Us(sF),fn.EMPTY_NODE,Wu.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return fn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(En,{MIN:{value:new En(rm,fn.EMPTY_NODE)},MAX:{value:new En(Gu,Ix)}}),Dz.__EMPTY_NODE=fn.EMPTY_NODE,cy.__childrenNodeConstructor=fn,function iQ(n){aF=n}(Ix),function oQ(n){Az=n}(Ix);const dQ=!0;function ir(n,t=null){if(null===n)return fn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,H.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new cy(n,ir(t));if(n instanceof Array||!dQ){let e=fn.EMPTY_NODE;return mo(n,(i,r)=>{if((0,H.r3)(n,i)&&"."!==i.substring(0,1)){const o=ir(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(ir(t))}{const e=[];let i=!1;if(mo(n,(l,u)=>{if("."!==l.substring(0,1)){const m=ir(u);m.isEmpty()||(i=i||!m.getPriority().isEmpty(),e.push(new En(l,m)))}}),0===e.length)return fn.EMPTY_NODE;const o=QI(e,nQ,l=>l.name,sF);if(i){const l=QI(e,Ei.getCompare());return new fn(o,ir(t),new Wu({".priority":l},{".priority":Ei}))}return new fn(o,ir(t),Wu.Default)}}!function rQ(n){Mz=n}(ir);class cF extends ZI{constructor(t){super(),this.indexPath_=t,(0,H.hu)(!wn(t)&&".priority"!==bn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?_g(t.name,e.name):o}makePost(t,e){const i=ir(t),r=fn.EMPTY_NODE.updateChild(this.indexPath_,i);return new En(e,r)}maxPost(){const t=fn.EMPTY_NODE.updateChild(this.indexPath_,Ix);return new En(Gu,t)}toString(){return Ex(this.indexPath_,0).join("/")}}const dF=new class uQ extends ZI{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?_g(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return En.MIN}maxPost(){return En.MAX}makePost(t,e){const i=ir(t);return new En(e,i)}toString(){return".value"}};function kz(n){return{type:"value",snapshotNode:n}}function uy(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Sx(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Mx(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class uF{constructor(t){this.index_=t}updateChild(t,e,i,r,o,l){(0,H.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(e);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?t.hasChild(e)?l.trackChildChange(Sx(e,u)):(0,H.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(uy(e,i)):l.trackChildChange(Mx(e,i,u))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Ei,(r,o)=>{e.hasChild(r)||i.trackChildChange(Sx(r,o))}),e.isLeafNode()||e.forEachChild(Ei,(r,o)=>{if(t.hasChild(r)){const l=t.getImmediateChild(r);l.equals(o)||i.trackChildChange(Mx(r,o,l))}else i.trackChildChange(uy(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?fn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ax{constructor(t){this.indexedFilter_=new uF(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ax.getStartPost_(t),this.endPost_=Ax.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,l){return this.matches(new En(e,i))||(i=fn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,l)}updateFullNode(t,e,i){e.isLeafNode()&&(e=fn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(fn.EMPTY_NODE);const o=this;return e.forEachChild(Ei,(l,u)=>{o.matches(new En(l,u))||(r=r.updateImmediateChild(l,fn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class fQ{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ax(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,l){return this.rangedFilter_.matches(new En(e,i))||(i=fn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,l):this.fullLimitUpdateChild_(t,e,i,o,l)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=fn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=fn.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u)){if(!this.withinDirectionalEnd(u))break;r=r.updateImmediateChild(u.name,u.node),l++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(fn.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;o.hasNext();){const u=o.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:r=r.updateImmediateChild(u.name,fn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let l;if(this.reverse_){const D=this.index_.getCompare();l=(R,F)=>D(F,R)}else l=this.index_.getCompare();const u=t;(0,H.hu)(u.numChildren()===this.limit_,"");const m=new En(e,i),_=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),b=this.rangedFilter_.matches(m);if(u.hasChild(e)){const D=u.getImmediateChild(e);let R=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=R&&(R.name===e||u.hasChild(R.name));)R=r.getChildAfterChild(this.index_,R,this.reverse_);const F=null==R?1:l(R,m);if(b&&!i.isEmpty()&&F>=0)return o?.trackChildChange(Mx(e,i,D)),u.updateImmediateChild(e,i);{o?.trackChildChange(Sx(e,D));const Z=u.updateImmediateChild(e,fn.EMPTY_NODE);return null!=R&&this.rangedFilter_.matches(R)?(o?.trackChildChange(uy(R.name,R.node)),Z.updateImmediateChild(R.name,R.node)):Z}}return i.isEmpty()?t:b&&l(_,m)>=0?(null!=o&&(o.trackChildChange(Sx(_.name,_.node)),o.trackChildChange(uy(e,i))),u.updateImmediateChild(e,i).updateImmediateChild(_.name,fn.EMPTY_NODE)):t}}class XI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ei}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rm}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ei}copy(){const t=new XI;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function hF(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function fF(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function JI(n,t){const e=n.copy();return e.index_=t,e}function Rz(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Ei?e="$priority":n.index_===dF?e="$value":n.index_===yd?e="$key":((0,H.hu)(n.index_ instanceof cF,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,H.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,H.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,H.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,H.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,H.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Oz(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Ei&&(t.i=n.index_.toString()),t}class eS extends _z{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=bx("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,H.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const l=eS.getListenId_(t,i),u={};this.listens_[l]=u;const m=Rz(t._queryParams);this.restRequest_(o+".json",m,(_,b)=>{let D=b;if(404===_&&(D=null,_=null),null===_&&this.onDataUpdate_(o,D,!1,i),(0,H.DV)(this.listens_,l)===u){let R;R=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(R,null)}})}unlisten(t,e){const i=eS.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Rz(t._queryParams),i=t._path.toString(),r=new H.BH;return this.restRequest_(i+".json",e,(o,l)=>{let u=l;404===o&&(u=null,o=null),null===o?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,H.xO)(e);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&4===u.readyState){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let m=null;if(u.status>=200&&u.status<300){try{m=(0,H.cI)(u.responseText)}catch{qo("Failed to parse JSON response for "+l+": "+u.responseText)}i(null,m)}else 401!==u.status&&404!==u.status&&qo("Got unsuccessful REST response for "+l+" Status: "+u.status),i(u.status);i=null}},u.open("GET",l,!0),u.send()})}}class yQ{constructor(){this.rootNode_=fn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function tS(){return{value:null,children:new Map}}function hy(n,t,e){if(wn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=bn(t);n.children.has(i)||n.children.set(i,tS()),hy(n.children.get(i),t=vi(t),e)}}function mF(n,t){if(wn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Ei,(i,r)=>{hy(n,new Kn(i),r)}),mF(n,t)}}if(n.children.size>0){const e=bn(t);return t=vi(t),n.children.has(e)&&mF(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function pF(n,t,e){null!==n.value?e(t,n.value):function bQ(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{pF(r,new Kn(t.toString()+"/"+i),e)})}class wQ{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&mo(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class EQ{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new wQ(t);const i=1e4+2e4*Math.random();xx(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;mo(t,(r,o)=>{o>0&&(0,H.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),xx(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var dl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(dl||(dl={})),dl))();function vF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class nS{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=dl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(wn(this.path)){if(null!=this.affectedTree.value)return(0,H.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Kn(t));return new nS(Hn(),e,this.revert)}}return(0,H.hu)(bn(this.path)===t,"operationForChild called for unrelated child."),new nS(vi(this.path),this.affectedTree,this.revert)}}class kx{constructor(t,e){this.source=t,this.path=e,this.type=dl.LISTEN_COMPLETE}operationForChild(t){return wn(this.path)?new kx(this.source,Hn()):new kx(this.source,vi(this.path))}}class bg{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=dl.OVERWRITE}operationForChild(t){return wn(this.path)?new bg(this.source,Hn(),this.snap.getImmediateChild(t)):new bg(this.source,vi(this.path),this.snap)}}class fy{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=dl.MERGE}operationForChild(t){if(wn(this.path)){const e=this.children.subtree(new Kn(t));return e.isEmpty()?null:e.value?new bg(this.source,Hn(),e.value):new fy(this.source,Hn(),e)}return(0,H.hu)(bn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new fy(this.source,vi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class am{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(wn(t))return this.isFullyInitialized()&&!this.filtered_;const e=bn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class DQ{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Rx(n,t,e,i,r,o){const l=i.filter(u=>u.type===e);l.sort((u,m)=>function SQ(n,t,e){if(null==t.childName||null==e.childName)throw(0,H.g5)("Should only compare child_ events.");const i=new En(t.childName,t.snapshotNode),r=new En(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,u,m)),l.forEach(u=>{const m=function IQ(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,u,o);r.forEach(_=>{_.respondsTo(u.type)&&t.push(_.createEvent(m,n.query_))})})}function iS(n,t){return{eventCache:n,serverCache:t}}function Ox(n,t,e,i){return iS(new am(t,e,i),n.serverCache)}function Fz(n,t,e,i){return iS(n.eventCache,new am(t,e,i))}function rS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function wg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let yF;class Di{constructor(t,e=(()=>(yF||(yF=new Us(hK)),yF))()){this.value=t,this.children=e}static fromObject(t){let e=new Di(null);return mo(t,(i,r)=>{e=e.set(new Kn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Hn(),value:this.value};if(wn(t))return null;{const i=bn(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(vi(t),e);return null!=o?{path:Yi(new Kn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(wn(t))return this;{const e=bn(t),i=this.children.get(e);return null!==i?i.subtree(vi(t)):new Di(null)}}set(t,e){if(wn(t))return new Di(e,this.children);{const i=bn(t),o=(this.children.get(i)||new Di(null)).set(vi(t),e),l=this.children.insert(i,o);return new Di(this.value,l)}}remove(t){if(wn(t))return this.children.isEmpty()?new Di(null):new Di(null,this.children);{const e=bn(t),i=this.children.get(e);if(i){const r=i.remove(vi(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Di(null):new Di(this.value,o)}return this}}get(t){if(wn(t))return this.value;{const e=bn(t),i=this.children.get(e);return i?i.get(vi(t)):null}}setTree(t,e){if(wn(t))return e;{const i=bn(t),o=(this.children.get(i)||new Di(null)).setTree(vi(t),e);let l;return l=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Di(this.value,l)}}fold(t){return this.fold_(Hn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Yi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Hn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(wn(t))return null;{const o=bn(t),l=this.children.get(o);return l?l.findOnPath_(vi(t),Yi(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Hn(),e)}foreachOnPath_(t,e,i){if(wn(t))return this;{this.value&&i(e,this.value);const r=bn(t),o=this.children.get(r);return o?o.foreachOnPath_(vi(t),Yi(e,r),i):new Di(null)}}foreach(t){this.foreach_(Hn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Yi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class dc{constructor(t){this.writeTree_=t}static empty(){return new dc(new Di(null))}}function Px(n,t,e){if(wn(t))return new dc(new Di(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const l=ms(r,t);return o=o.updateChild(l,e),new dc(n.writeTree_.set(r,o))}{const r=new Di(e),o=n.writeTree_.setTree(t,r);return new dc(o)}}}function bF(n,t,e){let i=n;return mo(e,(r,o)=>{i=Px(i,Yi(t,r),o)}),i}function Nz(n,t){if(wn(t))return dc.empty();{const e=n.writeTree_.setTree(t,new Di(null));return new dc(e)}}function wF(n,t){return null!=xg(n,t)}function xg(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(ms(e.path,t)):null}function Lz(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ei,(i,r)=>{t.push(new En(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new En(i,r.value))}),t}function lm(n,t){if(wn(t))return n;{const e=xg(n,t);return new dc(null!=e?new Di(e):n.writeTree_.subtree(t))}}function xF(n){return n.writeTree_.isEmpty()}function my(n,t){return Bz(Hn(),n.writeTree_,t)}function Bz(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,H.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=Bz(Yi(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Yi(n,".priority"),i)),e}}function oS(n,t){return zz(t,n)}function PQ(n,t){if(n.snap)return cl(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&cl(Yi(n.path,e),t))return!0;return!1}function NQ(n){return n.visible}function Vz(n,t,e){let i=dc.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const l=o.path;let u;if(o.snap)cl(e,l)?(u=ms(e,l),i=Px(i,u,o.snap)):cl(l,e)&&(u=ms(l,e),i=Px(i,Hn(),o.snap.getChild(u)));else{if(!o.children)throw(0,H.g5)("WriteRecord should have .snap or .children");if(cl(e,l))u=ms(e,l),i=bF(i,u,o.children);else if(cl(l,e))if(u=ms(l,e),wn(u))i=bF(i,Hn(),o.children);else{const m=(0,H.DV)(o.children,bn(u));if(m){const _=m.getChild(vi(u));i=Px(i,Hn(),_)}}}}}return i}function Uz(n,t,e,i,r){if(i||r){const o=lm(n.visibleWrites,t);return!r&&xF(o)?e:r||null!=e||wF(o,Hn())?my(Vz(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(cl(_.path,t)||cl(t,_.path))},t),e||fn.EMPTY_NODE):null}{const o=xg(n.visibleWrites,t);if(null!=o)return o;{const l=lm(n.visibleWrites,t);return xF(l)?e:null!=e||wF(l,Hn())?my(l,e||fn.EMPTY_NODE):null}}}function sS(n,t,e,i){return Uz(n.writeTree,n.treePath,t,e,i)}function CF(n,t){return function LQ(n,t,e){let i=fn.EMPTY_NODE;const r=xg(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Ei,(o,l)=>{i=i.updateImmediateChild(o,l)}),i;if(e){const o=lm(n.visibleWrites,t);return e.forEachChild(Ei,(l,u)=>{const m=my(lm(o,new Kn(l)),u);i=i.updateImmediateChild(l,m)}),Lz(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return Lz(lm(n.visibleWrites,t)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,t)}function Hz(n,t,e,i){return function BQ(n,t,e,i,r){(0,H.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Yi(t,e);if(wF(n.visibleWrites,o))return null;{const l=lm(n.visibleWrites,o);return xF(l)?r.getChild(e):my(l,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function aS(n,t){return function UQ(n,t){return xg(n.visibleWrites,t)}(n.writeTree,Yi(n.treePath,t))}function EF(n,t,e){return function VQ(n,t,e,i){const r=Yi(t,e),o=xg(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?my(lm(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function jz(n,t){return zz(Yi(n.treePath,t),n.writeTree)}function zz(n,t){return{treePath:n,writeTree:t}}class $Q{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,H.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,H.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,Mx(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,Sx(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,uy(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,H.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,Mx(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const $z=new class GQ{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class DF{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new am(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return EF(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:wg(this.viewCache_),o=function zQ(n,t,e,i,r,o){return function HQ(n,t,e,i,r,o,l){let u;const m=lm(n.visibleWrites,t),_=xg(m,Hn());if(null!=_)u=_;else{if(null==e)return[];u=my(m,e)}if(u=u.withIndex(l),u.isEmpty()||u.isLeafNode())return[];{const b=[],D=l.getCompare(),R=o?u.getReverseIteratorFrom(i,l):u.getIteratorFrom(i,l);let F=R.getNext();for(;F&&b.length<r;)0!==D(F,i)&&b.push(F),F=R.getNext();return b}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function Gz(n,t,e,i,r,o){const l=t.eventCache;if(null!=aS(i,e))return t;{let u,m;if(wn(e))if((0,H.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=wg(t),D=CF(i,_ instanceof fn?_:fn.EMPTY_NODE);u=n.filter.updateFullNode(t.eventCache.getNode(),D,o)}else{const _=sS(i,wg(t));u=n.filter.updateFullNode(t.eventCache.getNode(),_,o)}else{const _=bn(e);if(".priority"===_){(0,H.hu)(1===sm(e),"Can't have a priority with additional path components");const b=l.getNode();m=t.serverCache.getNode();const D=Hz(i,e,b,m);u=null!=D?n.filter.updatePriority(b,D):l.getNode()}else{const b=vi(e);let D;if(l.isCompleteForChild(_)){m=t.serverCache.getNode();const R=Hz(i,e,l.getNode(),m);D=null!=R?l.getNode().getImmediateChild(_).updateChild(b,R):l.getNode().getImmediateChild(_)}else D=EF(i,_,t.serverCache);u=null!=D?n.filter.updateChild(l.getNode(),_,D,b,r,o):l.getNode()}}return Ox(t,u,l.isFullyInitialized()||wn(e),n.filter.filtersNodes())}}function lS(n,t,e,i,r,o,l,u){const m=t.serverCache;let _;const b=l?n.filter:n.filter.getIndexedFilter();if(wn(e))_=b.updateFullNode(m.getNode(),i,null);else if(b.filtersNodes()&&!m.isFiltered()){const F=m.getNode().updateChild(e,i);_=b.updateFullNode(m.getNode(),F,null)}else{const F=bn(e);if(!m.isCompleteForPath(e)&&sm(e)>1)return t;const $=vi(e),ie=m.getNode().getImmediateChild(F).updateChild($,i);_=".priority"===F?b.updatePriority(m.getNode(),ie):b.updateChild(m.getNode(),F,ie,$,$z,null)}const D=Fz(t,_,m.isFullyInitialized()||wn(e),b.filtersNodes());return Gz(n,D,e,r,new DF(r,D,o),u)}function TF(n,t,e,i,r,o,l){const u=t.eventCache;let m,_;const b=new DF(r,t,o);if(wn(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,l),m=Ox(t,_,!0,n.filter.filtersNodes());else{const D=bn(e);if(".priority"===D)_=n.filter.updatePriority(t.eventCache.getNode(),i),m=Ox(t,_,u.isFullyInitialized(),u.isFiltered());else{const R=vi(e),F=u.getNode().getImmediateChild(D);let $;if(wn(R))$=i;else{const Z=b.getCompleteChild(D);$=null!=Z?".priority"===iF(R)&&Z.getChild(wz(R)).isEmpty()?Z:Z.updateChild(R,i):fn.EMPTY_NODE}m=F.equals($)?t:Ox(t,n.filter.updateChild(u.getNode(),D,$,R,b,l),u.isFullyInitialized(),n.filter.filtersNodes())}}return m}function Wz(n,t){return n.eventCache.isCompleteForChild(t)}function qz(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function IF(n,t,e,i,r,o,l,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,m=t;_=wn(e)?i:new Di(null).setTree(e,i);const b=t.serverCache.getNode();return _.children.inorderTraversal((D,R)=>{if(b.hasChild(D)){const $=qz(0,t.serverCache.getNode().getImmediateChild(D),R);m=lS(n,m,new Kn(D),$,r,o,l,u)}}),_.children.inorderTraversal((D,R)=>{const F=!t.serverCache.isCompleteForChild(D)&&null===R.value;if(!b.hasChild(D)&&!F){const Z=qz(0,t.serverCache.getNode().getImmediateChild(D),R);m=lS(n,m,new Kn(D),Z,r,o,l,u)}}),m}class eX{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new uF(i.getIndex()),o=function mQ(n){return n.loadsAllData()?new uF(n.getIndex()):n.hasLimit()?new fQ(n):new Ax(n)}(i);this.processor_=function WQ(n){return{filter:n}}(o);const l=e.serverCache,u=e.eventCache,m=r.updateFullNode(fn.EMPTY_NODE,l.getNode(),null),_=o.updateFullNode(fn.EMPTY_NODE,u.getNode(),null),b=new am(m,l.isFullyInitialized(),r.filtersNodes()),D=new am(_,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=iS(D,b),this.eventGenerator_=new DQ(this.query_)}get query(){return this.query_}}function iX(n,t){const e=wg(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!wn(t)&&!e.getImmediateChild(bn(t)).isEmpty())?e.getChild(t):null}function Zz(n){return 0===n.eventRegistrations_.length}function Yz(n,t,e){const i=[];if(e){(0,H.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(e,r);l&&i.push(l)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const l=n.eventRegistrations_[o];if(l.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function Kz(n,t,e,i){t.type===dl.MERGE&&null!==t.source.queryId&&((0,H.hu)(wg(n.viewCache_),"We should always have a full cache before handling merges"),(0,H.hu)(rS(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function ZQ(n,t,e,i,r){const o=new $Q;let l,u;if(e.type===dl.OVERWRITE){const _=e;_.source.fromUser?l=TF(n,t,_.path,_.snap,i,r,o):((0,H.hu)(_.source.fromServer,"Unknown source."),u=_.source.tagged||t.serverCache.isFiltered()&&!wn(_.path),l=lS(n,t,_.path,_.snap,i,r,u,o))}else if(e.type===dl.MERGE){const _=e;_.source.fromUser?l=function KQ(n,t,e,i,r,o,l){let u=t;return i.foreach((m,_)=>{const b=Yi(e,m);Wz(t,bn(b))&&(u=TF(n,u,b,_,r,o,l))}),i.foreach((m,_)=>{const b=Yi(e,m);Wz(t,bn(b))||(u=TF(n,u,b,_,r,o,l))}),u}(n,t,_.path,_.children,i,r,o):((0,H.hu)(_.source.fromServer,"Unknown source."),u=_.source.tagged||t.serverCache.isFiltered(),l=IF(n,t,_.path,_.children,i,r,u,o))}else if(e.type===dl.ACK_USER_WRITE){const _=e;l=_.revert?function JQ(n,t,e,i,r,o){let l;if(null!=aS(i,e))return t;{const u=new DF(i,t,r),m=t.eventCache.getNode();let _;if(wn(e)||".priority"===bn(e)){let b;if(t.serverCache.isFullyInitialized())b=sS(i,wg(t));else{const D=t.serverCache.getNode();(0,H.hu)(D instanceof fn,"serverChildren would be complete if leaf node"),b=CF(i,D)}_=n.filter.updateFullNode(m,b,o)}else{const b=bn(e);let D=EF(i,b,t.serverCache);null==D&&t.serverCache.isCompleteForChild(b)&&(D=m.getImmediateChild(b)),_=null!=D?n.filter.updateChild(m,b,D,vi(e),u,o):t.eventCache.getNode().hasChild(b)?n.filter.updateChild(m,b,fn.EMPTY_NODE,vi(e),u,o):m,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=sS(i,wg(t)),l.isLeafNode()&&(_=n.filter.updateFullNode(_,l,o)))}return l=t.serverCache.isFullyInitialized()||null!=aS(i,Hn()),Ox(t,_,l,n.filter.filtersNodes())}}(n,t,_.path,i,r,o):function QQ(n,t,e,i,r,o,l){if(null!=aS(r,e))return t;const u=t.serverCache.isFiltered(),m=t.serverCache;if(null!=i.value){if(wn(e)&&m.isFullyInitialized()||m.isCompleteForPath(e))return lS(n,t,e,m.getNode().getChild(e),r,o,u,l);if(wn(e)){let _=new Di(null);return m.getNode().forEachChild(yd,(b,D)=>{_=_.set(new Kn(b),D)}),IF(n,t,e,_,r,o,u,l)}return t}{let _=new Di(null);return i.foreach((b,D)=>{const R=Yi(e,b);m.isCompleteForPath(R)&&(_=_.set(b,m.getNode().getChild(R)))}),IF(n,t,e,_,r,o,u,l)}}(n,t,_.path,_.affectedTree,i,r,o)}else{if(e.type!==dl.LISTEN_COMPLETE)throw(0,H.g5)("Unknown operation type: "+e.type);l=function XQ(n,t,e,i,r){const o=t.serverCache;return Gz(n,Fz(t,o.getNode(),o.isFullyInitialized()||wn(e),o.isFiltered()),e,i,$z,r)}(n,t,e.path,i,o)}const m=o.getChanges();return function YQ(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=rS(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(kz(rS(t)))}}(t,l,m),{viewCache:l,changes:m}}(n.processor_,r,t,e,i);return function qQ(n,t){(0,H.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,H.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,H.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,Qz(n,o.changes,o.viewCache.eventCache.getNode(),null)}function Qz(n,t,e,i){return function TQ(n,t,e,i){const r=[],o=[];return t.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(function hQ(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(l.childName,l.snapshotNode))}),Rx(n,r,"child_removed",t,i,e),Rx(n,r,"child_added",t,i,e),Rx(n,r,"child_moved",o,i,e),Rx(n,r,"child_changed",t,i,e),Rx(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let cS,uS;class Xz{constructor(){this.views=new Map}}function SF(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,H.hu)(null!=o,"SyncTree gave us an op for an invalid query."),Kz(o,t,e,i)}{let o=[];for(const l of n.views.values())o=o.concat(Kz(l,t,e,i));return o}}function Jz(n,t,e,i,r){const l=n.views.get(t._queryIdentifier);if(!l){let u=sS(e,r?i:null),m=!1;u?m=!0:i instanceof fn?(u=CF(e,i),m=!1):(u=fn.EMPTY_NODE,m=!1);const _=iS(new am(u,m,!1),new am(i,r,!1));return new eX(t,_)}return l}function e6(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function cm(n,t){let e=null;for(const i of n.views.values())e=e||iX(i,t);return e}function t6(n,t){return t._queryParams.loadsAllData()?dS(n):n.views.get(t._queryIdentifier)}function n6(n,t){return null!=t6(n,t)}function dm(n){return null!=dS(n)}function dS(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let fX=1;class i6{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Di(null),this.pendingWriteTree_=function jQ(){return{visibleWrites:dc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function MF(n,t,e,i,r){return function AQ(n,t,e,i,r){(0,H.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=Px(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?py(n,new bg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function um(n,t,e=!1){const i=function RQ(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function OQ(n,t){const e=n.allWrites.findIndex(u=>u.writeId===t);(0,H.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const u=n.allWrites[l];u.visible&&(l>=e&&PQ(u,i.path)?r=!1:cl(i.path,u.path)&&(o=!0)),l--}return!!r&&(o?(function FQ(n){n.visibleWrites=Vz(n.allWrites,NQ,Hn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Nz(n.visibleWrites,i.path):mo(i.children,m=>{n.visibleWrites=Nz(n.visibleWrites,Yi(i.path,m))}),!0))}(n.pendingWriteTree_,t)){let o=new Di(null);return null!=i.snap?o=o.set(Hn(),!0):mo(i.children,l=>{o=o.set(new Kn(l),!0)}),py(n,new nS(i.path,o,e))}return[]}function Fx(n,t,e){return py(n,new bg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function hS(n,t,e,i,r=!1){const o=t._path,l=n.syncPointTree_.get(o);let u=[];if(l&&("default"===t._queryIdentifier||n6(l,t))){const m=function dX(n,t,e,i){const r=t._queryIdentifier,o=[];let l=[];const u=dm(n);if("default"===r)for(const[m,_]of n.views.entries())l=l.concat(Yz(_,e,i)),Zz(_)&&(n.views.delete(m),_.query._queryParams.loadsAllData()||o.push(_.query));else{const m=n.views.get(r);m&&(l=l.concat(Yz(m,e,i)),Zz(m)&&(n.views.delete(r),m.query._queryParams.loadsAllData()||o.push(m.query)))}return u&&!dm(n)&&o.push(new(function aX(){return(0,H.hu)(cS,"Reference.ts has not been loaded"),cS}())(t._repo,t._path)),{removed:o,events:l}}(l,t,e,i);(function lX(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const _=m.removed;if(u=m.events,!r){const b=-1!==_.findIndex(R=>R._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(o,(R,F)=>dm(F));if(b&&!D){const R=n.syncPointTree_.subtree(o);if(!R.isEmpty()){const F=function bX(n){return n.fold((t,e,i)=>{if(e&&dm(e))return[dS(e)];{let r=[];return e&&(r=e6(e)),mo(i,(o,l)=>{r=r.concat(l)}),r}})}(R);for(let $=0;$<F.length;++$){const Z=F[$],ie=Z.query,Se=a6(n,Z);n.listenProvider_.startListening(Lx(ie),Nx(n,ie),Se.hashFn,Se.onComplete)}}}!D&&_.length>0&&!i&&(b?n.listenProvider_.stopListening(Lx(t),null):_.forEach(R=>{const F=n.queryToTagMap.get(mS(R));n.listenProvider_.stopListening(Lx(R),F)}))}!function wX(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=mS(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,_)}return u}function r6(n,t,e,i){const r=kF(n,i);if(null!=r){const o=RF(r),l=o.path,u=o.queryId,m=ms(l,t);return OF(n,l,new bg(vF(u),m,e))}return[]}function AF(n,t,e,i=!1){const r=t._path;let o=null,l=!1;n.syncPointTree_.foreachOnPath(r,(R,F)=>{const $=ms(R,r);o=o||cm(F,$),l=l||dm(F)});let m,u=n.syncPointTree_.get(r);u?(l=l||dm(u),o=o||cm(u,Hn())):(u=new Xz,n.syncPointTree_=n.syncPointTree_.set(r,u)),null!=o?m=!0:(m=!1,o=fn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((F,$)=>{const Z=cm($,Hn());Z&&(o=o.updateImmediateChild(F,Z))}));const _=n6(u,t);if(!_&&!t._queryParams.loadsAllData()){const R=mS(t);(0,H.hu)(!n.queryToTagMap.has(R),"View does not exist, but we have a tag");const F=function xX(){return fX++}();n.queryToTagMap.set(R,F),n.tagToQueryMap.set(F,R)}let D=function cX(n,t,e,i,r,o){const l=Jz(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,l),function rX(n,t){n.eventRegistrations_.push(t)}(l,e),function oX(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ei,(o,l)=>{i.push(uy(o,l))}),e.isFullyInitialized()&&i.push(kz(e.getNode())),Qz(n,i,e.getNode(),t)}(l,e)}(u,t,e,oS(n.pendingWriteTree_,r),o,m);if(!_&&!l&&!i){const R=t6(u,t);D=D.concat(function CX(n,t,e){const i=t._path,r=Nx(n,t),o=a6(n,e),l=n.listenProvider_.startListening(Lx(t),r,o.hashFn,o.onComplete),u=n.syncPointTree_.subtree(i);if(r)(0,H.hu)(!dm(u.value),"If we're adding a query, it shouldn't be shadowed");else{const m=u.fold((_,b,D)=>{if(!wn(_)&&b&&dm(b))return[dS(b).query];{let R=[];return b&&(R=R.concat(e6(b).map(F=>F.query))),mo(D,(F,$)=>{R=R.concat($)}),R}});for(let _=0;_<m.length;++_){const b=m[_];n.listenProvider_.stopListening(Lx(b),Nx(n,b))}}return l}(n,t,R))}return D}function fS(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(l,u)=>{const _=cm(u,ms(l,t));if(_)return _});return Uz(r,t,o,e,!0)}function py(n,t){return o6(t,n.syncPointTree_,null,oS(n.pendingWriteTree_,Hn()))}function o6(n,t,e,i){if(wn(n.path))return s6(n,t,e,i);{const r=t.get(Hn());null==e&&null!=r&&(e=cm(r,Hn()));let o=[];const l=bn(n.path),u=n.operationForChild(l),m=t.children.get(l);if(m&&u){const _=e?e.getImmediateChild(l):null,b=jz(i,l);o=o.concat(o6(u,m,_,b))}return r&&(o=o.concat(SF(r,n,i,e))),o}}function s6(n,t,e,i){const r=t.get(Hn());null==e&&null!=r&&(e=cm(r,Hn()));let o=[];return t.children.inorderTraversal((l,u)=>{const m=e?e.getImmediateChild(l):null,_=jz(i,l),b=n.operationForChild(l);b&&(o=o.concat(s6(b,u,m,_)))}),r&&(o=o.concat(SF(r,n,i,e))),o}function a6(n,t){const e=t.query,i=Nx(n,e);return{hashFn:()=>(function tX(n){return n.viewCache_.serverCache.getNode()}(t)||fn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function _X(n,t,e){const i=kF(n,e);if(i){const r=RF(i),o=r.path,l=r.queryId,u=ms(o,t);return OF(n,o,new kx(vF(l),u))}return[]}(n,e._path,i):function gX(n,t){return py(n,new kx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function pK(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return hS(n,e,null,o)}}}}function Nx(n,t){const e=mS(t);return n.queryToTagMap.get(e)}function mS(n){return n._path.toString()+"$"+n._queryIdentifier}function kF(n,t){return n.tagToQueryMap.get(t)}function RF(n){const t=n.indexOf("$");return(0,H.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Kn(n.substr(0,t))}}function OF(n,t,e){const i=n.syncPointTree_.get(t);return(0,H.hu)(i,"Missing sync point for query tag that we're tracking"),SF(i,e,oS(n.pendingWriteTree_,t),null)}function Lx(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function hX(){return(0,H.hu)(uS,"Reference.ts has not been loaded"),uS}())(n._repo,n._path):n}class PF{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new PF(e)}node(){return this.node_}}class FF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Yi(this.path_,t);return new FF(this.syncTree_,e)}node(){return fS(this.syncTree_,this.path_)}}const EX=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},l6=function(n,t,e){return n&&"object"==typeof n?((0,H.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?DX(n[".sv"],t,e):"object"==typeof n[".sv"]?TX(n[".sv"],t):void(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},DX=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,H.hu)(!1,"Unexpected server value: "+n)},TX=function(n,t,e){n.hasOwnProperty("increment")||(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,H.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,H.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},c6=function(n,t,e,i){return LF(t,new FF(e,n),i)},NF=function(n,t,e){return LF(n,new PF(t),e)};function LF(n,t,e){const i=n.getPriority().val(),r=l6(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const l=n,u=l6(l.getValue(),t,e);return u!==l.getValue()||r!==l.getPriority().val()?new cy(u,ir(r)):n}{const l=n;return o=l,r!==l.getPriority().val()&&(o=o.updatePriority(new cy(r))),l.forEachChild(Ei,(u,m)=>{const _=LF(m,t.getImmediateChild(u),e);_!==m&&(o=o.updateImmediateChild(u,_))}),o}}class BF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function pS(n,t){let e=t instanceof Kn?t:new Kn(t),i=n,r=bn(e);for(;null!==r;){const o=(0,H.DV)(i.node.children,r)||{children:{},childCount:0};i=new BF(r,i,o),e=vi(e),r=bn(e)}return i}function Cg(n){return n.node.value}function VF(n,t){n.node.value=t,UF(n)}function d6(n){return n.node.childCount>0}function gS(n,t){mo(n.node.children,(e,i)=>{t(new BF(e,n,i))})}function u6(n,t,e,i){e&&!i&&t(n),gS(n,r=>{u6(r,t,!0,i)}),e&&i&&t(n)}function Bx(n){return new Kn(null===n.parent?n.name:Bx(n.parent)+"/"+n.name)}function UF(n){null!==n.parent&&function MX(n,t,e){const i=function IX(n){return void 0===Cg(n)&&!d6(n)}(e),r=(0,H.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,UF(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,UF(n))}(n.parent,n.name,n)}const AX=/[\[\].#$\/\u0000-\u001F\u007F]/,kX=/[\[\].#$\u0000-\u001F\u007F]/,HF=10485760,_S=function(n){return"string"==typeof n&&0!==n.length&&!AX.test(n)},h6=function(n){return"string"==typeof n&&0!==n.length&&!kX.test(n)},Vx=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!$I(n)||n&&"object"==typeof n&&(0,H.r3)(n,".sv")},bd=function(n,t,e,i){i&&void 0===t||Ux((0,H.gK)(n,"value"),t,e)},Ux=function(n,t,e){const i=e instanceof Kn?new ZK(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+vg(i));if("function"==typeof t)throw new Error(n+"contains a function "+vg(i)+" with contents = "+t.toString());if($I(t))throw new Error(n+"contains "+t.toString()+" "+vg(i));if("string"==typeof t&&t.length>HF/3&&(0,H.ug)(t)>HF)throw new Error(n+"contains a string greater than "+HF+" utf8 bytes "+vg(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(mo(t,(l,u)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(o=!0,!_S(l)))throw new Error(n+" contains an invalid key ("+l+") "+vg(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function YK(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,H.ug)(t),xz(n)})(i,l),Ux(n,u,i),function KK(n){const t=n.parts_.pop();n.byteLength_-=(0,H.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+vg(i)+" in addition to actual children.")}},f6=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,H.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];mo(t,(l,u)=>{const m=new Kn(l);if(Ux(r,u,Yi(e,m)),".priority"===iF(m)&&!Vx(u))throw new Error(r+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(m)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=Ex(i);for(let l=0;l<o.length;l++)if((".priority"!==o[l]||l!==o.length-1)&&!_S(o[l]))throw new Error(n+"contains an invalid key ("+o[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(qK);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&cl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},jF=function(n,t,e){if(!e||void 0!==t){if($I(t))throw new Error((0,H.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Vx(t))throw new Error((0,H.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Hx=function(n,t,e,i){if(!(i&&void 0===e||_S(e)))throw new Error((0,H.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},jx=function(n,t,e,i){if(!(i&&void 0===e||h6(e)))throw new Error((0,H.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},PX=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),jx(n,t,e,i)},ul=function(n,t){if(".info"===bn(t))throw new Error(n+" failed = Can't modify data under /.info/")},m6=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!_S(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),h6(n)}(e))throw new Error((0,H.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class FX{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vS(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!rF(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function p6(n,t,e){vS(n,e),g6(n,i=>rF(i,t))}function xa(n,t,e){vS(n,e),g6(n,i=>cl(i,t)||cl(t,i))}function g6(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(NX(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function NX(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();gg&&fo("event: "+e.toString()),ay(i)}}}const _6="repo_interrupt",LX=25;class BX{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new FX,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tS(),this.transactionQueueTree_=new BF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function v6(n){const e=n.infoData_.getNode(new Kn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function zx(n){return EX({timestamp:v6(n)})}function y6(n,t,e,i,r){n.dataUpdateCount++;const o=new Kn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let l=[];if(r)if(i){const m=(0,H.UI)(e,_=>ir(_));l=function vX(n,t,e,i){const r=kF(n,i);if(r){const o=RF(r),l=o.path,u=o.queryId,m=ms(l,t),_=Di.fromObject(e);return OF(n,l,new fy(vF(u),m,_))}return[]}(n.serverSyncTree_,o,m,r)}else{const m=ir(e);l=r6(n.serverSyncTree_,o,m,r)}else if(i){const m=(0,H.UI)(e,_=>ir(_));l=function pX(n,t,e){const i=Di.fromObject(e);return py(n,new fy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,m)}else{const m=ir(e);l=Fx(n.serverSyncTree_,o,m)}let u=o;l.length>0&&(u=_y(n,o)),xa(n.eventQueue_,u,l)}function b6(n,t){zF(n,"connected",t),!1===t&&function zX(n){gy(n,"onDisconnectEvents");const t=zx(n),e=tS();pF(n.onDisconnect_,Hn(),(r,o)=>{const l=c6(r,o,n.serverSyncTree_,t);hy(e,r,l)});let i=[];pF(e,Hn(),(r,o)=>{i=i.concat(Fx(n.serverSyncTree_,r,o));const l=qF(n,r);_y(n,l)}),n.onDisconnect_=tS(),xa(n.eventQueue_,Hn(),i)}(n)}function zF(n,t,e){const i=new Kn("/.info/"+t),r=ir(e);n.infoData_.updateSnapshot(i,r);const o=Fx(n.infoSyncTree_,i,r);xa(n.eventQueue_,i,o)}function yS(n){return n.nextWriteId_++}function $F(n,t,e,i,r){gy(n,"set",{path:t.toString(),value:e,priority:i});const o=zx(n),l=ir(e,i),u=fS(n.serverSyncTree_,t),m=NF(l,u,o),_=yS(n),b=MF(n.serverSyncTree_,t,m,_,!0);vS(n.eventQueue_,b),n.server_.put(t.toString(),l.val(!0),(R,F)=>{const $="ok"===R;$||qo("set at "+t+" failed: "+R);const Z=um(n.serverSyncTree_,_,!$);xa(n.eventQueue_,t,Z),hm(0,r,R,F)});const D=qF(n,t);_y(n,D),xa(n.eventQueue_,D,[])}function $X(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&mF(n.onDisconnect_,t),hm(0,e,i,r)})}function w6(n,t,e,i){const r=ir(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,l)=>{"ok"===o&&hy(n.onDisconnect_,t,r),hm(0,i,o,l)})}function GF(n,t,e){let i;i=".info"===bn(t._path)?hS(n.infoSyncTree_,t,e):hS(n.serverSyncTree_,t,e),p6(n.eventQueue_,t._path,i)}function x6(n){n.persistentConnection_&&n.persistentConnection_.interrupt(_6)}function gy(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),fo(e,...t)}function hm(n,t,e,i){t&&ay(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const l=new Error(o);l.code=r,t(l)}})}function WF(n,t,e){return fS(n.serverSyncTree_,t,e)||fn.EMPTY_NODE}function bS(n,t=n.transactionQueueTree_){if(t||wS(n,t),Cg(t)){const e=E6(n,t);(0,H.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function KX(n,t,e){const i=e.map(_=>_.currentWriteId),r=WF(n,t,i);let o=r;const l=r.hash();for(let _=0;_<e.length;_++){const b=e[_];(0,H.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const D=ms(t,b.path);o=o.updateChild(D,b.currentOutputSnapshotRaw)}const u=o.val(!0),m=t;n.server_.put(m.toString(),u,_=>{gy(n,"transaction put response",{path:m.toString(),status:_});let b=[];if("ok"===_){const D=[];for(let R=0;R<e.length;R++)e[R].status=2,b=b.concat(um(n.serverSyncTree_,e[R].currentWriteId)),e[R].onComplete&&D.push(()=>e[R].onComplete(null,!0,e[R].currentOutputSnapshotResolved)),e[R].unwatcher();wS(n,pS(n.transactionQueueTree_,t)),bS(n,n.transactionQueueTree_),xa(n.eventQueue_,t,b);for(let R=0;R<D.length;R++)ay(D[R])}else{if("datastale"===_)for(let D=0;D<e.length;D++)e[D].status=3===e[D].status?4:0;else{qo("transaction at "+m.toString()+" failed: "+_);for(let D=0;D<e.length;D++)e[D].status=4,e[D].abortReason=_}_y(n,t)}},l)}(n,Bx(t),e)}else d6(t)&&gS(t,e=>{bS(n,e)})}function _y(n,t){const e=C6(n,t),i=Bx(e);return function QX(n,t,e){if(0===t.length)return;const i=[];let r=[];const l=t.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const m=t[u],_=ms(e,m.path);let D,b=!1;if((0,H.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)b=!0,D=m.abortReason,r=r.concat(um(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=LX)b=!0,D="maxretry",r=r.concat(um(n.serverSyncTree_,m.currentWriteId,!0));else{const R=WF(n,m.path,l);m.currentInputSnapshot=R;const F=t[u].update(R.val());if(void 0!==F){Ux("transaction failed: Data returned ",F,m.path);let $=ir(F);"object"==typeof F&&null!=F&&(0,H.r3)(F,".priority")||($=$.updatePriority(R.getPriority()));const ie=m.currentWriteId,Se=zx(n),Ye=NF($,R,Se);m.currentOutputSnapshotRaw=$,m.currentOutputSnapshotResolved=Ye,m.currentWriteId=yS(n),l.splice(l.indexOf(ie),1),r=r.concat(MF(n.serverSyncTree_,m.path,Ye,m.currentWriteId,m.applyLocally)),r=r.concat(um(n.serverSyncTree_,ie,!0))}else b=!0,D="nodata",r=r.concat(um(n.serverSyncTree_,m.currentWriteId,!0))}xa(n.eventQueue_,e,r),r=[],b&&(t[u].status=2,setTimeout(t[u].unwatcher,Math.floor(0)),t[u].onComplete&&i.push("nodata"===D?()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot):()=>t[u].onComplete(new Error(D),!1,null)))}wS(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)ay(i[u]);bS(n,n.transactionQueueTree_)}(n,E6(n,e),i),i}function C6(n,t){let e,i=n.transactionQueueTree_;for(e=bn(t);null!==e&&void 0===Cg(i);)i=pS(i,e),e=bn(t=vi(t));return i}function E6(n,t){const e=[];return D6(n,t,e),e.sort((i,r)=>i.order-r.order),e}function D6(n,t,e){const i=Cg(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);gS(t,r=>{D6(n,r,e)})}function wS(n,t){const e=Cg(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,VF(t,e.length>0?e:void 0)}gS(t,i=>{wS(n,i)})}function qF(n,t){const e=Bx(C6(n,t)),i=pS(n.transactionQueueTree_,t);return function SX(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{ZF(n,r)}),ZF(n,i),u6(i,r=>{ZF(n,r)}),e}function ZF(n,t){const e=Cg(t);if(e){const i=[];let r=[],o=-1;for(let l=0;l<e.length;l++)3===e[l].status||(1===e[l].status?((0,H.hu)(o===l-1,"All SENT items should be at beginning of queue."),o=l,e[l].status=3,e[l].abortReason="set"):((0,H.hu)(0===e[l].status,"Unexpected transaction status in abort"),e[l].unwatcher(),r=r.concat(um(n.serverSyncTree_,e[l].currentWriteId,!0)),e[l].onComplete&&i.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));-1===o?VF(t,void 0):e.length=o+1,xa(n.eventQueue_,Bx(t),r);for(let l=0;l<i.length;l++)ay(i[l])}}const YF=function(n,t){const e=eJ(n),i=e.namespace;return"firebase.com"===e.domain&&vd(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&vd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&qo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new QP(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Kn(e.pathString)}},eJ=function(n){let t="",e="",i="",r="",o="",l=!0,u="https",m=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(u=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),t=n.substring(0,Math.min(b,D)),b<D&&(r=function XX(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(b,D)));const R=function JX(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):qo(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,D)));_=t.indexOf(":"),_>=0?(l="https"===u||"wss"===u,m=parseInt(t.substring(_+1),10)):_=t.length;const F=t.slice(0,_);if("localhost"===F.toLowerCase())e="localhost";else if(F.split(".").length<=2)e=F;else{const $=t.indexOf(".");i=t.substring(0,$).toLowerCase(),e=t.substring($+1),o=i}"ns"in R&&(o=R.ns)}return{host:t,port:m,domain:e,subdomain:i,secure:l,scheme:u,pathString:r,namespace:o}},T6="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tJ=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=T6.charAt(e%64),e=Math.floor(e/64);(0,H.hu)(0===e,"Cannot push at time == 0");let l=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=T6.charAt(t[r]);return(0,H.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class I6{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.Wl)(this.snapshot.exportVal())}}class S6{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class KF{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,H.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class M6{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new H.BH;return $X(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ul("OnDisconnect.remove",this._path);const t=new H.BH;return w6(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ul("OnDisconnect.set",this._path),bd("OnDisconnect.set",t,this._path,!1);const e=new H.BH;return w6(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){ul("OnDisconnect.setWithPriority",this._path),bd("OnDisconnect.setWithPriority",t,this._path,!1),jF("OnDisconnect.setWithPriority",e,!1);const i=new H.BH;return function GX(n,t,e,i,r){const o=ir(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(l,u)=>{"ok"===l&&hy(n.onDisconnect_,t,o),hm(0,r,l,u)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){ul("OnDisconnect.update",this._path),f6("OnDisconnect.update",t,this._path,!1);const e=new H.BH;return function WX(n,t,e,i){if((0,H.xb)(e))return fo("onDisconnect().update() called with empty data.  Don't do anything."),void hm(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&mo(e,(l,u)=>{const m=ir(u);hy(n.onDisconnect_,Yi(t,l),m)}),hm(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Hs{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return wn(this._path)?null:iF(this._path)}get ref(){return new hl(this._repo,this._path)}get _queryIdentifier(){const t=Oz(this._queryParams),e=YP(t);return"{}"===e?"default":e}get _queryObject(){return Oz(this._queryParams)}isEqual(t){if(!((t=(0,H.m9)(t))instanceof Hs))return!1;const e=this._repo===t._repo,i=rF(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function WK(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function xS(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function fm(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===yd){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==rm)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Gu)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Ei){if(null!=t&&!Vx(t)||null!=e&&!Vx(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,H.hu)(n.getIndex()instanceof cF||n.getIndex()===dF,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function CS(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class hl extends Hs{constructor(t,e){super(t,e,new XI,!1)}get parent(){const t=wz(this._path);return null===t?null:new hl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Eg{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Kn(t),i=Dg(this.ref,t);return new Eg(this._node.getChild(e),i,Ei)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Eg(r,Dg(this.ref,i),Ei)))}hasChild(t){const e=new Kn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function A6(n,t){return(n=(0,H.m9)(n))._checkNotDeleted("ref"),void 0!==t?Dg(n._root,t):n._root}function k6(n,t){(n=(0,H.m9)(n))._checkNotDeleted("refFromURL");const e=YF(t,n._repo.repoInfo_.nodeAdmin);m6("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&vd("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),A6(n,e.path.toString())}function Dg(n,t){return null===bn((n=(0,H.m9)(n))._path)?PX("child","path",t,!1):jx("child","path",t,!1),new hl(n._repo,Yi(n._path,t))}function QF(n,t){n=(0,H.m9)(n),ul("set",n._path),bd("set",t,n._path,!1);const e=new H.BH;return $F(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function sJ(n,t){f6("update",t,n._path,!1);const e=new H.BH;return function jX(n,t,e,i){gy(n,"update",{path:t.toString(),value:e});let r=!0;const o=zx(n),l={};if(mo(e,(u,m)=>{r=!1,l[u]=c6(Yi(t,u),ir(m),n.serverSyncTree_,o)}),r)fo("update() called with empty data.  Don't do anything."),hm(0,i,"ok",void 0);else{const u=yS(n),m=function mX(n,t,e,i){!function kQ(n,t,e,i){(0,H.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=bF(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Di.fromObject(e);return py(n,new fy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,l,u);vS(n.eventQueue_,m),n.server_.merge(t.toString(),e,(_,b)=>{const D="ok"===_;D||qo("update at "+t+" failed: "+_);const R=um(n.serverSyncTree_,u,!D),F=R.length>0?_y(n,t):t;xa(n.eventQueue_,F,R),hm(0,i,_,b)}),mo(e,_=>{const b=qF(n,Yi(t,_));_y(n,b)}),xa(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function aJ(n){n=(0,H.m9)(n);const t=new KF(()=>{}),e=new $x(t);return function HX(n,t,e){const i=function yX(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(_,b)=>{const D=ms(_,e);i=i||cm(b,D)});let r=n.syncPointTree_.get(e);r?i=i||cm(r,Hn()):(r=new Xz,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,l=o?new am(i,!0,!1):null;return function nX(n){return rS(n.viewCache_)}(Jz(r,t,oS(n.pendingWriteTree_,t._path),o?l.getNode():fn.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=ir(r).withIndex(t._queryParams.getIndex());let l;if(AF(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())l=Fx(n.serverSyncTree_,t._path,o);else{const u=Nx(n.serverSyncTree_,t);l=r6(n.serverSyncTree_,t._path,o,u)}return xa(n.eventQueue_,t._path,l),hS(n.serverSyncTree_,t,e,null,!0),o},r=>(gy(n,"get for query "+(0,H.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Eg(i,new hl(n._repo,n._path),n._queryParams.getIndex()))}class $x{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new I6("value",this,new Eg(t.snapshotNode,new hl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new S6(this,t,e):null}matches(t){return t instanceof $x&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ES{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new S6(this,t,e):null}createEvent(t,e){(0,H.hu)(null!=t.childName,"Child events should have a childName.");const i=Dg(new hl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new I6(t.type,this,new Eg(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ES&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Gx(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const m=e,_=(b,D)=>{GF(n._repo,n,u),m(b,D)};_.userCallback=e.userCallback,_.context=e.context,e=_}const l=new KF(e,o||void 0),u="value"===t?new $x(l):new ES(t,l);return function qX(n,t,e){let i;i=".info"===bn(t._path)?AF(n.infoSyncTree_,t,e):AF(n.serverSyncTree_,t,e),p6(n.eventQueue_,t._path,i)}(n._repo,n,u),()=>GF(n._repo,n,u)}function XF(n,t,e,i){return Gx(n,"value",t,e,i)}function R6(n,t,e,i){return Gx(n,"child_added",t,e,i)}function O6(n,t,e,i){return Gx(n,"child_changed",t,e,i)}function P6(n,t,e,i){return Gx(n,"child_moved",t,e,i)}function F6(n,t,e,i){return Gx(n,"child_removed",t,e,i)}function N6(n,t,e){let i=null;const r=e?new KF(e):null;"value"===t?i=new $x(r):t&&(i=new ES(t,r)),GF(n._repo,n,i)}class uc{}class L6 extends uc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){bd("endAt",this._value,t._path,!0);const e=fF(t._queryParams,this._value,this._key);if(CS(e),fm(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Hs(t._repo,t._path,e,t._orderByCalled)}}class cJ extends uc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){bd("endBefore",this._value,t._path,!1);const e=function vQ(n,t,e){let i;return i=fF(n,t,n.index_===yd||e?e:rm),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(CS(e),fm(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Hs(t._repo,t._path,e,t._orderByCalled)}}class B6 extends uc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){bd("startAt",this._value,t._path,!0);const e=hF(t._queryParams,this._value,this._key);if(CS(e),fm(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Hs(t._repo,t._path,e,t._orderByCalled)}}class hJ extends uc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){bd("startAfter",this._value,t._path,!1);const e=function _Q(n,t,e){let i;return i=hF(n,t,n.index_===yd||e?e:Gu),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(CS(e),fm(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Hs(t._repo,t._path,e,t._orderByCalled)}}class mJ extends uc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Hs(t._repo,t._path,function pQ(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class gJ extends uc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Hs(t._repo,t._path,function gQ(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class vJ extends uc{constructor(t){super(),this._path=t}_apply(t){xS(t,"orderByChild");const e=new Kn(this._path);if(wn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new cF(e),r=JI(t._queryParams,i);return fm(r),new Hs(t._repo,t._path,r,!0)}}class bJ extends uc{_apply(t){xS(t,"orderByKey");const e=JI(t._queryParams,yd);return fm(e),new Hs(t._repo,t._path,e,!0)}}class xJ extends uc{_apply(t){xS(t,"orderByPriority");const e=JI(t._queryParams,Ei);return fm(e),new Hs(t._repo,t._path,e,!0)}}class EJ extends uc{_apply(t){xS(t,"orderByValue");const e=JI(t._queryParams,dF);return fm(e),new Hs(t._repo,t._path,e,!0)}}class TJ extends uc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(bd("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new L6(this._value,this._key)._apply(new B6(this._value,this._key)._apply(t))}}function hc(n,...t){let e=(0,H.m9)(n);for(const i of t)e=i._apply(e);return e}(function sX(n){(0,H.hu)(!cS,"__referenceConstructor has already been defined"),cS=n})(hl),function uX(n){(0,H.hu)(!uS,"__referenceConstructor has already been defined"),uS=n}(hl);const SJ="FIREBASE_DATABASE_EMULATOR_HOST",JF={};let V6=!1;function U6(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||vd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fo("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,_,l=YF(o,r),u=l.repoInfo;typeof process<"u"&&process.env&&(_=process.env[SJ]),_?(m=!0,o=`http://${_}?ns=${u.namespace}`,l=YF(o,r),u=l.repoInfo):m=!l.repoInfo.secure;const b=r&&m?new Cx(Cx.OWNER):new wK(n.name,n.options,t);m6("Invalid Firebase Database URL",l),wn(l.path)||vd("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function kJ(n,t,e,i){let r=JF[t.name];r||(r={},JF[t.name]=r);let o=r[n.toURLString()];return o&&vd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new BX(n,V6,e,i),r[n.toURLString()]=o,o}(u,n,b,new bK(n.name,e));return new OJ(D,n)}class OJ{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function VX(n,t,e){if(n.stats_=eF(n.repoInfo_),n.forceRestClient_||yK())n.server_=new eS(n.repoInfo_,(i,r,o,l)=>{y6(n,i,r,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>b6(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new yg(n.repoInfo_,t,(i,r,o,l)=>{y6(n,i,r,o,l)},i=>{b6(n,i)},i=>{!function UX(n,t){mo(t,(e,i)=>{zF(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function EK(n,t){const e=n.toString();return JP[e]||(JP[e]=t()),JP[e]}(n.repoInfo_,()=>new EQ(n.stats_,n.server_)),n.infoData_=new yQ,n.infoSyncTree_=new i6({startListening:(i,r,o,l)=>{let u=[];const m=n.infoData_.getNode(i._path);return m.isEmpty()||(u=Fx(n.infoSyncTree_,i._path,m),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),zF(n,"connected",!1),n.serverSyncTree_=new i6({startListening:(i,r,o,l)=>(n.server_.listen(i,o,r,(u,m)=>{const _=l(u,m);xa(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hl(this._repo,Hn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function AJ(n,t){const e=JF[t];(!e||e[n.key]!==n)&&vd(`Database ${t}(${n.repoInfo_}) has already been deleted.`),x6(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&vd("Cannot call "+t+" on a deleted database.")}}function H6(){cz.IS_TRANSPORT_INITIALIZED&&qo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function PJ(){H6(),om.forceDisallow()}function FJ(){H6(),ly.forceDisallow(),om.forceAllow()}function NJ(n=(0,ro.getApp)(),t){const e=(0,ro._getProvider)(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const i=(0,H.P0)("database");i&&j6(e,...i)}return e}function j6(n,t,e,i={}){(n=(0,H.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&vd("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&vd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Cx(Cx.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,H.Sg)(i.mockUserToken,n.app.options.projectId);o=new Cx(l)}!function MJ(n,t,e,i){n.repoInfo_=new QP(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}function VJ(n,t){zj(n,t)}const HJ={".sv":"timestamp"};class $J{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}yg.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},yg.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function UJ(n){Bj(ro.SDK_VERSION),(0,ro._registerComponent)(new nc.wA("database",(t,{instanceIdentifier:e})=>U6(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ro.registerVersion)(Nj,"0.14.4",n),(0,ro.registerVersion)(Nj,"0.14.4","esm2017")}();const ZJ=new Co.Yd("@firebase/database-compat"),z6=function(n){ZJ.warn("FIREBASE WARNING: "+n)};class QJ{constructor(t){this._delegate=t}cancel(t){(0,H.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,H.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,H.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,H.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,H.Dv)("OnDisconnect.set",1,2,arguments.length),(0,H.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,H.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,H.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,H.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,z6("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,H.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class XJ{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,H.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class mm{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,H.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,H.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,H.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,H.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,H.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),jx("DataSnapshot.child","path",t,!1),new mm(this._database,this._delegate.child(t))}hasChild(t){return(0,H.Dv)("DataSnapshot.hasChild",1,1,arguments.length),jx("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,H.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,H.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,H.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new mm(this._database,e)))}hasChildren(){return(0,H.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,H.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,H.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ca(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ko{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,H.Dv)("Query.on",2,4,arguments.length),(0,H.Wj)("Query.on","callback",e,!1);const l=ko.getCancelAndContextArgs_("Query.on",i,r),u=(_,b)=>{e.call(l.context,new mm(this.database,_),b)};u.userCallback=e,u.context=l.context;const m=null===(o=l.cancel)||void 0===o?void 0:o.bind(l.context);switch(t){case"value":return XF(this._delegate,u,m),e;case"child_added":return R6(this._delegate,u,m),e;case"child_removed":return F6(this._delegate,u,m),e;case"child_changed":return O6(this._delegate,u,m),e;case"child_moved":return P6(this._delegate,u,m),e;default:throw new Error((0,H.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,H.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,H.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,H.Wj)("Query.off","callback",e,!0),(0,H.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,N6(this._delegate,t,r)}else N6(this._delegate,t)}get(){return aJ(this._delegate).then(t=>new mm(this.database,t))}once(t,e,i,r){(0,H.Dv)("Query.once",1,4,arguments.length),(0,H.Wj)("Query.once","callback",e,!0);const o=ko.getCancelAndContextArgs_("Query.once",i,r),l=new H.BH,u=(_,b)=>{const D=new mm(this.database,_);e&&e.call(o.context,D,b),l.resolve(D)};u.userCallback=e,u.context=o.context;const m=_=>{o.cancel&&o.cancel.call(o.context,_),l.reject(_)};switch(t){case"value":XF(this._delegate,u,m,{onlyOnce:!0});break;case"child_added":R6(this._delegate,u,m,{onlyOnce:!0});break;case"child_removed":F6(this._delegate,u,m,{onlyOnce:!0});break;case"child_changed":O6(this._delegate,u,m,{onlyOnce:!0});break;case"child_moved":P6(this._delegate,u,m,{onlyOnce:!0});break;default:throw new Error((0,H.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(t){return(0,H.Dv)("Query.limitToFirst",1,1,arguments.length),new ko(this.database,hc(this._delegate,function pJ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new mJ(n)}(t)))}limitToLast(t){return(0,H.Dv)("Query.limitToLast",1,1,arguments.length),new ko(this.database,hc(this._delegate,function _J(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new gJ(n)}(t)))}orderByChild(t){return(0,H.Dv)("Query.orderByChild",1,1,arguments.length),new ko(this.database,hc(this._delegate,function yJ(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return jx("orderByChild","path",n,!1),new vJ(n)}(t)))}orderByKey(){return(0,H.Dv)("Query.orderByKey",0,0,arguments.length),new ko(this.database,hc(this._delegate,function wJ(){return new bJ}()))}orderByPriority(){return(0,H.Dv)("Query.orderByPriority",0,0,arguments.length),new ko(this.database,hc(this._delegate,function CJ(){return new xJ}()))}orderByValue(){return(0,H.Dv)("Query.orderByValue",0,0,arguments.length),new ko(this.database,hc(this._delegate,function DJ(){return new EJ}()))}startAt(t=null,e){return(0,H.Dv)("Query.startAt",0,2,arguments.length),new ko(this.database,hc(this._delegate,function uJ(n=null,t){return Hx("startAt","key",t,!0),new B6(n,t)}(t,e)))}startAfter(t=null,e){return(0,H.Dv)("Query.startAfter",0,2,arguments.length),new ko(this.database,hc(this._delegate,function fJ(n,t){return Hx("startAfter","key",t,!0),new hJ(n,t)}(t,e)))}endAt(t=null,e){return(0,H.Dv)("Query.endAt",0,2,arguments.length),new ko(this.database,hc(this._delegate,function lJ(n,t){return Hx("endAt","key",t,!0),new L6(n,t)}(t,e)))}endBefore(t=null,e){return(0,H.Dv)("Query.endBefore",0,2,arguments.length),new ko(this.database,hc(this._delegate,function dJ(n,t){return Hx("endBefore","key",t,!0),new cJ(n,t)}(t,e)))}equalTo(t,e){return(0,H.Dv)("Query.equalTo",1,2,arguments.length),new ko(this.database,hc(this._delegate,function IJ(n,t){return Hx("equalTo","key",t,!0),new TJ(n,t)}(t,e)))}toString(){return(0,H.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,H.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,H.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ko))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,H.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,H.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,H.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Ca(this.database,new hl(this._delegate._repo,this._delegate._path))}}class Ca extends ko{constructor(t,e){super(t,new Hs(e._repo,e._path,new XI,!1)),this.database=t,this._delegate=e}getKey(){return(0,H.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,H.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ca(this.database,Dg(this._delegate,t))}getParent(){(0,H.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ca(this.database,t):null}getRoot(){return(0,H.Dv)("Reference.root",0,0,arguments.length),new Ca(this.database,this._delegate.root)}set(t,e){(0,H.Dv)("Reference.set",1,2,arguments.length),(0,H.Wj)("Reference.set","onComplete",e,!0);const i=QF(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,H.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,z6("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ul("Reference.update",this._delegate._path),(0,H.Wj)("Reference.update","onComplete",e,!0);const i=sJ(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,H.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,H.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function oJ(n,t,e){if(ul("setWithPriority",n._path),bd("setWithPriority",t,n._path,!1),jF("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new H.BH;return $F(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,H.Dv)("Reference.remove",0,1,arguments.length),(0,H.Wj)("Reference.remove","onComplete",t,!0);const e=function iJ(n){return ul("remove",n._path),QF(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,H.Dv)("Reference.transaction",1,3,arguments.length),(0,H.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,H.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,H.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function GJ(n,t,e){var i;if(n=(0,H.m9)(n),ul("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new H.BH,u=XF(n,()=>{});return function YX(n,t,e,i,r,o){gy(n,"transaction on "+t);const l={path:t,update:e,onComplete:i,status:null,order:Uj(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=WF(n,t,void 0);l.currentInputSnapshot=u;const m=l.update(u.val());if(void 0===m)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{Ux("transaction failed: Data returned ",m,l.path),l.status=0;const _=pS(n.transactionQueueTree_,t),b=Cg(_)||[];let D;b.push(l),VF(_,b),"object"==typeof m&&null!==m&&(0,H.r3)(m,".priority")?(D=(0,H.DV)(m,".priority"),(0,H.hu)(Vx(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(fS(n.serverSyncTree_,t)||fn.EMPTY_NODE).getPriority().val();const R=zx(n),F=ir(m,D),$=NF(F,u,R);l.currentOutputSnapshotRaw=F,l.currentOutputSnapshotResolved=$,l.currentWriteId=yS(n);const Z=MF(n.serverSyncTree_,t,$,l.currentWriteId,l.applyLocally);xa(n.eventQueue_,t,Z),bS(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(m,_,b)=>{let D=null;m?o.reject(m):(D=new Eg(b,new hl(n._repo,n._path),Ei),o.resolve(new $J(_,D)))},u,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new XJ(o.committed,new mm(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,H.Dv)("Reference.setPriority",1,2,arguments.length),(0,H.Wj)("Reference.setPriority","onComplete",e,!0);const i=function rJ(n,t){n=(0,H.m9)(n),ul("setPriority",n._path),jF("setPriority",t,!1);const e=new H.BH;return $F(n._repo,Yi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,H.Dv)("Reference.push",0,2,arguments.length),(0,H.Wj)("Reference.push","onComplete",e,!0);const i=function nJ(n,t){n=(0,H.m9)(n),ul("push",n._path),bd("push",t,n._path,!0);const e=v6(n._repo),i=tJ(e),r=Dg(n,i),o=Dg(n,i);let l;return l=null!=t?QF(o,t).then(()=>o):Promise.resolve(o),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,t),r=i.then(l=>new Ca(this.database,l));e&&r.then(()=>e(null),l=>e(l));const o=new Ca(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return ul("Reference.onDisconnect",this._delegate._path),new QJ(new M6(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Wx{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:PJ,forceLongPolling:FJ}}useEmulator(t,e,i={}){j6(this._delegate,t,e,i)}ref(t){if((0,H.Dv)("database.ref",0,1,arguments.length),t instanceof Ca){const e=k6(this._delegate,t.toString());return new Ca(this,e)}{const e=A6(this._delegate,t);return new Ca(this,e)}}refFromURL(t){(0,H.Dv)("database.refFromURL",1,1,arguments.length);const i=k6(this._delegate,t);return new Ca(this,i)}goOffline(){return(0,H.Dv)("database.goOffline",0,0,arguments.length),function LJ(n){(n=(0,H.m9)(n))._checkNotDeleted("goOffline"),x6(n._repo)}(this._delegate)}goOnline(){return(0,H.Dv)("database.goOnline",0,0,arguments.length),function BJ(n){(n=(0,H.m9)(n))._checkNotDeleted("goOnline"),function ZX(n){n.persistentConnection_&&n.persistentConnection_.resume(_6)}(n._repo)}(this._delegate)}}Wx.ServerValue={TIMESTAMP:function jJ(){return HJ}(),increment:n=>function zJ(n){return{".sv":{increment:n}}}(n)};var eee=Object.freeze({__proto__:null,initStandalone:function JJ({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){Bj(e);const l=new nc.zt("auth-internal",new nc.H0("database-standalone"));return l.setComponent(new nc.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Wx(U6(n,l,void 0,t,o),n),namespace:r}}});const tee=Wx.ServerValue;function $6(n){return null==n}function G6(n){return"function"==typeof n.set}function W6(n,t){return G6(t)?t:n.ref(t)}function q6(n,t){if(function iee(n){return"string"==typeof n}(n))return t.stringCase();if(G6(n))return t.firebaseCase();if(function ree(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function qx(n,t,e="on",i=ad.z){return new Yn.y(r=>{let o=null;return o=n[e](t,(l,u)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:u})}),"once"===e&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,Oe.U)(r=>{const{snapshot:o,prevKey:l}=r;let u=null;return o.exists()&&(u=o.key),{type:t,payload:o,prevKey:l,key:u}}),(0,Zb.B)())}function Z6(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function aee(n,t){const{payload:e,prevKey:i,key:r}=t,o=Z6(n,r),l=function see(n,t){if($6(t))return 0;{const e=Z6(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let u=null;t.payload.forEach(m=>{const _={payload:m,type:"value",prevKey:u,key:m.key};return u=m.key,n=[...n,_],!1})}return n;case"child_added":if(o>-1){const u=n[o-1];(u&&u.key||null)!==i&&(n=n.filter(m=>m.payload.key!==e.key)).splice(l,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(l,0,t)}return n;case"child_removed":return n.filter(u=>u.payload.key!==e.key);case"child_changed":return n.map(u=>u.payload.key===r?t:u);case"child_moved":if(o>-1){const u=n.splice(o,1)[0];return(n=n.slice()).splice(l,0,u),n}return n;default:return n}}function Y6(n){return($6(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function K6(n,t,e){return function oee(n,t,e){return qx(n,"value","once",e).pipe(tn(i=>{const r=[je(i)];return t.forEach(o=>r.push(qx(n,o,"on",e))),(0,Zr.T)(...r).pipe(sf(aee,[]))}),Bp())}(n,t=Y6(t),e)}function Q6(n,t,e){const i=(t=Y6(t)).map(r=>qx(n,r,"on",e));return(0,Zr.T)(...i)}function X6(n,t){return function(i,r){return q6(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function uee(n){return function(e){return e?q6(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function J6(n,t){return function(){return qx(n,"value","on",t)}}!function nee(n){n.INTERNAL.registerComponent(new nc.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Wx(r,i)},"PUBLIC").setServiceProps({Reference:Ca,Query:ko,Database:Wx,DataSnapshot:mm,enableLogging:VJ,INTERNAL:eee,ServerValue:tee}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(BB.Z);const mee=new s.OlP("angularfire2.realtimeDatabaseURL"),pee=new s.OlP("angularfire2.database.use-emulator");let gee=(()=>{class n{constructor(e,i,r,o,l,u,m,_,b,D,R,F,$,Z,ie){this.schedulers=u;const Se=m,Ye=(0,Br.on)(e,l,i);_&&I0(Ye,l,b,R,F,$,D,Z),this.database=(0,Br.cc)(`${Ye.name}.database.${r}`,"AngularFireDatabase",Ye.name,()=>{const Qe=l.runOutsideAngular(()=>Ye.database(r||void 0));return Se&&Qe.useEmulator(...Se),Qe},[Se])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>W6(this.database,e));let o=r;return i&&(o=i(r)),function hee(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:X6(i,"update"),set:X6(i,"set"),push:r=>i.push(r),remove:uee(i),snapshotChanges:r=>K6(n,r,e).pipe(nn.iC),stateChanges:r=>Q6(n,r,e).pipe(nn.iC),auditTrail:r=>function lee(n,t,e){return function dee(n,t,e){return function cee(n,t){return qx(n,"value","on",t).pipe((0,Oe.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function sK(...n){const t=(0,$r.jO)(n);return(0,Ln.e)((e,i)=>{const r=n.length,o=new Array(r);let l=n.map(()=>!1),u=!1;for(let m=0;m<r;m++)(0,Vo.Xf)(n[m]).subscribe((0,Bn.x)(i,_=>{o[m]=_,!u&&!l[m]&&(l[m]=!0,(u=l.every(zt.y))&&(l=null))},_a.Z));e.subscribe((0,Bn.x)(i,m=>{if(u){const _=[m,...o];i.next(t?t(..._):_)}}))})}(t),(0,Oe.U)(([r,o])=>{const l=r.lastKeyToLoad,u=o.map(m=>m.key);return{actions:o,lastKeyToLoad:l,loadedKeys:u}}),function aK(n){return(0,Ln.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Bn.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Oe.U)(r=>r.actions))}(n,Q6(n,t).pipe(sf((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(nn.iC),valueChanges:(r,o)=>K6(n,r,e).pipe((0,Oe.U)(u=>u.map(m=>o&&o.idField?Object.assign(Object.assign({},m.payload.val()),{[o.idField]:m.key}):m.payload.val())),nn.iC)}}(o,this)}object(e){return function fee(n,t){return{query:n,snapshotChanges:()=>J6(n,t.schedulers.outsideAngular)().pipe(nn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>J6(n,t.schedulers.outsideAngular)().pipe(nn.iC,(0,Oe.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>W6(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Br.Dh),s.LFG(Br.xv,8),s.LFG(mee,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(nn.HU),s.LFG(pee,8),s.LFG(Sf,8),s.LFG(rv,8),s.LFG(ov,8),s.LFG(D0,8),s.LFG(MD,8),s.LFG(sv,8),s.LFG(T0,8),s.LFG(If,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Zx=(()=>{class n{constructor(e,i){this._client=e,this._fireDatabase=i,this._traningSubject=new Gi(JSON.parse(localStorage.getItem("trainingContext"))||{isEdit:!1,trainingElements:[],trainingWeek:0,isDone:!1,hasFill:!1}),this.traning$=this._traningSubject.asObservable(),this._isEdit=new Gi({isEdit:!1,index:null}),this.isEdit$=this._isEdit.asObservable()}addTraining(e){const i={...this._traningSubject.value,isDone:!0};return(0,jt.D)(this._client.collection("plans").add({...i,authId:e,createAt:(new Date).getTime(),raitingCommentTraining:"",raitingValueTraining:0})).pipe((0,Vn.b)(()=>localStorage.removeItem("trainingContext")),(0,Oe.U)(()=>{this._traningSubject.value&&this._traningSubject.next({...this._traningSubject.value,trainingElements:[]})}))}getOneTraining(e){return this._client.collection("plans").valueChanges({idField:"id"}).pipe((0,Oe.U)(i=>i.filter(r=>r.id===e).shift()))}setTraining(e){return(0,jt.D)(this._client.doc("plans/"+e).update(this._traningSubject.value)).pipe((0,Vn.b)(()=>localStorage.removeItem("trainingContext")),(0,Oe.U)(()=>{}))}addTrainingElementToContext(e){if(this._traningSubject.value){const i={...this._traningSubject.value,trainingElements:[...this._traningSubject.value.trainingElements,{...e,index:this._traningSubject.value.trainingElements.length+1}]};this._traningSubject.next(i),localStorage.setItem("trainingContext",JSON.stringify(i))}return je(void 0)}addTrainingElementsToContext(e){const i={isEdit:!0,trainingElements:e.trainingElements,trainingWeek:e.trainingWeek,isDone:e.isDone};return this._traningSubject.next(i),localStorage.setItem("trainingContext",JSON.stringify(i)),je(void 0)}getAllPlans(){return this._client.collection("plans",e=>e.orderBy("createAt","desc")).valueChanges({idField:"id"}).pipe(Tu(1))}editForm(e,i){return this._isEdit.next({isEdit:e,index:i}),je(void 0)}editSubmit(e,i,r){if(this._traningSubject.value){const o=this._traningSubject.value.trainingElements,l={...o[e]};l.comment=i.comment,l.exercise=i.exercise,l.quantity=r,this._isEdit.next({isEdit:!1,index:0}),o[e]=l;const u={trainingWeek:this._traningSubject.value.trainingWeek,isEdit:this._traningSubject.value.isEdit,trainingElements:o,isDone:this._traningSubject.value.isDone};this._traningSubject.next(u),localStorage.setItem("trainingContext",JSON.stringify(u))}return je(void 0)}setRaiting(e,i,r,o,l,u){if("training"===l)return(0,jt.D)(this._client.doc("plans/"+e).update({raitingCommentTraining:r,raitingValueTraining:o}));if("exercise"===l){const m=this._client.collection("plans").doc(e);return m.get().pipe(tn(_=>{if(_.exists){const b=_.data();if(b.trainingElements&&b.trainingElements.length>i)return b.trainingElements[i].raitingCommentExercise=r,b.trainingElements[i].raitingValueExercise=o,b.trainingElements[i].exerciseValue=u,(0,jt.D)(m.update({trainingElements:b.trainingElements}));throw new Error(`Element o indeksie ${i} nie istnieje.`)}throw new Error(`Dokument o ID ${e} nie istnieje.`)}))}return je(void 0)}destroyTrainingContext(){return this._traningSubject.next({isEdit:!1,trainingElements:[],trainingWeek:0,isDone:!1}),je(void 0)}setTrainingWeekOnSubject(e){if(this._traningSubject.value?.trainingWeek===e)return je(void 0);if(this._traningSubject.value){const i={...this._traningSubject.value,trainingWeek:e};this._traningSubject.next(i),localStorage.setItem("trainingContext",JSON.stringify(i)),console.log(this._traningSubject.value)}return je(void 0)}deleteExercise(e){if(this._traningSubject.value){this._traningSubject.value.trainingElements.splice(e,1);const i=this._traningSubject.value.trainingElements.map((o,l)=>({...o,index:1+l++})),r={...this._traningSubject.value,trainingElements:i};this._traningSubject.next(r),localStorage.setItem("trainingContext",JSON.stringify(r))}return je(void 0)}removeTraining(e){return(0,jt.D)(this._client.doc("plans/"+e).delete()).pipe((0,Oe.U)(()=>{}))}onDragTrainingElement(e){if(this._traningSubject.value){const i={...this._traningSubject.value,trainingElements:e.map((r,o)=>({...r,index:o+1}))};this._traningSubject.next(i),localStorage.setItem("trainingContext",JSON.stringify(i))}return je(void 0)}isNotEdit(){if(this._traningSubject.value?.isEdit){const e={...this._traningSubject.value,isEdit:!1};this._traningSubject.next(e),localStorage.setItem("trainingContext",JSON.stringify(e))}return je(void 0)}isEdit(){if(!this._traningSubject.value?.isEdit){const e={...this._traningSubject.value,isEdit:!0};this._traningSubject.next(e),localStorage.setItem("trainingContext",JSON.stringify(e))}return je(void 0)}getExerciseTemplates(){return this._fireDatabase.list("ExercisesTemplate").valueChanges().pipe((0,Oe.U)(e=>e.flat()))}setHasFillTraining(e,i){return(0,jt.D)(this._client.doc("plans/"+i).update({hasFill:e}))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fj),s.LFG(gee))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fc=(()=>{class n{constructor(e){this._angularFirestore=e}addUser(e){return(0,jt.D)(this._angularFirestore.collection("users").add({...e,paidTraining:0,trainingWeeks:[]})).pipe((0,Oe.U)(()=>{}))}getAllUsers(){return this._angularFirestore.collection("users").valueChanges({idField:"id"}).pipe(Tu(1))}getOneUser(e){return this._angularFirestore.collection("users").valueChanges({idField:"id"}).pipe((0,Oe.U)(i=>i.filter(r=>r.id===e).shift()),Tu(1))}getOneUserByAuth(e){return this._angularFirestore.collection("users",i=>i.where("authId","==",e)).valueChanges({idField:"id"}).pipe(tn(i=>i?je(i[0]):pu(new Error("Item does not exist in firebase"))),Tu(1))}setTraining(e,i){return(0,jt.D)(this._angularFirestore.doc("users/"+e).update({trainingWeeks:i})).pipe((0,Oe.U)(()=>{}))}setPaidTraining(e,i){return(0,jt.D)(this._angularFirestore.doc("users/"+e.id).update({paidTraining:i})).pipe((0,Oe.U)(()=>{}))}hasAdmin(e){return je("admin"===e)}setCommentForWeek(e,i,r){console.log(i);const o=this._angularFirestore.collection("users").doc(e);return o.get().pipe(tn(l=>{if(l.exists){const u=l.data();return console.log(u.trainingWeeks.sort((m,_)=>_.number-m.number)),u.trainingWeeks[i].comment=r,(0,jt.D)(o.update({trainingWeeks:u.trainingWeeks}))}throw new Error(`Dokument o ID ${e} nie istnieje`)}))}setTrainerIdForUser(e,i){return(0,jt.D)(this._angularFirestore.doc("users/"+e).update({trainerId:i})).pipe((0,Oe.U)(()=>{}))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fj))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e4=cs({passive:!0});let _ee=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Os.E;const i=Wi(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new et.x,l="cdk-text-field-autofilled",u=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,e4),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",u,e4)}}),o}stopMonitoring(e){const i=Wi(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(On),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const yee=["matFormFieldNotchedOutline",""],bee=["*"],wee=["textField"],xee=["iconPrefixContainer"],Cee=["textPrefixContainer"];function Eee(n,t){1&n&&s._UZ(0,"span",19)}function Dee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",17),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r._refreshOutlineNotchWidth())}),s.Hsn(1,1),s.YNc(2,Eee,1,0,"span",18),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function Tee(n,t){if(1&n&&s.YNc(0,Dee,3,6,"label",16),2&n){const e=s.oxw();s.Q6J("ngIf",e._hasFloatingLabel())}}function Iee(n,t){1&n&&s._UZ(0,"div",20)}function See(n,t){}function Mee(n,t){if(1&n&&s.YNc(0,See,0,0,"ng-template",22),2&n){s.oxw(2);const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function Aee(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,Mee,1,1,"ng-template",9),s.qZA()),2&n){const e=s.oxw();s.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),s.xp6(1),s.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function kee(n,t){1&n&&(s.TgZ(0,"div",23,24),s.Hsn(2,2),s.qZA())}function Ree(n,t){1&n&&(s.TgZ(0,"div",25,26),s.Hsn(2,3),s.qZA())}function Oee(n,t){}function Pee(n,t){if(1&n&&s.YNc(0,Oee,0,0,"ng-template",22),2&n){s.oxw();const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function Fee(n,t){1&n&&(s.TgZ(0,"div",27),s.Hsn(1,4),s.qZA())}function Nee(n,t){1&n&&(s.TgZ(0,"div",28),s.Hsn(1,5),s.qZA())}function Lee(n,t){1&n&&s._UZ(0,"div",29)}function Bee(n,t){if(1&n&&(s.TgZ(0,"div",30),s.Hsn(1,6),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Vee(n,t){if(1&n&&(s.TgZ(0,"mat-hint",34),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function Uee(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,Vee,2,2,"mat-hint",32),s.Hsn(2,7),s._UZ(3,"div",33),s.Hsn(4,8),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const Hee=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],jee=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let eN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),zee=0;const t4=new s.OlP("MatError");let $ee=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+zee++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:t4,useExisting:n}])]}),n})(),Gee=0,n4=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+Gee++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(s.Ikx("id",i.id),s.uIk("align",null),s.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const Wee=new s.OlP("MatPrefix"),qee=new s.OlP("MatSuffix");let r4=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function Zee(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const o4="mdc-line-ripple--active",DS="mdc-line-ripple--deactivating";let s4=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,l=o.contains(DS);"opacity"===r.propertyName&&l&&o.remove(o4,DS)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(DS),e.add(o4)}deactivate(){this._elementRef.nativeElement.classList.add(DS)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),a4=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:yee,ngContentSelectors:bee,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(s.F$t(),s._UZ(0,"div",0),s.TgZ(1,"div",1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(1),s.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const Yee={transitionMessages:oc("transitionMessages",[Ho("enter",$n({opacity:1,transform:"translateY(0%)"})),so("void => enter",[$n({opacity:0,transform:"translateY(-5px)"}),oo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let l4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const tN=new s.OlP("MatFormField"),Kee=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let c4=0,Jee=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Ot(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,l,u,m,_){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=l,this._defaults=u,this._animationMode=m,this._document=_,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+c4++,this._hintLabelId="mat-mdc-hint-"+c4++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new et.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=Boolean(u?.hideRequiredMarker),u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Cn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Zr.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Cn(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Cn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(va),s.Y36(On),s.Y36(Kee,8),s.Y36(s.QbO,8),s.Y36(re))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,eN,5),s.Suo(r,eN,7),s.Suo(r,l4,5),s.Suo(r,Wee,5),s.Suo(r,qee,5),s.Suo(r,t4,5),s.Suo(r,n4,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._formFieldControl=o.first),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(wee,5),s.Gf(xee,5),s.Gf(Cee,5),s.Gf(r4,5),s.Gf(a4,5),s.Gf(s4,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._textField=r.first),s.iGM(r=s.CRH())&&(i._iconPrefixContainer=r.first),s.iGM(r=s.CRH())&&(i._textPrefixContainer=r.first),s.iGM(r=s.CRH())&&(i._floatingLabel=r.first),s.iGM(r=s.CRH())&&(i._notchedOutline=r.first),s.iGM(r=s.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&s.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:tN,useExisting:n}])],ngContentSelectors:jee,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(s.F$t(Hee),s.YNc(0,Tee,1,1,"ng-template",null,0,s.W1O),s.TgZ(2,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(4,Iee,1,0,"div",3),s.TgZ(5,"div",4),s.YNc(6,Aee,2,3,"div",5),s.YNc(7,kee,3,0,"div",6),s.YNc(8,Ree,3,0,"div",7),s.TgZ(9,"div",8),s.YNc(10,Pee,1,1,"ng-template",9),s.Hsn(11),s.qZA(),s.YNc(12,Fee,2,0,"div",10),s.YNc(13,Nee,2,0,"div",11),s.qZA(),s.YNc(14,Lee,1,0,"div",12),s.qZA(),s.TgZ(15,"div",13),s.YNc(16,Bee,2,1,"div",14),s.YNc(17,Uee,5,2,"div",15),s.qZA()),2&e&&(s.xp6(2),s.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),s.xp6(2),s.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),s.xp6(2),s.Q6J("ngIf",i._hasOutline()),s.xp6(1),s.Q6J("ngIf",i._hasIconPrefix),s.xp6(1),s.Q6J("ngIf",i._hasTextPrefix),s.xp6(2),s.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),s.xp6(2),s.Q6J("ngIf",i._hasTextSuffix),s.xp6(1),s.Q6J("ngIf",i._hasIconSuffix),s.xp6(1),s.Q6J("ngIf",!i._hasOutline()),s.xp6(1),s.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[wi,Si,Ia,Qo,N0,n4,r4,a4,s4],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[Yee.transitionMessages]},changeDetection:0}),n})(),Tg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[U,In,L0,U]}),n})();const ete=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),tte=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let nte=0;const ite=Be(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new et.x}});let h4=(()=>{class n extends ite{get disabled(){return this._disabled}set disabled(e){this._disabled=Ot(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(te.required)??!1}set required(e){this._required=Ot(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&AD().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Ot(e)}constructor(e,i,r,o,l,u,m,_,b,D){super(u,o,l,r),this._elementRef=e,this._platform=i,this._autofillMonitor=_,this._formField=D,this._uid="mat-input-"+nte++,this.focused=!1,this.stateChanges=new et.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter($=>AD().has($)),this._iOSKeyupListener=$=>{const Z=$.target;!Z.value&&0===Z.selectionStart&&0===Z.selectionEnd&&(Z.setSelectionRange(1,1),Z.setSelectionRange(0,0))};const R=this._elementRef.nativeElement,F=R.nodeName.toLowerCase();this._inputValueAccessor=m||R,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===F,this._isTextarea="textarea"===F,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=R.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){tte.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(On),s.Y36(Ya,10),s.Y36(Wy,8),s.Y36(Qa,8),s.Y36(E5),s.Y36(ete,10),s.Y36(_ee),s.Y36(s.R0b),s.Y36(tN,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),s.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),s.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:l4,useExisting:n}]),s.qOj,s.TTD]}),n})(),nN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[U,Tg,Tg,vee,U]}),n})(),iN=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Ot(e)}get inset(){return this._inset}set inset(e){this._inset=Ot(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),Yx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[U,U]}),n})();function rN(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function vy(n,t){const e=t?"":"none";rN(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function f4(n,t,e){rN(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function TS(n,t){return t&&"none"!=t?n+" "+t:n}function m4(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function oN(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function sN(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function aN(n,t,e){const{top:i,bottom:r,left:o,right:l}=n;return e>=i&&e<=r&&t>=o&&t<=l}function Kx(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function p4(n,t,e,i){const{top:r,right:o,bottom:l,left:u,width:m,height:_}=n,b=m*t,D=_*t;return i>r-D&&i<l+D&&e>u-b&&e<o+b}class g4{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:sN(e)})})}handleScroll(t){const e=Eo(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let o,l;if(e===this._document){const _=this.getViewportScrollPosition();o=_.top,l=_.left}else o=e.scrollTop,l=e.scrollLeft;const u=r.top-o,m=r.left-l;return this.positions.forEach((_,b)=>{_.clientRect&&e!==b&&e.contains(b)&&Kx(_.clientRect,u,m)}),r.top=o,r.left=l,{top:u,left:m}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function _4(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?b4(n,t):("input"===i||"select"===i||"textarea"===i)&&y4(n,t),v4("canvas",n,t,b4),v4("input, textarea, select",n,t,y4),t}function v4(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const o=e.querySelectorAll(n);for(let l=0;l<r.length;l++)i(r[l],o[l])}}let ste=0;function y4(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${ste++}`)}function b4(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const w4=cs({passive:!0}),IS=cs({passive:!1}),lN=new Set(["position"]);class lte{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Ot(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>vy(i,e)))}constructor(t,e,i,r,o,l){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=l,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new et.x,this._pointerMoveSubscription=Lr.w0.EMPTY,this._pointerUpSubscription=Lr.w0.EMPTY,this._scrollSubscription=Lr.w0.EMPTY,this._resizeSubscription=Lr.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new et.x,this.started=new et.x,this.released=new et.x,this.ended=new et.x,this.entered=new et.x,this.exited=new et.x,this.dropped=new et.x,this.moved=this._moveEvents,this._pointerDown=u=>{if(this.beforeStarted.next(),this._handles.length){const m=this._getTargetHandle(u);m&&!this._disabledHandles.has(m)&&!this.disabled&&this._initializeDragSequence(m,u)}else this.disabled||this._initializeDragSequence(this._rootElement,u)},this._pointerMove=u=>{const m=this._getPointerPositionOnPage(u);if(!this._hasStartedDragging){if(Math.abs(m.x-this._pickupPositionOnPage.x)+Math.abs(m.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const F=Date.now()>=this._dragStartTime+this._getDragStartDelay(u),$=this._dropContainer;if(!F)return void this._endDragSequence(u);(!$||!$.isDragging()&&!$.isReceiving())&&(u.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(u)))}return}u.preventDefault();const _=this._getConstrainedPointerPosition(m);if(this._hasMoved=!0,this._lastKnownPointerPosition=m,this._updatePointerDirectionDelta(_),this._dropContainer)this._updateActiveDropContainer(_,m);else{const b=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,D=this._activeTransform;D.x=_.x-b.x+this._passiveTransform.x,D.y=_.y-b.y+this._passiveTransform.y,this._applyRootElementTransform(D.x,D.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:_,event:u,distance:this._getDragDistance(_),delta:this._pointerDirectionDelta})})},this._pointerUp=u=>{this._endDragSequence(u)},this._nativeDragStart=u=>{if(this._handles.length){const m=this._getTargetHandle(u);m&&!this._disabledHandles.has(m)&&!this.disabled&&u.preventDefault()}else this.disabled||u.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new g4(i),l.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Wi(i)),this._handles.forEach(i=>vy(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Wi(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,IS),e.addEventListener("touchstart",this._pointerDown,w4),e.addEventListener("dragstart",this._nativeDragStart,IS)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Wi(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),vy(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),vy(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Qx(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),l=this._anchor=this._anchor||this._document.createComment(""),u=this._getShadowRoot();r.insertBefore(l,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),f4(i,!1,lN),this._document.body.appendChild(r.replaceChild(o,i)),this._getPreviewInsertionPoint(r,u).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=Qx(e),o=!r&&0!==e.button,l=this._rootElement,u=Eo(e),m=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),_=r?K0(e):Y0(e);if(u&&u.draggable&&"mousedown"===e.type&&e.preventDefault(),i||o||m||_)return;if(this._handles.length){const R=l.style;this._rootElementTapHighlight=R.webkitTapHighlightColor||"",R.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(R=>this._updateOnScroll(R)),this._boundaryElement&&(this._boundaryRect=sN(this._boundaryElement));const b=this._previewTemplate;this._pickupPositionInElement=b&&b.template&&!b.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const D=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:D.x,y:D.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){f4(this._rootElement,!0,lN),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),l=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:l,distance:o,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,l,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const o=t.matchSize?this._initialClientRect:null,l=t.viewContainer.createEmbeddedView(i,t.context);l.detectChanges(),r=C4(l,this._document),this._previewRef=l,t.matchSize?E4(r,o):r.style.transform=SS(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=_4(this._rootElement),E4(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return rN(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},lN),vy(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function ote(n){const t=getComputedStyle(n),e=oN(t,"transition-property"),i=e.find(u=>"transform"===u||"all"===u);if(!i)return 0;const r=e.indexOf(i),o=oN(t,"transition-duration"),l=oN(t,"transition-delay");return m4(o[r])+m4(l[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=l=>{(!l||Eo(l)===this._preview&&"transform"===l.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(o))},o=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=C4(this._placeholderRef,this._document)):i=_4(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,l=Qx(i)?i.targetTouches[0]:i,u=this._getViewportScrollPosition();return{x:o.left-t.left+(l.pageX-o.left-u.left),y:o.top-t.top+(l.pageY-o.top-u.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=Qx(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){const l=this._ownerSVGElement.getScreenCTM();if(l){const u=this._ownerSVGElement.createSVGPoint();return u.x=r,u.y=o,u.matrixTransform(l.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:l}=this._pickupPositionInElement,u=this._boundaryRect,{width:m,height:_}=this._getPreviewRect(),b=u.top+l,D=u.bottom-(_-l);i=x4(i,u.left+o,u.right-(m-o)),r=x4(r,b,D)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,l=Math.abs(e-o.x),u=Math.abs(i-o.y);return l>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),u>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,vy(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,IS),t.removeEventListener("touchstart",this._pointerDown,w4),t.removeEventListener("dragstart",this._nativeDragStart,IS)}_applyRootElementTransform(t,e){const i=SS(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=TS(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=SS(t,e);this._preview.style.transform=TS(r,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,l=i.right-r.right,u=r.top-i.top,m=i.bottom-r.bottom;r.width>i.width?(o>0&&(t+=o),l>0&&(t-=l)):t=0,r.height>i.height?(u>0&&(e+=u),m>0&&(e-=m)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Qx(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Eo(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Kx(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=lv(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Wi(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function SS(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function x4(n,t,e){return Math.max(t,Math.min(e,n))}function Qx(n){return"t"===n.type[0]}function C4(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function E4(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=SS(t.left,t.top)}function Xx(n,t){return Math.max(0,Math.min(t,n))}class dte{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const o=this._itemPositions,l=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===l&&o.length>0)return null;const u="horizontal"===this.orientation,m=o.findIndex(ie=>ie.drag===t),_=o[l],D=_.clientRect,R=m>l?1:-1,F=this._getItemOffsetPx(o[m].clientRect,D,R),$=this._getSiblingOffsetPx(m,o,R),Z=o.slice();return function cte(n,t,e){const i=Xx(t,n.length-1),r=Xx(e,n.length-1);if(i===r)return;const o=n[i],l=r<i?-1:1;for(let u=i;u!==r;u+=l)n[u]=n[u+l];n[r]=o}(o,m,l),o.forEach((ie,Se)=>{if(Z[Se]===ie)return;const Ye=ie.drag===t,Qe=Ye?F:$,ct=Ye?t.getPlaceholderElement():ie.drag.getRootElement();ie.offset+=Qe,u?(ct.style.transform=TS(`translate3d(${Math.round(ie.offset)}px, 0, 0)`,ie.initialTransform),Kx(ie.clientRect,0,Qe)):(ct.style.transform=TS(`translate3d(0, ${Math.round(ie.offset)}px, 0)`,ie.initialTransform),Kx(ie.clientRect,Qe,0))}),this._previousSwap.overlaps=aN(D,e,i),this._previousSwap.drag=_.drag,this._previousSwap.delta=u?r.x:r.y,{previousIndex:m,currentIndex:l}}enter(t,e,i,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,l=this._activeDraggables,u=l.indexOf(t),m=t.getPlaceholderElement();let _=l[o];if(_===t&&(_=l[o+1]),!_&&(null==o||-1===o||o<l.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(_=l[0]),u>-1&&l.splice(u,1),_&&!this._dragDropRegistry.isDragging(_)){const b=_.getRootElement();b.parentElement.insertBefore(m,b),l.splice(o,0,t)}else Wi(this._element).appendChild(m),l.push(t);m.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{Kx(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:sN(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let o=r?e.left-t.left:e.top-t.top;return-1===i&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,o=e[t].clientRect,l=e[t+-1*i];let u=o[r?"width":"height"]*i;if(l){const m=r?"left":"top",_=r?"right":"bottom";-1===i?u-=l.clientRect[m]-o[_]:u+=o[m]-l.clientRect[_]}return u}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const l=i[i.length-1].clientRect;return r?t>=l.right:e>=l.bottom}{const l=i[0].clientRect;return r?t<=l.left:e<=l.top}}_getItemIndexFromPointerPosition(t,e,i,r){const o="horizontal"===this.orientation,l=this._itemPositions.findIndex(({drag:u,clientRect:m})=>u!==t&&((!r||u!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?r.x:r.y)!==this._previousSwap.delta)&&(o?e>=Math.floor(m.left)&&e<Math.floor(m.right):i>=Math.floor(m.top)&&i<Math.floor(m.bottom))));return-1!==l&&this._sortPredicate(l,t)?l:-1}}const T4=.05;class ute{constructor(t,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new et.x,this.entered=new et.x,this.exited=new et.x,this.dropped=new et.x,this.sorted=new et.x,this.receivingStarted=new et.x,this.receivingStopped=new et.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Lr.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new et.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function rte(n=0,t=ad.z){return n<0&&(n=0),E1(n,n,t)}(0,xB).pipe(Cn(this._stopScrollTimers)).subscribe(()=>{const l=this._scrollNode,u=this.autoScrollStep;1===this._verticalScrollDirection?l.scrollBy(0,-u):2===this._verticalScrollDirection&&l.scrollBy(0,u),1===this._horizontalScrollDirection?l.scrollBy(-u,0):2===this._horizontalScrollDirection&&l.scrollBy(u,0)})},this.element=Wi(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new g4(i),this._sortStrategy=new dte(this.element,e),this._sortStrategy.withSortPredicate((l,u)=>this.sortPredicate(l,u,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,o,l,u,m={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:l,dropPoint:u,event:m})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Wi(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!p4(this._clientRect,.05,e,i))return;const o=this._sortStrategy.sort(t,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,o=0;if(this._parentPositions.positions.forEach((l,u)=>{u===this._document||!l.clientRect||i||p4(l.clientRect,.05,t,e)&&([r,o]=function hte(n,t,e,i){const r=I4(t,i),o=S4(t,e);let l=0,u=0;if(r){const m=n.scrollTop;1===r?m>0&&(l=1):n.scrollHeight-m>n.clientHeight&&(l=2)}if(o){const m=n.scrollLeft;1===o?m>0&&(u=1):n.scrollWidth-m>n.clientWidth&&(u=2)}return[l,u]}(u,l.clientRect,t,e),(r||o)&&(i=u))}),!r&&!o){const{width:l,height:u}=this._viewportRuler.getViewportSize(),m={width:l,height:u,top:0,right:l,bottom:u,left:0};r=I4(m,e),o=S4(m,t),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Wi(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Wi(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Wi(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&aN(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!aN(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const o=Wi(this.element);return r===o||o.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=lv(Wi(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function I4(n,t){const{top:e,bottom:i,height:r}=n,o=r*T4;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}function S4(n,t){const{left:e,right:i,width:r}=n,o=r*T4;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}const MS=cs({passive:!1,capture:!0});let fte=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new et.x,this.pointerUp=new et.x,this.scroll=new et.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,MS)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,MS)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:MS}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:MS}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,l)=>{this._document.addEventListener(l,o.handler,o.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Yn.y(r=>this._ngZone.runOutsideAngular(()=>{const l=u=>{this._activeDragInstances.length&&r.next(u)};return e.addEventListener("scroll",l,!0),()=>{e.removeEventListener("scroll",l,!0)}}))),(0,Zr.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mte={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let cN=(()=>{class n{constructor(e,i,r,o){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(e,i=mte){return new lte(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new ute(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re),s.LFG(s.R0b),s.LFG(jp),s.LFG(fte))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dN=new s.OlP("CDK_DRAG_PARENT"),uN=new s.OlP("CdkDropListGroup"),M4=new s.OlP("CDK_DRAG_CONFIG");let gte=0;const A4=new s.OlP("CdkDropList");let k4=(()=>{class n{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=Ot(e)}constructor(e,i,r,o,l,u,m){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=o,this._dir=l,this._group=u,this._destroyed=new et.x,this.connectedTo=[],this.id="cdk-drop-list-"+gte++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.sorted=new s.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,m&&this._assignDefaults(m),this._dropListRef.enterPredicate=(_,b)=>this.enterPredicate(_.data,b.data),this._dropListRef.sortPredicate=(_,b,D)=>this.sortPredicate(_,b.data,D.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),u&&u._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Er(this._dir.value),Cn(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=Vp(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(l=>l.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Ot(this.sortingDisabled),e.autoScrollDisabled=Ot(this.autoScrollDisabled),e.autoScrollStep=Ls(this.autoScrollStep,2),e.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),(0,Zr.T)(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){const{lockAxis:i,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:l,listOrientation:u}=e;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=l??!1,this.orientation=u||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n._dropLists=[],n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(cN),s.Y36(s.sBO),s.Y36(Up),s.Y36(va,8),s.Y36(uN,12),s.Y36(M4,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id),s.ekj("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[s._Bn([{provide:uN,useValue:void 0},{provide:A4,useExisting:n}])]}),n})();const hN=new s.OlP("CdkDragHandle"),R4=new s.OlP("CdkDragPlaceholder"),O4=new s.OlP("CdkDragPreview");let P4=(()=>{class n{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=Ot(e),this._dragRef.disabled=this._disabled}constructor(e,i,r,o,l,u,m,_,b,D,R){this.element=e,this.dropContainer=i,this._ngZone=o,this._viewContainerRef=l,this._dir=m,this._changeDetectorRef=b,this._selfHandle=D,this._parentDrag=R,this._destroyed=new et.x,this.started=new s.vpe,this.released=new s.vpe,this.ended=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.dropped=new s.vpe,this.moved=new Yn.y(F=>{const $=this._dragRef.moved.pipe((0,Oe.U)(Z=>({source:this,pointerPosition:Z.pointerPosition,event:Z.event,delta:Z.delta,distance:Z.distance}))).subscribe(F);return()=>{$.unsubscribe()}}),this._dragRef=_.createDrag(e,{dragStartThreshold:u&&null!=u.dragStartThreshold?u.dragStartThreshold:5,pointerDirectionChangeThreshold:u&&null!=u.pointerDirectionChangeThreshold?u.pointerDirectionChangeThreshold:5,zIndex:u?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),u&&this._assignDefaults(u),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(zn(1),Cn(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):Wi(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,l=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:Ls(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(l).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(zn(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:l,boundaryElement:u,draggingDisabled:m,rootElementSelector:_,previewContainer:b}=e;this.disabled=m??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),o&&(this.constrainPosition=o),l&&(this.previewClass=l),u&&(this.boundaryElement=u),_&&(this.rootElementSelector=_),b&&(this.previewContainer=b)}_setupHandlesListener(){this._handles.changes.pipe(Er(this._handles),(0,Vn.b)(e=>{const i=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),tn(e=>(0,Zr.T)(...e.map(i=>i._stateChanges.pipe(Er(i))))),Cn(this._destroyed)).subscribe(e=>{const i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(A4,12),s.Y36(re),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(M4,8),s.Y36(va,8),s.Y36(cN),s.Y36(s.sBO),s.Y36(hN,10),s.Y36(dN,12))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,O4,5),s.Suo(r,R4,5),s.Suo(r,hN,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._previewTemplate=o.first),s.iGM(o=s.CRH())&&(i._placeholderTemplate=o.first),s.iGM(o=s.CRH())&&(i._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[s._Bn([{provide:dN,useExisting:n}]),s.TTD]}),n})(),F4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[cN],imports:[Ff]}),n})();class fN{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class mN extends fN{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class AS extends fN{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class wte extends fN{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class pN{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof mN?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof AS?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof wte?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class xte extends pN{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const u=l.element,m=this._document.createComment("dom-portal");u.parentNode.insertBefore(m,u),this.outletElement.appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(u,m)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let kS=(()=>{class n extends pN{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const l=o.element,u=this._document.createComment("dom-portal");o.setAttachedHost(this),l.parentNode.insertBefore(u,l),this._getRootNode().appendChild(l),this._attachedPortal=o,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(l,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=e,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(re))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),yy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const N4=kD();class Cte{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Tr(-this._previousScrollPosition.left),t.style.top=Tr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),N4&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),N4&&(i.scrollBehavior=o,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Ete{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(hn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class L4{enable(){}disable(){}attach(){}}function gN(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function B4(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Dte{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();gN(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Tte=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new L4,this.close=l=>new Ete(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new Cte(this._viewportRuler,this._document),this.reposition=l=>new Dte(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Up),s.LFG(jp),s.LFG(s.R0b),s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _N{constructor(t){if(this.scrollStrategy=new L4,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Ite{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let V4=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ste=(()=>{class n extends V4{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){const u=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mte=(()=>{class n extends V4{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Eo(o)},this._clickListener=o=>{const l=Eo(o),u="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let _=m.length-1;_>-1;_--){const b=m[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(l)||b.overlayElement.contains(u))break;const D=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(o)):D.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re),s.LFG(On),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RS=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||cv()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),cv()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re),s.LFG(On))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Jx{constructor(t,e,i,r,o,l,u,m,_,b=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=l,this._document=u,this._location=m,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new et.x,this._attachments=new et.x,this._detachments=new et.x,this._locationChanges=Lr.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new et.x,this._outsidePointerEvents=new et.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(zn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Tr(this._config.width),t.height=Tr(this._config.height),t.minWidth=Tr(this._config.minWidth),t.minHeight=Tr(this._config.minHeight),t.maxWidth=Tr(this._config.maxWidth),t.maxHeight=Tr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Vp(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Cn((0,Zr.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const U4="cdk-overlay-connected-position-bounding-box",Ate=/([A-Za-z%]+)$/;class kte{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new et.x,this._resizeSubscription=Lr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(U4),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let l;for(let u of this._preferredPositions){let m=this._getOriginPoint(t,r,u),_=this._getOverlayPoint(m,e,u),b=this._getOverlayFit(_,e,i,u);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,m);this._canFitWithFlexibleDimensions(b,_,i)?o.push({position:u,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,u)}):(!l||l.overlayFit.visibleArea<b.visibleArea)&&(l={overlayFit:b,overlayPoint:_,originPoint:m,position:u,overlayRect:e})}if(o.length){let u=null,m=-1;for(const _ of o){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>m&&(m=b,u=_)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ig(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(U4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==i.originX?l:u}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=j4(e);let{x:l,y:u}=t,m=this._getOffset(r,"x"),_=this._getOffset(r,"y");m&&(l+=m),_&&(u+=_);let R=0-u,F=u+o.height-i.height,$=this._subtractOverflows(o.width,0-l,l+o.width-i.width),Z=this._subtractOverflows(o.height,R,F),ie=$*Z;return{visibleArea:ie,isCompletelyWithinViewport:o.width*o.height===ie,fitsInViewportVertically:Z===o.height,fitsInViewportHorizontally:$==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,l=H4(this._overlayRef.getConfig().minHeight),u=H4(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=l&&l<=r)&&(t.fitsInViewportHorizontally||null!=u&&u<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=j4(e),o=this._viewportRect,l=Math.max(t.x+r.width-o.width,0),u=Math.max(t.y+r.height-o.height,0),m=Math.max(o.top-i.top-t.y,0),_=Math.max(o.left-i.left-t.x,0);let b=0,D=0;return b=r.width<=o.width?_||-l:t.x<this._viewportMargin?o.left-i.left-t.x:0,D=r.height<=o.height?m||-u:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:b,y:D},{x:t.x+b,y:t.y+D}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Ite(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,l,u,b,D,R;if("top"===e.overlayY)l=t.y,o=i.height-l+this._viewportMargin;else if("bottom"===e.overlayY)u=i.height-t.y+2*this._viewportMargin,o=i.height-u+this._viewportMargin;else{const F=Math.min(i.bottom-t.y+i.top,t.y),$=this._lastBoundingBoxSize.height;o=2*F,l=t.y-F,o>$&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-$/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)R=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)D=t.x,b=i.right-t.x;else{const F=Math.min(i.right-t.x+i.left,t.x),$=this._lastBoundingBoxSize.width;b=2*F,D=t.x-F,b>$&&!this._isInitialRender&&!this._growAfterOpen&&(D=t.x-$/2)}return{top:l,left:D,bottom:u,right:R,width:b,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=Tr(i.height),r.top=Tr(i.top),r.bottom=Tr(i.bottom),r.width=Tr(i.width),r.left=Tr(i.left),r.right=Tr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Tr(o)),l&&(r.maxWidth=Tr(l))}this._lastBoundingBoxSize=i,Ig(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ig(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ig(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();Ig(i,this._getExactOverlayY(e,t,b)),Ig(i,this._getExactOverlayX(e,t,b))}else i.position="static";let u="",m=this._getOffset(e,"x"),_=this._getOffset(e,"y");m&&(u+=`translateX(${m}px) `),_&&(u+=`translateY(${_}px)`),i.transform=u.trim(),l.maxHeight&&(r?i.maxHeight=Tr(l.maxHeight):o&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=Tr(l.maxWidth):o&&(i.maxWidth="")),Ig(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Tr(o.y),r}_getExactOverlayX(t,e,i){let l,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Tr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:B4(t,i),isOriginOutsideView:gN(t,i),isOverlayClipped:B4(e,i),isOverlayOutsideView:gN(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Vp(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Ig(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function H4(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Ate);return e&&"px"!==e?null:parseFloat(t)}return n||null}function j4(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const z4="cdk-global-overlay-wrapper";class Rte{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(z4),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:l,maxHeight:u}=i,m=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),_=!("100%"!==o&&"100vh"!==o||u&&"100%"!==u&&"100vh"!==u),b=this._xPosition,D=this._xOffset,R="rtl"===this._overlayRef.getConfig().direction;let F="",$="",Z="";m?Z="flex-start":"center"===b?(Z="center",R?$=D:F=D):R?"left"===b||"end"===b?(Z="flex-end",F=D):("right"===b||"start"===b)&&(Z="flex-start",$=D):"left"===b||"start"===b?(Z="flex-start",F=D):("right"===b||"end"===b)&&(Z="flex-end",$=D),t.position=this._cssPosition,t.marginLeft=m?"0":F,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=m?"0":$,e.justifyContent=Z,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(z4),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Ote=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Rte}flexibleConnectedTo(e){return new kte(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jp),s.LFG(re),s.LFG(On),s.LFG(RS))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pte=0,wd=(()=>{class n{constructor(e,i,r,o,l,u,m,_,b,D,R,F){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=u,this._ngZone=m,this._document=_,this._directionality=b,this._location=D,this._outsideClickDispatcher=R,this._animationsModuleType=F}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),l=new _N(e);return l.direction=l.direction||this._directionality.value,new Jx(o,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Pte++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new xte(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tte),s.LFG(RS),s.LFG(s._Vd),s.LFG(Ote),s.LFG(Ste),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(re),s.LFG(va),s.LFG(ze),s.LFG(Mte),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lte={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[wd],useFactory:function Nte(n){return()=>n.scrollStrategies.reposition()}};let eC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[wd,Lte],imports:[yv,yy,T1,T1]}),n})();function $4(n,t){return t?e=>np(t.pipe(zn(1),function Bte(){return(0,Ln.e)((n,t)=>{n.subscribe((0,Bn.x)(t,_a.Z))})}()),e.pipe($4(n))):(0,Nn.z)((e,i)=>(0,Vo.Xf)(n(e,i)).pipe(zn(1),d_(e)))}const Ute=["panel"];function Hte(n,t){if(1&n&&(s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA()),2&n){const e=t.id,i=s.oxw();s.Q6J("id",i.id)("ngClass",i._classList)("@panelAnimation",i.isOpen?"visible":"hidden"),s.uIk("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(e))}}const jte=["*"],zte=oc("panelAnimation",[Ho("void, hidden",$n({opacity:0,transform:"scaleY(0.8)"})),so(":enter, hidden => visible",[I1([oo("0.03s linear",$n({opacity:1})),oo("0.12s cubic-bezier(0, 0, 0.2, 1)",$n({transform:"scaleY(1)"}))])]),so(":leave, visible => hidden",[oo("0.075s linear",$n({opacity:0}))])]);let $te=0;class Gte{constructor(t,e){this.source=t,this.option=e}}const Wte=gt(class{}),G4=new s.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function qte(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1}}});let Zte=(()=>{class n extends Wte{get isOpen(){return this._isOpen&&this.showPanel}_setColor(e){this._color=e,this._setThemeClasses(this._classList)}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(e){this._autoActiveFirstOption=Ot(e)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(e){this._autoSelectActiveOption=Ot(e)}set classList(e){this._classList=e&&e.length?function Xk(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const o=`${r}`.trim();o&&e.push(o)}}return e}(e).reduce((i,r)=>(i[r]=!0,i),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}constructor(e,i,r,o){super(),this._changeDetectorRef=e,this._elementRef=i,this._defaults=r,this._activeOptionChanges=Lr.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this._autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this._autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.optionSelected=new s.vpe,this.opened=new s.vpe,this.closed=new s.vpe,this.optionActivated=new s.vpe,this._classList={},this.id="mat-autocomplete-"+$te++,this.inertGroups=o?.SAFARI||!1}ngAfterContentInit(){this._keyManager=new o1(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){const i=new Gte(this,e);this.optionSelected.emit(i)}_getPanelAriaLabelledby(e){return this.ariaLabel?null:this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_setVisibilityClasses(e){e[this._visibleClass]=this.showPanel,e[this._hiddenClass]=!this.showPanel}_setThemeClasses(e){e["mat-primary"]="primary"===this._color,e["mat-warn"]="warn"===this._color,e["mat-accent"]="accent"===this._color}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(G4),s.Y36(On))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(s.Rgc,7),s.Gf(Ute,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.template=r.first),s.iGM(r=s.CRH())&&(i.panel=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[s.qOj]}),n})(),W4=(()=>{class n extends Zte{constructor(){super(...arguments),this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Ot(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,_B,5),s.Suo(r,x1,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.optionGroups=o),s.iGM(o=s.CRH())&&(i.options=o)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{disableRipple:"disableRipple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matAutocomplete"],features:[s._Bn([{provide:gB,useExisting:n}]),s.qOj],ngContentSelectors:jte,decls:1,vars:0,consts:[["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"],["panel",""]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,Hte,3,5,"ng-template"))},dependencies:[qt],styles:[".mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface.mat-mdc-autocomplete-panel{width:100%;max-height:256px;position:static;visibility:hidden;transform-origin:center top;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-autocomplete-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) .mdc-menu-surface.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above .mdc-menu-surface.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}.mdc-menu-surface.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}.mdc-menu-surface.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[zte]},changeDetection:0}),n})();const Yte={provide:Wr,useExisting:(0,s.Gpc)(()=>vN),multi:!0},q4=new s.OlP("mat-autocomplete-scroll-strategy"),Qte={provide:q4,deps:[wd],useFactory:function Kte(n){return()=>n.scrollStrategies.reposition()}};let Xte=(()=>{class n{get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(e){this._autocompleteDisabled=Ot(e)}constructor(e,i,r,o,l,u,m,_,b,D,R){this._element=e,this._overlay=i,this._viewContainerRef=r,this._zone=o,this._changeDetectorRef=l,this._dir=m,this._formField=_,this._document=b,this._viewportRuler=D,this._defaults=R,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Lr.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new et.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=rp(()=>{const F=this.autocomplete?this.autocomplete.options:null;return F?F.changes.pipe(Er(F),tn(()=>(0,Zr.T)(...F.map($=>$.onSelectionChange)))):this._zone.onStable.pipe(zn(1),tn(()=>this.optionSelections))}),this._scrollStrategy=u}ngAfterViewInit(){const e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,Zr.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(hn(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(hn(()=>this._overlayAttached)):je()).pipe((0,Oe.U)(e=>e instanceof vB?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,Zr.T)(Pf(this._document,"click"),Pf(this._document,"auxclick"),Pf(this._document,"touchend")).pipe(hn(e=>{const i=Eo(e),r=this._formField?this._formField._elementRef.nativeElement:null,o=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(i))&&(!o||!o.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){const i=e.keyCode,r=ga(e);if(27===i&&!r&&e.preventDefault(),this.activeOption&&13===i&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){const o=this.autocomplete._keyManager.activeItem,l=38===i||40===i;9===i||l&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):l&&this._canOpen()&&this.openPanel(),(l||this.autocomplete._keyManager.activeItem!==o)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let i=e.target,r=i.value;"number"===i.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r&&(this._previousValue=r,this._pendingAutoselectedOption=null,this._onChange(r),this._canOpen()&&this._document.activeElement===e.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(e=!1){this._formField&&"auto"===this._formField.floatLabel&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const e=this._zone.onStable.pipe(zn(1)),i=this.autocomplete.options.changes.pipe((0,Vn.b)(()=>this._positionStrategy.reapplyLastPosition()),function Vte(n,t=ad.z){const e=E1(n,t);return $4(()=>e)}(0));return(0,Zr.T)(e,i).pipe(tn(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this.autocomplete.opened.emit():this.autocomplete.closed.emit())}),this.panelClosingActions)),zn(1)).subscribe(r=>this._setValueAndClose(r))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(e){const i=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(e):e;this._updateNativeInputValue(i??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){const i=e?e.source:this._pendingAutoselectedOption;i&&(this._clearPreviousSelectedOption(i),this._assignOptionValue(i.value),this._onChange(i.value),this.autocomplete._emitSelectEvent(i),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(e){this.autocomplete.options.forEach(i=>{i!==e&&i.selected&&i.deselect()})}_attachOverlay(){let e=this._overlayRef;e?(this._positionStrategy.setOrigin(this._getConnectedElement()),e.updateSize({width:this._getPanelWidth()})):(this._portal=new AS(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),e=this._overlay.create(this._getOverlayConfig()),this._overlayRef=e,this._handleOverlayEvents(e),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&e&&e.updateSize({width:this._getPanelWidth()})})),e&&!e.hasAttached()&&(e.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const i=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this.panelOpen&&i!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new _N({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let l;l="above"===this.position?o:"below"===this.position?i:[...i,...o],e.withPositions(l)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const e=this.autocomplete;e.autoActiveFirstOption?e._keyManager.setFirstItemActive():e._keyManager.setActiveItem(-1)}_canOpen(){const e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){const i=this.autocomplete,r=function R5(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let l=0;l<n+1;l++)i[l].group&&i[l].group===r[o]&&o++;return o}return 0}(e,i.options,i.optionGroups);if(0===e&&1===r)i._setScrollTop(0);else if(i.panel){const o=i.options.toArray()[e];if(o){const l=o._getHostElement(),u=function O5(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(l.offsetTop,l.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(u)}}}_handleOverlayEvents(e){e.keydownEvents().subscribe(i=>{(27===i.keyCode&&!ga(i)||38===i.keyCode&&ga(i,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),i.stopPropagation(),i.preventDefault())}),e.outsidePointerEvents().subscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(wd),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(q4),s.Y36(va,8),s.Y36(tN,9),s.Y36(re,8),s.Y36(jp),s.Y36(G4,8))},n.\u0275dir=s.lG2({type:n,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[s.TTD]}),n})(),vN=(()=>{class n extends Xte{constructor(){super(...arguments),this._aboveClass="mat-mdc-autocomplete-panel-above"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(e,i){1&e&&s.NdJ("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(o){return i._handleInput(o)})("keydown",function(o){return i._handleKeydown(o)})("click",function(){return i._handleClick()}),2&e&&s.uIk("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-owns",i.autocompleteDisabled||!i.panelOpen||null==i.autocomplete?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[s._Bn([Yte]),s.qOj]}),n})(),Z4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Qte],imports:[eC,tw,U,In,Ff,tw,U]}),n})();function Jte(n,t){if(1&n&&(s.TgZ(0,"option",27),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.number),s.xp6(1),s.hij(" Tydzie\u0144 ",e.number," ")}}function ene(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",32),s.NdJ("onSelectionChange",function(){const o=s.CHM(e).$implicit,l=s.oxw(3);return s.KtG(l.deactivationTemplate(o))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function tne(n,t){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"textarea",28),s.TgZ(2,"mat-autocomplete",29,30),s.YNc(4,ene,2,2,"mat-option",31),s.ALo(5,"async"),s.qZA()()),2&n){const e=s.MAs(3),i=s.oxw(2);s.xp6(1),s.Q6J("matAutocomplete",e),s.xp6(3),s.Q6J("ngForOf",s.lcZ(5,2,i.filteredOptions$))}}function nne(n,t){1&n&&s._UZ(0,"textarea",33)}function ine(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",34)(2,"div",35),s._UZ(3,"input",36),s.qZA(),s.TgZ(4,"div",35),s._UZ(5,"input",37),s.qZA(),s.TgZ(6,"div",35),s._UZ(7,"input",38),s.qZA(),s.TgZ(8,"div",35)(9,"button",6),s.NdJ("click",function(){const o=s.CHM(e).index,l=s.oxw(2);return s.KtG(l.deleteQuantity(o))}),s._uU(10," - "),s.qZA()()(),s.BQk()}if(2&n){const e=t.index;s.xp6(1),s.Q6J("formGroupName",e)}}function rne(n,t){if(1&n&&(s.TgZ(0,"div",50)(1,"div",51)(2,"div",52)(3,"span")(4,"b"),s._uU(5,"Serie: "),s.qZA()()(),s.TgZ(6,"div",53),s._uU(7),s.qZA()(),s.TgZ(8,"div",51)(9,"div",52)(10,"span")(11,"b"),s._uU(12,"Powt\xf3rzenia: "),s.qZA()()(),s.TgZ(13,"div",53),s._uU(14),s.qZA()(),s.TgZ(15,"div",51)(16,"div",52)(17,"span")(18,"b"),s._uU(19,"Ci\u0119zar: "),s.qZA()()(),s.TgZ(20,"div",53),s._uU(21),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(7),s.Oqu(e.set),s.xp6(7),s.hij(" ",e.rep," "),s.xp6(7),s.Oqu(e.value)}}function one(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",43)(2,"div",44),s._uU(3),s.qZA(),s.TgZ(4,"div",45)(5,"div",43)(6,"span",46)(7,"b"),s._uU(8,"\u0106wiczenie"),s.qZA()(),s._uU(9),s.qZA(),s.TgZ(10,"div",43)(11,"span",46)(12,"b"),s._uU(13,"Komentarz"),s.qZA()(),s._uU(14),s.qZA()(),s.TgZ(15,"div",47),s.YNc(16,rne,22,3,"div",48),s.qZA(),s.TgZ(17,"div",44)(18,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2),o=r.index,l=r.$implicit,u=s.oxw(2);return s.KtG(u.onEditForms(o,l))}),s._uU(19," Edytuj "),s.qZA()(),s.TgZ(20,"div",44)(21,"button",49),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2).index,o=s.oxw(2);return s.KtG(o.deleteExercise(r))}),s.TgZ(22,"mat-icon"),s._uU(23,"delete_outline"),s.qZA()()()(),s.BQk()}if(2&n){const e=s.oxw(2).$implicit;s.xp6(3),s.Oqu(e.index),s.xp6(6),s.hij(" ",e.exercise," "),s.xp6(5),s.hij(" ",e.comment," "),s.xp6(2),s.Q6J("ngForOf",e.quantity)}}function sne(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",58)(2,"div",53)(3,"div",51)(4,"div",59)(5,"span")(6,"b"),s._uU(7,"Serie: "),s.qZA()()(),s.TgZ(8,"div",53),s._UZ(9,"input",60),s.qZA()(),s.TgZ(10,"div",51)(11,"div",59)(12,"span")(13,"b"),s._uU(14,"Podej\u015bcia: "),s.qZA()()(),s.TgZ(15,"div",53),s._UZ(16,"input",61),s.qZA()(),s.TgZ(17,"div",51)(18,"div",59)(19,"span")(20,"b"),s._uU(21,"Ci\u0119zar: "),s.qZA()()(),s.TgZ(22,"div",53),s._UZ(23,"input",62),s.qZA()()(),s.TgZ(24,"div",63)(25,"button",6),s.NdJ("click",function(){const o=s.CHM(e).index,l=s.oxw(5);return s.KtG(l.deleteQuantityEdit(o))}),s._uU(26," - "),s.qZA()()(),s.BQk()}if(2&n){const e=t.index;s.xp6(1),s.Q6J("formGroupName",e)}}function ane(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",43)(1,"div",44),s._uU(2),s.qZA(),s.TgZ(3,"div",54)(4,"div",43)(5,"span",46)(6,"b"),s._uU(7,"Exercise"),s.qZA()(),s._UZ(8,"textarea",33),s.qZA(),s.TgZ(9,"div",43)(10,"span",46)(11,"b"),s._uU(12,"Comment"),s.qZA()(),s._UZ(13,"textarea",15),s.qZA()(),s.TgZ(14,"div",53),s.ynx(15,17),s.YNc(16,sne,27,1,"ng-container",18),s.BQk(),s.qZA(),s.TgZ(17,"div",55)(18,"div",43)(19,"div",56)(20,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(4);return s.KtG(r.addQuantity("edit"))}),s._uU(21," + "),s.qZA()(),s.TgZ(22,"div",57)(23,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2).index,o=s.oxw(2);return s.KtG(o.editSubmit(o.editForm,r))}),s._uU(24," Zatwierd\u017a "),s.qZA()()()()()}if(2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.xp6(2),s.Oqu(e.index),s.xp6(14),s.Q6J("ngForOf",i.quantityExerciseEdit.controls)}}function lne(n,t){if(1&n&&(s.ynx(0),s.YNc(1,one,24,4,"ng-container",12),s.YNc(2,ane,25,2,"ng-template",null,42,s.W1O),s.BQk()),2&n){const e=t.ngIf,i=s.MAs(3),r=s.oxw().index;s.xp6(1),s.Q6J("ngIf",!e.isEdit||e.index!==r)("ngIfElse",i)}}function cne(n,t){if(1&n&&(s.TgZ(0,"div",39),s.YNc(1,lne,4,2,"ng-container",40),s.ALo(2,"async"),s.TgZ(3,"span",41),s._UZ(4,"mat-divider"),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",s.lcZ(2,1,e.isEditForm$))}}function dne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),s._uU(4," Dodaj \u0106wiczenie do Treningu "),s.qZA()(),s.TgZ(5,"div",5)(6,"button",6),s.NdJ("click",function(){const o=s.CHM(e).ngIf,l=s.oxw();return s.KtG(l.back(o.userId))}),s._uU(7," Wr\xf3\u0107 "),s.qZA()()(),s.TgZ(8,"form",7)(9,"div",2)(10,"div",8)(11,"select",9),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.setTrainingWeek(r))}),s.YNc(12,Jte,2,2,"option",10),s.qZA()(),s.TgZ(13,"div",11)(14,"button",6),s.NdJ("click",function(){const o=s.CHM(e).ngIf,l=s.oxw();return s.KtG(l.addWeeksToConception(o,1))}),s._uU(15," Dodaj nowy tydzie\u0144 "),s.qZA()()(),s.TgZ(16,"div",2)(17,"div",3),s.YNc(18,tne,6,4,"div",12),s.ALo(19,"async"),s.YNc(20,nne,1,0,"ng-template",null,13,s.W1O),s.qZA(),s.TgZ(22,"div",5)(23,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.activeTemplate())}),s._uU(24," Szablon "),s.qZA()()(),s.TgZ(25,"div",2)(26,"div",14),s._UZ(27,"textarea",15),s.qZA()(),s.TgZ(28,"div",2)(29,"div",16),s.ynx(30,17),s.YNc(31,ine,11,1,"ng-container",18),s.BQk(),s.qZA(),s.TgZ(32,"div",19)(33,"div",20)(34,"div",21)(35,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addQuantity("add"))}),s._uU(36," + "),s.qZA()(),s.TgZ(37,"div",21)(38,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addTrainingExercise(r.planForm))}),s._uU(39," Dodaj "),s.qZA()()()()()(),s.TgZ(40,"div",22)(41,"div",23)(42,"button",6),s.NdJ("click",function(){const o=s.CHM(e).ngIf,l=s.oxw();return s.KtG(l.onPlanFormSubmitted(o.userId,o.isEdit,o.isDone))}),s._uU(43," Zatwierd\u017a "),s.qZA()()(),s.TgZ(44,"div",24)(45,"form",7)(46,"div",25),s.NdJ("cdkDropListDropped",function(r){const l=s.CHM(e).ngIf,u=s.oxw();return s.KtG(u.onDrop(r,l.trainingElements))}),s.YNc(47,cne,5,3,"div",26),s.qZA()()()()}if(2&n){const e=t.ngIf,i=s.MAs(21),r=s.oxw();s.xp6(8),s.Q6J("formGroup",r.planForm),s.xp6(4),s.Q6J("ngForOf",e.trainingWeeks),s.xp6(6),s.Q6J("ngIf",s.lcZ(19,7,r.isAutocomplete$))("ngIfElse",i),s.xp6(13),s.Q6J("ngForOf",r.quantityExercise.controls),s.xp6(14),s.Q6J("formGroup",r.editForm),s.xp6(2),s.Q6J("ngForOf",e.trainingElements)}}let Y4=(()=>{class n{constructor(e,i,r,o,l,u){this._fb=e,this._trainingService=i,this._activatedRoute=r,this._router=o,this._userService=l,this._cdr=u,this.planForm=new xo({trainingWeek:new ii,exercise:new ii(""),comment:new ii(""),autocompleteControl:new ii(""),quantityExercise:new l_([new xo({set:new ii(""),rep:new ii(""),value:new ii("")})])}),this.editForm=new xo({exercise:new ii(""),comment:new ii(""),quantityExercise:new l_([])}),this.isEditForm$=this._trainingService.isEdit$,this.exerciseTemplates$=this._trainingService.getExerciseTemplates(),this._isAutocompleteSubject=new Gi(!1),this.isAutocomplete$=this._isAutocompleteSubject.asObservable(),this._filteredOptionsSubject=new Gi([""]),this.filteredOptions$=this._filteredOptionsSubject.asObservable(),this.trainingExercises$=this._trainingService.traning$,this.user$=this._activatedRoute.params.pipe(tn(m=>this._userService.getOneUserByAuth(m.authId).pipe(tn(_=>this.trainingExercises$.pipe((0,Oe.U)(b=>(b.isEdit?(this.planForm.get("trainingWeek")?.patchValue(b.trainingWeek),this._trainingService.setTrainingWeekOnSubject(b.trainingWeek),this._trainingService.setTrainingWeekOnSubject(b.trainingWeek)):(this.planForm.get("trainingWeek")?.patchValue(_.trainingWeeks.length),this._trainingService.setTrainingWeekOnSubject(_.trainingWeeks.length).pipe()),{userId:_.id,trainingWeeks:_.trainingWeeks.sort((D,R)=>R.number-D.number),isEdit:b.isEdit,trainingWeek:b.trainingWeek,trainingElements:b.trainingElements,isDone:b.isDone})))))))}ngOnDestroy(){this._trainingService.destroyTrainingContext().subscribe()}ngOnInit(){this.planForm.valueChanges.pipe(Er(""),tn(e=>this._filter(e.autocompleteControl||"")),(0,Vn.b)(e=>this._filteredOptionsSubject.next(e))).subscribe()}get quantityExercise(){return this.planForm.controls.quantityExercise}get quantityExerciseEdit(){return this.editForm.controls.quantityExercise}onPlanFormSubmitted(e,i,r){this._activatedRoute.params.pipe(tn(o=>i&&r?this._trainingService.setTraining(o.trainingId).pipe((0,Vn.b)(()=>this._router.navigate(["user/"+e]))):this._trainingService.addTraining(o.authId))).subscribe({next:()=>{}})}addQuantityEdit(e){const i=this._fb.group(e);this.quantityExerciseEdit.push(i)}addQuantity(e){const i=this._fb.group({set:[],rep:[],value:[]});"add"===e?this.quantityExercise.push(i):"edit"===e&&this.quantityExerciseEdit.push(i)}deleteQuantity(e){this.quantityExercise.removeAt(e)}deleteQuantityEdit(e){this.quantityExerciseEdit.removeAt(e)}addTrainingExercise(e){this._trainingService.addTrainingElementToContext({exercise:e.get("exercise")?.value,comment:e.get("comment")?.value,quantity:e.get("quantityExercise")?.value,raitingCommentExercise:"",raitingValueExercise:0,exerciseValue:[]}).subscribe(()=>{e.get("exercise")?.reset(),e.get("comment")?.reset(),this.quantityExercise.clear();const i=this._fb.group({set:[],rep:[],value:[]});this.quantityExercise.push(i)})}onEditForms(e,i){this.editForm.patchValue(i),i.quantity.forEach(r=>this.addQuantityEdit(r)),this._trainingService.editForm(!0,e).subscribe()}editSubmit(e,i){this._trainingService.editSubmit(i,e.value,this.editForm.get("quantityExercise")?.value).subscribe(),this.editForm.controls.quantityExercise.clear(),this.editForm.reset()}back(e){this._router.navigate([`/user/${e}`])}addWeeksToConception(e,i){if(console.log(e.trainingWeeks.length<=0),e.trainingWeeks.length<=0){const r=Array.from({length:1},(o,l)=>({number:l+1,comment:""}));this.planForm.get("trainingWeek")?.patchValue(1),this._userService.setTraining(e.userId,r)}else{const r=new Array(...e.trainingWeeks,{number:e.trainingWeeks.length+1,comment:""});this.planForm.get("trainingWeek")?.patchValue(e.trainingWeeks.length+1),this._userService.setTraining(e.userId,r)}this._trainingService.isNotEdit().subscribe()}setTrainingWeek(e){const i=parseInt(e.target.value);this.planForm.get("trainingWeek")?.patchValue(i),this._trainingService.isEdit(),this._trainingService.setTrainingWeekOnSubject(i).subscribe()}deleteExercise(e){this._trainingService.deleteExercise(e).subscribe()}onDrop(e,i){const r=i,o=r[e.previousIndex];r.splice(e.previousIndex,1),r.splice(e.currentIndex,0,o),this._trainingService.onDragTrainingElement(r)}activeTemplate(){this._isAutocompleteSubject.next(!this._isAutocompleteSubject.value)}deactivationTemplate(e){this._isAutocompleteSubject.next(!1),this.planForm.get("exercise")?.patchValue(e)}_filter(e){const i=e.toLowerCase();return this._trainingService.getExerciseTemplates().pipe((0,Oe.U)(r=>r.filter(o=>o.toLowerCase().includes(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(eb),s.Y36(Zx),s.Y36(ua),s.Y36(xi),s.Y36(fc),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-create-plan"]],decls:3,vars:3,consts:[["class","container mt-5",4,"ngIf"],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-7"],[1,"text-center","text-ghostwhite","ms-md-5","ps-md-5"],[1,"col-md-2","text-end"],["type","button",1,"btn","btn-block","bg-cadetblue","text-ghostwhite",3,"click"],[3,"formGroup"],[1,"col-md-6"],["formControlName","trainingWeek",1,"form-control","mb-3",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3","text-end"],[4,"ngIf","ngIfElse"],["noTemplate",""],[1,"col-md-9"],["placeholder","Komentarz","id","comment","rows","4","formControlName","comment",1,"form-control","mt-3"],[1,"col-7"],["formArrayName","quantityExercise"],[4,"ngFor","ngForOf"],[1,"col","col-md-2","d-flex","align-items-start"],[1,"row","mt-3","justify-content-center"],[1,"col","d-inline-flex","justify-content-center"],[1,"row","mt-5"],[1,"col","d-inline-flex","justify-content-end"],[1,"mt-2","card","p-2"],["cdkDropList","",1,"container-cdk",3,"cdkDropListDropped"],["class","container hover bg-white item","cdkDrag","",4,"ngFor","ngForOf"],[3,"value"],["placeholder","Wybierz z szablonu","aria-label","Number","matInput","","formControlName","autocompleteControl","rows","2",1,"form-control",3,"matAutocomplete"],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[3,"value","onSelectionChange"],["placeholder","\u0106wiczenie","id","exerciseName","formControlName","exercise","rows","2",1,"form-control"],[1,"row","mt-3","justify-content-center",3,"formGroupName"],[1,"col-md-3"],["type","text","id","sets","placeholder","Serie","formControlName","set",1,"form-control"],["type","text","id","repetitions","placeholder","Powt\xf3rzenia","formControlName","rep",1,"form-control"],["type","text","id","value","placeholder","Obci\u0105\u017cenie","formControlName","value",1,"form-control"],["cdkDrag","",1,"container","hover","bg-white","item"],[4,"ngIf"],[1,"px-3"],["isEditForm",""],[1,"row"],[1,"col-1"],[1,"col-4","text-start"],[1,"my-2"],[1,"col","text-start"],["class","mb-3 row justify-content-start",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-block","d-flex","align-items-center","bg-danger","text-ghostwhite",3,"click"],[1,"mb-3","row","justify-content-start"],[1,"row","mb-1"],[1,"col-4"],[1,"col"],[1,"col-5","text-start"],[1,"col-3"],[1,"col-2","justify-content-center"],[1,"col","justify-content-center"],[1,"row","mb-3",3,"formGroupName"],[1,"col","d-flex","align-items-center"],["size","1","type","text","id","sets","formControlName","set",1,"form-control"],["type","text","id","rep","formControlName","rep",1,"form-control"],["type","text","id","load","formControlName","value",1,"form-control"],[1,"col-2"]],template:function(e,i){1&e&&(s.ynx(0),s.YNc(1,dne,48,9,"div",0),s.ALo(2,"async"),s.BQk()),2&e&&(s.xp6(1),s.Q6J("ngIf",s.lcZ(2,1,i.user$)))},dependencies:[hu,rf,IC,Za,o_,aa,Yh,Qa,Zc,Km,Qm,h4,go,wi,iN,x1,O1,k4,P4,W4,vN,yr],encapsulation:2,changeDetection:0}),n})(),K4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-create-plan-users-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-create-plan")},dependencies:[Y4],encapsulation:2,changeDetection:0}),n})();function une(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"name is invalid"),s.qZA())}function hne(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"last name is invalid"),s.qZA())}function fne(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"email is invalid"),s.qZA())}function mne(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"password is invalid"),s.qZA())}let pne=(()=>{class n{constructor(e,i,r,o){this._authService=e,this._userService=i,this._inMemoryUserContextStorage=r,this._router=o,this.registerForm=new xo({name:new ii,lastName:new ii,email:new ii,password:new ii})}onRegisterFormSubmitted(e){e.invalid||this._authService.register({email:e.get("email")?.value,password:e.get("password")?.value}).subscribe({next:i=>{this.addUserData(e,i),this._router.navigate(["/home"])}})}load(){this._inMemoryUserContextStorage.select().subscribe()}logout(){this._authService.logOut().subscribe()}addUserData(e,i){return this._userService.addUser({name:e.get("name")?.value,lastName:e.get("lastName")?.value,email:e.get("email")?.value,role:"user",authId:i,trainerId:""})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ns),s.Y36(fc),s.Y36(rl),s.Y36(xi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-registration"]],decls:28,vars:5,consts:[[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","type","text","placeholder","Name","formControlName","name","required",""],[4,"ngIf"],["matInput","","type","text","placeholder","LastName","formControlName","lastName","required",""],["matInput","","type","text","placeholder","Email","formControlName","email","required",""],["matInput","","type","text","placeholder","Password","formControlName","password","required",""],["type","submit","mat-raised-button","","color","primary"]],template:function(e,i){1&e&&(s.TgZ(0,"form",0),s.NdJ("ngSubmit",function(){return i.onRegisterFormSubmitted(i.registerForm)}),s.TgZ(1,"div")(2,"mat-form-field",1)(3,"mat-label"),s._uU(4,"Name"),s.qZA(),s._UZ(5,"input",2),s.YNc(6,une,2,0,"mat-error",3),s.qZA()(),s.TgZ(7,"div")(8,"mat-form-field",1)(9,"mat-label"),s._uU(10,"Last name"),s.qZA(),s._UZ(11,"input",4),s.YNc(12,hne,2,0,"mat-error",3),s.qZA()(),s.TgZ(13,"div")(14,"mat-form-field",1)(15,"mat-label"),s._uU(16,"Email"),s.qZA(),s._UZ(17,"input",5),s.YNc(18,fne,2,0,"mat-error",3),s.qZA()(),s.TgZ(19,"div")(20,"mat-form-field",1)(21,"mat-label"),s._uU(22,"Password"),s.qZA(),s._UZ(23,"input",6),s.YNc(24,mne,2,0,"mat-error",3),s.qZA()(),s.TgZ(25,"div")(26,"button",7),s._uU(27,"Submit"),s.qZA()()()),2&e&&(s.Q6J("formGroup",i.registerForm),s.xp6(6),s.Q6J("ngIf",i.registerForm.get("name").invalid),s.xp6(6),s.Q6J("ngIf",i.registerForm.get("lastName").invalid),s.xp6(6),s.Q6J("ngIf",i.registerForm.get("email").invalid),s.xp6(6),s.Q6J("ngIf",i.registerForm.get("password").invalid))},dependencies:[hu,Za,aa,Yh,ep,Qa,Zc,Jee,eN,$ee,h4,wi,lT],encapsulation:2,changeDetection:0}),n})(),gne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-register-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-registration")},dependencies:[pne],encapsulation:2,changeDetection:0}),n})(),tC=(()=>{class n{constructor(e,i,r){this._authService=e,this._inMemoryUserContextStorage=i,this._userService=r,this._isRoleSubject=new et.x,this.isRole$=this._isRoleSubject.asObservable()}load(){return this._authService.getOne().pipe(Tu(1),tn(e=>null===e&&void 0===e?je({authId:"",email:"",role:""}):this._userService.getOneUserByAuth(e?.uid).pipe((0,Oe.U)(i=>({authId:e?.uid,email:e?.email,role:i.role})))),tn(e=>(this._isRoleSubject.next(e.role),this._inMemoryUserContextStorage.setState(e)))).subscribe(),je(void 0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ns),s.LFG(rl),s.LFG(fc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),_ne=(()=>{class n{constructor(e,i,r,o,l){this._authService=e,this._router=i,this._inMemoryUserContextStorage=r,this._loadUserContext=o,this._cdr=l,this.loginForm=new xo({email:new ii,password:new ii})}onLoginFormSubmitted(e){this._authService.login({email:e.get("email")?.value,password:e.get("password")?.value}).pipe(Kl(i=>{let r="Something went wrong. Try again";switch(i.code){case"auth/user-not-found":r="Provided email does not exist.";break;case"auth/too-many-requests":r="Too many failed login attempts. Wait and try again later.";break;case"auth/wrong-password":r="Incorrect password."}return this.loginForm.setErrors({backend:r}),this._cdr.detectChanges(),Os.E})).subscribe({next:i=>{this._inMemoryUserContextStorage.setState(i),this._loadUserContext.load(),this._router.navigate(["/training-plans"])},complete:()=>{this._cdr.detectChanges()}})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ns),s.Y36(xi),s.Y36(rl),s.Y36(tC),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:10,vars:1,consts:[[1,"d-flex","text-center","justify-content-center",2,"min-height","91vh","display","flex","justify-content","center","align-items","center","transform","translateY(-64px)",3,"formGroup","ngSubmit"],[1,"container"],[1,"row","justify-content-center"],["type","text","placeholder","Email","formControlName","email","required","",1,"form-control","w-25","m-3"],["type","text","placeholder","Password","formControlName","password","required","",1,"form-control","w-25","m-3"],[1,"row"],[1,"d-inline-flex","justify-content-center"],["type","submit","mat-raised-button","","color","primary",1,""]],template:function(e,i){1&e&&(s.TgZ(0,"form",0),s.NdJ("ngSubmit",function(){return i.onLoginFormSubmitted(i.loginForm)}),s.TgZ(1,"div",1)(2,"div",2),s._UZ(3,"input",3),s.qZA(),s.TgZ(4,"div",2),s._UZ(5,"input",4),s.qZA(),s.TgZ(6,"div",5)(7,"div",6)(8,"button",7),s._uU(9," Zaloguj "),s.qZA()()()()()),2&e&&s.Q6J("formGroup",i.loginForm)},dependencies:[hu,Za,aa,Yh,ep,Qa,Zc,lT],encapsulation:2,changeDetection:0}),n})(),vne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-login")},dependencies:[_ne],encapsulation:2,changeDetection:0}),n})();function yN(n){return n&&"function"==typeof n.connect&&!(n instanceof HC)}class Q4{applyChanges(t,e,i,r,o){t.forEachOperation((l,u,m)=>{let _,b;if(null==l.previousIndex){const D=i(l,u,m);_=e.createEmbeddedView(D.templateRef,D.context,D.index),b=1}else null==m?(e.remove(u),b=3):(_=e.get(u),e.move(_,m),b=2);o&&o({context:_?.context,operation:b,record:l})})}detach(){}}let bN=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nC=new s.OlP("_ViewRepeater"),bne=[[["caption"]],[["colgroup"],["col"]]],wne=["caption","colgroup, col"];function wN(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Ot(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const by=new s.OlP("CDK_TABLE");let wy=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),xy=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),OS=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Dne{}const Tne=wN(Dne);let qu=(()=>{class n extends Tne{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Ot(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(by,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,wy,5),s.Suo(r,xy,5),s.Suo(r,OS,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.cell=o.first),s.iGM(o=s.CRH())&&(i.headerCell=o.first),s.iGM(o=s.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})();class xN{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let CN=(()=>{class n extends xN{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qu),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),n})(),EN=(()=>{class n extends xN{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qu),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),n})();class t${constructor(){this.tasks=[],this.endTasks=[]}}const DN=new s.OlP("_COALESCED_STYLE_SCHEDULER");let n$=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new et.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new t$,this._getScheduleObservable().pipe(Cn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new t$;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,jt.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(zn(1))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),TN=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof iC?e.headerCell.template:this instanceof rC?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class Ine extends TN{}const Sne=wN(Ine);let iC=(()=>{class n extends Sne{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(by,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})();class Mne extends TN{}const Ane=wN(Mne);let rC=(()=>{class n extends Ane{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(by,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})(),PS=(()=>{class n extends TN{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(by,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),n})(),Zu=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),IN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Zu],encapsulation:2}),n})(),MN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Zu],encapsulation:2}),n})(),FS=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const i$=["top","bottom","left","right"];class kne{constructor(t,e,i,r,o=!0,l=!0,u){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=l,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(R=>R)&&!i.some(R=>R))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],l=o.children.length,u=this._getCellWidths(o,r),m=this._getStickyStartColumnPositions(u,e),_=this._getStickyEndColumnPositions(u,i),b=e.lastIndexOf(!0),D=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const R="rtl"===this.direction,F=R?"right":"left",$=R?"left":"right";for(const Z of t)for(let ie=0;ie<l;ie++){const Se=Z.children[ie];e[ie]&&this._addStickyStyle(Se,F,m[ie],ie===b),i[ie]&&this._addStickyStyle(Se,$,_[ie],ie===D)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===b?[]:u.slice(0,b+1).map((Z,ie)=>e[ie]?Z:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===D?[]:u.slice(D).map((Z,ie)=>i[ie+D]?Z:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,l=[],u=[],m=[];for(let b=0,D=0;b<r.length;b++){if(!o[b])continue;l[b]=D;const R=r[b];m[b]=this._isNativeHtmlTable?Array.from(R.children):[R];const F=R.getBoundingClientRect().height;D+=F,u[b]=F}const _=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let b=0;b<r.length;b++){if(!o[b])continue;const D=l[b],R=b===_;for(const F of m[b])this._addStickyStyle(F,i,D,R)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:l,elements:m}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:l,elements:m})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);i$.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of i$)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const AN=new s.OlP("CDK_SPL");let NS=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),LS=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),BS=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),VS=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),US=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Ot(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Ot(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,o,l,u,m,_,b,D,R,F){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=l,this._platform=m,this._viewRepeater=_,this._coalescedStyleScheduler=b,this._viewportRuler=D,this._stickyPositioningListener=R,this._ngZone=F,this._onDestroy=new et.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new Gi({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Cn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),yN(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,l)=>this._getEmbeddedViewArgs(r.item,l),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe(zn(1),Cn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,l)=>{this._addStickyColumnStyles([o],this._headerRowDefs[l])}),this._rowDefs.forEach(o=>{const l=[];for(let u=0;u<i.length;u++)this._renderRows[u].rowDef===o&&l.push(i[u]);this._addStickyColumnStyles(l,o)}),r.forEach((o,l)=>{this._addStickyColumnStyles([o],this._footerRowDefs[l])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const l=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let u=0;u<l.length;u++){let m=l[u];const _=this._cachedRenderRowsMap.get(m.data);_.has(m.rowDef)?_.get(m.rowDef).push(m):_.set(m.rowDef,[m]),e.push(m)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(l=>{const u=r&&r.has(l)?r.get(l):[];if(u.length){const m=u.shift();return m.dataIndex=i,m}return{data:e,rowDef:l,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),HS(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=HS(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=HS(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=HS(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(l,u)=>l||!!u.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],yN(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;yN(this.dataSource)?e=this.dataSource.connect(this):function yne(n){return!!n&&(n instanceof Yn.y||(0,Gr.m)(n.lift)&&(0,Gr.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=je(this.dataSource)),this._renderChangeSubscription=e.pipe(Cn(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(u=>this._columnDefsByName.get(u)),o=r.map(u=>u.sticky),l=r.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,l,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(l=>l.when&&l.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const l=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),l}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Zu.mostRecentCellOutlet&&Zu.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const l=e.get(i).context;l.count=r,l.first=0===i,l.last=i===r-1,l.even=i%2==0,l.odd=!l.even,this.multiTemplateDataRows?(l.dataIndex=this._renderRows[i].dataIndex,l.renderIndex=i):l.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const l of r.outlets)o.appendChild(l.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new kne(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:je()).pipe(Cn(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),l=o.rootNodes[0];1===o.rootNodes.length&&l?.nodeType===this._document.ELEMENT_NODE&&(l.setAttribute("role","row"),l.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36(va,8),s.Y36(re),s.Y36(On),s.Y36(nC),s.Y36(DN),s.Y36(jp),s.Y36(AN,12),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,FS,5),s.Suo(r,qu,5),s.Suo(r,PS,5),s.Suo(r,iC,5),s.Suo(r,rC,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._noDataRow=o.first),s.iGM(o=s.CRH())&&(i._contentColumnDefs=o),s.iGM(o=s.CRH())&&(i._contentRowDefs=o),s.iGM(o=s.CRH())&&(i._contentHeaderRowDefs=o),s.iGM(o=s.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(NS,7),s.Gf(LS,7),s.Gf(BS,7),s.Gf(VS,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._rowOutlet=r.first),s.iGM(r=s.CRH())&&(i._headerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._footerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:by,useExisting:n},{provide:nC,useClass:Q4},{provide:DN,useClass:n$},{provide:AN,useValue:null}])],ngContentSelectors:wne,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(bne),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[NS,LS,BS,VS],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function HS(n,t){return n.concat(Array.from(t))}let One=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[T1]}),n})();const Pne=[[["caption"]],[["colgroup"],["col"]]],Fne=["caption","colgroup, col"];let o$=(()=>{class n extends US{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:US,useExisting:n},{provide:by,useExisting:n},{provide:DN,useClass:n$},{provide:nC,useClass:Q4},{provide:AN,useValue:null}]),s.qOj],ngContentSelectors:Fne,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(Pne),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[NS,LS,BS,VS],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),kN=(()=>{class n extends wy{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:wy,useExisting:n}]),s.qOj]}),n})(),RN=(()=>{class n extends xy{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:xy,useExisting:n}]),s.qOj]}),n})(),ON=(()=>{class n extends qu{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:qu,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})(),PN=(()=>{class n extends CN{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[s.qOj]}),n})(),FN=(()=>{class n extends EN{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[s.qOj]}),n})(),s$=(()=>{class n extends iC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:iC,useExisting:n}]),s.qOj]}),n})(),a$=(()=>{class n extends PS{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:PS,useExisting:n}]),s.qOj]}),n})(),l$=(()=>{class n extends IN{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:IN,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Zu],encapsulation:2}),n})(),c$=(()=>{class n extends MN{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[s._Bn([{provide:MN,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Zu],encapsulation:2}),n})(),Gne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[U,One,U]}),n})();function qne(n,t){1&n&&(s.TgZ(0,"th",11)(1,"b"),s._uU(2,"l.p."),s.qZA()())}function Zne(n,t){if(1&n&&(s.TgZ(0,"td",12),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("routerLink","/user/"+e.id),s.xp6(1),s.hij(" ",e.index," ")}}function Yne(n,t){1&n&&(s.TgZ(0,"th",11)(1,"b"),s._uU(2,"Imi\u0119"),s.qZA()())}function Kne(n,t){if(1&n&&(s.TgZ(0,"td",12),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("routerLink","/user/"+e.id),s.xp6(1),s.hij(" ",e.name," ")}}function Qne(n,t){1&n&&(s.TgZ(0,"th",11)(1,"b"),s._uU(2,"Nazwisko"),s.qZA()())}function Xne(n,t){if(1&n&&(s.TgZ(0,"td",12),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("routerLink","/user/"+e.id),s.xp6(1),s.hij(" ",e.lastName," ")}}function Jne(n,t){1&n&&(s.TgZ(0,"th",11)(1,"b"),s._uU(2,"Email"),s.qZA()())}function eie(n,t){if(1&n&&(s.TgZ(0,"td",12),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("routerLink","/user/"+e.id),s.xp6(1),s.hij(" ",e.lastName," ")}}function tie(n,t){1&n&&s._UZ(0,"tr",13)}function nie(n,t){1&n&&s._UZ(0,"tr",14)}const d$=function(){return["index","name","lastName","email"]};function iie(n,t){1&n&&(s.TgZ(0,"table",2),s.ynx(1,3),s.YNc(2,qne,3,0,"th",4),s.YNc(3,Zne,2,2,"td",5),s.BQk(),s.ynx(4,6),s.YNc(5,Yne,3,0,"th",4),s.YNc(6,Kne,2,2,"td",5),s.BQk(),s.ynx(7,7),s.YNc(8,Qne,3,0,"th",4),s.YNc(9,Xne,2,2,"td",5),s.BQk(),s.ynx(10,8),s.YNc(11,Jne,3,0,"th",4),s.YNc(12,eie,2,2,"td",5),s.BQk(),s.YNc(13,tie,1,0,"tr",9),s.YNc(14,nie,1,0,"tr",10),s.qZA()),2&n&&(s.Q6J("dataSource",t.ngIf),s.xp6(13),s.Q6J("matHeaderRowDef",s.DdM(3,d$)),s.xp6(1),s.Q6J("matRowDefColumns",s.DdM(4,d$)))}let rie=(()=>{class n{constructor(e){this._userService=e,this.users$=this._userService.getAllUsers().pipe((0,Oe.U)(i=>i.map((r,o)=>({...r,index:o+1}))))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-list"]],decls:4,vars:3,consts:[[1,"mx-lg-5","px-lg-3","my-lg-3"],["mat-table","","class","rounded-corners",3,"dataSource",4,"ngIf"],["mat-table","",1,"rounded-corners",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","pointer",3,"routerLink",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","lastName"],["matColumnDef","email"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"pointer",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(s.TgZ(0,"section",0)(1,"mat-card"),s.YNc(2,iie,15,5,"table",1),s.ALo(3,"async"),s.qZA()()),2&e&&(s.xp6(2),s.Q6J("ngIf",s.lcZ(3,1,i.users$)))},dependencies:[wi,o$,RN,s$,ON,kN,a$,PN,FN,l$,c$,Eu,Cv,yr],encapsulation:2,changeDetection:0}),n})(),oie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-list-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-user-list")},dependencies:[rie],encapsulation:2,changeDetection:0}),n})();function sie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",22),s.NdJ("onSelectionChange",function(){const o=s.CHM(e).$implicit,l=s.oxw().ngIf,u=s.oxw();return s.KtG(u.choseTrainer(l.id,o.trainerId))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e.name),s.xp6(1),s.hij(" ",e.name," ")}}function aie(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"section",1)(2,"mat-card",2)(3,"mat-card-title",3),s._uU(4),s.qZA(),s.TgZ(5,"mat-card-content")(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"button",9),s._uU(12," Dodaj trening "),s.qZA()(),s.TgZ(13,"div",8)(14,"button",9),s._uU(15," Treningi "),s.qZA()(),s.TgZ(16,"div",8)(17,"button",9),s._uU(18," Raporty "),s.qZA()()()(),s.TgZ(19,"div",10)(20,"form",11)(21,"div",5),s._UZ(22,"input",12),s.TgZ(23,"button",13),s.NdJ("click",function(){const o=s.CHM(e).ngIf,l=s.oxw();return s.KtG(l.addPaidTraining(o,l.userDetailsForm))}),s._uU(24," Powieksz pakiet "),s.qZA()(),s.TgZ(25,"div",5),s._UZ(26,"input",14),s.TgZ(27,"mat-autocomplete",15,16),s.YNc(29,sie,2,2,"mat-option",17),s.ALo(30,"async"),s.qZA()()()()()(),s.TgZ(31,"div",18)(32,"div",5)(33,"div",19)(34,"h2"),s._uU(35,"Status Tygodni"),s.qZA(),s.TgZ(36,"p"),s._uU(37," Ilo\u015b\u0107 wykupionych tygodni: "),s.TgZ(38,"span",20),s._uU(39),s.qZA()(),s.TgZ(40,"p"),s._uU(41," Ilo\u015b\u0107 wykonanych tygodni: "),s.TgZ(42,"span",21),s._uU(43),s.qZA()()()()()()()(),s.BQk()}if(2&n){const e=t.ngIf,i=s.MAs(28),r=s.oxw();s.xp6(4),s.AsE("",e.name," ",e.lastName,""),s.xp6(7),s.Q6J("routerLink","/create-plan/"+e.authId),s.xp6(3),s.Q6J("routerLink","/training-plans/"+e.authId),s.xp6(3),s.Q6J("routerLink","/reports/"+e.authId),s.xp6(3),s.Q6J("formGroup",r.userDetailsForm),s.xp6(6),s.Q6J("matAutocomplete",i),s.xp6(3),s.Q6J("ngForOf",s.lcZ(30,10,r.filteredTrainers$)),s.xp6(10),s.Oqu(e.paidTraining),s.xp6(4),s.Oqu(e.trainingWeeks.length)}}let lie=(()=>{class n{constructor(e,i){this._activatedRoute=e,this._userService=i,this.user$=this._activatedRoute.params.pipe(tn(r=>this._userService.getOneUser(r.userId).pipe(zn(1),tn(o=>this.trainers$.pipe((0,Oe.U)(l=>{const u=l.reduce((m,_)=>({...m,[_.trainerId]:_.name}),{});return console.log(u[o.trainerId]),this.userDetailsForm.get("addTrainer")?.patchValue(u[o.trainerId]),o})))))),this.userDetailsForm=new xo({paidTraining:new ii,addTrainer:new ii}),this.trainers$=je([{name:"Mateusz",trainerId:"CaSXm8HpX2RHgkEPAaBL0HEDaOc2"}]),this._filteredTrainersSubject=new Gi([{name:"",trainerId:""}]),this.filteredTrainers$=this._filteredTrainersSubject.asObservable()}ngOnInit(){this.userDetailsForm.valueChanges.pipe(Er({name:"",trainerId:""}),tn(e=>this._filterTrainers(e.addTrainer||"")),(0,Vn.b)(e=>this._filteredTrainersSubject.next(e))).subscribe()}addPaidTraining(e,i){const r=e.paidTraining+i.get("paidTraining")?.value;this._userService.setPaidTraining(e,r),i.reset()}choseTrainer(e,i){console.log(e),this._userService.setTrainerIdForUser(e,i).subscribe()}_filterTrainers(e){const i=e.toLowerCase();return this.trainers$.pipe((0,Oe.U)(r=>r.filter(o=>o.name.toLowerCase().includes(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ua),s.Y36(fc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-details"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"mx-lg-5","px-lg-3","my-lg-3"],[1,"height-100"],[1,"text-center"],[1,"contarier"],[1,"row"],[1,"col","text-center"],[1,"container"],[1,"row","mb-2"],[1,"btn","btn-block","bg-cadetblue","text-ghostwhite",3,"routerLink"],[1,"col-4","text-center"],[3,"formGroup"],["type","number","id","paid","placeholder","Ilo\u015b\u0107 tygodni","formControlName","paidTraining",1,"form-control"],["type","button",1,"btn","btn-block","bg-cadetblue","text-ghostwhite","mt-2",3,"click"],["type","text","id","paid","placeholder","Wybierz trenera","formControlName","addTrainer",1,"form-control",3,"matAutocomplete"],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[1,"container","mt-5"],[1,"col-md-6"],["id","wynikIloscWykupionychTygodni"],["id","wynikIloscWykonanychTygodni"],[3,"value","onSelectionChange"]],template:function(e,i){1&e&&(s.YNc(0,aie,44,12,"ng-container",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.user$))},dependencies:[go,wi,Cv,N1,F1,Eu,hu,Za,ql,aa,Yh,Qa,Zc,W4,x1,vN,yr],encapsulation:2,changeDetection:0}),n})(),cie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user-details-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-user-details")},dependencies:[lie],encapsulation:2,changeDetection:0}),n})();class u${constructor(t,e,i,r){this.userId=t,this.week=e,this.training=i,this.isToCheck=r}}function die(n,t){}class jS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let h$=(()=>{class n extends pN{constructor(e,i,r,o,l,u,m,_){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=l,this._ngZone=u,this._overlayRef=m,this._focusMonitor=_,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const D=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),D},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=kf(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=kf();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=kf())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Of),s.Y36(re,8),s.Y36(jS),s.Y36(gv),s.Y36(s.R0b),s.Y36(Jx),s.Y36(Ou))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(kS,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,die,0,0,"ng-template",0)},dependencies:[kS],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class NN{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new et.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!ga(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const f$=new s.OlP("DialogScrollStrategy"),uie=new s.OlP("DialogData"),hie=new s.OlP("DefaultDialogConfig"),mie={provide:f$,deps:[wd],useFactory:function fie(n){return()=>n.scrollStrategies.block()}};let pie=0,m$=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,l,u){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new et.x,this._afterOpenedAtThisLevel=new et.x,this._ariaHiddenElements=new Map,this.afterAllClosed=rp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Er(void 0))),this._scrollStrategy=u}open(e,i){(i={...this._defaultOptions||new jS,...i}).id=i.id||"cdk-dialog-"+pie++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),l=this._overlay.create(o),u=new NN(l,i),m=this._attachContainer(l,u,i);return u.containerInstance=m,this._attachDialogContent(e,u,m,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){LN(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){LN(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),LN(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new _N({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,l=[{provide:jS,useValue:r},{provide:NN,useValue:i},{provide:Jx,useValue:e}];let u;r.container?"function"==typeof r.container?u=r.container:(u=r.container.type,l.push(...r.container.providers(r))):u=h$;const m=new mN(u,r.viewContainerRef,s.zs3.create({parent:o||this._injector,providers:l}),r.componentFactoryResolver);return e.attach(m).instance}_attachDialogContent(e,i,r,o){if(e instanceof s.Rgc){const l=this._createInjector(o,i,r,void 0);let u={$implicit:o.data,dialogRef:i};o.templateContext&&(u={...u,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new AS(e,null,u,l))}else{const l=this._createInjector(o,i,r,this._injector),u=r.attachComponentPortal(new mN(e,o.viewContainerRef,l,o.componentFactoryResolver));i.componentInstance=u.instance}}_createInjector(e,i,r,o){const l=e.injector||e.viewContainerRef?.injector,u=[{provide:uie,useValue:e.data},{provide:NN,useValue:i}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(i,e,r)):u.push(...e.providers)),e.direction&&(!l||!l.get(va,null,{optional:!0}))&&u.push({provide:va,useValue:{value:e.direction,change:je()}}),s.zs3.create({parent:l||o,providers:u})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,l)=>{o?l.setAttribute("aria-hidden",o):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wd),s.LFG(s.zs3),s.LFG(hie,8),s.LFG(n,12),s.LFG(RS),s.LFG(f$))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function LN(n,t){let e=n.length;for(;e--;)t(n[e])}let gie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[m$,mie],imports:[eC,yy,v1,yy]}),n})();function _ie(n,t){}class zS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const BN="mdc-dialog--open",p$="mdc-dialog--opening",g$="mdc-dialog--closing";let bie=(()=>{class n extends h${constructor(e,i,r,o,l,u,m,_){super(e,i,r,o,l,u,m,_),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Of),s.Y36(re,8),s.Y36(zS),s.Y36(gv),s.Y36(s.R0b),s.Y36(Jx),s.Y36(Ou))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const _$="--mat-dialog-transition-duration";function v$(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Ls(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Ls(n.substring(0,n.length-1)):"0"===n?0:null}let wie=(()=>{class n extends bie{constructor(e,i,r,o,l,u,m,_,b){super(e,i,r,o,l,u,m,b),this._animationMode=_,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?v$(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?v$(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(_$,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(p$,BN)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(BN),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(BN),this._animationsEnabled?(this._hostElement.style.setProperty(_$,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(g$)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(p$,g$)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Of),s.Y36(re,8),s.Y36(zS),s.Y36(gv),s.Y36(s.R0b),s.Y36(Jx),s.Y36(s.QbO,8),s.Y36(Ou))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[s.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,_ie,0,0,"ng-template",2),s.qZA()())},dependencies:[kS],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class VN{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new et.x,this._beforeClosed=new et.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(hn(r=>"opened"===r.state),zn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(hn(r=>"closed"===r.state),zn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Zr.T)(this.backdropClick(),this.keydownEvents().pipe(hn(r=>27===r.keyCode&&!this.disableClose&&!ga(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function xie(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(hn(e=>"closing"===e.state),zn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const UN=new s.OlP("MatMdcDialogData"),Cie=new s.OlP("mat-mdc-dialog-default-options"),y$=new s.OlP("mat-mdc-dialog-scroll-strategy"),Die={provide:y$,deps:[wd],useFactory:function Eie(n){return()=>n.scrollStrategies.block()}};let Tie=0,Iie=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,l,u,m,_,b,D){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=m,this._dialogContainerType=_,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new et.x,this._afterOpenedAtThisLevel=new et.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=zS,this.afterAllClosed=rp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Er(void 0))),this._scrollStrategy=u,this._dialog=i.get(m$)}open(e,i){let r;(i={...this._defaultOptions||new zS,...i}).id=i.id||`${this._idPrefix}${Tie++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:jS,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(l,u,m)=>(r=new this._dialogRefConstructor(l,i,m),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const l=this.openDialogs.indexOf(r);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),$S=(()=>{class n extends Iie{constructor(e,i,r,o,l,u,m,_){super(e,i,o,u,m,l,VN,wie,UN,_),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wd),s.LFG(s.zs3),s.LFG(ze,8),s.LFG(Cie,8),s.LFG(y$),s.LFG(n,12),s.LFG(RS),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),b$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),oC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[$S,Die],imports:[gie,eC,yy,U,U]}),n})(),Sie=(()=>{class n{constructor(e,i){this.data=e,this.dialogRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(UN),s.Y36(VN))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-remove-training-modal"]],decls:12,vars:0,consts:[[1,"container"],[1,"row","my-2"],[1,"text-center"],[1,"row"],[1,"col","text-center"],["type","button",1,"btn","btn-block","bg-cadetblue","text-ghostwhite"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-dialog-content")(1,"div",0)(2,"div",1)(3,"p",2),s._uU(4,"Czy chcesz usunac trening ?"),s.qZA()()(),s.TgZ(5,"div",3)(6,"div",4)(7,"button",5),s._uU(8," Tak "),s.qZA()(),s.TgZ(9,"div",4)(10,"button",5),s._uU(11," Nie "),s.qZA()()()())},dependencies:[b$],encapsulation:2,changeDetection:0}),n})(),Mie=0;const HN=new s.OlP("CdkAccordion");let Aie=(()=>{class n{constructor(){this._stateChanges=new et.x,this._openCloseAllActions=new et.x,this.id="cdk-accordion-"+Mie++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Ot(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[s._Bn([{provide:HN,useExisting:n}]),s.TTD]}),n})(),kie=0,Rie=(()=>{class n{get expanded(){return this._expanded}set expanded(e){e=Ot(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Ot(e)}constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Lr.w0.EMPTY,this.closed=new s.vpe,this.opened=new s.vpe,this.destroyed=new s.vpe,this.expandedChange=new s.vpe,this.id="cdk-accordion-child-"+kie++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,l)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===l&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(HN,12),s.Y36(s.sBO),s.Y36(bN))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[s._Bn([{provide:HN,useValue:void 0}])]}),n})(),Oie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Pie=["body"];function Fie(n,t){}const Nie=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Lie=["mat-expansion-panel-header","*","mat-action-row"];function Bie(n,t){if(1&n&&s._UZ(0,"span",2),2&n){const e=s.oxw();s.Q6J("@indicatorRotate",e._getExpandedState())}}const Vie=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Uie=["mat-panel-title","mat-panel-description","*"],jN=new s.OlP("MAT_ACCORDION"),x$="225ms cubic-bezier(0.4,0.0,0.2,1)",C$={indicatorRotate:oc("indicatorRotate",[Ho("collapsed, void",$n({transform:"rotate(0deg)"})),Ho("expanded",$n({transform:"rotate(180deg)"})),so("expanded <=> collapsed, void => collapsed",oo(x$))]),bodyExpansion:oc("bodyExpansion",[Ho("collapsed, void",$n({height:"0px",visibility:"hidden"})),Ho("expanded",$n({height:"*",visibility:"visible"})),so("expanded <=> collapsed, void => collapsed",oo(x$))])},E$=new s.OlP("MAT_EXPANSION_PANEL");let Hie=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(E$,8))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),jie=0;const D$=new s.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let zN=(()=>{class n extends Rie{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Ot(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,i,r,o,l,u,m){super(e,i,r),this._viewContainerRef=o,this._animationMode=u,this._hideToggle=!1,this.afterExpand=new s.vpe,this.afterCollapse=new s.vpe,this._inputChanges=new et.x,this._headerId="mat-expansion-panel-header-"+jie++,this._bodyAnimationDone=new et.x,this.accordion=e,this._document=l,this._bodyAnimationDone.pipe(Bp((_,b)=>_.fromState===b.fromState&&_.toState===b.toState)).subscribe(_=>{"void"!==_.fromState&&("expanded"===_.toState?this.afterExpand.emit():"collapsed"===_.toState&&this.afterCollapse.emit())}),m&&(this.hideToggle=m.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Er(null),hn(()=>this.expanded&&!this._portal),zn(1)).subscribe(()=>{this._portal=new AS(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(jN,12),s.Y36(s.sBO),s.Y36(bN),s.Y36(s.s_b),s.Y36(re),s.Y36(s.QbO,8),s.Y36(D$,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,Hie,5),2&e){let o;s.iGM(o=s.CRH())&&(i._lazyContent=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(Pie,5),2&e){let r;s.iGM(r=s.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[s._Bn([{provide:jN,useValue:void 0},{provide:E$,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:Lie,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(s.F$t(Nie),s.Hsn(0),s.TgZ(1,"div",0,1),s.NdJ("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),s.TgZ(3,"div",2),s.Hsn(4,1),s.YNc(5,Fie,0,0,"ng-template",3),s.qZA(),s.Hsn(6,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),s.uIk("aria-labelledby",i._headerId),s.xp6(4),s.Q6J("cdkPortalOutlet",i._portal))},dependencies:[kS],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[C$.bodyExpansion]},changeDetection:0}),n})();class zie{}const $ie=Ft(zie);let $N=(()=>{class n extends $ie{constructor(e,i,r,o,l,u,m){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=u,this._parentChangeSubscription=Lr.w0.EMPTY;const _=e.accordion?e.accordion._stateChanges.pipe(hn(b=>!(!b.hideToggle&&!b.togglePosition))):Os.E;this.tabIndex=parseInt(m||"")||0,this._parentChangeSubscription=(0,Zr.T)(e.opened,e.closed,_,e._inputChanges.pipe(hn(b=>!!(b.hideToggle||b.disabled||b.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(hn(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),l&&(this.expandedHeight=l.expandedHeight,this.collapsedHeight=l.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:ga(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zN,1),s.Y36(s.SBq),s.Y36(Ou),s.Y36(s.sBO),s.Y36(D$,8),s.Y36(s.QbO,8),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&e&&(s.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),s.Udp("height",i._getHeaderHeight()),s.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[s.qOj],ngContentSelectors:Uie,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(s.F$t(Vie),s.TgZ(0,"span",0),s.Hsn(1),s.Hsn(2,1),s.Hsn(3,2),s.qZA(),s.YNc(4,Bie,1,1,"span",1)),2&e&&(s.ekj("mat-content-hide-toggle",!i._showToggle()),s.xp6(4),s.Q6J("ngIf",i._showToggle()))},dependencies:[wi],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[C$.indicatorRotate]},changeDetection:0}),n})(),T$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),I$=(()=>{class n extends Aie{constructor(){super(...arguments),this._ownHeaders=new s.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Ot(e)}ngAfterContentInit(){this._headers.changes.pipe(Er(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new s1(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,$N,5),2&e){let o;s.iGM(o=s.CRH())&&(i._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[s._Bn([{provide:jN,useExisting:n}]),s.qOj]}),n})(),S$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[In,U,Oie,yy]}),n})(),Gie=(()=>{class n{set hasAdminRoleElse(e){}constructor(e,i,r,o,l){this.tepmlateRef=e,this._userService=i,this.viewContainer=r,this._cdr=o,this._inMemoryUserContextStorage=l,this.hasAdminRole=null,this._elseTpl=null,this._onDestroy$=new et.x}ngOnInit(){this._inMemoryUserContextStorage.select().pipe(hn(e=>!!e.role),tn(e=>this._userService.hasAdmin(e.role).pipe(Cn(this._onDestroy$)))).subscribe(e=>{this.viewContainer.clear(),e?this.viewContainer.createEmbeddedView(this.tepmlateRef):this._elseTpl&&this.viewContainer.createEmbeddedView(this._elseTpl),this._cdr.detectChanges()})}ngOnDestroy(){this._onDestroy$.next(),this._onDestroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(fc),s.Y36(s.s_b),s.Y36(s.sBO),s.Y36(rl))},n.\u0275dir=s.lG2({type:n,selectors:[["","hasAdminRole",""]],inputs:{hasAdminRole:"hasAdminRole",hasAdminRoleElse:"hasAdminRoleElse"}}),n})();function Wie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",14),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2).$implicit;return s.oxw(2).openRemoveTrainingModal(o.id),s.KtG(r.stopPropagation())}),s.TgZ(1,"mat-icon",15),s._uU(2,"delete_outline"),s.qZA()()}}function qie(n,t){1&n&&(s.TgZ(0,"div",12),s.YNc(1,Wie,3,0,"button",13),s.qZA())}function Zie(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.exercise," ")}}function Yie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",4)(1,"div",5),s.NdJ("click",function(){const o=s.CHM(e).$implicit,l=s.oxw(2);return s.KtG(l.onClickTraining(o))}),s.TgZ(2,"div",6)(3,"div",7)(4,"span",8),s._uU(5),s.qZA()(),s.YNc(6,qie,2,0,"div",9),s.qZA(),s.TgZ(7,"ol",10),s.YNc(8,Zie,2,1,"li",11),s.qZA()()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.xp6(5),s.hij("Trening ",i+1,""),s.xp6(1),s.Q6J("ngIf",!r.trainingReport),s.xp6(2),s.Q6J("ngForOf",e.trainingElements)}}function Kie(n,t){if(1&n&&(s.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),s._uU(3),s.qZA()(),s.TgZ(4,"div",2),s.YNc(5,Yie,9,3,"div",3),s.qZA()()),2&n){const e=t.$implicit;s.xp6(3),s.hij("Tydzie\u0144 ",e.week.number," "),s.xp6(2),s.Q6J("ngForOf",e.training)}}let Qie=(()=>{class n{constructor(e,i,r,o,l,u,m){this._authService=e,this._trainingService=i,this._router=r,this.dialog=o,this._activatedRoute=l,this._userService=u,this._inMemoryUserContextStorage=m,this.trainingReport=!1,this.userContext$=this._inMemoryUserContextStorage.select(),this.trainingPlansQuery$=ip([this._trainingService.getAllPlans(),this.userContext$,this._activatedRoute.params]).pipe((0,Oe.U)(([_,b,D])=>(this._router.url.includes("reports")&&(this.trainingReport=!0),this._getTrainingWithUser(_,D.authId?D.authId:b.authId))),tn(_=>this._userService.getOneUserByAuth(_.authId).pipe((0,Oe.U)(b=>b.trainingWeeks.map(D=>{const R=_.training.filter(F=>D.number==F.trainingWeek);return new u$(b.id,D,R.reverse(),!1)}).sort((D,R)=>R.week.number-D.week.number)))))}ngAfterContentInit(){}identify(e,i){return e}onClickTraining(e){this._activatedRoute.params.pipe((0,Vn.b)(i=>{i.authId?this.trainingReport?this._router.navigate([`report-trainer/${e.id}`]):this._editTraining(e):this._openTrainingDetails(e)})).subscribe()}removeTraining(e){this._trainingService.removeTraining(e).subscribe()}openRemoveTrainingModal(e){this.dialog.open(Sie,{width:"380px",data:{trainingId:e}})}_getTrainingWithUser(e,i){return{training:e.filter(r=>r.authId&&r.authId.includes(i)),authId:i}}_editTraining(e){this._trainingService.addTrainingElementsToContext(e).pipe(tn(()=>this._activatedRoute.params.pipe((0,Vn.b)(i=>{this._router.navigate([`edit-plan/${i.authId}/${e.id}`])})))).subscribe()}_openTrainingDetails(e){this._router.navigate([`training/${e.id}`])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ns),s.Y36(Zx),s.Y36(xi),s.Y36($S),s.Y36(ua),s.Y36(fc),s.Y36(rl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-training-plans"]],decls:5,vars:4,consts:[[1,"mx-lg-5","px-lg-3","my-lg-3"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"container","mt-5","px-5"],["class","row d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"row","d-flex","justify-content-center"],[1,"pointer","border","rounded","mb-3",3,"click"],[1,"row","align-items-center"],[1,"col","text-title"],[1,"mb-2","d-inline-flex","bg-white"],["class","col d-flex justify-content-end",4,"ngIf"],[1,"mb-2"],[4,"ngFor","ngForOf"],[1,"col","d-flex","justify-content-end"],["mat-button","","type","button mat-button-hover","class","p-0",3,"click",4,"hasAdminRole"],["mat-button","","type","button mat-button-hover",1,"p-0",3,"click"],[1,"m-0"]],template:function(e,i){1&e&&(s.TgZ(0,"section",0)(1,"mat-card")(2,"mat-accordion"),s.YNc(3,Kie,6,2,"mat-expansion-panel",1),s.ALo(4,"async"),s.qZA()()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",s.lcZ(4,2,i.trainingPlansQuery$))("ngForTrackBy",i.identify))},dependencies:[go,wi,I$,zN,$N,T$,O1,Gie,lT,Cv,yr],encapsulation:2,changeDetection:0}),n})(),M$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-training-plans-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-training-plans")},dependencies:[Qie],encapsulation:2,changeDetection:0}),n})(),P$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[L0,In,U,wv,pB,Yx]}),n})(),kre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[In,U,yy,wv,L0,v1,U]}),n})(),N$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[P$,In,kre,Gne,rd,ow]}),n})();const Nre={provide:new s.OlP("mat-select-scroll-strategy"),deps:[wd],useFactory:function Fre(n){return()=>n.scrollStrategies.reposition()}};let L$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Nre],imports:[In,eC,tw,U,Ff,Tg,tw,U]}),n})(),B$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Yl,Tg,nN,In,xv,Yx,L$,P1,F4,Z4]}),n})(),Lre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[In,N$,B$]}),n})(),Bre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Yl,Tg,nN,In,xv]}),n})(),Vre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bre]}),n})(),Ure=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Yl,Tg,nN,In,xv]}),n})(),Hre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ure]}),n})(),jre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[N$]}),n})(),zre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[In,ow,xv,rd,Yl,Z4]}),n})(),$re=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[zre]}),n})();const Gre=["input"],Wre=["*"];let V$=0;class U${constructor(t,e){this.source=t,this.value=e}}const qre={provide:Wr,useExisting:(0,s.Gpc)(()=>j$),multi:!0},H$=new s.OlP("MatRadioGroup"),Zre=new s.OlP("mat-radio-default-options",{providedIn:"root",factory:function Yre(){return{color:"accent"}}});let Kre=(()=>{class n{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=Ot(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=Ot(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+V$++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new s.vpe}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new U$(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})();class Qre{constructor(t){this._elementRef=t}}const Xre=gt(Ft(Qre));let Jre=(()=>{class n extends Xre{get checked(){return this._checked}set checked(e){const i=Ot(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(Ot(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=Ot(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,o,l,u,m,_){super(i),this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=l,this._providerOverride=m,this._uniqueId="mat-radio-"+ ++V$,this.id=this._uniqueId,this.change=new s.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===u,_&&(this.tabIndex=Ls(_,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new U$(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(Gre,5),2&e){let r;s.iGM(r=s.CRH())&&(i._inputElement=r.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[s.qOj]}),n})(),j$=(()=>{class n extends Kre{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,z$,5),2&e){let o;s.iGM(o=s.CRH())&&(i._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[s._Bn([qre,{provide:H$,useExisting:n}]),s.qOj]}),n})(),z$=(()=>{class n extends Jre{constructor(e,i,r,o,l,u,m,_){super(e,i,r,o,l,u,m,_)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(H$,8),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ou),s.Y36(bN),s.Y36(s.QbO,8),s.Y36(Zre,8),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&e&&(s.uIk("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),s.ekj("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("mat-mdc-radio-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[s.qOj],ngContentSelectors:Wre,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[3,"for"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),s.NdJ("click",function(o){return i._onTouchTargetClick(o)}),s.qZA(),s.TgZ(4,"input",4,5),s.NdJ("change",function(o){return i._onInputInteraction(o)}),s.qZA(),s.TgZ(6,"div",6),s._UZ(7,"div",7)(8,"div",8),s.qZA(),s.TgZ(9,"div",9),s._UZ(10,"div",10),s.qZA()(),s.TgZ(11,"label",11),s.Hsn(12),s.qZA()()),2&e){const r=s.MAs(1);s.ekj("mdc-form-field--align-end","before"==i.labelPosition),s.xp6(2),s.ekj("mdc-radio--disabled",i.disabled),s.xp6(2),s.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),s.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),s.xp6(5),s.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),s.xp6(2),s.Q6J("for",i.inputId)}},dependencies:[aT],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);right:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);left:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-mdc-radio-ripple-color, transparent)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),n})(),eoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[U,In,wv,U]}),n})(),toe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),noe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[oC,In,Yl,eoe,toe]}),n})(),ioe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[In]}),n})(),roe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[oC]}),n})(),ooe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[In,Tg,L$,Yl,tw,P$,S$,rd,oC,roe,P1,ioe,noe,xv,ow]}),n})(),$$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Yx,In,ow,oC]}),n})(),soe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[In,ooe,$$]}),n})(),aoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-edit-plan-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-create-plan")},dependencies:[Y4],encapsulation:2,changeDetection:0}),n})(),loe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[B$]}),n})(),coe=(()=>{class n{transform(e){return console.log(e),"exercise"===e?"\u0107wiczenia":"training"===e?"treningu":"weekComment"===e?"tygodnia":""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"raitingType",type:n,pure:!0}),n})();function doe(n,t){if(1&n&&(s.TgZ(0,"mat-radio-button",16),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}function uoe(n,t){if(1&n&&(s.TgZ(0,"div",3)(1,"div",4)(2,"label",13),s._uU(3,"Poziom trudno\u015bci:"),s.qZA(),s.TgZ(4,"div",5)(5,"mat-radio-group",14),s.YNc(6,doe,2,2,"mat-radio-button",15),s.ALo(7,"async"),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(6),s.Q6J("ngForOf",s.lcZ(7,1,e.dificultValue$))}}function hoe(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",17)(2,"div",18),s._UZ(3,"input",19),s.qZA(),s.TgZ(4,"div",18),s._UZ(5,"input",20),s.qZA(),s.TgZ(6,"div",18),s._UZ(7,"input",21),s.qZA(),s.TgZ(8,"div",18)(9,"button",22),s.NdJ("click",function(){const o=s.CHM(e).index,l=s.oxw();return s.KtG(l.deleteQuantity(o))}),s._uU(10," - "),s.qZA()()(),s.BQk()}if(2&n){const e=t.index;s.xp6(1),s.Q6J("formGroupName",e)}}function foe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"div",23)(2,"div",24)(3,"button",22),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.asTrainingQuantityValue(r.data.quantityExercise))}),s._uU(4," Jak w planie "),s.qZA()(),s.TgZ(5,"div",25)(6,"button",22),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addQuantity("add"))}),s._uU(7," + "),s.qZA()()()()}}let G$=(()=>{class n{constructor(e,i,r,o,l){this.data=e,this.dialogRef=i,this._trainingService=r,this._fb=o,this._userService=l,this._dificultValueSubject=new Gi([1,2,3,4,5]),this.dificultValue$=this._dificultValueSubject.asObservable(),this.raitingForm=new xo({comment:new ii,raitingValue:new ii,exerciseValue:new l_([])})}ngOnInit(){"exercise"===this.data.raitingType&&this.data.exerciseValue.forEach(e=>{const i=this._fb.group(e);this.exerciseValue.push(i)}),this.raitingForm.get("comment")?.patchValue(this.data.raitingComment),this.raitingForm.get("raitingValue")?.patchValue(this.data.raitingValue)}get exerciseValue(){return this.raitingForm.controls.exerciseValue}addRaiting(e,i,r,o){this.dialogRef.close(),"weekComment"===r?this._userService.setCommentForWeek(this.data.userId,this.data.index,i.get("comment")?.value).subscribe():(this.data.hasFill||this._trainingService.setHasFillTraining(!0,this.data.trainingId).subscribe(),this._trainingService.setRaiting(e,o,i.get("comment")?.value,i.get("raitingValue")?.value,r,i.get("exerciseValue")?.value).subscribe())}deleteQuantity(e){this.exerciseValue.removeAt(e)}addQuantity(e){const i=this._fb.group({set:[],rep:[],value:[]});this.exerciseValue.push(i)}asTrainingQuantityValue(e){e.forEach(i=>{const r=this._fb.group(i);this.exerciseValue.push(r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(UN),s.Y36(VN),s.Y36(Zx),s.Y36(eb),s.Y36(fc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-rating-modal"]],decls:18,vars:7,consts:[[1,"p-0"],[3,"formGroup"],[1,"container","p-2","d-block"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","comment"],["formControlName","comment","id","comment","rows","2",1,"form-control"],["class","row",4,"ngIf"],["formArrayName","exerciseValue"],[4,"ngFor","ngForOf"],[1,"col-md-12","text-end"],[1,"btn","btn-block","bg-cadetblue","text-ghostwhite",3,"click"],["for","difficulty"],["formControlName","raitingValue","aria-label","Select an option"],["color","primary",3,"value",4,"ngFor","ngForOf"],["color","primary",3,"value"],[1,"row","mt-3","justify-content-center",3,"formGroupName"],[1,"col-md-3"],["type","text","id","sets","placeholder","Serie","formControlName","set",1,"form-control"],["type","text","id","repetitions","placeholder","Powt\xf3rzenia","formControlName","rep",1,"form-control"],["type","text","id","value","placeholder","Obci\u0105\u017cenie","formControlName","value",1,"form-control"],["type","button",1,"btn","btn-block","bg-cadetblue","text-ghostwhite",3,"click"],[1,"row","mt-3","text-end","m-2"],[1,"col","d-flex","justify-content-end"],[1,"col-md-2"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-dialog-content",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),s._uU(7),s.ALo(8,"raitingType"),s.qZA(),s._UZ(9,"textarea",7),s.qZA()()(),s.YNc(10,uoe,8,3,"div",8),s.ynx(11,9),s.YNc(12,hoe,11,1,"ng-container",10),s.BQk(),s.YNc(13,foe,8,0,"div",8),s.TgZ(14,"div",3)(15,"div",11)(16,"button",12),s.NdJ("click",function(){return i.addRaiting(i.data.trainingId,i.raitingForm,i.data.raitingType,i.data.exerciseOrder)}),s._uU(17," Zatwierdz "),s.qZA()()()()()()),2&e&&(s.xp6(1),s.Q6J("formGroup",i.raitingForm),s.xp6(6),s.hij("Komentarz do ",s.lcZ(8,5,i.data.raitingType),":"),s.xp6(3),s.Q6J("ngIf","weekComment"!=i.data.raitingType),s.xp6(2),s.Q6J("ngForOf",i.exerciseValue.controls),s.xp6(1),s.Q6J("ngIf","exercise"===i.data.raitingType))},dependencies:[b$,go,wi,hu,Za,aa,Yh,Qa,Zc,Km,Qm,j$,z$,yr,coe],encapsulation:2,changeDetection:0}),n})();function moe(n,t){if(1&n&&(s.TgZ(0,"div",22)(1,"div",17)(2,"p",23),s._uU(3),s.qZA()(),s.TgZ(4,"div",17)(5,"p",23),s._uU(6),s.qZA()(),s.TgZ(7,"div",17)(8,"p",23),s._uU(9),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(3),s.Oqu(e.value),s.xp6(3),s.Oqu(e.set),s.xp6(3),s.Oqu(e.rep)}}function poe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"div",7),s._uU(3),s.qZA(),s.TgZ(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11)(8,"span",12),s._uU(9,"\u0106wiczenie"),s.qZA()()(),s.TgZ(10,"p",13),s._uU(11),s.qZA()(),s.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"span",14),s._uU(16,"Komentarz"),s.qZA()()(),s.TgZ(17,"p",13),s._uU(18),s.qZA()(),s.TgZ(19,"div",15)(20,"div",16)(21,"div",17)(22,"p",18),s._uU(23,"Obciazenie"),s.qZA()(),s.TgZ(24,"div",17)(25,"p",18),s._uU(26,"Serie"),s.qZA()(),s.TgZ(27,"div",17)(28,"p",18),s._uU(29,"Powt\xf3rzenia"),s.qZA()()(),s.YNc(30,moe,10,3,"div",19),s.qZA()(),s.TgZ(31,"div",20)(32,"button",3),s.NdJ("click",function(){const o=s.CHM(e).$implicit,l=s.oxw().ngIf,u=s.oxw();return s.KtG(u.openRaitingModal("exercise",o.index,l.id,o.raitingCommentExercise,o.raitingValueExercise,l.hasFill,o.quantity,o.exerciseValue))}),s._uU(33," Podsumuj \u0107wiczenie "),s.qZA()()(),s.TgZ(34,"span",21),s._UZ(35,"mat-divider"),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index;s.xp6(3),s.hij("",i+1,"."),s.xp6(8),s.Oqu(e.exercise),s.xp6(7),s.Oqu(e.comment),s.xp6(12),s.Q6J("ngForOf",e.quantity)}}function goe(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"mat-card")(2,"mat-card-title",2)(3,"button",3),s.NdJ("click",function(){const o=s.CHM(e).ngIf,l=s.oxw();return s.KtG(l.openRaitingModal("training",1e3,o.id,o.raitingCommentTraining,o.raitingValueTraining,o.hasFill))}),s._uU(4," Podsumuj trening "),s.qZA()(),s.YNc(5,poe,36,4,"div",4),s.qZA(),s.BQk()}if(2&n){const e=t.ngIf;s.xp6(5),s.Q6J("ngForOf",e.trainingElements)}}let _oe=(()=>{class n{constructor(e,i,r,o,l,u){this._activatedRoute=e,this._trainingService=i,this._userService=r,this._authService=o,this.dialog=l,this._inMemoryUserContextStorage=u,this.trainingDetails$=this._activatedRoute.params.pipe(tn(m=>this._trainingService.getOneTraining(m.trainingId)))}ngOnInit(){}openRaitingModal(e,i,r,o,l,u,m,_){this.dialog.open(G$,{width:"380px",data:{raitingType:e,exerciseOrder:i-1,trainingId:r,raitingComment:o,raitingValue:l,quantityExercise:m,exerciseValue:_,hasFill:u}})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ua),s.Y36(Zx),s.Y36(fc),s.Y36(Ns),s.Y36($S),s.Y36(rl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-training-details"]],decls:3,vars:3,consts:[[1,"mx-lg-5","px-lg-3","my-lg-3"],[4,"ngIf"],[1,"text-end","m-3"],[1,"btn","btn-block","button-font","p-2","bg-cadetblue","text-ghostwhite",3,"click"],["class","container mt-5 px-3",4,"ngFor","ngForOf"],[1,"container","mt-5","px-3"],[1,"row","d-flex","justify-content-center"],[1,"col-1"],[1,"col"],[1,"border","rounded","mb-3"],[1,"row","align-items-center"],[1,"mb-1","pt-3","ps-4","text-title"],[1,"d-inline-flex","bg-white"],[1,"mx-3"],[1,"text-title-without-btn","d-inline-flex","bg-white"],[1,"row","ps-2","mb-3"],[1,"col-3","col-md-2","border-left-right"],[1,"row"],[1,"mb-0","pe-2","ps-0","text-end"],["class","col-3 border-right",4,"ngFor","ngForOf"],[1,"col-sm-3","text-end","mb-3"],[1,"px-3"],[1,"col-3","border-right"],[1,"mb-0","px-0","text-center"]],template:function(e,i){1&e&&(s.TgZ(0,"section",0),s.YNc(1,goe,6,1,"ng-container",1),s.ALo(2,"async"),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngIf",s.lcZ(2,1,i.trainingDetails$)))},dependencies:[iN,go,wi,Cv,F1,yr],encapsulation:2,changeDetection:0}),n})(),voe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-training-details-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-training-details")},dependencies:[_oe],encapsulation:2,changeDetection:0}),n})(),yoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$$]}),n})(),W$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home-page"]],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})(),boe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),woe=(()=>{class n{constructor(e,i,r,o){this._authService=e,this._router=i,this._inMemoryUserContextStorage=r,this._loadUserContextService=o}canActivate(e,i){return this._inMemoryUserContextStorage.select().pipe((0,Oe.U)(r=>!!r.authId||this._router.parseUrl("/login")))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ns),s.LFG(xi),s.LFG(rl),s.LFG(tC))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),xoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[woe]}),n})(),pm=(()=>{class n{constructor(e,i,r,o,l,u){this._userService=e,this._authService=i,this._router=r,this._inMemoryUserContextStorage=o,this._authClient=l,this._loadUserContextService=u}canActivate(e,i){return IL.pipe(hn(r=>!0===r),tn(()=>this._inMemoryUserContextStorage.select().pipe(hn(r=>!!r.authId),(0,Oe.U)(r=>"admin"===r.role))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fc),s.LFG(Ns),s.LFG(xi),s.LFG(rl),s.LFG(Sf),s.LFG(tC))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Coe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[pm]}),n})();const qN=(0,Oe.U)(n=>!!n);let fl=(()=>{class n{constructor(e,i){this.router=e,this.auth=i,this.canActivate=(r,o)=>{const l=r.data.authGuardPipe||(()=>qN);return this.auth.user.pipe(zn(1),l(r,o),(0,Oe.U)(u=>"boolean"==typeof u?u:Array.isArray(u)?this.router.createUrlTree(u):this.router.parseUrl(u)))}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xi),s.LFG(Sf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Toe(n,t){if(1&n&&(s.TgZ(0,"div",16)(1,"p"),s._uU(2),s.qZA(),s.TgZ(3,"p"),s._uU(4),s.qZA(),s.TgZ(5,"p"),s._uU(6),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.hij("Serie: ",e.set,""),s.xp6(2),s.hij("Powt\xf3rzenia: ",e.rep,""),s.xp6(2),s.hij("Ci\u0119\u017car: ",e.value,"")}}function Ioe(n,t){if(1&n&&(s.TgZ(0,"div",12)(1,"div",13)(2,"div")(3,"h4"),s._uU(4),s.qZA()(),s.TgZ(5,"h4"),s._uU(6),s.qZA(),s.TgZ(7,"h4"),s._uU(8),s.qZA()(),s.YNc(9,Toe,7,3,"div",14),s.TgZ(10,"span",15),s._UZ(11,"mat-divider"),s.qZA()()),2&n){const e=t.$implicit;s.xp6(4),s.hij("\u0106wiczenie: ",e.exercise,""),s.xp6(2),s.hij(" Komentarz \u0107wiczenia: ",e.raitingCommentExercise," "),s.xp6(2),s.hij(" Poziom trudno\u015bci \u0107wiczenia: ",e.raitingValueExercise," "),s.xp6(1),s.Q6J("ngForOf",e.exerciseValue)}}const q$=function(n){return{"bg-success":n}};function Soe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"h1"),s._uU(5),s.qZA()(),s.TgZ(6,"div",10)(7,"button",3),s.NdJ("click",function(r){const l=s.CHM(e).$implicit;return s.oxw(2).hasChecked(l.id),s.KtG(r.stopPropagation())}),s._uU(8," Sprawdzony "),s.qZA()()(),s.TgZ(9,"div")(10,"h4"),s._uU(11),s._UZ(12,"br"),s._uU(13),s.qZA(),s.YNc(14,Ioe,12,4,"div",11),s.qZA()()()}if(2&n){const e=t.$implicit,i=t.index;s.Q6J("ngClass",s.VKq(5,q$,e.hasFill)),s.xp6(5),s.hij("Trening ",i+1,""),s.xp6(6),s.hij(" Komentarz treningu: ",e.raitingCommentTraining," "),s.xp6(2),s.hij("Poziom trudno\u015bci treningu: ",e.raitingValueTraining," "),s.xp6(1),s.Q6J("ngForOf",e.trainingElements)}}function Moe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header",2)(2,"mat-panel-title"),s._uU(3),s.TgZ(4,"button",3),s.NdJ("click",function(r){const o=s.CHM(e),l=o.$implicit,u=o.index;return s.oxw().setCommentForWeekModal(l.userId,u,l.week),s.KtG(r.stopPropagation())}),s._uU(5," Komentarz "),s.qZA()()(),s.TgZ(6,"div",4),s.YNc(7,Soe,15,7,"div",5),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngClass",s.VKq(3,q$,e.isToCheck)),s.xp6(2),s.hij(" Tydzie\u0144 ",e.week.number," "),s.xp6(4),s.Q6J("ngForOf",e.training)}}let Aoe=(()=>{class n{constructor(e,i,r,o){this._trainingService=e,this._activatedRoute=i,this._userService=r,this.dialog=o,this.trainings$=this._activatedRoute.params.pipe(tn(l=>this._trainingService.getAllPlans().pipe(tn(u=>this._userService.getOneUserByAuth(l.authId).pipe((0,Oe.U)(m=>m.trainingWeeks.map(_=>{const b=u.filter(R=>_.number===R.trainingWeek).filter(R=>R.authId===l.authId),D=b.some(R=>R.hasFill);return new u$(m.id,_,b,D)}).sort((_,b)=>b.week.number-_.week.number)))))))}hasChecked(e){this._trainingService.setHasFillTraining(!1,e)}identify(e,i){return e}setCommentForWeekModal(e,i,r){console.log(r),this.dialog.open(G$,{width:"360px",data:{userId:e,index:i,raitingType:"weekComment",raitingComment:r.comment}})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Zx),s.Y36(ua),s.Y36(fc),s.Y36($S))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-reports"]],decls:4,vars:4,consts:[[1,"he"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass"],["type","button",1,"btn","btn-block","bg-cadetblue","text-ghostwhite",3,"click"],[1,"container"],["class","card pointer",3,"ngClass",4,"ngFor","ngForOf"],[1,"card","pointer",3,"ngClass"],[1,"card-body"],[1,"row"],[1,"col"],[1,"col-2"],["class","row my-2",4,"ngFor","ngForOf"],[1,"row","my-2"],[1,"col-md-5"],["class","col-2 text-end",4,"ngFor","ngForOf"],[1,"px-3"],[1,"col-2","text-end"]],template:function(e,i){1&e&&(s.TgZ(0,"section",0)(1,"mat-accordion"),s.YNc(2,Moe,8,5,"mat-expansion-panel",1),s.ALo(3,"async"),s.qZA()()),2&e&&(s.xp6(2),s.Q6J("ngForOf",s.lcZ(3,2,i.trainings$))("ngForTrackBy",i.identify))},dependencies:[I$,zN,$N,T$,qt,go,iN,yr],encapsulation:2,changeDetection:0}),n})(),koe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-reports-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-reports")},dependencies:[Aoe],encapsulation:2,changeDetection:0}),n})(),Roe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[S$,In,Yx,oC]}),n})(),Ooe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Roe]}),n})(),Poe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-reports-for-user"]],decls:2,vars:0,consts:[[1,"m-sm-5","bg-primary","navigation"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._uU(1,"d"),s.qZA())},encapsulation:2,changeDetection:0}),n})(),Foe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-reports-for-user-page"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-reports-for-user")},dependencies:[Poe],encapsulation:2,changeDetection:0}),n})();function Z$(n){return new s.vHH(3e3,!1)}function gse(){return typeof window<"u"&&typeof window.document<"u"}function ZN(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function gm(n){switch(n.length){case 0:return new iw;case 1:return n[0];default:return new SB(n)}}function Y$(n,t,e,i,r=new Map,o=new Map){const l=[],u=[];let m=-1,_=null;if(i.forEach(b=>{const D=b.get("offset"),R=D==m,F=R&&_||new Map;b.forEach(($,Z)=>{let ie=Z,Se=$;if("offset"!==Z)switch(ie=t.normalizePropertyName(ie,l),Se){case A1:Se=r.get(Z);break;case Pu:Se=o.get(Z);break;default:Se=t.normalizeStyleValue(Z,ie,Se,l)}F.set(ie,Se)}),R||u.push(F),_=F,m=D}),l.length)throw function rse(n){return new s.vHH(3502,!1)}();return u}function YN(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&KN(e,"start",n)));break;case"done":n.onDone(()=>i(e&&KN(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&KN(e,"destroy",n)))}}function KN(n,t,e){const o=QN(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),l=n._data;return null!=l&&(o._data=l),o}function QN(n,t,e,i,r="",o=0,l){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!l}}function Ea(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function K$(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let XN=(n,t)=>!1,Q$=(n,t,e)=>[],X$=null;function JN(n){const t=n.parentNode||n.host;return t===X$?null:t}(ZN()||typeof Element<"u")&&(gse()?(X$=(()=>document.documentElement)(),XN=(n,t)=>{for(;t;){if(t===n)return!0;t=JN(t)}return!1}):XN=(n,t)=>n.contains(t),Q$=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Sg=null,J$=!1;const eG=XN,tG=Q$;let nG=(()=>{class n{validateStyleProperty(e){return function vse(n){Sg||(Sg=function yse(){return typeof document<"u"?document.body:null}()||{},J$=!!Sg.style&&"WebkitAppearance"in Sg.style);let t=!0;return Sg.style&&!function _se(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Sg.style,!t&&J$&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Sg.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return eG(e,i)}getParentElement(e){return JN(e)}query(e,i,r){return tG(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,l,u=[],m){return new iw(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),eL=(()=>{class n{}return n.NOOP=new nG,n})();const bse=1e3,tL="ng-enter",GS="ng-leave",WS="ng-trigger",qS=".ng-trigger",rG="ng-animating",nL=".ng-animating";function Yu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:iL(parseFloat(t[1]),t[2])}function iL(n,t){return"s"===t?n*bse:n}function ZS(n,t,e){return n.hasOwnProperty("duration")?n:function xse(n,t,e){let r,o=0,l="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(Z$()),{duration:0,delay:0,easing:""};r=iL(parseFloat(u[1]),u[2]);const m=u[3];null!=m&&(o=iL(parseFloat(m),u[4]));const _=u[5];_&&(l=_)}else r=n;if(!e){let u=!1,m=t.length;r<0&&(t.push(function Noe(){return new s.vHH(3100,!1)}()),u=!0),o<0&&(t.push(function Loe(){return new s.vHH(3101,!1)}()),u=!0),u&&t.splice(m,0,Z$())}return{duration:r,delay:o,easing:l}}(n,t,e)}function sC(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function oG(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function _m(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function aG(n,t,e){return e?t+":"+e+";":""}function lG(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=aG(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=aG(0,Tse(e),n.style[e]));n.setAttribute("style",t)}function xd(n,t,e){n.style&&(t.forEach((i,r)=>{const o=oL(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),ZN()&&lG(n))}function Mg(n,t){n.style&&(t.forEach((e,i)=>{const r=oL(i);n.style[r]=""}),ZN()&&lG(n))}function aC(n){return Array.isArray(n)?1==n.length?n[0]:TB(n):n}const rL=new RegExp("{{\\s*(.+?)\\s*}}","g");function cG(n){let t=[];if("string"==typeof n){let e;for(;e=rL.exec(n);)t.push(e[1]);rL.lastIndex=0}return t}function lC(n,t,e){const i=n.toString(),r=i.replace(rL,(o,l)=>{let u=t[l];return null==u&&(e.push(function Voe(n){return new s.vHH(3003,!1)}()),u=""),u.toString()});return r==i?n:r}function YS(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Dse=/-+([a-z0-9])/g;function oL(n){return n.replace(Dse,(...t)=>t[1].toUpperCase())}function Tse(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Da(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Uoe(n){return new s.vHH(3004,!1)}()}}function dG(n,t){return window.getComputedStyle(n)[t]}const XS="*";function Rse(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Ose(n,t,e){if(":"==n[0]){const m=function Pse(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function ese(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Joe(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],l=i[3];t.push(uG(r,l));"<"==o[0]&&!(r==XS&&l==XS)&&t.push(uG(l,r))}(i,e,t)):e.push(n),e}const JS=new Set(["true","1"]),eM=new Set(["false","0"]);function uG(n,t){const e=JS.has(n)||eM.has(n),i=JS.has(t)||eM.has(t);return(r,o)=>{let l=n==XS||n==r,u=t==XS||t==o;return!l&&e&&"boolean"==typeof r&&(l=r?JS.has(n):eM.has(n)),!u&&i&&"boolean"==typeof o&&(u=o?JS.has(t):eM.has(t)),l&&u}}const Fse=new RegExp("s*:selfs*,?","g");function sL(n,t,e,i){return new Nse(n).build(t,e,i)}class Nse{constructor(t){this._driver=t}build(t,e,i){const r=new Vse(e);return this._resetContextStyleTimingState(r),Da(this,aC(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function joe(){return new s.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const m=u,_=m.name;_.toString().split(/\s*,\s*/).forEach(b=>{m.name=b,o.push(this.visitState(m,e))}),m.name=_}else if(1==u.type){const m=this.visitTransition(u,e);i+=m.queryCount,r+=m.depCount,l.push(m)}else e.errors.push(function zoe(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:l,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,l=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(m=>{cG(m).forEach(_=>{l.hasOwnProperty(_)||o.add(_)})})}),o.size&&(YS(o.values()),e.errors.push(function $oe(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Da(this,aC(t.animation),e);return{type:1,matchers:Rse(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ag(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Da(this,i,e)),options:Ag(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(l=>{e.currentTime=i;const u=Da(this,l,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:o,options:Ag(t.options)}}visitAnimate(t,e){const i=function Hse(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return aL(ZS(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=aL(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=ZS(e,t);return aL(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:$n({});if(5==o.type)r=this.visitKeyframes(o,e);else{let l=t.styles,u=!1;if(!l){u=!0;const _={};i.easing&&(_.easing=i.easing),l=$n(_)}e.currentTime+=i.duration+i.delay;const m=this.visitStyle(l,e);m.isEmptyStep=u,r=m}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===Pu?i.push(u):e.errors.push(new s.vHH(3002,!1)):i.push(oG(u));let o=!1,l=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(l=u.get("easing"),u.delete("easing")),!o))for(let m of u.values())if(m.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((u,m)=>{const _=e.collectedStyles.get(e.currentQuerySelector),b=_.get(m);let D=!0;b&&(o!=r&&o>=b.startTime&&r<=b.endTime&&(e.errors.push(function Woe(n,t,e,i,r){return new s.vHH(3010,!1)}()),D=!1),o=b.startTime),D&&_.set(m,{startTime:o,endTime:r}),e.options&&function Ese(n,t,e){const i=t.params||{},r=cG(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Boe(n){return new s.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function qoe(){return new s.vHH(3011,!1)}()),i;let o=0;const l=[];let u=!1,m=!1,_=0;const b=t.steps.map(Se=>{const Ye=this._makeStyleAst(Se,e);let Qe=null!=Ye.offset?Ye.offset:function Use(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ye.styles),ct=0;return null!=Qe&&(o++,ct=Ye.offset=Qe),m=m||ct<0||ct>1,u=u||ct<_,_=ct,l.push(ct),Ye});m&&e.errors.push(function Zoe(){return new s.vHH(3012,!1)}()),u&&e.errors.push(function Yoe(){return new s.vHH(3200,!1)}());const D=t.steps.length;let R=0;o>0&&o<D?e.errors.push(function Koe(){return new s.vHH(3202,!1)}()):0==o&&(R=1/(D-1));const F=D-1,$=e.currentTime,Z=e.currentAnimateTimings,ie=Z.duration;return b.forEach((Se,Ye)=>{const Qe=R>0?Ye==F?1:R*Ye:l[Ye],ct=Qe*ie;e.currentTime=$+Z.delay+ct,Z.duration=ct,this._validateStyleAst(Se,e),Se.offset=Qe,i.styles.push(Se)}),i}visitReference(t,e){return{type:8,animation:Da(this,aC(t.animation),e),options:Ag(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ag(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ag(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,l]=function Lse(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Fse,"")),n=n.replace(/@\*/g,qS).replace(/@\w+/g,e=>qS+"-"+e.slice(1)).replace(/:animating/g,nL),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ea(e.collectedStyles,e.currentQuerySelector,new Map);const u=Da(this,aC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:u,originalSelector:t.selector,options:Ag(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Qoe(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:ZS(t.timings,e.errors,!0);return{type:12,animation:Da(this,aC(t.animation),e),timings:i,options:null}}}class Vse{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ag(n){return n?(n=sC(n)).params&&(n.params=function Bse(n){return n?sC(n):null}(n.params)):n={},n}function aL(n,t,e){return{duration:n,delay:t,easing:e}}function lL(n,t,e,i,r,o,l=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:l,subTimeline:u}}class tM{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const $se=new RegExp(":enter","g"),Wse=new RegExp(":leave","g");function cL(n,t,e,i,r,o=new Map,l=new Map,u,m,_=[]){return(new qse).buildKeyframes(n,t,e,i,r,o,l,u,m,_)}class qse{buildKeyframes(t,e,i,r,o,l,u,m,_,b=[]){_=_||new tM;const D=new dL(t,e,_,r,o,b,[]);D.options=m;const R=m.delay?Yu(m.delay):0;D.currentTimeline.delayNextStep(R),D.currentTimeline.setStyles([l],null,D.errors,m),Da(this,i,D);const F=D.timelines.filter($=>$.containsAnimation());if(F.length&&u.size){let $;for(let Z=F.length-1;Z>=0;Z--){const ie=F[Z];if(ie.element===e){$=ie;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([u],null,D.errors,m)}return F.length?F.map($=>$.buildKeyframes()):[lL(e,[],[],[],0,R,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);o!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const l="number"==typeof o?o:Yu(lC(o,r?.params??{},e.errors));i.delayNextStep(l)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const l=null!=i.duration?Yu(i.duration):null,u=null!=i.delay?Yu(i.delay):null;return 0!==l&&t.forEach(m=>{const _=e.appendInstructionToTimeline(m,l,u);o=Math.max(o,_.duration+_.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Da(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=nM);const l=Yu(o.delay);r.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>Da(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Yu(t.options.delay):0;t.steps.forEach(l=>{const u=e.createSubContext(t.options);o&&u.delayNextStep(o),Da(this,l,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return ZS(e.params?lC(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,t.styles.forEach(m=>{u.forwardTime((m.offset||0)*o),u.setStyles(m.styles,m.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Yu(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=nM);let l=i;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let m=null;u.forEach((_,b)=>{e.currentQueryIndex=b;const D=e.createSubContext(t.options,_);o&&D.delayNextStep(o),_===e.element&&(m=D.currentTimeline),Da(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,l=Math.abs(o.duration),u=l*(e.currentQueryTotal-1);let m=l*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=u-m;break;case"full":m=i.currentStaggerTime}const b=e.currentTimeline;m&&b.delayNextStep(m);const D=b.currentTime;Da(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const nM={};class dL{constructor(t,e,i,r,o,l,u,m){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=l,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new iM(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Yu(i.duration)),null!=i.delay&&(r.delay=Yu(i.delay));const o=i.params;if(o){let l=r.params;l||(l=this.options.params={}),Object.keys(o).forEach(u=>{(!e||!l.hasOwnProperty(u))&&(l[u]=lC(o[u],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new dL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=nM,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Zse(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,l){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace($se,"."+this._enterClassName)).replace(Wse,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),u.push(..._)}return!o&&0==u.length&&l.push(function Xoe(n){return new s.vHH(3014,!1)}()),u}}class iM{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new iM(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Pu),this._currentKeyframe.set(e,Pu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},l=function Yse(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Pu)}else _m(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,m]of l){const _=lC(m,o,i);this._pendingStyles.set(u,_),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??Pu),this._updateStyle(u,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,m)=>{const _=_m(u,new Map,this._backFill);_.forEach((b,D)=>{b===A1?t.add(D):b===Pu&&e.add(D)}),i||_.set("offset",m/this.duration),r.push(_)});const o=t.size?YS(t.values()):[],l=e.size?YS(e.values()):[];if(i){const u=r[0],m=new Map(u);u.set("offset",0),m.set("offset",1),r=[u,m]}return lL(this.element,r,o,l,this.duration,this.startTime,this.easing,!1)}}class Zse extends iM{constructor(t,e,i,r,o,l,u=!1){super(t,e,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=u,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],l=i+e,u=e/l,m=_m(t[0]);m.set("offset",0),o.push(m);const _=_m(t[0]);_.set("offset",mG(u)),o.push(_);const b=t.length-1;for(let D=1;D<=b;D++){let R=_m(t[D]);const F=R.get("offset");R.set("offset",mG((e+F*i)/l)),o.push(R)}i=l,e=0,r="",t=o}return lL(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function mG(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class uL{}const Kse=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Qse extends uL{normalizePropertyName(t,e){return oL(t)}normalizeStyleValue(t,e,i,r){let o="";const l=i.toString().trim();if(Kse.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function Hoe(n,t){return new s.vHH(3005,!1)}())}return l+o}}function pG(n,t,e,i,r,o,l,u,m,_,b,D,R){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:l,timelines:u,queriedElements:m,preStyleProps:_,postStyleProps:b,totalTime:D,errors:R}}const hL={};class gG{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Xse(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,l,u,m,_,b){const D=[],R=this.ast.options&&this.ast.options.params||hL,$=this.buildStyles(i,u&&u.params||hL,D),Z=m&&m.params||hL,ie=this.buildStyles(r,Z,D),Se=new Set,Ye=new Map,Qe=new Map,ct="void"===r,$t={params:Jse(Z,R),delay:this.ast.options?.delay},ln=b?[]:cL(t,e,this.ast.animation,o,l,$,ie,$t,_,D);let jn=0;if(ln.forEach(gl=>{jn=Math.max(gl.duration+gl.delay,jn)}),D.length)return pG(e,this._triggerName,i,r,ct,$,ie,[],[],Ye,Qe,jn,D);ln.forEach(gl=>{const Ku=gl.element,NG=Ea(Ye,Ku,new Set);gl.preStyleProps.forEach(kg=>NG.add(kg));const dC=Ea(Qe,Ku,new Set);gl.postStyleProps.forEach(kg=>dC.add(kg)),Ku!==e&&Se.add(Ku)});const Ro=YS(Se.values());return pG(e,this._triggerName,i,r,ct,$,ie,ln,Ro,Ye,Qe,jn)}}function Jse(n,t){const e=sC(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class eae{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=sC(this.defaultParams);return Object.keys(t).forEach(o=>{const l=t[o];null!==l&&(r[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,u)=>{l&&(l=lC(l,r,e));const m=this.normalizer.normalizePropertyName(u,e);l=this.normalizer.normalizeStyleValue(u,m,l,e),i.set(u,l)})}),i}}class nae{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new eae(r.style,r.options&&r.options.params||{},i))}),_G(this.states,"true","1"),_G(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new gG(t,r,this.states))}),this.fallbackTransition=function iae(n,t,e){return new gG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(l=>l.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function _G(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const rae=new tM;class oae{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=[],o=sL(this._driver,e,i,r);if(i.length)throw function ose(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=Y$(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let l;const u=new Map;if(o?(l=cL(this._driver,e,o,tL,GS,new Map,new Map,i,rae,r),l.forEach(b=>{const D=Ea(u,b.element,new Map);b.postStyleProps.forEach(R=>D.set(R,null))})):(r.push(function sse(){return new s.vHH(3300,!1)}()),l=[]),r.length)throw function ase(n){return new s.vHH(3504,!1)}();u.forEach((b,D)=>{b.forEach((R,F)=>{b.set(F,this._driver.computeStyle(D,F,Pu))})});const _=gm(l.map(b=>{const D=u.get(b.element);return this._buildPlayer(b,new Map,D)}));return this._playersById.set(t,_),_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function lse(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=QN(e,"","","");return YN(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const vG="ng-animate-queued",fL="ng-animate-disabled",dae=[],yG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ml="__ng_removed";class mL{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function pae(n){return n??null}(i?t.value:t),i){const o=sC(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const cC="void",pL=new mL(cC);class hae{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,pl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function cse(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function dse(n){return new s.vHH(3303,!1)}();if(!function gae(n){return"start"==n||"done"==n}(i))throw function use(n,t){return new s.vHH(3400,!1)}();const o=Ea(this._elementListeners,t,[]),l={name:e,phase:i,callback:r};o.push(l);const u=Ea(this._engine.statesByElement,t,new Map);return u.has(e)||(pl(t,WS),pl(t,WS+"-"+e),u.set(e,pL)),()=>{this._engine.afterFlush(()=>{const m=o.indexOf(l);m>=0&&o.splice(m,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function hse(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),l=new gL(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(pl(t,WS),pl(t,WS+"-"+e),this._engine.statesByElement.set(t,u=new Map));let m=u.get(e);const _=new mL(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&_.absorbOptions(m.options),u.set(e,_),m||(m=pL),_.value!==cC&&m.value===_.value){if(!function yae(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(m.params,_.params)){const Z=[],ie=o.matchStyles(m.value,m.params,Z),Se=o.matchStyles(_.value,_.params,Z);Z.length?this._engine.reportError(Z):this._engine.afterFlush(()=>{Mg(t,ie),xd(t,Se)})}return}const R=Ea(this._engine.playersByElement,t,[]);R.forEach(Z=>{Z.namespaceId==this.id&&Z.triggerName==e&&Z.queued&&Z.destroy()});let F=o.matchTransition(m.value,_.value,t,_.params),$=!1;if(!F){if(!r)return;F=o.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:F,fromState:m,toState:_,player:l,isFallbackTransition:$}),$||(pl(t,vG),l.onStart(()=>{Cy(t,vG)})),l.onDone(()=>{let Z=this.players.indexOf(l);Z>=0&&this.players.splice(Z,1);const ie=this._engine.playersByElement.get(t);if(ie){let Se=ie.indexOf(l);Se>=0&&ie.splice(Se,1)}}),this.players.push(l),R.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,qS,!0);i.forEach(r=>{if(r[ml])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(l=>l.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),l=new Map;if(o){const u=[];if(o.forEach((m,_)=>{if(l.set(_,m.value),this._triggers.has(_)){const b=this.trigger(t,_,cC,r);b&&u.push(b)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),i&&gm(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const l=o.name;if(r.has(l))return;r.add(l);const m=this._triggers.get(l).fallbackTransition,_=i.get(l)||pL,b=new mL(cC),D=new gL(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:m,fromState:_,toState:b,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let l=t;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[ml];(!o||o===yG)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){pl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,l=this._elementListeners.get(o);l&&l.forEach(u=>{if(u.name==i.triggerName){const m=QN(o,i.triggerName,i.fromState.value,i.toState.value);m._data=t,YN(i.player,u.phase,m,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class fae{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new hae(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,u=this.driver.getParentElement(e);for(;u;){const m=r.get(u);if(m){const _=i.indexOf(m);i.splice(_+1,0,t),l=!0;break}u=this.driver.getParentElement(u)}l||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(rM(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!rM(e))return;const o=e[ml];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),pl(t,fL)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Cy(t,fL))}removeNode(t,e,i,r){if(rM(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[ml]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return rM(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,qS,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,nL,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return gm(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ml];if(e&&e.setForRemoval){if(t[ml]=yG,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(fL)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)pl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?gm(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function fse(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new tM,r=[],o=new Map,l=[],u=new Map,m=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(Et=>{b.add(Et);const Bt=this.driver.query(Et,".ng-animate-queued",!0);for(let Zt=0;Zt<Bt.length;Zt++)b.add(Bt[Zt])});const D=this.bodyNode,R=Array.from(this.statesByElement.keys()),F=xG(R,this.collectedEnterElements),$=new Map;let Z=0;F.forEach((Et,Bt)=>{const Zt=tL+Z++;$.set(Bt,Zt),Et.forEach(Pn=>pl(Pn,Zt))});const ie=[],Se=new Set,Ye=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const Bt=this.collectedLeaveElements[Et],Zt=Bt[ml];Zt&&Zt.setForRemoval&&(ie.push(Bt),Se.add(Bt),Zt.hasAnimation?this.driver.query(Bt,".ng-star-inserted",!0).forEach(Pn=>Se.add(Pn)):Ye.add(Bt))}const Qe=new Map,ct=xG(R,Array.from(Se));ct.forEach((Et,Bt)=>{const Zt=GS+Z++;Qe.set(Bt,Zt),Et.forEach(Pn=>pl(Pn,Zt))}),t.push(()=>{F.forEach((Et,Bt)=>{const Zt=$.get(Bt);Et.forEach(Pn=>Cy(Pn,Zt))}),ct.forEach((Et,Bt)=>{const Zt=Qe.get(Bt);Et.forEach(Pn=>Cy(Pn,Zt))}),ie.forEach(Et=>{this.processLeaveNode(Et)})});const $t=[],ln=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(e).forEach(Zt=>{const Pn=Zt.player,po=Zt.element;if($t.push(Pn),this.collectedEnterElements.length){const Zo=po[ml];if(Zo&&Zo.setForMove){if(Zo.previousTriggersValues&&Zo.previousTriggersValues.has(Zt.triggerName)){const Rg=Zo.previousTriggersValues.get(Zt.triggerName),_l=this.statesByElement.get(Zt.element);if(_l&&_l.has(Zt.triggerName)){const aM=_l.get(Zt.triggerName);aM.value=Rg,_l.set(Zt.triggerName,aM)}}return void Pn.destroy()}}const Cd=!D||!this.driver.containsElement(D,po),Ta=Qe.get(po),vm=$.get(po),rr=this._buildInstruction(Zt,i,vm,Ta,Cd);if(rr.errors&&rr.errors.length)return void ln.push(rr);if(Cd)return Pn.onStart(()=>Mg(po,rr.fromStyles)),Pn.onDestroy(()=>xd(po,rr.toStyles)),void r.push(Pn);if(Zt.isFallbackTransition)return Pn.onStart(()=>Mg(po,rr.fromStyles)),Pn.onDestroy(()=>xd(po,rr.toStyles)),void r.push(Pn);const VG=[];rr.timelines.forEach(Zo=>{Zo.stretchStartingKeyframe=!0,this.disabledNodes.has(Zo.element)||VG.push(Zo)}),rr.timelines=VG,i.append(po,rr.timelines),l.push({instruction:rr,player:Pn,element:po}),rr.queriedElements.forEach(Zo=>Ea(u,Zo,[]).push(Pn)),rr.preStyleProps.forEach((Zo,Rg)=>{if(Zo.size){let _l=m.get(Rg);_l||m.set(Rg,_l=new Set),Zo.forEach((aM,SL)=>_l.add(SL))}}),rr.postStyleProps.forEach((Zo,Rg)=>{let _l=_.get(Rg);_l||_.set(Rg,_l=new Set),Zo.forEach((aM,SL)=>_l.add(SL))})});if(ln.length){const Et=[];ln.forEach(Bt=>{Et.push(function mse(n,t){return new s.vHH(3505,!1)}())}),$t.forEach(Bt=>Bt.destroy()),this.reportError(Et)}const jn=new Map,Ro=new Map;l.forEach(Et=>{const Bt=Et.element;i.has(Bt)&&(Ro.set(Bt,Bt),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,jn))}),r.forEach(Et=>{const Bt=Et.element;this._getPreviousPlayers(Bt,!1,Et.namespaceId,Et.triggerName,null).forEach(Pn=>{Ea(jn,Bt,[]).push(Pn),Pn.destroy()})});const gl=ie.filter(Et=>EG(Et,m,_)),Ku=new Map;wG(Ku,this.driver,Ye,_,Pu).forEach(Et=>{EG(Et,m,_)&&gl.push(Et)});const dC=new Map;F.forEach((Et,Bt)=>{wG(dC,this.driver,new Set(Et),m,A1)}),gl.forEach(Et=>{const Bt=Ku.get(Et),Zt=dC.get(Et);Ku.set(Et,new Map([...Array.from(Bt?.entries()??[]),...Array.from(Zt?.entries()??[])]))});const kg=[],LG=[],BG={};l.forEach(Et=>{const{element:Bt,player:Zt,instruction:Pn}=Et;if(i.has(Bt)){if(b.has(Bt))return Zt.onDestroy(()=>xd(Bt,Pn.toStyles)),Zt.disabled=!0,Zt.overrideTotalTime(Pn.totalTime),void r.push(Zt);let po=BG;if(Ro.size>1){let Ta=Bt;const vm=[];for(;Ta=Ta.parentNode;){const rr=Ro.get(Ta);if(rr){po=rr;break}vm.push(Ta)}vm.forEach(rr=>Ro.set(rr,po))}const Cd=this._buildAnimation(Zt.namespaceId,Pn,jn,o,dC,Ku);if(Zt.setRealPlayer(Cd),po===BG)kg.push(Zt);else{const Ta=this.playersByElement.get(po);Ta&&Ta.length&&(Zt.parentPlayer=gm(Ta)),r.push(Zt)}}else Mg(Bt,Pn.fromStyles),Zt.onDestroy(()=>xd(Bt,Pn.toStyles)),LG.push(Zt),b.has(Bt)&&r.push(Zt)}),LG.forEach(Et=>{const Bt=o.get(Et.element);if(Bt&&Bt.length){const Zt=gm(Bt);Et.setRealPlayer(Zt)}}),r.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<ie.length;Et++){const Bt=ie[Et],Zt=Bt[ml];if(Cy(Bt,GS),Zt&&Zt.hasAnimation)continue;let Pn=[];if(u.size){let Cd=u.get(Bt);Cd&&Cd.length&&Pn.push(...Cd);let Ta=this.driver.query(Bt,nL,!0);for(let vm=0;vm<Ta.length;vm++){let rr=u.get(Ta[vm]);rr&&rr.length&&Pn.push(...rr)}}const po=Pn.filter(Cd=>!Cd.destroyed);po.length?_ae(this,Bt,po):this.processLeaveNode(Bt)}return ie.length=0,kg.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const Bt=this.players.indexOf(Et);this.players.splice(Bt,1)}),Et.play()}),kg}elementContainsData(t,e){let i=!1;const r=e[ml];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let l=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(l=u)}else{const u=this.playersByElement.get(t);if(u){const m=!o||o==cC;u.forEach(_=>{_.queued||!m&&_.triggerName!=r||l.push(_)})}}return(i||r)&&(l=l.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),l}_beforeAnimationBuild(t,e,i){const o=e.element,l=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const _=m.element,b=_!==o,D=Ea(i,_,[]);this._getPreviousPlayers(_,b,l,u,e.toState).forEach(F=>{const $=F.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),F.destroy(),D.push(F)})}Mg(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,l){const u=e.triggerName,m=e.element,_=[],b=new Set,D=new Set,R=e.timelines.map($=>{const Z=$.element;b.add(Z);const ie=Z[ml];if(ie&&ie.removedBeforeQueried)return new iw($.duration,$.delay);const Se=Z!==m,Ye=function vae(n){const t=[];return CG(n,t),t}((i.get(Z)||dae).map(jn=>jn.getRealPlayer())).filter(jn=>!!jn.element&&jn.element===Z),Qe=o.get(Z),ct=l.get(Z),$t=Y$(0,this._normalizer,0,$.keyframes,Qe,ct),ln=this._buildPlayer($,$t,Ye);if($.subTimeline&&r&&D.add(Z),Se){const jn=new gL(t,u,Z);jn.setRealPlayer(ln),_.push(jn)}return ln});_.forEach($=>{Ea(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function mae(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,$.element,$))}),b.forEach($=>pl($,rG));const F=gm(R);return F.onDestroy(()=>{b.forEach($=>Cy($,rG)),xd(m,e.toStyles)}),D.forEach($=>{Ea(r,$,[]).push(F)}),F}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new iw(t.duration,t.delay)}}class gL{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new iw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>YN(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ea(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function rM(n){return n&&1===n.nodeType}function bG(n,t){const e=n.style.display;return n.style.display=t??"none",e}function wG(n,t,e,i,r){const o=[];e.forEach(m=>o.push(bG(m)));const l=[];i.forEach((m,_)=>{const b=new Map;m.forEach(D=>{const R=t.computeStyle(_,D,r);b.set(D,R),(!R||0==R.length)&&(_[ml]=uae,l.push(_))}),n.set(_,b)});let u=0;return e.forEach(m=>bG(m,o[u++])),l}function xG(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const i=1,r=new Set(t),o=new Map;function l(u){if(!u)return i;let m=o.get(u);if(m)return m;const _=u.parentNode;return m=e.has(_)?_:r.has(_)?i:l(_),o.set(u,m),m}return t.forEach(u=>{const m=l(u);m!==i&&e.get(m).push(u)}),e}function pl(n,t){n.classList?.add(t)}function Cy(n,t){n.classList?.remove(t)}function _ae(n,t,e){gm(e).onDone(()=>n.processLeaveNode(t))}function CG(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof SB?CG(i.players,t):t.push(i)}}function EG(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class oM{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new fae(t,e,i),this._timelineEngine=new oae(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const l=t+"-"+r;let u=this._triggerCache[l];if(!u){const m=[],_=[],b=sL(this._driver,o,m,_);if(m.length)throw function ise(n,t){return new s.vHH(3404,!1)}();u=function tae(n,t,e){return new nae(n,t,e)}(r,b,this._normalizer),this._triggerCache[l]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,l]=K$(i);this._timelineEngine.command(o,e,l,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[l,u]=K$(i);return this._timelineEngine.listen(l,e,u,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let wae=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&xd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xd(this._element,this._initialStyles),this._endStyles&&(xd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Mg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mg(this._element,this._endStyles),this._endStyles=null),xd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function _L(n){let t=null;return n.forEach((e,i)=>{(function xae(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class DG{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:dG(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Cae{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return eG(t,e)}getParentElement(t){return JN(t)}query(t,e,i){return tG(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,l=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(m.easing=o);const _=new Map,b=l.filter(F=>F instanceof DG);(function Ise(n,t){return 0===n||0===t})(i,r)&&b.forEach(F=>{F.currentSnapshot.forEach(($,Z)=>_.set(Z,$))});let D=function Cse(n){return n.length?n[0]instanceof Map?n:n.map(t=>oG(t)):[]}(e).map(F=>_m(F));D=function Sse(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,l)=>{i.has(l)||r.push(l),i.set(l,o)}),r.length)for(let o=1;o<t.length;o++){let l=t[o];r.forEach(u=>l.set(u,dG(n,u)))}}return t}(t,D,_);const R=function bae(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=_L(t[0]),t.length>1&&(i=_L(t[t.length-1]))):t instanceof Map&&(e=_L(t)),e||i?new wae(n,e,i):null}(t,D);return new DG(t,D,m,R)}}let Eae=(()=>{class n extends DB{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?TB(e):e;return TG(this._renderer,null,i,"register",[r]),new Dae(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(re))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Dae extends xW{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Tae(this._id,t,e||{},this._renderer)}}class Tae{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return TG(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function TG(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const IG="@.disabled";let Iae=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,l)=>{const u=l?.parentNode(o);u&&l.removeChild(u,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(o);return b||(b=new SG("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,b)),b}const l=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const m=b=>{Array.isArray(b)?b.forEach(m):this.engine.registerTrigger(l,u,e,b.name,b)};return i.data.animation.forEach(m),new Sae(this,u,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,u]=o;l(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(oM),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class SG{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==IG?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Sae extends SG{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==IG?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Mae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function Aae(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,l,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(t,e,i)}}let kae=(()=>{class n extends oM{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(re),s.LFG(eL),s.LFG(uL),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const MG=[{provide:DB,useClass:Eae},{provide:uL,useFactory:function Rae(){return new Qse}},{provide:oM,useClass:kae},{provide:s.FYo,useFactory:function Oae(n,t,e){return new Iae(n,t,e)},deps:[xr,oM,s.R0b]}],vL=[{provide:eL,useFactory:()=>new Cae},{provide:s.QbO,useValue:"BrowserAnimations"},...MG],AG=[{provide:eL,useClass:nG},{provide:s.QbO,useValue:"NoopAnimations"},...MG];let kG=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?AG:vL}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:vL,imports:[Ms]}),n})(),Pae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ms,kG]}),n})(),Fae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Pae]}),n})();const mc=()=>(n=>(0,tb.z)(qN,(0,Oe.U)(t=>t||n)))(["login"]);let Nae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[rd.forRoot([{path:"create-plan",component:K4,canActivate:[fl,pm],data:{authGuardPipe:mc}},{path:"register",component:gne},{path:"login",component:vne},{path:"users-list",component:oie,canActivate:[fl,pm],data:{authGuardPipe:mc}},{path:"user/:userId",component:cie,canActivate:[fl,pm],data:{authGuardPipe:mc}},{path:"create-plan/:authId",component:K4,canActivate:[fl,pm],data:{authGuardPipe:mc}},{path:"training-plans",component:M$,canActivate:[fl],data:{authGuardPipe:mc}},{path:"training-plans/:authId",component:M$,canActivate:[fl,pm],data:{authGuardPipe:mc}},{path:"edit-plan/:authId/:trainingId",component:aoe,canActivate:[fl,pm],data:{authGuardPipe:mc}},{path:"training/:trainingId",component:voe,canActivate:[fl],data:{authGuardPipe:mc}},{path:"",component:W$},{path:"home",component:W$,canActivate:[fl],data:{authGuardPipe:mc}},{path:"reports/:authId",component:koe,canActivate:[fl,pm],data:{authGuardPipe:mc}},{path:"reports",component:Foe,canActivate:[fl],data:{authGuardPipe:mc}}]),Lre,Vre,Hre,jre,$re,soe,loe,yoe,boe,xoe,Coe,Ooe,Fae,rd]}),n})();const yL_firebase={projectId:"trainingonline-d1364",appId:"1:726344567352:web:f90df18691dad74b3274cd",databaseURL:"https://trainingonline-d1364-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"trainingonline-d1364.appspot.com",apiKey:"AIzaSyCbca-F_ZLetGyP8fsdiKbUu3n-AIb3hbU",authDomain:"trainingonline-d1364.firebaseapp.com",messagingSenderId:"726344567352"};var Lae=j(1389);class bL{constructor(t){return t}}class wL{constructor(){return(0,nn.vb)("auth")}}const xL=new s.OlP("angularfire2.auth-instances");function Vae(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new bL(i)}}const Uae={provide:wL,deps:[[new s.FiY,xL]]},Hae={provide:bL,useFactory:function Bae(n,t){const e=(0,nn.JM)("auth",n,t);return e&&new bL(e)},deps:[[new s.FiY,xL],Ef]};let jae=(()=>{class n{constructor(){(0,Un.KN)("angularfire",nn.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Hae,Uae]}),n})();function zae(n,...t){return{ngModule:jae,providers:[{provide:xL,useFactory:Vae(n),multi:!0,deps:[s.R0b,s.zs3,nn.HU,Rp,[new s.FiY,If],...t]}]}}const $ae=(0,nn.u3)(Lae.o,!0);class CL{constructor(t){return t}}const OG="database",EL=new s.OlP("angularfire2.database-instances");function qae(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new CL(i)}}const Zae={provide:class Gae{constructor(){return(0,nn.vb)(OG)}},deps:[[new s.FiY,EL]]},Yae={provide:CL,useFactory:function Wae(n,t){const e=(0,nn.JM)(OG,n,t);return e&&new CL(e)},deps:[[new s.FiY,EL],Ef]};let Kae=(()=>{class n{constructor(){(0,Un.KN)("angularfire",nn.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Yae,Zae]}),n})();function Qae(n,...t){return{ngModule:Kae,providers:[{provide:EL,useFactory:qae(n),multi:!0,deps:[s.R0b,s.zs3,nn.HU,Rp,[new s.FiY,wL],[new s.FiY,If],...t]}]}}const Xae=(0,nn.u3)(NJ,!0);class DL{constructor(t){return t}}const PG="firestore",TL=new s.OlP("angularfire2.firestore-instances");function tle(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new DL(i)}}const nle={provide:class Jae{constructor(){return(0,nn.vb)(PG)}},deps:[[new s.FiY,TL]]},ile={provide:DL,useFactory:function ele(n,t){const e=(0,nn.JM)(PG,n,t);return e&&new DL(e)},deps:[[new s.FiY,TL],Ef]};let rle=(()=>{class n{constructor(){(0,Un.KN)("angularfire",nn.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ile,nle]}),n})();function ole(n,...t){return{ngModule:rle,providers:[{provide:TL,useFactory:tle(n),multi:!0,deps:[s.R0b,s.zs3,nn.HU,Rp,[new s.FiY,wL],[new s.FiY,If],...t]}]}}const sle=(0,nn.u3)(j7,!0),dle={provide:new s.OlP("mat-menu-scroll-strategy"),deps:[wd],useFactory:function cle(n){return()=>n.scrollStrategies.reposition()}};let ule=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[dle],imports:[In,wv,U,eC,Ff,U]}),n})(),hle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[V5,rd,xv,Yx,NW,P1,In,ule,ow,Yl]}),n})(),fle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[tC]}),n})(),mle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[rl]}),n})();const IL=new Gi(!1);function ple(n){return()=>n.load().pipe((0,Vn.b)(()=>{IL.next(!0)}),tn(()=>je(!0)))}IL.asObservable();let gle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[Dq]}),n.\u0275inj=s.cJS({providers:[{provide:s.ip1,useFactory:ple,deps:[tC],multi:!0}],imports:[Ms,Nae,kG,Lt,GA(()=>WA(yL_firebase)),zae(()=>$ae()),Qae(()=>Xae()),ole(()=>sle()),Br.hO.initializeApp(yL_firebase),Yl,hle,F4,fle,mle]}),n})();Am().bootstrapModule(gle).catch(n=>console.error(n))},9751:(xt,Ae,j)=>{j.d(Ae,{y:()=>be});var s=j(930),G=j(727),N=j(8822),se=j(9635),ue=j(2416),re=j(576),De=j(2806);let be=(()=>{class ne{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Xe=new ne;return Xe.source=this,Xe.operator=ke,Xe}subscribe(ke,Xe,dt){const we=function Y(ne){return ne&&ne instanceof s.Lv||function K(ne){return ne&&(0,re.m)(ne.next)&&(0,re.m)(ne.error)&&(0,re.m)(ne.complete)}(ne)&&(0,G.Nn)(ne)}(ke)?ke:new s.Hp(ke,Xe,dt);return(0,De.x)(()=>{const{operator:Fe,source:Le}=this;we.add(Fe?Fe.call(we,Le):Le?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Xe){ke.error(Xe)}}forEach(ke,Xe){return new(Xe=xe(Xe))((dt,we)=>{const Fe=new s.Hp({next:Le=>{try{ke(Le)}catch(ze){we(ze),Fe.unsubscribe()}},error:we,complete:dt});this.subscribe(Fe)})}_subscribe(ke){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(ke)}[N.L](){return this}pipe(...ke){return(0,se.U)(ke)(this)}toPromise(ke){return new(ke=xe(ke))((Xe,dt)=>{let we;this.subscribe(Fe=>we=Fe,Fe=>dt(Fe),()=>Xe(we))})}}return ne.create=Ge=>new ne(Ge),ne})();function xe(ne){var Ge;return null!==(Ge=ne??ue.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(xt,Ae,j)=>{j.d(Ae,{x:()=>De});var s=j(9751),G=j(727);const se=(0,j(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=j(8737),re=j(2806);let De=(()=>{class xe extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const ne=new be(this,this);return ne.operator=Y,ne}_throwIfClosed(){if(this.closed)throw new se}next(Y){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(Y)}})}error(Y){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:ne}=this;for(;ne.length;)ne.shift().error(Y)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:ne,isStopped:Ge,observers:ke}=this;return ne||Ge?G.Lc:(this.currentObservers=null,ke.push(Y),new G.w0(()=>{this.currentObservers=null,(0,ue.P)(ke,Y)}))}_checkFinalizedStatuses(Y){const{hasError:ne,thrownError:Ge,isStopped:ke}=this;ne?Y.error(Ge):ke&&Y.complete()}asObservable(){const Y=new s.y;return Y.source=this,Y}}return xe.create=(K,Y)=>new be(K,Y),xe})();class be extends De{constructor(K,Y){super(),this.destination=K,this.source=Y}next(K){var Y,ne;null===(ne=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===ne||ne.call(Y,K)}error(K){var Y,ne;null===(ne=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===ne||ne.call(Y,K)}complete(){var K,Y;null===(Y=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===Y||Y.call(K)}_subscribe(K){var Y,ne;return null!==(ne=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(K))&&void 0!==ne?ne:G.Lc}}},930:(xt,Ae,j)=>{j.d(Ae,{Hp:()=>dt,Lv:()=>ne});var s=j(576),G=j(727),N=j(2416),se=j(7849),ue=j(5032);const re=xe("C",void 0,void 0);function xe(Me,Ie,Ne){return{kind:Me,value:Ie,error:Ne}}var K=j(3410),Y=j(2806);class ne extends G.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,G.Nn)(Ie)&&Ie.add(this)):this.destination=ze}static create(Ie,Ne,We){return new dt(Ie,Ne,We)}next(Ie){this.isStopped?Le(function be(Me){return xe("N",Me,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?Le(function De(Me){return xe("E",void 0,Me)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?Le(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function ke(Me,Ie){return Ge.call(Me,Ie)}class Xe{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(Ie)}catch(We){we(We)}}error(Ie){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(Ie)}catch(We){we(We)}else we(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(Ne){we(Ne)}}}class dt extends ne{constructor(Ie,Ne,We){let Ve;if(super(),(0,s.m)(Ie)||!Ie)Ve={next:Ie??void 0,error:Ne??void 0,complete:We??void 0};else{let de;this&&N.v.useDeprecatedNextContext?(de=Object.create(Ie),de.unsubscribe=()=>this.unsubscribe(),Ve={next:Ie.next&&ke(Ie.next,de),error:Ie.error&&ke(Ie.error,de),complete:Ie.complete&&ke(Ie.complete,de)}):Ve=Ie}this.destination=new Xe(Ve)}}function we(Me){N.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Me):(0,se.h)(Me)}function Le(Me,Ie){const{onStoppedNotification:Ne}=N.v;Ne&&K.z.setTimeout(()=>Ne(Me,Ie))}const ze={closed:!0,next:ue.Z,error:function Fe(Me){throw Me},complete:ue.Z}},727:(xt,Ae,j)=>{j.d(Ae,{Lc:()=>re,w0:()=>ue,Nn:()=>De});var s=j(576);const N=(0,j(3888).d)(xe=>function(Y){xe(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((ne,Ge)=>`${Ge+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var se=j(8737);class ue{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const ke of Y)ke.remove(this);else Y.remove(this);const{initialTeardown:ne}=this;if((0,s.m)(ne))try{ne()}catch(ke){K=ke instanceof N?ke.errors:[ke]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const ke of Ge)try{be(ke)}catch(Xe){K=K??[],Xe instanceof N?K=[...K,...Xe.errors]:K.push(Xe)}}if(K)throw new N(K)}}add(K){var Y;if(K&&K!==this)if(this.closed)be(K);else{if(K instanceof ue){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(K)}}_hasParent(K){const{_parentage:Y}=this;return Y===K||Array.isArray(Y)&&Y.includes(K)}_addParent(K){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(K),Y):Y?[Y,K]:K}_removeParent(K){const{_parentage:Y}=this;Y===K?this._parentage=null:Array.isArray(Y)&&(0,se.P)(Y,K)}remove(K){const{_finalizers:Y}=this;Y&&(0,se.P)(Y,K),K instanceof ue&&K._removeParent(this)}}ue.EMPTY=(()=>{const xe=new ue;return xe.closed=!0,xe})();const re=ue.EMPTY;function De(xe){return xe instanceof ue||xe&&"closed"in xe&&(0,s.m)(xe.remove)&&(0,s.m)(xe.add)&&(0,s.m)(xe.unsubscribe)}function be(xe){(0,s.m)(xe)?xe():xe.unsubscribe()}},2416:(xt,Ae,j)=>{j.d(Ae,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(xt,Ae,j)=>{j.d(Ae,{E:()=>G});const G=new(j(9751).y)(ue=>ue.complete())},8996:(xt,Ae,j)=>{j.d(Ae,{D:()=>Ie});var s=j(8421),G=j(5363),N=j(9468),re=j(9751),be=j(2202),xe=j(576),K=j(9672);function ne(Ne,We){if(!Ne)throw new Error("Iterable cannot be null");return new re.y(Ve=>{(0,K.f)(Ve,We,()=>{const de=Ne[Symbol.asyncIterator]();(0,K.f)(Ve,We,()=>{de.next().then(ot=>{ot.done?Ve.complete():Ve.next(ot.value)})},0,!0)})})}var Ge=j(3670),ke=j(8239),Xe=j(1144),dt=j(6495),we=j(2206),Fe=j(4532),Le=j(3260);function Ie(Ne,We){return We?function Me(Ne,We){if(null!=Ne){if((0,Ge.c)(Ne))return function se(Ne,We){return(0,s.Xf)(Ne).pipe((0,N.R)(We),(0,G.Q)(We))}(Ne,We);if((0,Xe.z)(Ne))return function De(Ne,We){return new re.y(Ve=>{let de=0;return We.schedule(function(){de===Ne.length?Ve.complete():(Ve.next(Ne[de++]),Ve.closed||this.schedule())})})}(Ne,We);if((0,ke.t)(Ne))return function ue(Ne,We){return(0,s.Xf)(Ne).pipe((0,N.R)(We),(0,G.Q)(We))}(Ne,We);if((0,we.D)(Ne))return ne(Ne,We);if((0,dt.T)(Ne))return function Y(Ne,We){return new re.y(Ve=>{let de;return(0,K.f)(Ve,We,()=>{de=Ne[be.h](),(0,K.f)(Ve,We,()=>{let ot,Mt;try{({value:ot,done:Mt}=de.next())}catch(ut){return void Ve.error(ut)}Mt?Ve.complete():Ve.next(ot)},0,!0)}),()=>(0,xe.m)(de?.return)&&de.return()})}(Ne,We);if((0,Le.L)(Ne))return function ze(Ne,We){return ne((0,Le.Q)(Ne),We)}(Ne,We)}throw(0,Fe.z)(Ne)}(Ne,We):(0,s.Xf)(Ne)}},8421:(xt,Ae,j)=>{j.d(Ae,{Xf:()=>Ge});var s=j(7582),G=j(1144),N=j(8239),se=j(9751),ue=j(3670),re=j(2206),De=j(4532),be=j(6495),xe=j(3260),K=j(576),Y=j(7849),ne=j(8822);function Ge(Me){if(Me instanceof se.y)return Me;if(null!=Me){if((0,ue.c)(Me))return function ke(Me){return new se.y(Ie=>{const Ne=Me[ne.L]();if((0,K.m)(Ne.subscribe))return Ne.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,G.z)(Me))return function Xe(Me){return new se.y(Ie=>{for(let Ne=0;Ne<Me.length&&!Ie.closed;Ne++)Ie.next(Me[Ne]);Ie.complete()})}(Me);if((0,N.t)(Me))return function dt(Me){return new se.y(Ie=>{Me.then(Ne=>{Ie.closed||(Ie.next(Ne),Ie.complete())},Ne=>Ie.error(Ne)).then(null,Y.h)})}(Me);if((0,re.D)(Me))return Fe(Me);if((0,be.T)(Me))return function we(Me){return new se.y(Ie=>{for(const Ne of Me)if(Ie.next(Ne),Ie.closed)return;Ie.complete()})}(Me);if((0,xe.L)(Me))return function Le(Me){return Fe((0,xe.Q)(Me))}(Me)}throw(0,De.z)(Me)}function Fe(Me){return new se.y(Ie=>{(function ze(Me,Ie){var Ne,We,Ve,de;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Ne=(0,s.KL)(Me);!(We=yield Ne.next()).done;)if(Ie.next(We.value),Ie.closed)return}catch(ot){Ve={error:ot}}finally{try{We&&!We.done&&(de=Ne.return)&&(yield de.call(Ne))}finally{if(Ve)throw Ve.error}}Ie.complete()})})(Me,Ie).catch(Ne=>Ie.error(Ne))})}},6451:(xt,Ae,j)=>{j.d(Ae,{T:()=>re});var s=j(8189),G=j(8421),N=j(515),se=j(3269),ue=j(8996);function re(...De){const be=(0,se.yG)(De),xe=(0,se._6)(De,1/0),K=De;return K.length?1===K.length?(0,G.Xf)(K[0]):(0,s.J)(xe)((0,ue.D)(K,be)):N.E}},5403:(xt,Ae,j)=>{j.d(Ae,{x:()=>G});var s=j(930);function G(se,ue,re,De,be){return new N(se,ue,re,De,be)}class N extends s.Lv{constructor(ue,re,De,be,xe,K){super(ue),this.onFinalize=xe,this.shouldUnsubscribe=K,this._next=re?function(Y){try{re(Y)}catch(ne){ue.error(ne)}}:super._next,this._error=be?function(Y){try{be(Y)}catch(ne){ue.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(Y){ue.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(xt,Ae,j)=>{j.d(Ae,{U:()=>N});var s=j(4482),G=j(5403);function N(se,ue){return(0,s.e)((re,De)=>{let be=0;re.subscribe((0,G.x)(De,xe=>{De.next(se.call(ue,xe,be++))}))})}},8189:(xt,Ae,j)=>{j.d(Ae,{J:()=>N});var s=j(5577),G=j(4671);function N(se=1/0){return(0,s.z)(G.y,se)}},5577:(xt,Ae,j)=>{j.d(Ae,{z:()=>be});var s=j(4004),G=j(8421),N=j(4482),se=j(9672),ue=j(5403),De=j(576);function be(xe,K,Y=1/0){return(0,De.m)(K)?be((ne,Ge)=>(0,s.U)((ke,Xe)=>K(ne,ke,Ge,Xe))((0,G.Xf)(xe(ne,Ge))),Y):("number"==typeof K&&(Y=K),(0,N.e)((ne,Ge)=>function re(xe,K,Y,ne,Ge,ke,Xe,dt){const we=[];let Fe=0,Le=0,ze=!1;const Me=()=>{ze&&!we.length&&!Fe&&K.complete()},Ie=We=>Fe<ne?Ne(We):we.push(We),Ne=We=>{ke&&K.next(We),Fe++;let Ve=!1;(0,G.Xf)(Y(We,Le++)).subscribe((0,ue.x)(K,de=>{Ge?.(de),ke?Ie(de):K.next(de)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(Fe--;we.length&&Fe<ne;){const de=we.shift();Xe?(0,se.f)(K,Xe,()=>Ne(de)):Ne(de)}Me()}catch(de){K.error(de)}}))};return xe.subscribe((0,ue.x)(K,Ie,()=>{ze=!0,Me()})),()=>{dt?.()}}(ne,Ge,xe,Y)))}},5363:(xt,Ae,j)=>{j.d(Ae,{Q:()=>se});var s=j(9672),G=j(4482),N=j(5403);function se(ue,re=0){return(0,G.e)((De,be)=>{De.subscribe((0,N.x)(be,xe=>(0,s.f)(be,ue,()=>be.next(xe),re),()=>(0,s.f)(be,ue,()=>be.complete(),re),xe=>(0,s.f)(be,ue,()=>be.error(xe),re)))})}},3099:(xt,Ae,j)=>{j.d(Ae,{B:()=>ue});var s=j(8421),G=j(7579),N=j(930),se=j(4482);function ue(De={}){const{connector:be=(()=>new G.x),resetOnError:xe=!0,resetOnComplete:K=!0,resetOnRefCountZero:Y=!0}=De;return ne=>{let Ge,ke,Xe,dt=0,we=!1,Fe=!1;const Le=()=>{ke?.unsubscribe(),ke=void 0},ze=()=>{Le(),Ge=Xe=void 0,we=Fe=!1},Me=()=>{const Ie=Ge;ze(),Ie?.unsubscribe()};return(0,se.e)((Ie,Ne)=>{dt++,!Fe&&!we&&Le();const We=Xe=Xe??be();Ne.add(()=>{dt--,0===dt&&!Fe&&!we&&(ke=re(Me,Y))}),We.subscribe(Ne),!Ge&&dt>0&&(Ge=new N.Hp({next:Ve=>We.next(Ve),error:Ve=>{Fe=!0,Le(),ke=re(ze,xe,Ve),We.error(Ve)},complete:()=>{we=!0,Le(),ke=re(ze,K),We.complete()}}),(0,s.Xf)(Ie).subscribe(Ge))})(ne)}}function re(De,be,...xe){if(!0===be)return void De();if(!1===be)return;const K=new N.Hp({next:()=>{K.unsubscribe(),De()}});return(0,s.Xf)(be(...xe)).subscribe(K)}},9468:(xt,Ae,j)=>{j.d(Ae,{R:()=>G});var s=j(4482);function G(N,se=0){return(0,s.e)((ue,re)=>{re.add(N.schedule(()=>ue.subscribe(re),se))})}},8505:(xt,Ae,j)=>{j.d(Ae,{b:()=>ue});var s=j(576),G=j(4482),N=j(5403),se=j(4671);function ue(re,De,be){const xe=(0,s.m)(re)||De||be?{next:re,error:De,complete:be}:re;return xe?(0,G.e)((K,Y)=>{var ne;null===(ne=xe.subscribe)||void 0===ne||ne.call(xe);let Ge=!0;K.subscribe((0,N.x)(Y,ke=>{var Xe;null===(Xe=xe.next)||void 0===Xe||Xe.call(xe,ke),Y.next(ke)},()=>{var ke;Ge=!1,null===(ke=xe.complete)||void 0===ke||ke.call(xe),Y.complete()},ke=>{var Xe;Ge=!1,null===(Xe=xe.error)||void 0===Xe||Xe.call(xe,ke),Y.error(ke)},()=>{var ke,Xe;Ge&&(null===(ke=xe.unsubscribe)||void 0===ke||ke.call(xe)),null===(Xe=xe.finalize)||void 0===Xe||Xe.call(xe)}))}):se.y}},4408:(xt,Ae,j)=>{j.d(Ae,{o:()=>ue});var s=j(727);class G extends s.w0{constructor(De,be){super()}schedule(De,be=0){return this}}const N={setInterval(re,De,...be){const{delegate:xe}=N;return xe?.setInterval?xe.setInterval(re,De,...be):setInterval(re,De,...be)},clearInterval(re){const{delegate:De}=N;return(De?.clearInterval||clearInterval)(re)},delegate:void 0};var se=j(8737);class ue extends G{constructor(De,be){super(De,be),this.scheduler=De,this.work=be,this.pending=!1}schedule(De,be=0){var xe;if(this.closed)return this;this.state=De;const K=this.id,Y=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(Y,K,be)),this.pending=!0,this.delay=be,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(Y,this.id,be),this}requestAsyncId(De,be,xe=0){return N.setInterval(De.flush.bind(De,this),xe)}recycleAsyncId(De,be,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return be;null!=be&&N.clearInterval(be)}execute(De,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(De,be);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,be){let K,xe=!1;try{this.work(De)}catch(Y){xe=!0,K=Y||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:De,scheduler:be}=this,{actions:xe}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(xe,this),null!=De&&(this.id=this.recycleAsyncId(be,De,null)),this.delay=null,super.unsubscribe()}}}},7565:(xt,Ae,j)=>{j.d(Ae,{v:()=>N});var s=j(6063);class G{constructor(ue,re=G.now){this.schedulerActionCtor=ue,this.now=re}schedule(ue,re=0,De){return new this.schedulerActionCtor(this,ue).schedule(De,re)}}G.now=s.l.now;class N extends G{constructor(ue,re=G.now){super(ue,re),this.actions=[],this._active=!1}flush(ue){const{actions:re}=this;if(this._active)return void re.push(ue);let De;this._active=!0;do{if(De=ue.execute(ue.state,ue.delay))break}while(ue=re.shift());if(this._active=!1,De){for(;ue=re.shift();)ue.unsubscribe();throw De}}}},4986:(xt,Ae,j)=>{j.d(Ae,{P:()=>se,z:()=>N});var s=j(4408);const N=new(j(7565).v)(s.o),se=N},6063:(xt,Ae,j)=>{j.d(Ae,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(xt,Ae,j)=>{j.d(Ae,{z:()=>s});const s={setTimeout(G,N,...se){const{delegate:ue}=s;return ue?.setTimeout?ue.setTimeout(G,N,...se):setTimeout(G,N,...se)},clearTimeout(G){const{delegate:N}=s;return(N?.clearTimeout||clearTimeout)(G)},delegate:void 0}},2202:(xt,Ae,j)=>{j.d(Ae,{h:()=>G});const G=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xt,Ae,j)=>{j.d(Ae,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(xt,Ae,j)=>{j.d(Ae,{_6:()=>re,jO:()=>se,yG:()=>ue});var s=j(576),G=j(3532);function N(De){return De[De.length-1]}function se(De){return(0,s.m)(N(De))?De.pop():void 0}function ue(De){return(0,G.K)(N(De))?De.pop():void 0}function re(De,be){return"number"==typeof N(De)?De.pop():be}},8737:(xt,Ae,j)=>{function s(G,N){if(G){const se=G.indexOf(N);0<=se&&G.splice(se,1)}}j.d(Ae,{P:()=>s})},3888:(xt,Ae,j)=>{function s(G){const se=G(ue=>{Error.call(ue),ue.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}j.d(Ae,{d:()=>s})},2806:(xt,Ae,j)=>{j.d(Ae,{O:()=>se,x:()=>N});var s=j(2416);let G=null;function N(ue){if(s.v.useDeprecatedSynchronousErrorHandling){const re=!G;if(re&&(G={errorThrown:!1,error:null}),ue(),re){const{errorThrown:De,error:be}=G;if(G=null,De)throw be}}else ue()}function se(ue){s.v.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=ue)}},9672:(xt,Ae,j)=>{function s(G,N,se,ue=0,re=!1){const De=N.schedule(function(){se(),re?G.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(G.add(De),!re)return De}j.d(Ae,{f:()=>s})},4671:(xt,Ae,j)=>{function s(G){return G}j.d(Ae,{y:()=>s})},1144:(xt,Ae,j)=>{j.d(Ae,{z:()=>s});const s=G=>G&&"number"==typeof G.length&&"function"!=typeof G},2206:(xt,Ae,j)=>{j.d(Ae,{D:()=>G});var s=j(576);function G(N){return Symbol.asyncIterator&&(0,s.m)(N?.[Symbol.asyncIterator])}},576:(xt,Ae,j)=>{function s(G){return"function"==typeof G}j.d(Ae,{m:()=>s})},3670:(xt,Ae,j)=>{j.d(Ae,{c:()=>N});var s=j(8822),G=j(576);function N(se){return(0,G.m)(se[s.L])}},6495:(xt,Ae,j)=>{j.d(Ae,{T:()=>N});var s=j(2202),G=j(576);function N(se){return(0,G.m)(se?.[s.h])}},8239:(xt,Ae,j)=>{j.d(Ae,{t:()=>G});var s=j(576);function G(N){return(0,s.m)(N?.then)}},3260:(xt,Ae,j)=>{j.d(Ae,{L:()=>se,Q:()=>N});var s=j(7582),G=j(576);function N(ue){return(0,s.FC)(this,arguments,function*(){const De=ue.getReader();try{for(;;){const{value:be,done:xe}=yield(0,s.qq)(De.read());if(xe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(be)}}finally{De.releaseLock()}})}function se(ue){return(0,G.m)(ue?.getReader)}},3532:(xt,Ae,j)=>{j.d(Ae,{K:()=>G});var s=j(576);function G(N){return N&&(0,s.m)(N.schedule)}},4482:(xt,Ae,j)=>{j.d(Ae,{A:()=>G,e:()=>N});var s=j(576);function G(se){return(0,s.m)(se?.lift)}function N(se){return ue=>{if(G(ue))return ue.lift(function(re){try{return se(re,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(xt,Ae,j)=>{function s(){}j.d(Ae,{Z:()=>s})},9635:(xt,Ae,j)=>{j.d(Ae,{U:()=>N,z:()=>G});var s=j(4671);function G(...se){return N(se)}function N(se){return 0===se.length?s.y:1===se.length?se[0]:function(re){return se.reduce((De,be)=>be(De),re)}}},7849:(xt,Ae,j)=>{j.d(Ae,{h:()=>N});var s=j(2416),G=j(3410);function N(se){G.z.setTimeout(()=>{const{onUnhandledError:ue}=s.v;if(!ue)throw se;ue(se)})}},4532:(xt,Ae,j)=>{function s(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Ae,{z:()=>s})},4650:(xt,Ae,j)=>{j.d(Ae,{$8M:()=>Pl,$WT:()=>ar,$Z:()=>ab,AFp:()=>$k,ALo:()=>ov,AaK:()=>be,AsE:()=>Vb,BQk:()=>F_,CHM:()=>Md,CRH:()=>uv,CZH:()=>R0,CqO:()=>xu,D6c:()=>sT,DdM:()=>pk,EJc:()=>z2,EiD:()=>CM,EpF:()=>_E,F$t:()=>xE,F4k:()=>Tp,FYo:()=>s_,FiY:()=>Cr,G48:()=>tB,Gf:()=>Dk,GfV:()=>Yc,GkF:()=>gE,Gpc:()=>Y,Hsn:()=>Sb,Ikx:()=>Wb,JOm:()=>bo,JVY:()=>Qh,JZr:()=>dt,KtG:()=>Dl,L6k:()=>qm,LAX:()=>vM,LFG:()=>Gt,Lbi:()=>V2,Lck:()=>yD,MAs:()=>pE,MMx:()=>tv,MR2:()=>RL,NdJ:()=>Tb,O4$:()=>Od,OlP:()=>gn,Oqu:()=>Bb,P3R:()=>ef,PXZ:()=>Xk,Q6J:()=>Eb,QGY:()=>Dp,QbO:()=>U2,Qsj:()=>IC,R0b:()=>pa,RDi:()=>cM,Rgc:()=>Mf,SBq:()=>Xm,Sil:()=>G2,Suo:()=>Rf,TTD:()=>oh,TgZ:()=>R_,Udp:()=>Ob,VKq:()=>ID,W1O:()=>hv,WFA:()=>Ib,X6Q:()=>n1,XFs:()=>vt,Xpm:()=>Wt,Xts:()=>ii,Y36:()=>cf,YKP:()=>v0,YNc:()=>bu,Yjl:()=>on,Yz7:()=>ft,Z0I:()=>Gn,ZZ4:()=>rT,_Bn:()=>vD,_UZ:()=>Db,_Vd:()=>rf,_c5:()=>oT,_uU:()=>$E,aQg:()=>X0,c2e:()=>H2,cJS:()=>Dt,cg1:()=>$_,d8E:()=>rd,dDg:()=>pv,dqk:()=>yn,eBb:()=>Fy,eFA:()=>e1,eJc:()=>UD,ekj:()=>Pb,eoX:()=>P0,f3M:()=>Jn,g9A:()=>Wk,h0i:()=>ic,hGG:()=>J0,hij:()=>xi,iGM:()=>Ek,ifc:()=>V,ip1:()=>zk,jDz:()=>b0,kL8:()=>UA,kcU:()=>Ic,lG2:()=>kt,lcZ:()=>sv,lqb:()=>qc,lri:()=>ga,mCW:()=>xo,n5z:()=>Hd,n_E:()=>rc,oAB:()=>ae,oxw:()=>wE,pB0:()=>Ny,q3G:()=>cr,q4F:()=>AC,qLn:()=>Jm,qOj:()=>ed,qZA:()=>O_,qzn:()=>Ka,rWj:()=>ad,sBO:()=>iB,s_b:()=>Su,soG:()=>O0,tBr:()=>Ll,tb:()=>KD,tp0:()=>Ga,uIk:()=>wb,vHH:()=>we,vpe:()=>On,wAp:()=>Pt,xp6:()=>BC,ynx:()=>P_,z2F:()=>H0,z3N:()=>la,zSh:()=>DC,zs3:()=>Ja});var s=j(7579),G=j(727),N=j(9751),se=j(6451),ue=j(3099);function re(a){for(let c in a)if(a[c]===re)return c;throw Error("Could not find renamed property on target object.")}function De(a,c){for(const d in c)c.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=c[d])}function be(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(be).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function xe(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const K=re({__forward_ref__:re});function Y(a){return a.__forward_ref__=Y,a.toString=function(){return be(this())},a}function ne(a){return Ge(a)?a():a}function Ge(a){return"function"==typeof a&&a.hasOwnProperty(K)&&a.__forward_ref__===Y}function ke(a){return a&&!!a.\u0275providers}const dt="https://g.co/ng/security#xss";class we extends Error{constructor(c,d){super(Fe(c,d)),this.code=c}}function Fe(a,c){return`NG0${Math.abs(a)}${c?": "+c.trim():""}`}function Le(a){return"string"==typeof a?a:null==a?"":String(a)}function We(a,c){throw new we(-201,!1)}function ye(a,c){null==a&&function oe(a,c,d,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${d} ${h} ${c} <=Actual]`))}(c,a,null,"!=")}function ft(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Dt(a){return{providers:a.providers||[],imports:a.imports||[]}}function un(a){return xn(a,Qn)||xn(a,Ur)}function Gn(a){return null!==un(a)}function xn(a,c){return a.hasOwnProperty(c)?a[c]:null}function Wn(a){return a&&(a.hasOwnProperty(bi)||a.hasOwnProperty(si))?a[bi]:null}const Qn=re({\u0275prov:re}),bi=re({\u0275inj:re}),Ur=re({ngInjectableDef:re}),si=re({ngInjectorDef:re});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let ai;function ui(a){const c=ai;return ai=a,c}function or(a,c,d){const h=un(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&vt.Optional?null:void 0!==c?c:void We(be(a))}const yn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),hi={},Ki="__NG_DI_FLAG__",Xn="ngTempTokenPath",gr="ngTokenPath",li=/\n/gm,Ti="\u0275",Jt="__source";let Hr;function rn(a){const c=Hr;return Hr=a,c}function kr(a,c=vt.Default){if(void 0===Hr)throw new we(-203,!1);return null===Hr?or(a,void 0,c):Hr.get(a,c&vt.Optional?null:void 0,c)}function Gt(a,c=vt.Default){return(function Po(){return ai}()||kr)(ne(a),c)}function Jn(a,c=vt.Default){return Gt(a,Qi(c))}function Qi(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function mi(a){const c=[];for(let d=0;d<a.length;d++){const h=ne(a[d]);if(Array.isArray(h)){if(0===h.length)throw new we(900,!1);let f,g=vt.Default;for(let y=0;y<h.length;y++){const E=h[y],I=sr(E);"number"==typeof I?-1===I?f=E.token:g|=I:f=E}c.push(Gt(f,g))}else c.push(Gt(h))}return c}function _r(a,c){return a[Ki]=c,a.prototype[Ki]=c,a}function sr(a){return a[Ki]}function W(a){return{toString:a}.toString()}var B=(()=>((B=B||{})[B.OnPush=0]="OnPush",B[B.Default=1]="Default",B))(),V=(()=>{return(a=V||(V={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",V;var a})();const O={},X=[],Ee=re({\u0275cmp:re}),st=re({\u0275dir:re}),At=re({\u0275pipe:re}),It=re({\u0275mod:re}),en=re({\u0275fac:re}),Rt=re({__NG_ELEMENT_ID__:re});let Fn=0;function Wt(a){return W(()=>{const c=pc(a),d={...c,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===B.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&a.dependencies||null,getStandaloneInjector:null,data:a.data||{},encapsulation:a.encapsulation||V.Emulated,id:"c"+Fn++,styles:a.styles||X,_:null,schemas:a.schemas||null,tView:null};ym(d);const h=a.dependencies;return d.directiveDefs=ps(h,!1),d.pipeDefs=ps(h,!0),d})}function Ko(a){return Ct(a)||Dn(a)}function _e(a){return null!==a}function ae(a){return W(()=>({type:a.type,bootstrap:a.bootstrap||X,declarations:a.declarations||X,imports:a.imports||X,exports:a.exports||X,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function bt(a,c){if(null==a)return O;const d={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),d[f]=h,c&&(c[f]=g)}return d}function kt(a){return W(()=>{const c=pc(a);return ym(c),c})}function on(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Ct(a){return a[Ee]||null}function Dn(a){return a[st]||null}function mn(a){return a[At]||null}function ar(a){const c=Ct(a)||Dn(a)||mn(a);return null!==c&&c.standalone}function Hi(a,c){const d=a[It]||null;if(!d&&!0===c)throw new Error(`Type ${be(a)} does not have '\u0275mod' property.`);return d}function pc(a){const c={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,exportAs:a.exportAs||null,standalone:!0===a.standalone,selectors:a.selectors||X,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bt(a.inputs,c),outputs:bt(a.outputs)}}function ym(a){a.features?.forEach(c=>c(a))}function ps(a,c){if(!a)return null;const d=c?mn:Ko;return()=>("function"==typeof a?a():a).map(h=>d(h)).filter(_e)}const ji=0,it=1,qt=2,qn=3,Tn=4,gs=5,zi=6,go=7,ci=8,vl=9,wi=10,Yt=11,gc=12,Qr=13,Ia=14,Qo=15,Ii=16,js=17,zs=18,jr=19,$s=20,Si=21,Rn=22,Ed=1,yl=2,Sa=7,_s=8,yr=9,Xi=10;function br(a){return Array.isArray(a)&&"object"==typeof a[Ed]}function _o(a){return Array.isArray(a)&&!0===a[Ed]}function Gs(a){return 0!=(4&a.flags)}function _c(a){return a.componentOffset>-1}function bl(a){return 1==(1&a.flags)}function Rr(a){return!!a.template}function vs(a){return 0!=(256&a[qt])}function Xo(a,c){return a.hasOwnProperty(en)?a[en]:null}class rh{constructor(c,d,h){this.previousValue=c,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function oh(){return vc}function vc(a){return a.type.prototype.ngOnChanges&&(a.setInput=ws),Em}function Em(){const a=yc(this),c=a?.current;if(c){const d=a.previous;if(d===O)a.previous=c;else for(let h in c)d[h]=c[h];a.current=null,this.ngOnChanges(c)}}function ws(a,c,d,h){const f=this.declaredInputs[d],g=yc(a)||function sh(a,c){return a[Dd]=c}(a,{previous:O,current:null}),y=g.current||(g.current={}),E=g.previous,I=E[f];y[f]=new rh(I&&I.currentValue,c,E===O),a[h]=c}oh.ngInherit=!0;const Dd="__ngSimpleChanges__";function yc(a){return a[Dd]||null}const ei=function(a,c,d){},xl="svg";function Mi(a){for(;Array.isArray(a);)a=a[ji];return a}function Zs(a,c){return Mi(c[a])}function Ji(a,c){return Mi(c[a.index])}function wc(a,c){return a.data[c]}function wr(a,c){return a[c]}function $i(a,c){const d=c[a];return br(d)?d:d[ji]}function xs(a){return 64==(64&a[qt])}function Jo(a,c){return null==c?null:a[c]}function El(a){a[zs]=0}function Ra(a,c){a[gs]+=c;let d=a,h=a[qn];for(;null!==h&&(1===c&&1===d[gs]||-1===c&&0===d[gs]);)h[gs]+=c,d=h,h=h[qn]}const Nt={lFrame:Il(null),bindingsEnabled:!0};function lh(){return Nt.bindingsEnabled}function ve(){return Nt.lFrame.lView}function Ht(){return Nt.lFrame.tView}function Md(a){return Nt.lFrame.contextLView=a,a[ci]}function Dl(a){return Nt.lFrame.contextLView=null,a}function pi(){let a=dh();for(;null!==a&&64===a.type;)a=a.parent;return a}function dh(){return Nt.lFrame.currentTNode}function Jr(a,c){const d=Nt.lFrame;d.currentTNode=a,d.isParent=c}function Cc(){return Nt.lFrame.isParent}function uh(){Nt.lFrame.isParent=!1}function er(){const a=Nt.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}function es(){return Nt.lFrame.bindingIndex++}function No(a){const c=Nt.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,d}function mh(a,c){const d=Nt.lFrame;d.bindingIndex=d.bindingRootIndex=a,gi(c)}function gi(a){Nt.lFrame.currentDirectiveIndex=a}function Ec(a){const c=Nt.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}function Tl(){return Nt.lFrame.currentQueryIndex}function ph(a){Nt.lFrame.currentQueryIndex=a}function Dc(a){const c=a[it];return 2===c.type?c.declTNode:1===c.type?a[zi]:null}function gh(a,c,d){if(d&vt.SkipSelf){let f=c,g=a;for(;!(f=f.parent,null!==f||d&vt.Host||(f=Dc(g),null===f||(g=g[Qo],10&f.type))););if(null===f)return!1;c=f,a=g}const h=Nt.lFrame=Ad();return h.currentTNode=c,h.lView=a,!0}function Fa(a){const c=Ad(),d=a[it];Nt.lFrame=c,c.currentTNode=d.firstChild,c.lView=a,c.tView=d,c.contextLView=a,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function Ad(){const a=Nt.lFrame,c=null===a?null:a.child;return null===c?Il(a):c}function Il(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function kd(){const a=Nt.lFrame;return Nt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Tc=kd;function _h(){const a=kd();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function lr(){return Nt.lFrame.selectedIndex}function Lo(a){Nt.lFrame.selectedIndex=a}function Zn(){const a=Nt.lFrame;return wc(a.tView,a.selectedIndex)}function Od(){Nt.lFrame.currentNamespace=xl}function Ic(){!function Bg(){Nt.lFrame.currentNamespace=null}()}function Sc(a,c){for(let d=c.directiveStart,h=c.directiveEnd;d<h;d++){const g=a.data[d].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:P}=g;y&&(a.contentHooks??(a.contentHooks=[])).push(-d,y),E&&((a.contentHooks??(a.contentHooks=[])).push(d,E),(a.contentCheckHooks??(a.contentCheckHooks=[])).push(d,E)),I&&(a.viewHooks??(a.viewHooks=[])).push(-d,I),S&&((a.viewHooks??(a.viewHooks=[])).push(d,S),(a.viewCheckHooks??(a.viewCheckHooks=[])).push(d,S)),null!=P&&(a.destroyHooks??(a.destroyHooks=[])).push(d,P)}}function Pd(a,c,d){Mc(a,c,3,d)}function bh(a,c,d,h){(3&a[qt])===d&&Mc(a,c,d,h)}function wh(a,c){let d=a[qt];(3&d)===c&&(d&=2047,d+=1,a[qt]=d)}function Mc(a,c,d,h){const g=h??-1,y=c.length-1;let E=0;for(let I=void 0!==h?65535&a[zs]:0;I<y;I++)if("number"==typeof c[I+1]){if(E=c[I],null!=h&&E>=h)break}else c[I]<0&&(a[zs]+=65536),(E<g||-1==g)&&(La(a,d,c,I),a[zs]=(4294901760&a[zs])+I+2),I++}function La(a,c,d,h){const f=d[h]<0,g=d[h+1],E=a[f?-d[h]:d[h]];if(f){if(a[qt]>>11<a[zs]>>16&&(3&a[qt])===c){a[qt]+=2048,ei(4,E,g);try{g.call(E)}finally{ei(5,E,g)}}}else{ei(4,E,g);try{g.call(E)}finally{ei(5,E,g)}}}const Sl=-1;class ts{constructor(c,d,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function Ba(a,c,d){let h=0;for(;h<d.length;){const f=d[h];if("number"==typeof f){if(0!==f)break;h++;const g=d[h++],y=d[h++],E=d[h++];a.setAttribute(c,y,E,g)}else{const g=f,y=d[++h];Ds(g)?a.setProperty(c,g,y):a.setAttribute(c,g,y),h++}}return h}function Ch(a){return 3===a||4===a||6===a}function Ds(a){return 64===a.charCodeAt(0)}function Ks(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let d=-1;for(let h=0;h<c.length;h++){const f=c[h];"number"==typeof f?d=f:0===d||Va(a,d,f,null,-1===d||2===d?c[++h]:null)}}return a}function Va(a,c,d,h,f){let g=0,y=a.length;if(-1===c)y=-1;else for(;g<a.length;){const E=a[g++];if("number"==typeof E){if(E===c){y=-1;break}if(E>c){y=g-1;break}}}for(;g<a.length;){const E=a[g];if("number"==typeof E)break;if(E===d){if(null===h)return void(null!==f&&(a[g+1]=f));if(h===a[g+1])return void(a[g+2]=f)}g++,null!==h&&g++,null!==f&&g++}-1!==y&&(a.splice(y,0,c),g=y+1),a.splice(g++,0,d),null!==h&&a.splice(g++,0,h),null!==f&&a.splice(g++,0,f)}function Qs(a){return a!==Sl}function Ua(a){return 32767&a}function kl(a,c){let d=function Al(a){return a>>16}(a),h=c;for(;d>0;)h=h[Qo],d--;return h}let Nd=!0;function Rl(a){const c=Nd;return Nd=a,c}const Ld=255,Rc=5;let Bd=0;const xr={};function Vd(a,c){const d=Dh(a,c);if(-1!==d)return d;const h=c[it];h.firstCreatePass&&(a.injectorIndex=c.length,Bo(h.data,a),Bo(c,null),Bo(h.blueprint,null));const f=_i(a,c),g=a.injectorIndex;if(Qs(f)){const y=Ua(f),E=kl(f,c),I=E[it].data;for(let S=0;S<8;S++)c[g+S]=E[y+S]|I[y+S]}return c[g+8]=f,g}function Bo(a,c){a.push(0,0,0,0,0,0,0,0,c)}function Dh(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function _i(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,h=null,f=c;for(;null!==f;){if(h=Xs(f),null===h)return Sl;if(d++,f=f[Qo],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return Sl}function Ts(a,c,d){!function Eh(a,c,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(Rt)&&(h=d[Rt]),null==h&&(h=d[Rt]=Bd++);const f=h&Ld;c.data[a+(f>>Rc)]|=1<<f}(a,c,d)}function Th(a,c,d){if(d&vt.Optional||void 0!==a)return a;We()}function Ol(a,c,d,h){if(d&vt.Optional&&void 0===h&&(h=null),!(d&(vt.Self|vt.Host))){const f=a[vl],g=ui(void 0);try{return f?f.get(c,h,d&vt.Optional):or(c,h,d&vt.Optional)}finally{ui(g)}}return Th(h,0,d)}function Ih(a,c,d,h=vt.Default,f){if(null!==a){if(1024&c[qt]){const y=function Am(a,c,d,h,f){let g=a,y=c;for(;null!==g&&null!==y&&1024&y[qt]&&!(256&y[qt]);){const E=Pc(g,y,d,h|vt.Self,xr);if(E!==xr)return E;let I=g.parent;if(!I){const S=y[Si];if(S){const P=S.get(d,xr,h);if(P!==xr)return P}I=Xs(y),y=y[Qo]}g=I}return f}(a,c,d,h,xr);if(y!==xr)return y}const g=Pc(a,c,d,h,xr);if(g!==xr)return g}return Ol(c,d,h,f)}function Pc(a,c,d,h,f){const g=function Mm(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(Rt)?a[Rt]:void 0;return"number"==typeof c?c>=0?c&Ld:Ud:c}(d);if("function"==typeof g){if(!gh(c,a,h))return h&vt.Host?Th(f,0,h):Ol(c,d,h,f);try{const y=g(h);if(null!=y||h&vt.Optional)return y;We()}finally{Tc()}}else if("number"==typeof g){let y=null,E=Dh(a,c),I=Sl,S=h&vt.Host?c[Ii][zi]:null;for((-1===E||h&vt.SkipSelf)&&(I=-1===E?_i(a,c):c[E+8],I!==Sl&&Fc(h,!1)?(y=c[it],E=Ua(I),c=kl(I,c)):E=-1);-1!==E;){const P=c[it];if(Is(g,E,P.data)){const U=Ai(E,c,d,y,h,S);if(U!==xr)return U}I=c[E+8],I!==Sl&&Fc(h,c[it].data[E+8]===S)&&Is(g,E,c)?(y=P,E=Ua(I),c=kl(I,c)):E=-1}}return f}function Ai(a,c,d,h,f,g){const y=c[it],E=y.data[a+8],P=Ha(E,y,d,null==h?_c(E)&&Nd:h!=y&&0!=(3&E.type),f&vt.Host&&g===E);return null!==P?ti(c,y,P,E):xr}function Ha(a,c,d,h,f){const g=a.providerIndexes,y=c.data,E=1048575&g,I=a.directiveStart,P=g>>20,J=f?E+P:a.directiveEnd;for(let le=h?E:E+P;le<J;le++){const Te=y[le];if(le<I&&d===Te||le>=I&&Te.type===d)return le}if(f){const le=y[I];if(le&&Rr(le)&&le.type===d)return I}return null}function ti(a,c,d,h){let f=a[d];const g=c.data;if(function Ug(a){return a instanceof ts}(f)){const y=f;y.resolving&&function Me(a,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new we(-200,`Circular dependency in DI detected for ${a}${d}`)}(function ze(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Le(a)}(g[d]));const E=Rl(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?ui(y.injectImpl):null;gh(a,h,vt.Default);try{f=a[d]=y.factory(void 0,g,a,h),c.firstCreatePass&&d>=h.directiveStart&&function Vg(a,c,d){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:g}=c.type.prototype;if(h){const y=vc(c);(d.preOrderHooks??(d.preOrderHooks=[])).push(a,y),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(a,y)}f&&(d.preOrderHooks??(d.preOrderHooks=[])).push(0-a,f),g&&((d.preOrderHooks??(d.preOrderHooks=[])).push(a,g),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(a,g))}(d,g[d],c)}finally{null!==I&&ui(I),Rl(E),y.resolving=!1,Tc()}}return f}function Is(a,c,d){return!!(d[c+(a>>Rc)]&1<<a)}function Fc(a,c){return!(a&vt.Self||a&vt.Host&&c)}class ja{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,h){return Ih(this._tNode,this._lView,c,Qi(h),d)}}function Ud(){return new ja(pi(),ve())}function Hd(a){return W(()=>{const c=a.prototype.constructor,d=c[en]||Ss(c),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const g=f[en]||Ss(f);if(g&&g!==d)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Ss(a){return Ge(a)?()=>{const c=Ss(ne(a));return c&&c()}:Xo(a)}function Xs(a){const c=a[it],d=c.type;return 2===d?c.declTNode:1===d?a[zi]:null}function Pl(a){return function Oc(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const d=a.attrs;if(d){const h=d.length;let f=0;for(;f<h;){const g=d[f];if(Ch(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<h&&"string"==typeof d[f];)f++;else{if(g===c)return d[f+1];f+=2}}}return null}(pi(),a)}const Ms="__parameters__";function ea(a,c,d){return W(()=>{const h=function Sh(a){return function(...d){if(a){const h=a(...d);for(const f in h)this[f]=h[f]}}}(c);function f(...g){if(this instanceof f)return h.apply(this,g),this;const y=new f(...g);return E.annotation=y,E;function E(I,S,P){const U=I.hasOwnProperty(Ms)?I[Ms]:Object.defineProperty(I,Ms,{value:[]})[Ms];for(;U.length<=P;)U.push(null);return(U[P]=U[P]||[]).push(y),I}}return d&&(f.prototype=Object.create(d.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class gn{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=ft({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function As(a,c){a.forEach(d=>Array.isArray(d)?As(d,c):c(d))}function qd(a,c,d){c>=a.length?a.push(d):a.splice(c,0,d)}function Fl(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function za(a,c){const d=[];for(let h=0;h<a;h++)d.push(c);return d}function eo(a,c,d){let h=jt(a,c);return h>=0?a[1|h]=d:(h=~h,function Nl(a,c,d,h){let f=a.length;if(f==c)a.push(d,h);else if(1===f)a.push(h,a[0]),a[0]=d;else{for(f--,a.push(a[f-1],a[f]);f>c;)a[f]=a[f-2],f--;a[c]=d,a[c+1]=h}}(a,h,c,d)),h}function $r(a,c){const d=jt(a,c);if(d>=0)return a[1|d]}function jt(a,c){return function Yn(a,c,d){let h=0,f=a.length>>d;for(;f!==h;){const g=h+(f-h>>1),y=a[g<<d];if(c===y)return g<<d;y>c?f=g:h=g+1}return~(f<<d)}(a,c,1)}const Ll=_r(ea("Inject",a=>({token:a})),-1),Cr=_r(ea("Optional"),8),Ga=_r(ea("SkipSelf"),4);var bo=(()=>((bo=bo||{})[bo.Important=1]="Important",bo[bo.DashCase=2]="DashCase",bo))();const nu=new Map;let Vm=0;const Q="__ngContext__";function ee(a,c){br(c)?(a[Q]=c[$s],function Um(a){nu.set(a[$s],a)}(c)):a[Q]=c}let Fr;function no(a,c){return Fr(a,c)}function zh(a){const c=a[qn];return _o(c)?c[qn]:c}function $l(a){return Gh(a[Qr])}function ru(a){return Gh(a[Tn])}function Gh(a){for(;null!==a&&!_o(a);)a=a[Tn];return a}function Uo(a,c,d,h,f){if(null!=h){let g,y=!1;_o(h)?g=h:br(h)&&(y=!0,h=h[ji]);const E=Mi(h);0===a&&null!==d?null==f?Nr(c,d,E):Kt(c,d,E,f||null,!0):1===a&&null!==d?Kt(c,d,E,f||null,!0):2===a?function Gg(a,c,d){const h=Gl(a,c);h&&function ou(a,c,d,h){a.removeChild(c,d,h)}(a,h,c,d)}(c,E,y):3===a&&c.destroyNode(E),null!=g&&function uC(a,c,d,h,f){const g=d[Sa];g!==Mi(d)&&Uo(c,a,h,g,f);for(let E=Xi;E<d.length;E++){const I=d[E];du(I[it],I,a,c,h,g)}}(c,a,g,d,f)}}function zm(a,c,d){return a.createElement(c,d)}function C(a,c){const d=a[yr],h=d.indexOf(c),f=c[qn];512&c[qt]&&(c[qt]&=-513,Ra(f,-1)),d.splice(h,1)}function k(a,c){if(a.length<=Xi)return;const d=Xi+c,h=a[d];if(h){const f=h[js];null!==f&&f!==a&&C(f,h),c>0&&(a[d-1][Tn]=h[Tn]);const g=Fl(a,Xi+c);!function $g(a,c){du(a,c,c[Yt],2,null,null),c[ji]=null,c[zi]=null}(h[it],h);const y=g[jr];null!==y&&y.detachView(g[it]),h[qn]=null,h[Tn]=null,h[qt]&=-65}return h}function L(a,c){if(!(128&c[qt])){const d=c[Yt];d.destroyNode&&du(a,c,d,3,null,null),function w(a){let c=a[Qr];if(!c)return te(a[it],a);for(;c;){let d=null;if(br(c))d=c[Qr];else{const h=c[Xi];h&&(d=h)}if(!d){for(;c&&!c[Tn]&&c!==a;)br(c)&&te(c[it],c),c=c[qn];null===c&&(c=a),br(c)&&te(c[it],c),d=c&&c[Tn]}c=d}}(c)}}function te(a,c){if(!(128&c[qt])){c[qt]&=-65,c[qt]|=128,function qe(a,c){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let h=0;h<d.length;h+=2){const f=c[d[h]];if(!(f instanceof ts)){const g=d[h+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const E=f[g[y]],I=g[y+1];ei(4,E,I);try{I.call(E)}finally{ei(5,E,I)}}else{ei(4,f,g);try{g.call(f)}finally{ei(5,f,g)}}}}}(a,c),function fe(a,c){const d=a.cleanup,h=c[go];let f=-1;if(null!==d)for(let g=0;g<d.length-1;g+=2)if("string"==typeof d[g]){const y=d[g+3];y>=0?h[f=y]():h[f=-y].unsubscribe(),g+=2}else{const y=h[f=d[g+1]];d[g].call(y)}if(null!==h){for(let g=f+1;g<h.length;g++)(0,h[g])();c[go]=null}}(a,c),1===c[it].type&&c[Yt].destroy();const d=c[js];if(null!==d&&_o(c[qn])){d!==c[qn]&&C(d,c);const h=c[jr];null!==h&&h.detachView(a)}!function ni(a){nu.delete(a[$s])}(c)}}function tt(a,c,d){return function wt(a,c,d){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return d[ji];{const{componentOffset:f}=h;if(f>-1){const{encapsulation:g}=a.data[h.directiveStart+f];if(g===V.None||g===V.Emulated)return null}return Ji(h,d)}}(a,c.parent,d)}function Kt(a,c,d,h,f){a.insertBefore(c,d,h,f)}function Nr(a,c,d){a.appendChild(c,d)}function Rs(a,c,d,h,f){null!==h?Kt(a,c,d,h,f):Nr(a,c,d)}function Gl(a,c){return a.parentNode(c)}function qh(a,c,d){return Gm(a,c,d)}let au,ky,Wm,Py,Gm=function su(a,c,d){return 40&a.type?Ji(a,d):null};function Wl(a,c,d,h){const f=tt(a,h,c),g=c[Yt],E=qh(h.parent||c[zi],h,c);if(null!=f)if(Array.isArray(d))for(let I=0;I<d.length;I++)Rs(g,f,d[I],E,!1);else Rs(g,f,d,E,!1);void 0!==au&&au(g,h,c,d,f)}function cu(a,c){if(null!==c){const d=c.type;if(3&d)return Ji(c,a);if(4&d)return Zh(-1,a[c.index]);if(8&d){const h=c.child;if(null!==h)return cu(a,h);{const f=a[c.index];return _o(f)?Zh(-1,f):Mi(f)}}if(32&d)return no(c,a)()||Mi(a[c.index]);{const h=Gc(a,c);return null!==h?Array.isArray(h)?h[0]:cu(zh(a[Ii]),h):cu(a,c.next)}}return null}function Gc(a,c){return null!==c?a[Ii][zi].projection[c.projection]:null}function Zh(a,c){const d=Xi+a+1;if(d<c.length){const h=c[d],f=h[it].firstChild;if(null!==f)return cu(h,f)}return c[Sa]}function Wg(a,c,d,h,f,g,y){for(;null!=d;){const E=h[d.index],I=d.type;if(y&&0===c&&(E&&ee(Mi(E),h),d.flags|=2),32!=(32&d.flags))if(8&I)Wg(a,c,d.child,h,f,g,!1),Uo(c,a,f,E,g);else if(32&I){const S=no(d,h);let P;for(;P=S();)Uo(c,a,f,P,g);Uo(c,a,f,E,g)}else 16&I?My(a,c,h,d,f,g):Uo(c,a,f,E,g);d=y?d.projectionNext:d.next}}function du(a,c,d,h,f,g){Wg(d,h,a.firstChild,c,f,g,!1)}function My(a,c,d,h,f,g){const y=d[Ii],I=y[zi].projection[h.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)Uo(c,a,f,I[S],g);else Wg(a,c,I,y[qn],f,g,!0)}function Ya(a,c,d){""===d?a.removeAttribute(c,"class"):a.setAttribute(c,"class",d)}function Ay(a,c,d){const{mergedAttrs:h,classes:f,styles:g}=d;null!==h&&Ba(a,c,h),null!==f&&Ya(a,c,f),null!==g&&function wo(a,c,d){a.setAttribute(c,"style",d)}(a,c,g)}function aa(a){return function fC(){if(void 0===ky&&(ky=null,yn.trustedTypes))try{ky=yn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return ky}()?.createHTML(a)||a}function cM(a){Wm=a}function fM(a){return function mC(){if(void 0===Py&&(Py=null,yn.trustedTypes))try{Py=yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Py}()?.createScriptURL(a)||a}class Kh{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dt})`}}class mM extends Kh{getTypeName(){return"HTML"}}class pC extends Kh{getTypeName(){return"Style"}}class pM extends Kh{getTypeName(){return"Script"}}class gM extends Kh{getTypeName(){return"URL"}}class _M extends Kh{getTypeName(){return"ResourceURL"}}function la(a){return a instanceof Kh?a.changingThisBreaksApplicationSecurity:a}function Ka(a,c){const d=function Zg(a){return a instanceof Kh&&a.getTypeName()||null}(a);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see ${dt})`)}return d===c}function Qh(a){return new mM(a)}function qm(a){return new pC(a)}function Fy(a){return new pM(a)}function vM(a){return new gM(a)}function Ny(a){return new _M(a)}class Yg{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(aa(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class _C{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const d=this.inertDocument.createElement("template");return d.innerHTML=aa(c),d}}const Kg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xo(a){return(a=String(a)).match(Kg)?a:"unsafe:"+a}function Wc(a){const c={};for(const d of a.split(","))c[d]=!0;return c}function Qg(...a){const c={};for(const d of a)for(const h in d)d.hasOwnProperty(h)&&(c[h]=!0);return c}const Ly=Wc("area,br,col,hr,img,wbr"),yM=Wc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uu=Wc("rp,rt"),Xh=Qg(Ly,Qg(yM,Wc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qg(uu,Wc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qg(uu,yM)),Jh=Wc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zm=Qg(Jh,Wc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bM=Wc("script,style,template");class wM{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let f=this.checkClobberedElement(d,d.nextSibling);if(f){d=f;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!Xh.hasOwnProperty(d))return this.sanitizedSomething=!0,!bM.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=c.attributes;for(let f=0;f<h.length;f++){const g=h.item(f),y=g.name,E=y.toLowerCase();if(!Zm.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=g.value;Jh[E]&&(I=xo(I)),this.buf.push(" ",y,'="',Uy(I),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();Xh.hasOwnProperty(d)&&!Ly.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(Uy(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const bC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xM=/([^\#-~ |!])/g;function Uy(a){return a.replace(/&/g,"&amp;").replace(bC,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(xM,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jg;function CM(a,c){let d=null;try{Jg=Jg||function gC(a){const c=new _C(a);return function vC(){try{return!!(new window.DOMParser).parseFromString(aa(""),"text/html")}catch{return!1}}()?new Yg(c):c}(a);let h=c?String(c):"";d=Jg.getInertBodyElement(h);let f=5,g=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=g,g=d.innerHTML,d=Jg.getInertBodyElement(h)}while(h!==g);return aa((new wM).sanitizeChildren(Hy(d)||d))}finally{if(d){const h=Hy(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Hy(a){return"content"in a&&function jy(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var cr=(()=>((cr=cr||{})[cr.NONE=0]="NONE",cr[cr.HTML=1]="HTML",cr[cr.STYLE=2]="STYLE",cr[cr.SCRIPT=3]="SCRIPT",cr[cr.URL=4]="URL",cr[cr.RESOURCE_URL=5]="RESOURCE_URL",cr))();function wC(a){const c=tf();return c?c.sanitize(cr.URL,a)||"":Ka(a,"URL")?la(a):xo(Le(a))}function $y(a){const c=tf();if(c)return fM(c.sanitize(cr.RESOURCE_URL,a)||"");if(Ka(a,"ResourceURL"))return fM(la(a));throw new we(904,!1)}function ef(a,c,d){return function DM(a,c){return"src"===c&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===c&&("base"===a||"link"===a)?$y:wC}(c,d)(a)}function tf(){const a=ve();return a&&a[gc]}const ii=new gn("ENVIRONMENT_INITIALIZER"),IM=new gn("INJECTOR",-1),xC=new gn("INJECTOR_DEF_TYPES");class qy{get(c,d=hi){if(d===hi){const h=new Error(`NullInjectorError: No provider for ${be(c)}!`);throw h.name="NullInjectorError",h}return d}}function RL(a){return{\u0275providers:a}}function OL(...a){return{\u0275providers:SM(0,a),\u0275fromNgModule:!0}}function SM(a,...c){const d=[],h=new Set;let f;return As(c,g=>{const y=g;Zy(y,d,[],h)&&(f||(f=[]),f.push(y))}),void 0!==f&&MM(f,d),d}function MM(a,c){for(let d=0;d<a.length;d++){const{providers:f}=a[d];Yy(f,g=>{c.push(g)})}}function Zy(a,c,d,h){if(!(a=ne(a)))return!1;let f=null,g=Wn(a);const y=!g&&Ct(a);if(g||y){if(y&&!y.standalone)return!1;f=a}else{const I=a.ngModule;if(g=Wn(I),!g)return!1;f=I}const E=h.has(f);if(y){if(E)return!1;if(h.add(f),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of I)Zy(S,c,d,h)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let S;h.add(f);try{As(g.imports,P=>{Zy(P,c,d,h)&&(S||(S=[]),S.push(P))})}finally{}void 0!==S&&MM(S,c)}if(!E){const S=Xo(f)||(()=>new f);c.push({provide:f,useFactory:S,deps:X},{provide:xC,useValue:f,multi:!0},{provide:ii,useValue:()=>Gt(f),multi:!0})}const I=g.providers;null==I||E||Yy(I,P=>{c.push(P)})}}return f!==a&&void 0!==a.providers}function Yy(a,c){for(let d of a)ke(d)&&(d=d.\u0275providers),Array.isArray(d)?Yy(d,c):c(d)}const CC=re({provide:String,useValue:re});function e_(a){return null!==a&&"object"==typeof a&&CC in a}function ql(a){return"function"==typeof a}const DC=new gn("Set Injector scope."),Ym={},RM={};let t_;function n_(){return void 0===t_&&(t_=new qy),t_}class qc{}class i_ extends qc{get destroyed(){return this._destroyed}constructor(c,d,h,f){super(),this.parent=d,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,r_(c,y=>this.processProvider(y)),this.records.set(IM,nf(void 0,this)),f.has("environment")&&this.records.set(qc,nf(void 0,this));const g=this.records.get(DC);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(xC.multi,X,vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const d=rn(this),h=ui(void 0);try{return c()}finally{rn(d),ui(h)}}get(c,d=hi,h=vt.Default){this.assertNotDestroyed(),h=Qi(h);const f=rn(this),g=ui(void 0);try{if(!(h&vt.SkipSelf)){let E=this.records.get(c);if(void 0===E){const I=function Qm(a){return"function"==typeof a||"object"==typeof a&&a instanceof gn}(c)&&un(c);E=I&&this.injectableDefInScope(I)?nf(Ky(c),Ym):null,this.records.set(c,E)}if(null!=E)return this.hydrate(c,E)}return(h&vt.Self?n_():this.parent).get(c,d=h&vt.Optional&&d===hi?null:d)}catch(y){if("NullInjectorError"===y.name){if((y[Xn]=y[Xn]||[]).unshift(be(c)),f)throw y;return function vr(a,c,d,h){const f=a[Xn];throw c[Jt]&&f.unshift(c[Jt]),a.message=function q(a,c,d,h=null){a=a&&"\n"===a.charAt(0)&&a.charAt(1)==Ti?a.slice(2):a;let f=be(c);if(Array.isArray(c))f=c.map(be).join(" -> ");else if("object"==typeof c){let g=[];for(let y in c)if(c.hasOwnProperty(y)){let E=c[y];g.push(y+":"+("string"==typeof E?JSON.stringify(E):be(E)))}f=`{${g.join(", ")}}`}return`${d}${h?"("+h+")":""}[${f}]: ${a.replace(li,"\n  ")}`}("\n"+a.message,f,d,h),a[gr]=f,a[Xn]=null,a}(y,c,"R3InjectorError",this.source)}throw y}finally{ui(g),rn(f)}}resolveInjectorInitializers(){const c=rn(this),d=ui(void 0);try{const h=this.get(ii.multi,X,vt.Self);for(const f of h)f()}finally{rn(c),ui(d)}}toString(){const c=[],d=this.records;for(const h of d.keys())c.push(be(h));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(c){let d=ql(c=ne(c))?c:ne(c&&c.provide);const h=function OM(a){return e_(a)?nf(void 0,a.useValue):nf(Qa(a),Ym)}(c);if(ql(c)||!0!==c.multi)this.records.get(d);else{let f=this.records.get(d);f||(f=nf(void 0,Ym,!0),f.factory=()=>mi(f.multi),this.records.set(d,f)),d=c,f.multi.push(c)}this.records.set(d,h)}hydrate(c,d){return d.value===Ym&&(d.value=RM,d.value=d.factory()),"object"==typeof d.value&&d.value&&function PM(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=ne(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function Ky(a){const c=un(a),d=null!==c?c.factory:Xo(a);if(null!==d)return d;if(a instanceof gn)throw new we(204,!1);if(a instanceof Function)return function TC(a){const c=a.length;if(c>0)throw za(c,"?"),new we(204,!1);const d=function yi(a){return a&&(a[Qn]||a[Ur])||null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new we(204,!1)}function Qa(a,c,d){let h;if(ql(a)){const f=ne(a);return Xo(f)||Ky(f)}if(e_(a))h=()=>ne(a.useValue);else if(function EC(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...mi(a.deps||[]));else if(function hu(a){return!(!a||!a.useExisting)}(a))h=()=>Gt(ne(a.useExisting));else{const f=ne(a&&(a.useClass||a.provide));if(!function Km(a){return!!a.deps}(a))return Xo(f)||Ky(f);h=()=>new f(...mi(a.deps))}return h}function nf(a,c,d=!1){return{factory:a,value:c,multi:d?[]:void 0}}function r_(a,c){for(const d of a)Array.isArray(d)?r_(d,c):d&&ke(d)?r_(d.\u0275providers,c):c(d)}class FM{}class Zc{}class o_{resolveComponentFactory(c){throw function NM(a){const c=Error(`No component factory found for ${be(a)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=a,c}(c)}}let rf=(()=>{class a{}return a.NULL=new o_,a})();function LM(){return fu(pi(),ve())}function fu(a,c){return new Xm(Ji(a,c))}let Xm=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=LM,a})();function FL(a){return a instanceof Xm?a.nativeElement:a}class s_{}let IC=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function SC(){const a=ve(),d=$i(pi().index,a);return(br(d)?d:a)[Yt]}(),a})(),MC=(()=>{class a{}return a.\u0275prov=ft({token:a,providedIn:"root",factory:()=>null}),a})();class Yc{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const AC=new Yc("15.2.9"),a_={},Xy="ngOriginalError";function Jy(a){return a[Xy]}class Jm{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&Jy(c);for(;d&&Jy(d);)d=Jy(d);return d||null}}function Zl(a){return a instanceof Function?a():a}function HM(a,c,d){let h=a.length;for(;;){const f=a.indexOf(c,d);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=c.length;if(f+g===h||a.charCodeAt(f+g)<=32)return f}d=f+1}}const jM="ng-template";function LC(a,c,d){let h=0,f=!0;for(;h<a.length;){let g=a[h++];if("string"==typeof g&&f){const y=a[h++];if(d&&"class"===g&&-1!==HM(y.toLowerCase(),c,0))return!0}else{if(1===g){for(;h<a.length&&"string"==typeof(g=a[h++]);)if(g.toLowerCase()===c)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function eb(a){return 4===a.type&&a.value!==jM}function LL(a,c,d){return c===(4!==a.type||d?a.value:jM)}function BL(a,c,d){let h=4;const f=a.attrs||[],g=function zM(a){for(let c=0;c<a.length;c++)if(Ch(a[c]))return c;return a.length}(f);let y=!1;for(let E=0;E<c.length;E++){const I=c[E];if("number"!=typeof I){if(!y)if(4&h){if(h=2|1&h,""!==I&&!LL(a,I,d)||""===I&&1===c.length){if(Xa(h))return!1;y=!0}}else{const S=8&h?I:c[++E];if(8&h&&null!==a.attrs){if(!LC(a.attrs,S,d)){if(Xa(h))return!1;y=!0}continue}const U=VL(8&h?"class":I,f,eb(a),d);if(-1===U){if(Xa(h))return!1;y=!0;continue}if(""!==S){let J;J=U>g?"":f[U+1].toLowerCase();const le=8&h?J:null;if(le&&-1!==HM(le,S,0)||2&h&&S!==J){if(Xa(h))return!1;y=!0}}}}else{if(!y&&!Xa(h)&&!Xa(I))return!1;if(y&&Xa(I))continue;y=!1,h=I|1&h}}return Xa(h)||y}function Xa(a){return 0==(1&a)}function VL(a,c,d,h){if(null===c)return-1;let f=0;if(h||!d){let g=!1;for(;f<c.length;){const y=c[f];if(y===a)return f;if(3===y||6===y)g=!0;else{if(1===y||2===y){let E=c[++f];for(;"string"==typeof E;)E=c[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=g?1:2}return-1}return function np(a,c){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const h=a[d];if("number"==typeof h)return-1;if(h===c)return d;d++}return-1}(c,a)}function Yl(a,c,d=!1){for(let h=0;h<c.length;h++)if(BL(a,c[h],d))return!0;return!1}function Er(a,c){e:for(let d=0;d<c.length;d++){const h=c[d];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function et(a,c){return a?":not("+c.trim()+")":c}function Gi(a){let c=a[0],d=1,h=2,f="",g=!1;for(;d<a.length;){let y=a[d];if("string"==typeof y)if(2&h){const E=a[++d];f+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&h?f+="."+y:4&h&&(f+=" "+y);else""!==f&&!Xa(y)&&(c+=et(g,f),f=""),h=y,g=g||!Xa(h);d++}return""!==f&&(c+=et(g,f)),c}const zt={};function BC(a){ip(Ht(),ve(),lr()+a,!1)}function ip(a,c,d,h){if(!h)if(3==(3&c[qt])){const g=a.preOrderCheckHooks;null!==g&&Pd(c,g,d)}else{const g=a.preOrderHooks;null!==g&&bh(c,g,0,d)}Lo(d)}function tn(a,c=null,d=null,h){const f=zn(a,c,d,h);return f.resolveInjectorInitializers(),f}function zn(a,c=null,d=null,h,f=new Set){const g=[d||X,OL(a)];return h=h||("object"==typeof a?void 0:be(a)),new i_(g,c||n_(),h||null,f)}let Ja=(()=>{class a{static create(d,h){if(Array.isArray(d))return tn({name:""},h,d,"");{const f=d.name??"";return tn({name:f},d.parent,d.providers,f)}}}return a.THROW_IF_NOT_FOUND=hi,a.NULL=new qy,a.\u0275prov=ft({token:a,providedIn:"any",factory:()=>Gt(IM)}),a.__NG_ELEMENT_ID__=-1,a})();function cf(a,c=vt.Default){const d=ve();return null===d?Gt(a,c):Ih(pi(),d,ne(a),c)}function ab(){throw new Error("invalid")}function sp(a,c){const d=a.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const g=d[h+1];if(-1!==g){const y=a.data[g];ph(d[h]),y.contentQueries(2,c[g],g)}}}function Qc(a,c,d,h,f,g,y,E,I,S,P){const U=c.blueprint.slice();return U[ji]=f,U[qt]=76|h,(null!==P||a&&1024&a[qt])&&(U[qt]|=1024),El(U),U[qn]=U[Qo]=a,U[ci]=d,U[wi]=y||a&&a[wi],U[Yt]=E||a&&a[Yt],U[gc]=I||a&&a[gc]||null,U[vl]=S||a&&a[vl]||null,U[zi]=g,U[$s]=function jh(){return Vm++}(),U[Si]=P,U[Ii]=2==c.type?a[Ii]:U,U}function df(a,c,d,h,f){let g=a.data[c];if(null===g)g=function Jl(a,c,d,h,f){const g=dh(),y=Cc(),I=a.data[c]=function YC(a,c,d,h,f,g){return{type:d,index:h,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,d,c,h,f);return null===a.firstChild&&(a.firstChild=I),null!==g&&(y?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I,I.prev=g)),I}(a,c,d,h,f),function fh(){return Nt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=d,g.value=h,g.attrs=f;const y=function Oa(){const a=Nt.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return Jr(g,!0),g}function ap(a,c,d,h){if(0===d)return-1;const f=c.length;for(let g=0;g<d;g++)c.push(h),a.blueprint.push(h),a.data.push(null);return f}function gu(a,c,d){Fa(c);try{const h=a.viewQuery;null!==h&&Ps(1,h,d);const f=a.template;null!==f&&ZC(a,c,f,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&sp(a,c),a.staticViewQueries&&Ps(2,a.viewQuery,d);const g=a.components;null!==g&&function _n(a,c){for(let d=0;d<c.length;d++)iA(a,c[d])}(c,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{c[qt]&=-5,_h()}}function uf(a,c,d,h){const f=c[qt];if(128!=(128&f)){Fa(c);try{El(c),function Es(a){return Nt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&ZC(a,c,d,2,h);const y=3==(3&f);if(y){const S=a.preOrderCheckHooks;null!==S&&Pd(c,S,null)}else{const S=a.preOrderHooks;null!==S&&bh(c,S,0,null),wh(c,0)}if(function nA(a){for(let c=$l(a);null!==c;c=ru(c)){if(!c[yl])continue;const d=c[yr];for(let h=0;h<d.length;h++){const f=d[h];512&f[qt]||Ra(f[qn],1),f[qt]|=512}}}(c),function tE(a){for(let c=$l(a);null!==c;c=ru(c))for(let d=Xi;d<c.length;d++){const h=c[d],f=h[it];xs(h)&&uf(f,h,f.template,h[ci])}}(c),null!==a.contentQueries&&sp(a,c),y){const S=a.contentCheckHooks;null!==S&&Pd(c,S)}else{const S=a.contentHooks;null!==S&&bh(c,S,1),wh(c,1)}!function qC(a,c){const d=a.hostBindingOpCodes;if(null!==d)try{for(let h=0;h<d.length;h++){const f=d[h];if(f<0)Lo(~f);else{const g=f,y=d[++h],E=d[++h];mh(y,g),E(2,c[g])}}}finally{Lo(-1)}}(a,c);const E=a.components;null!==E&&function Kc(a,c){for(let d=0;d<c.length;d++)hb(a,c[d])}(c,E);const I=a.viewQuery;if(null!==I&&Ps(2,I,h),y){const S=a.viewCheckHooks;null!==S&&Pd(c,S)}else{const S=a.viewHooks;null!==S&&bh(c,S,2),wh(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[qt]&=-41,512&c[qt]&&(c[qt]&=-513,Ra(c[qn],-1))}finally{_h()}}}function ZC(a,c,d,h,f){const g=lr(),y=2&h;try{Lo(-1),y&&c.length>Rn&&ip(a,c,Rn,!1),ei(y?2:0,f),d(h,f)}finally{Lo(g),ei(y?3:1,f)}}function hf(a,c,d){if(Gs(c)){const f=c.directiveEnd;for(let g=c.directiveStart;g<f;g++){const y=a.data[g];y.contentQueries&&y.contentQueries(1,d[g],g)}}}function _u(a,c,d){lh()&&(function vu(a,c,d,h){const f=d.directiveStart,g=d.directiveEnd;_c(d)&&function JC(a,c,d){const h=Ji(c,a),f=lp(d),g=a[wi],y=w_(a,Qc(a,f,null,d.onPush?32:16,h,c,g,g.createRenderer(h,d),null,null,null));a[c.index]=y}(c,d,a.data[f+d.componentOffset]),a.firstCreatePass||Vd(d,c),ee(h,c);const y=d.initialInputs;for(let E=f;E<g;E++){const I=a.data[E],S=ti(c,a,E,d);ee(S,c),null!==y&&mf(0,E-f,S,I,0,y),Rr(I)&&($i(d.index,c)[ci]=ti(c,a,E,d))}}(a,c,d,Ji(d,c)),64==(64&d.flags)&&v_(a,c,d))}function f_(a,c,d=Ji){const h=c.localNames;if(null!==h){let f=c.index+1;for(let g=0;g<h.length;g+=2){const y=h[g+1],E=-1===y?d(c,a):a[y];a[f++]=E}}}function lp(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=lb(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function lb(a,c,d,h,f,g,y,E,I,S){const P=Rn+h,U=P+f,J=function cb(a,c){const d=[];for(let h=0;h<c;h++)d.push(h<a?null:zt);return d}(P,U),le="function"==typeof S?S():S;return J[it]={type:a,blueprint:J,template:d,queries:null,viewQuery:E,declTNode:c,data:J.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:le,incompleteFirstPass:!1}}function db(a,c,d,h){const f=Jc(c);null===d?f.push(h):(f.push(d),a.firstCreatePass&&fp(a).push(h,f.length-1))}function KC(a,c,d,h){for(let f in a)if(a.hasOwnProperty(f)){d=null===d?{}:d;const g=a[f];null===h?QC(d,c,f,g):h.hasOwnProperty(f)&&QC(d,c,h[f],g)}return d}function QC(a,c,d,h){a.hasOwnProperty(d)?a[d].push(c,h):a[d]=[c,h]}function os(a,c,d,h,f,g,y,E){const I=Ji(c,d);let P,S=c.inputs;!E&&null!=S&&(P=S[h])?(mb(a,d,P,h,f),_c(c)&&function QM(a,c){const d=$i(c,a);16&d[qt]||(d[qt]|=32)}(d,c.index)):3&c.type&&(h=function p_(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=y?y(f,c.value||"",h):f,g.setProperty(I,h,f))}function ub(a,c,d,h){if(lh()){const f=null===h?null:{"":-1},g=function XC(a,c){const d=a.directiveRegistry;let h=null,f=null;if(d)for(let g=0;g<d.length;g++){const y=d[g];if(Yl(c,y.selectors,!1))if(h||(h=[]),Rr(y))if(null!==y.findHostDirectiveDefs){const E=[];f=f||new Map,y.findHostDirectiveDefs(y,E,f),h.unshift(...E,y),y_(a,c,E.length)}else h.unshift(y),y_(a,c,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,h,f),h.push(y)}return null===h?null:[h,f]}(a,d);let y,E;null===g?y=E=null:[y,E]=g,null!==y&&g_(a,c,d,y,f,E),f&&function eA(a,c,d){if(c){const h=a.localNames=[];for(let f=0;f<c.length;f+=2){const g=d[c[f+1]];if(null==g)throw new we(-301,!1);h.push(c[f],g)}}}(d,h,f)}d.mergedAttrs=Ks(d.mergedAttrs,d.attrs)}function g_(a,c,d,h,f,g){for(let S=0;S<h.length;S++)Ts(Vd(d,c),a,h[S].type);!function dp(a,c,d){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+d,a.providerIndexes=c}(d,a.data.length,h.length);for(let S=0;S<h.length;S++){const P=h[S];P.providersResolver&&P.providersResolver(P)}let y=!1,E=!1,I=ap(a,c,h.length,null);for(let S=0;S<h.length;S++){const P=h[S];d.mergedAttrs=Ks(d.mergedAttrs,P.hostAttrs),ff(a,d,c,I,P),cp(I,P,f),null!==P.contentQueries&&(d.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(d.flags|=64);const U=P.type.prototype;!y&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((a.preOrderHooks??(a.preOrderHooks=[])).push(d.index),y=!0),!E&&(U.ngOnChanges||U.ngDoCheck)&&((a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(d.index),E=!0),I++}!function KM(a,c,d){const f=c.directiveEnd,g=a.data,y=c.attrs,E=[];let I=null,S=null;for(let P=c.directiveStart;P<f;P++){const U=g[P],J=d?d.get(U):null,Te=J?J.outputs:null;I=KC(U.inputs,P,I,J?J.inputs:null),S=KC(U.outputs,P,S,Te);const Ze=null===I||null===y||eb(c)?null:tA(I,P,y);E.push(Ze)}null!==I&&(I.hasOwnProperty("class")&&(c.flags|=8),I.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=E,c.inputs=I,c.outputs=S}(a,d,g)}function v_(a,c,d){const h=d.directiveStart,f=d.directiveEnd,g=d.index,y=function Lg(){return Nt.lFrame.currentDirectiveIndex}();try{Lo(g);for(let E=h;E<f;E++){const I=a.data[E],S=c[E];gi(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&zL(I,S)}}finally{Lo(-1),gi(y)}}function zL(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function y_(a,c,d){c.componentOffset=d,(a.components??(a.components=[])).push(c.index)}function cp(a,c,d){if(d){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)d[c.exportAs[h]]=a;Rr(c)&&(d[""]=a)}}function ff(a,c,d,h,f){a.data[h]=f;const g=f.factory||(f.factory=Xo(f.type)),y=new ts(g,Rr(f),cf);a.blueprint[h]=y,d[h]=y,function __(a,c,d,h,f){const g=f.hostBindings;if(g){let y=a.hostBindingOpCodes;null===y&&(y=a.hostBindingOpCodes=[]);const E=~c.index;(function JM(a){let c=a.length;for(;c>0;){const d=a[--c];if("number"==typeof d&&d<0)return d}return 0})(y)!=E&&y.push(E),y.push(d,h,g)}}(a,c,h,ap(a,d,f.hostVars,zt),f)}function da(a,c,d,h,f,g){const y=Ji(a,c);!function b_(a,c,d,h,f,g,y){if(null==g)a.removeAttribute(c,f,d);else{const E=null==y?Le(g):y(g,h||"",f);a.setAttribute(c,f,E,d)}}(c[Yt],y,g,a.value,d,h,f)}function mf(a,c,d,h,f,g){const y=g[c];if(null!==y){const E=h.setInput;for(let I=0;I<y.length;){const S=y[I++],P=y[I++],U=y[I++];null!==E?h.setInput(d,U,S,P):d[P]=U}}}function tA(a,c,d){let h=null,f=0;for(;f<d.length;){const g=d[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(a.hasOwnProperty(g)){null===h&&(h=[]);const y=a[g];for(let E=0;E<y.length;E+=2)if(y[E]===c){h.push(g,y[E+1],d[f+1]);break}}f+=2}else f+=2;else f+=4}return h}function eE(a,c,d,h){return[a,!0,!1,c,null,0,h,d,null,null]}function hb(a,c){const d=$i(c,a);if(xs(d)){const h=d[it];48&d[qt]?uf(h,d,h.template,d[ci]):d[gs]>0&&Xc(d)}}function Xc(a){for(let h=$l(a);null!==h;h=ru(h))for(let f=Xi;f<h.length;f++){const g=h[f];if(xs(g))if(512&g[qt]){const y=g[it];uf(y,g,y.template,g[ci])}else g[gs]>0&&Xc(g)}const d=a[it].components;if(null!==d)for(let h=0;h<d.length;h++){const f=$i(d[h],a);xs(f)&&f[gs]>0&&Xc(f)}}function iA(a,c){const d=$i(c,a),h=d[it];(function fb(a,c){for(let d=c.length;d<a.blueprint.length;d++)c.push(a.blueprint[d])})(h,d),gu(h,d,d[ci])}function w_(a,c){return a[Qr]?a[Ia][Tn]=c:a[Qr]=c,a[Ia]=c,c}function up(a){for(;a;){a[qt]|=32;const c=zh(a);if(vs(a)&&!c)return a;a=c}return null}function hp(a,c,d,h=!0){const f=c[wi];f.begin&&f.begin();try{uf(a,c,a.template,d)}catch(y){throw h&&C_(c,y),y}finally{f.end&&f.end()}}function Ps(a,c,d){ph(0),c(a,d)}function Jc(a){return a[go]||(a[go]=[])}function fp(a){return a.cleanup||(a.cleanup=[])}function mp(a,c,d){return(null===a||Rr(a))&&(d=function qs(a){for(;Array.isArray(a);){if("object"==typeof a[Ed])return a;a=a[ji]}return null}(d[c.index])),d[Yt]}function C_(a,c){const d=a[vl],h=d?d.get(Jm,null):null;h&&h.handleError(c)}function mb(a,c,d,h,f){for(let g=0;g<d.length;){const y=d[g++],E=d[g++],I=c[y],S=a.data[y];null!==S.setInput?S.setInput(I,f,h,E):I[E]=f}}function ec(a,c,d){const h=Zs(c,a);!function jg(a,c,d){a.setValue(c,d)}(a[Yt],h,d)}function E_(a,c,d){let h=d?a.styles:null,f=d?a.classes:null,g=0;if(null!==c)for(let y=0;y<c.length;y++){const E=c[y];"number"==typeof E?g=E:1==g?f=xe(f,E):2==g&&(h=xe(h,E+": "+c[++y]+";"))}d?a.styles=h:a.stylesWithoutHost=h,d?a.classes=f:a.classesWithoutHost=f}function D_(a,c,d,h,f=!1){for(;null!==d;){const g=c[d.index];if(null!==g&&h.push(Mi(g)),_o(g))for(let E=Xi;E<g.length;E++){const I=g[E],S=I[it].firstChild;null!==S&&D_(I[it],I,S,h)}const y=d.type;if(8&y)D_(a,c,d.child,h);else if(32&y){const E=no(d,c);let I;for(;I=E();)h.push(I)}else if(16&y){const E=Gc(c,d);if(Array.isArray(E))h.push(...E);else{const I=zh(c[Ii]);D_(I[it],I,E,h,!0)}}d=f?d.projectionNext:d.next}return h}class pp{get rootNodes(){const c=this._lView,d=c[it];return D_(d,c,d.firstChild,[])}constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ci]}set context(c){this._lView[ci]=c}get destroyed(){return 128==(128&this._lView[qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[qn];if(_o(c)){const d=c[_s],h=d?d.indexOf(this):-1;h>-1&&(k(c,h),Fl(d,h))}this._attachedToViewContainer=!1}L(this._lView[it],this._lView)}onDestroy(c){db(this._lView[it],this._lView,null,c)}markForCheck(){up(this._cdRefInjectingView||this._lView)}detach(){this._lView[qt]&=-65}reattach(){this._lView[qt]|=64}detectChanges(){hp(this._lView[it],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Za(a,c){du(a,c,c[Yt],2,null,null)}(this._lView[it],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=c}}class rA extends pp{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;hp(c[it],c,c[ci],!1)}checkNoChanges(){}get context(){return null}}class iE extends rf{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=Ct(c);return new gp(d,this.ngModule)}}function rE(a){const c=[];for(let d in a)a.hasOwnProperty(d)&&c.push({propName:a[d],templateName:d});return c}class sA{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,h){h=Qi(h);const f=this.injector.get(c,a_,h);return f!==a_||d===a_?f:this.parentInjector.get(c,d,h)}}class gp extends Zc{get inputs(){return rE(this.componentDef.inputs)}get outputs(){return rE(this.componentDef.outputs)}constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function $M(a){return a.map(Gi).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}create(c,d,h,f){let g=(f=f||this.ngModule)instanceof qc?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new sA(c,g):c,E=y.get(s_,null);if(null===E)throw new we(407,!1);const I=y.get(MC,null),S=E.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",U=h?function m_(a,c,d){return a.selectRootElement(c,d===V.ShadowDom)}(S,h,this.componentDef.encapsulation):zm(S,P,function oA(a){const c=a.toLowerCase();return"svg"===c?xl:"math"===c?"math":null}(P)),J=this.componentDef.onPush?288:272,le=lb(0,null,null,1,0,null,null,null,null,null),Te=Qc(null,le,null,J,null,null,E,S,I,y,null);let Ze,nt;Fa(Te);try{const gt=this.componentDef;let Ft,Be=null;gt.findHostDirectiveDefs?(Ft=[],Be=new Map,gt.findHostDirectiveDefs(gt,Ft,Be),Ft.push(gt)):Ft=[gt];const sn=function aA(a,c){const d=a[it],h=Rn;return a[h]=c,df(d,h,2,"#host",null)}(Te,U),Oi=function lA(a,c,d,h,f,g,y,E){const I=f[it];!function cA(a,c,d,h){for(const f of a)c.mergedAttrs=Ks(c.mergedAttrs,f.hostAttrs);null!==c.mergedAttrs&&(E_(c,c.mergedAttrs,!0),null!==d&&Ay(h,d,c))}(h,a,c,y);const S=g.createRenderer(c,d),P=Qc(f,lp(d),null,d.onPush?32:16,f[a.index],a,g,S,E||null,null,null);return I.firstCreatePass&&y_(I,a,h.length-1),w_(f,P),f[a.index]=P}(sn,U,gt,Ft,Te,E,S);nt=wc(le,Rn),U&&function sE(a,c,d,h){if(h)Ba(a,d,["ng-version",AC.full]);else{const{attrs:f,classes:g}=function c_(a){const c=[],d=[];let h=1,f=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===f?""!==g&&c.push(g,a[++h]):8===f&&d.push(g);else{if(!Xa(f))break;f=g}h++}return{attrs:c,classes:d}}(c.selectors[0]);f&&Ba(a,d,f),g&&g.length>0&&Ya(a,d,g.join(" "))}}(S,gt,U,h),void 0!==d&&function pb(a,c,d){const h=a.projection=[];for(let f=0;f<c.length;f++){const g=d[f];h.push(null!=g?Array.from(g):null)}}(nt,this.ngContentSelectors,d),Ze=function dA(a,c,d,h,f,g){const y=pi(),E=f[it],I=Ji(y,f);g_(E,f,y,d,null,h);for(let P=0;P<d.length;P++)ee(ti(f,E,y.directiveStart+P,y),f);v_(E,f,y),I&&ee(I,f);const S=ti(f,E,y.directiveStart+y.componentOffset,y);if(a[ci]=f[ci]=S,null!==g)for(const P of g)P(S,c);return hf(E,y,a),S}(Oi,gt,Ft,Be,Te,[gb]),gu(le,Te,null)}finally{_h()}return new oE(this.componentType,Ze,fu(nt,Te),Te,nt)}}class oE extends FM{constructor(c,d,h,f,g){super(),this.location=h,this._rootLView=f,this._tNode=g,this.instance=d,this.hostView=this.changeDetectorRef=new rA(f),this.componentType=c}setInput(c,d){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[c])){const g=this._rootLView;mb(g[it],g,f,c,d),up($i(this._tNode.index,g))}}get injector(){return new ja(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function gb(){const a=pi();Sc(ve()[it],a)}function ed(a){let c=function tl(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const h=[a];for(;c;){let f;if(Rr(a))f=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new we(903,!1);f=c.\u0275dir}if(f){if(d){h.push(f);const y=a;y.inputs=T_(a.inputs),y.declaredInputs=T_(a.declaredInputs),y.outputs=T_(a.outputs);const E=f.hostBindings;E&&lE(a,E);const I=f.viewQuery,S=f.contentQueries;if(I&&uA(a,I),S&&ua(a,S),De(a.inputs,f.inputs),De(a.declaredInputs,f.declaredInputs),De(a.outputs,f.outputs),Rr(f)&&f.data.animation){const P=a.data;P.animation=(P.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let y=0;y<g.length;y++){const E=g[y];E&&E.ngInherit&&E(a),E===ed&&(d=!1)}}c=Object.getPrototypeOf(c)}!function aE(a){let c=0,d=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=c+=f.hostVars,f.hostAttrs=Ks(f.hostAttrs,d=Ks(d,f.hostAttrs))}}(h)}function T_(a){return a===O?{}:a===X?[]:a}function uA(a,c){const d=a.viewQuery;a.viewQuery=d?(h,f)=>{c(h,f),d(h,f)}:c}function ua(a,c){const d=a.contentQueries;a.contentQueries=d?(h,f,g)=>{c(h,f,g),d(h,f,g)}:c}function lE(a,c){const d=a.hostBindings;a.hostBindings=d?(h,f)=>{c(h,f),d(h,f)}:c}function M_(a){return!!A_(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function A_(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function ha(a,c,d){return a[c]=d}function dr(a,c,d){return!Object.is(a[c],d)&&(a[c]=d,!0)}function wb(a,c,d,h){const f=ve();return dr(f,es(),c)&&(Ht(),da(Zn(),f,a,c,d,h)),wb}function vp(a,c,d,h,f,g){const E=function nl(a,c,d,h){const f=dr(a,c,d);return dr(a,c+1,h)||f}(a,function Or(){return Nt.lFrame.bindingIndex}(),d,f);return No(2),E?c+Le(d)+h+Le(f)+g:zt}function bu(a,c,d,h,f,g,y,E){const I=ve(),S=Ht(),P=a+Rn,U=S.firstCreatePass?function mA(a,c,d,h,f,g,y,E,I){const S=c.consts,P=df(c,a,4,y||null,Jo(S,E));ub(c,d,P,Jo(S,I)),Sc(c,P);const U=P.tView=lb(2,P,h,f,g,c.directiveRegistry,c.pipeRegistry,null,c.schemas,S);return null!==c.queries&&(c.queries.template(c,P),U.queries=c.queries.embeddedTView(P)),P}(P,S,I,c,d,h,f,g,y):S.data[P];Jr(U,!1);const J=I[Yt].createComment("");Wl(S,I,J,U),ee(J,I),w_(I,I[P]=eE(J,I,J,U)),bl(U)&&_u(S,I,U),null!=y&&f_(I,U,E)}function pE(a){return wr(function hh(){return Nt.lFrame.contextLView}(),Rn+a)}function Eb(a,c,d){const h=ve();return dr(h,es(),c)&&os(Ht(),Zn(),h,a,c,h[Yt],d,!1),Eb}function wu(a,c,d,h,f){const y=f?"class":"style";mb(a,d,c.inputs[y],y,h)}function R_(a,c,d,h){const f=ve(),g=Ht(),y=Rn+a,E=f[Yt],I=g.firstCreatePass?function Ep(a,c,d,h,f,g){const y=c.consts,I=df(c,a,2,h,Jo(y,f));return ub(c,d,I,Jo(y,g)),null!==I.attrs&&E_(I,I.attrs,!1),null!==I.mergedAttrs&&E_(I,I.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,I),I}(y,g,f,c,d,h):g.data[y],S=f[y]=zm(E,c,function yh(){return Nt.lFrame.currentNamespace}()),P=bl(I);return Jr(I,!0),Ay(E,S,I),32!=(32&I.flags)&&Wl(g,f,S,I),0===function Td(){return Nt.lFrame.elementDepthCount}()&&ee(S,f),function Id(){Nt.lFrame.elementDepthCount++}(),P&&(_u(g,f,I),hf(g,I,f)),null!==h&&f_(f,I),R_}function O_(){let a=pi();Cc()?uh():(a=a.parent,Jr(a,!1));const c=a;!function Sd(){Nt.lFrame.elementDepthCount--}();const d=Ht();return d.firstCreatePass&&(Sc(d,a),Gs(a)&&d.queries.elementEnd(a)),null!=c.classesWithoutHost&&function ns(a){return 0!=(8&a.flags)}(c)&&wu(d,c,ve(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Fd(a){return 0!=(16&a.flags)}(c)&&wu(d,c,ve(),c.stylesWithoutHost,!1),O_}function Db(a,c,d,h){return R_(a,c,d,h),O_(),Db}function P_(a,c,d){const h=ve(),f=Ht(),g=a+Rn,y=f.firstCreatePass?function pA(a,c,d,h,f){const g=c.consts,y=Jo(g,h),E=df(c,a,8,"ng-container",y);return null!==y&&E_(E,y,!0),ub(c,d,E,Jo(g,f)),null!==c.queries&&c.queries.elementStart(c,E),E}(g,f,h,c,d):f.data[g];Jr(y,!0);const E=h[g]=h[Yt].createComment("");return Wl(f,h,E,y),ee(E,h),bl(y)&&(_u(f,h,y),hf(f,y,h)),null!=d&&f_(h,y),P_}function F_(){let a=pi();const c=Ht();return Cc()?uh():(a=a.parent,Jr(a,!1)),c.firstCreatePass&&(Sc(c,a),Gs(a)&&c.queries.elementEnd(a)),F_}function gE(a,c,d){return P_(a,c,d),F_(),gE}function _E(){return ve()}function Dp(a){return!!a&&"function"==typeof a.then}function Tp(a){return!!a&&"function"==typeof a.subscribe}const xu=Tp;function Tb(a,c,d,h){const f=ve(),g=Ht(),y=pi();return vE(g,f,f[Yt],y,a,c,h),Tb}function Ib(a,c){const d=pi(),h=ve(),f=Ht();return vE(f,h,mp(Ec(f.data),d,h),d,a,c),Ib}function vE(a,c,d,h,f,g,y){const E=bl(h),S=a.firstCreatePass&&fp(a),P=c[ci],U=Jc(c);let J=!0;if(3&h.type||y){const Ze=Ji(h,c),nt=y?y(Ze):Ze,gt=U.length,Ft=y?sn=>y(Mi(sn[h.index])):h.index;let Be=null;if(!y&&E&&(Be=function gA(a,c,d,h){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const y=f[g];if(y===d&&f[g+1]===h){const E=c[go],I=f[g+2];return E.length>I?E[I]:null}"string"==typeof y&&(g+=2)}return null}(a,c,f,h.index)),null!==Be)(Be.__ngLastListenerFn__||Be).__ngNextListenerFn__=g,Be.__ngLastListenerFn__=g,J=!1;else{g=bE(h,c,P,g,!1);const sn=d.listen(nt,f,g);U.push(g,sn),S&&S.push(f,Ft,gt,gt+1)}}else g=bE(h,c,P,g,!1);const le=h.outputs;let Te;if(J&&null!==le&&(Te=le[f])){const Ze=Te.length;if(Ze)for(let nt=0;nt<Ze;nt+=2){const Oi=c[Te[nt]][Te[nt+1]].subscribe(g),nr=U.length;U.push(g,Oi),S&&S.push(f,h.index,nr,-(nr+1))}}}function yE(a,c,d,h){try{return ei(6,c,d),!1!==d(h)}catch(f){return C_(a,f),!1}finally{ei(7,c,d)}}function bE(a,c,d,h,f){return function g(y){if(y===Function)return h;up(a.componentOffset>-1?$i(a.index,c):c);let I=yE(c,d,h,y),S=g.__ngNextListenerFn__;for(;S;)I=yE(c,d,S,y)&&I,S=S.__ngNextListenerFn__;return f&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function wE(a=1){return function Rd(a){return(Nt.lFrame.contextLView=function vh(a,c){for(;a>0;)c=c[Qo],a--;return c}(a,Nt.lFrame.contextLView))[ci]}(a)}function _A(a,c){let d=null;const h=function tp(a){const c=a.attrs;if(null!=c){const d=c.indexOf(5);if(!(1&d))return c[d+1]}return null}(a);for(let f=0;f<c.length;f++){const g=c[f];if("*"!==g){if(null===h?Yl(a,g,!0):Er(h,g))return f}else d=f}return d}function xE(a){const c=ve()[Ii][zi];if(!c.projection){const h=c.projection=za(a?a.length:1,null),f=h.slice();let g=c.child;for(;null!==g;){const y=a?_A(g,a):0;null!==y&&(f[y]?f[y].projectionNext=g:h[y]=g,f[y]=g),g=g.next}}}function Sb(a,c=0,d){const h=ve(),f=Ht(),g=df(f,Rn+a,16,null,d||null);null===g.projection&&(g.projection=c),uh(),32!=(32&g.flags)&&function qg(a,c,d){My(c[Yt],0,c,d,tt(a,d,c),qh(d.parent||c[zi],d,c))}(f,h,g)}function Ap(a,c){return a<<17|c<<2}function tc(a){return a>>17&32767}function V_(a){return 2|a}function fa(a){return(131068&a)>>2}function U_(a,c){return-131069&a|c<<2}function Ab(a){return 1|a}function ME(a,c,d,h,f){const g=a[d+1],y=null===c;let E=h?tc(g):fa(g),I=!1;for(;0!==E&&(!1===I||y);){const P=a[E+1];bA(a[E],c)&&(I=!0,a[E+1]=h?Ab(P):V_(P)),E=h?tc(P):fa(P)}I&&(a[d+1]=h?V_(g):Ab(g))}function bA(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&jt(a,c)>=0}function Ob(a,c,d){return io(a,c,d,!1),Ob}function Pb(a,c){return io(a,c,null,!0),Pb}function io(a,c,d,h){const f=ve(),g=Ht(),y=No(2);g.firstUpdatePass&&function Nb(a,c,d,h){const f=a.data;if(null===f[d+1]){const g=f[lr()],y=function LE(a,c){return c>=a.expandoStartIndex}(a,d);(function zE(a,c){return 0!=(a.flags&(c?8:16))})(g,h)&&null===c&&!y&&(c=!1),c=function H_(a,c,d,h){const f=Ec(a);let g=h?c.residualClasses:c.residualStyles;if(null===f)0===(h?c.classBindings:c.styleBindings)&&(d=kp(d=Lb(null,a,c,d,h),c.attrs,h),g=null);else{const y=c.directiveStylingLast;if(-1===y||a[y]!==f)if(d=Lb(f,a,c,d,h),null===g){let I=function j_(a,c,d){const h=d?c.classBindings:c.styleBindings;if(0!==fa(h))return a[tc(h)]}(a,c,h);void 0!==I&&Array.isArray(I)&&(I=Lb(null,a,c,I[1],h),I=kp(I,c.attrs,h),function BE(a,c,d,h){a[tc(d?c.classBindings:c.styleBindings)]=h}(a,c,h,I))}else g=function VE(a,c,d){let h;const f=c.directiveEnd;for(let g=1+c.directiveStylingLast;g<f;g++)h=kp(h,a[g].hostAttrs,d);return kp(h,c.attrs,d)}(a,c,h)}return void 0!==g&&(h?c.residualClasses=g:c.residualStyles=g),d}(f,g,c,h),function yA(a,c,d,h,f,g){let y=g?c.classBindings:c.styleBindings,E=tc(y),I=fa(y);a[h]=d;let P,S=!1;if(Array.isArray(d)?(P=d[1],(null===P||jt(d,P)>0)&&(S=!0)):P=d,f)if(0!==I){const J=tc(a[E+1]);a[h+1]=Ap(J,E),0!==J&&(a[J+1]=U_(a[J+1],h)),a[E+1]=function B_(a,c){return 131071&a|c<<17}(a[E+1],h)}else a[h+1]=Ap(E,0),0!==E&&(a[E+1]=U_(a[E+1],h)),E=h;else a[h+1]=Ap(I,0),0===E?E=h:a[I+1]=U_(a[I+1],h),I=h;S&&(a[h+1]=V_(a[h+1])),ME(a,P,h,!0),ME(a,P,h,!1),function SE(a,c,d,h,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof c&&jt(g,c)>=0&&(d[h+1]=Ab(d[h+1]))}(c,P,a,h,g),y=Ap(E,I),g?c.classBindings=y:c.styleBindings=y}(f,g,c,d,y,h)}}(g,a,y,h),c!==zt&&dr(f,y,c)&&function HE(a,c,d,h,f,g,y,E){if(!(3&c.type))return;const I=a.data,S=I[E+1],P=function vA(a){return 1==(1&a)}(S)?jE(I,c,d,f,fa(S),y):void 0;bf(P)||(bf(g)||function L_(a){return 2==(2&a)}(S)&&(g=jE(I,null,d,f,E,y)),function hC(a,c,d,h,f){if(c)f?a.addClass(d,h):a.removeClass(d,h);else{let g=-1===h.indexOf("-")?void 0:bo.DashCase;null==f?a.removeStyle(d,h,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=bo.Important),a.setStyle(d,h,f,g))}}(h,y,Zs(lr(),d),f,g))}(g,g.data[lr()],f,f[Yt],a,f[y+1]=function TA(a,c){return null==a||""===a||("string"==typeof c?a+=c:"object"==typeof a&&(a=be(la(a)))),a}(c,d),h,y)}function Lb(a,c,d,h,f){let g=null;const y=d.directiveEnd;let E=d.directiveStylingLast;for(-1===E?E=d.directiveStart:E++;E<y&&(g=c[E],h=kp(h,g.hostAttrs,f),g!==a);)E++;return null!==a&&(d.directiveStylingLast=E),h}function kp(a,c,d){const h=d?1:2;let f=-1;if(null!==c)for(let g=0;g<c.length;g++){const y=c[g];"number"==typeof y?f=y:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),eo(a,y,!!d||c[++g]))}return void 0===a?null:a}function jE(a,c,d,h,f,g){const y=null===c;let E;for(;f>0;){const I=a[f],S=Array.isArray(I),P=S?I[1]:I,U=null===P;let J=d[f+1];J===zt&&(J=U?X:void 0);let le=U?$r(J,h):P===h?J:void 0;if(S&&!bf(le)&&(le=$r(I,h)),bf(le)&&(E=le,y))return E;const Te=a[f+1];f=y?tc(Te):fa(Te)}if(null!==c){let I=g?c.residualClasses:c.residualStyles;null!=I&&(E=$r(I,h))}return E}function bf(a){return void 0!==a}function $E(a,c=""){const d=ve(),h=Ht(),f=a+Rn,g=h.firstCreatePass?df(h,f,1,c,null):h.data[f],y=d[f]=function Wr(a,c){return a.createText(c)}(d[Yt],c);Wl(h,d,y,g),Jr(g,!1)}function Bb(a){return xi("",a,""),Bb}function xi(a,c,d){const h=ve(),f=function yu(a,c,d,h){return dr(a,es(),d)?c+Le(d)+h:zt}(h,a,c,d);return f!==zt&&ec(h,lr(),f),xi}function Vb(a,c,d,h,f){const g=ve(),y=vp(g,a,c,d,h,f);return y!==zt&&ec(g,lr(),y),Vb}function Wb(a,c,d){const h=ve();return dr(h,es(),c)&&os(Ht(),Zn(),h,a,c,h[Yt],d,!0),Wb}function rd(a,c,d){const h=ve();if(dr(h,es(),c)){const g=Ht(),y=Zn();os(g,y,h,a,c,mp(Ec(g.data),y,h),d,!0)}return rd}const Du=void 0;var VA=["en",[["a","p"],["AM","PM"],Du],[["AM","PM"],Du,Du],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Du,"{1} 'at' {0}",Du],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function BA(a){const d=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===h?1:5}];let Cf={};function $_(a){const c=function HA(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=Zr(c);if(d)return d;const h=c.split("-")[0];if(d=Zr(h),d)return d;if("en"===h)return VA;throw new we(701,!1)}function UA(a){return $_(a)[Pt.PluralCase]}function Zr(a){return a in Cf||(Cf[a]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[a]),Cf[a]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const Iu="en-US";let Rp=Iu;function m0(a,c,d,h,f){if(a=ne(a),Array.isArray(a))for(let g=0;g<a.length;g++)m0(a[g],c,d,h,f);else{const g=Ht(),y=ve();let E=ql(a)?a:ne(a.provide),I=Qa(a);const S=pi(),P=1048575&S.providerIndexes,U=S.directiveStart,J=S.providerIndexes>>20;if(ql(a)||!a.multi){const le=new ts(I,f,cf),Te=g0(E,c,f?P:P+J,U);-1===Te?(Ts(Vd(S,y),g,E),p0(g,a,c.length),c.push(E),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),d.push(le),y.push(le)):(d[Te]=le,y[Te]=le)}else{const le=g0(E,c,P+J,U),Te=g0(E,c,P,P+J),nt=Te>=0&&d[Te];if(f&&!nt||!f&&!(le>=0&&d[le])){Ts(Vd(S,y),g,E);const gt=function dk(a,c,d,h,f){const g=new ts(a,d,cf);return g.multi=[],g.index=c,g.componentProviders=0,_D(g,f,h&&!d),g}(f?ck:lk,d.length,f,h,I);!f&&nt&&(d[Te].providerFactory=gt),p0(g,a,c.length,0),c.push(E),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),d.push(gt),y.push(gt)}else p0(g,a,le>-1?le:Te,_D(d[f?Te:le],I,!f&&h));!f&&h&&nt&&d[Te].componentProviders++}}}function p0(a,c,d,h){const f=ql(c),g=function kM(a){return!!a.useClass}(c);if(f||g){const I=(g?ne(c.useClass):c).prototype.ngOnDestroy;if(I){const S=a.destroyHooks||(a.destroyHooks=[]);if(!f&&c.multi){const P=S.indexOf(d);-1===P?S.push(d,[h,I]):S[P+1].push(h,I)}else S.push(d,I)}}}function _D(a,c,d){return d&&a.componentProviders++,a.multi.push(c)-1}function g0(a,c,d,h){for(let f=d;f<h;f++)if(c[f]===a)return f;return-1}function lk(a,c,d,h){return _0(this.multi,[])}function ck(a,c,d,h){const f=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=ti(d,d[it],this.providerFactory.index,h);g=E.slice(0,y),_0(f,g);for(let I=y;I<E.length;I++)g.push(E[I])}else g=[],_0(f,g);return g}function _0(a,c){for(let d=0;d<a.length;d++)c.push((0,a[d])());return c}function vD(a,c=[]){return d=>{d.providersResolver=(h,f)=>function gD(a,c,d){const h=Ht();if(h.firstCreatePass){const f=Rr(a);m0(d,h.data,h.blueprint,f,!0),m0(c,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,c)}}class ic{}class v0{}function yD(a,c){return new wD(a,c??null)}class wD extends ic{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new iE(this);const h=Hi(c);this._bootstrapComponents=Zl(h.bootstrap),this._r3Injector=zn(c,d,[{provide:ic,useValue:this},{provide:rf,useValue:this.componentFactoryResolver}],be(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class y0 extends v0{constructor(c){super(),this.moduleType=c}create(c){return new wD(this.moduleType,c)}}class uk extends ic{constructor(c,d,h){super(),this.componentFactoryResolver=new iE(this),this.instance=null;const f=new i_([...c,{provide:ic,useValue:this},{provide:rf,useValue:this.componentFactoryResolver}],d||n_(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function tv(a,c,d=null){return new uk(a,c,d).injector}let xD=(()=>{class a{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const h=SM(0,d.type),f=h.length>0?tv([h],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,f)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=ft({token:a,providedIn:"environment",factory:()=>new a(Gt(qc))}),a})();function b0(a){a.getStandaloneInjector=c=>c.get(xD).getOrCreateStandaloneInjector(a)}function pk(a,c,d){const h=er()+a,f=ve();return f[h]===zt?ha(f,h,d?c.call(d):c()):function _p(a,c){return a[c]}(f,h)}function ID(a,c,d,h){return yk(ve(),er(),a,c,d,h)}function yk(a,c,d,h,f,g){const y=c+d;return dr(a,y,f)?ha(a,y+1,g?h.call(g,f):h(f)):function iv(a,c){const d=a[c];return d===zt?void 0:d}(a,y+1)}function ov(a,c){const d=Ht();let h;const f=a+Rn;d.firstCreatePass?(h=function D0(a,c){if(c)for(let d=c.length-1;d>=0;d--){const h=c[d];if(a===h.name)return h}}(c,d.pipeRegistry),d.data[f]=h,h.onDestroy&&(d.destroyHooks??(d.destroyHooks=[])).push(f,h.onDestroy)):h=d.data[f];const g=h.factory||(h.factory=Xo(h.type)),y=ui(cf);try{const E=Rl(!1),I=g();return Rl(E),function Cp(a,c,d,h){d>=a.data.length&&(a.data[d]=null,a.blueprint[d]=null),c[d]=h}(d,ve(),f,I),I}finally{ui(y)}}function sv(a,c,d){const h=a+Rn,f=ve(),g=wr(f,h);return function Ns(a,c){return a[it].data[c].pure}(f,h)?yk(f,er(),c,g.transform,d,g):g.transform(d)}function Fp(a){return c=>{setTimeout(a,void 0,c)}}const On=class rl extends s.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,h){let f=c,g=d||(()=>null),y=h;if(c&&"object"==typeof c){const I=c;f=I.next?.bind(I),g=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(g=Fp(g),f&&(f=Fp(f)),y&&(y=Fp(y)));const E=super.subscribe({next:f,error:g,complete:y});return c instanceof G.w0&&c.add(E),E}};function y2(){return this._results[Symbol.iterator]()}class rc{get changes(){return this._changes||(this._changes=new On)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=rc.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=y2)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const h=this;h.dirty=!1;const f=function zr(a){return a.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function Wd(a,c,d){if(a.length!==c.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],g=c[h];if(d&&(f=d(f),g=d(g)),g!==f)return!1}return!0}(h._results,f,d))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Mf=(()=>{class a{}return a.__NG_ELEMENT_ID__=xk,a})();const AD=Mf,Np=class extends AD{constructor(c,d,h){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=h}createEmbeddedView(c,d){const h=this._declarationTContainer.tView,f=Qc(this._declarationLView,h,c,16,null,h.declTNode,null,null,null,null,d||null);f[js]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[jr];return null!==y&&(f[jr]=y.createEmbeddedView(h)),gu(h,f,c),new pp(f)}};function xk(){return cs(pi(),ve())}function cs(a,c){return 4&a.type?new Np(c,a,fu(a,c)):null}let Su=(()=>{class a{}return a.__NG_ELEMENT_ID__=Mu,a})();function Mu(){return lv(pi(),ve())}const kD=Su,Af=class extends kD{constructor(c,d,h){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=h}get element(){return fu(this._hostTNode,this._hostLView)}get injector(){return new ja(this._hostTNode,this._hostLView)}get parentInjector(){const c=_i(this._hostTNode,this._hostLView);if(Qs(c)){const d=kl(c,this._hostLView),h=Ua(c);return new ja(d[it].data[h+8],d)}return new ja(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=av(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-Xi}createEmbeddedView(c,d,h){let f,g;"number"==typeof h?f=h:null!=h&&(f=h.index,g=h.injector);const y=c.createEmbeddedView(d||{},g);return this.insert(y,f),y}createComponent(c,d,h,f,g){const y=c&&!function Bc(a){return"function"==typeof a}(c);let E;if(y)E=d;else{const U=d||{};E=U.index,h=U.injector,f=U.projectableNodes,g=U.environmentInjector||U.ngModuleRef}const I=y?c:new gp(Ct(c)),S=h||this.parentInjector;if(!g&&null==I.ngModule){const J=(y?S:this.parentInjector).get(qc,null);J&&(g=J)}const P=I.create(S,f,void 0,g);return this.insert(P.hostView,E),P}insert(c,d){const h=c._lView,f=h[it];if(function ah(a){return _o(a[qn])}(h)){const P=this.indexOf(c);if(-1!==P)this.detach(P);else{const U=h[qn],J=new Af(U,U[zi],U[qn]);J.detach(J.indexOf(c))}}const g=this._adjustIndex(d),y=this._lContainer;!function p(a,c,d,h){const f=Xi+h,g=d.length;h>0&&(d[f-1][Tn]=c),h<g-Xi?(c[Tn]=d[f],qd(d,Xi+h,c)):(d.push(c),c[Tn]=null),c[qn]=d;const y=c[js];null!==y&&d!==y&&function v(a,c){const d=a[yr];c[Ii]!==c[qn][qn][Ii]&&(a[yl]=!0),null===d?a[yr]=[c]:d.push(c)}(y,c);const E=c[jr];null!==E&&E.insertView(a),c[qt]|=64}(f,h,y,g);const E=Zh(g,y),I=h[Yt],S=Gl(I,y[Sa]);return null!==S&&function Sy(a,c,d,h,f,g){h[ji]=f,h[zi]=c,du(a,h,d,1,f,g)}(f,y[zi],I,h,S,E),c.attachToViewContainerRef(),qd(S0(y),g,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=av(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),h=k(this._lContainer,d);h&&(Fl(S0(this._lContainer),d),L(h[it],h))}detach(c){const d=this._adjustIndex(c,-1),h=k(this._lContainer,d);return h&&null!=Fl(S0(this._lContainer),d)?new pp(h):null}_adjustIndex(c,d=0){return c??this.length+d}};function av(a){return a[_s]}function S0(a){return a[_s]||(a[_s]=[])}function lv(a,c){let d;const h=c[a.index];if(_o(h))d=h;else{let f;if(8&a.type)f=Mi(h);else{const g=c[Yt];f=g.createComment("");const y=Ji(a,c);Kt(g,Gl(g,y),f,function $m(a,c){return a.nextSibling(c)}(g,y),!1)}c[a.index]=d=eE(h,c,f,a),w_(c,d)}return new Af(d,a,c)}class kf{constructor(c){this.queryList=c,this.matches=null}clone(){return new kf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Eo{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const h=null!==c.contentQueries?c.contentQueries[0]:d.length,f=[];for(let g=0;g<h;g++){const y=d.getByIndex(g);f.push(this.queries[y.indexInDeclarationView].clone())}return new Eo(f)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==BD(c,d).matches&&this.queries[d].setDirty()}}class cv{constructor(c,d,h=null){this.predicate=c,this.flags=d,this.read=h}}class RD{constructor(c=[]){this.queries=c}elementStart(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let h=0;h<this.length;h++){const f=null!==d?d.length:0,g=this.getByIndex(h).embeddedTView(c,f);g&&(g.indexInDeclarationView=h,null!==d?d.push(g):d=[g])}return null!==d?new RD(d):null}template(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class OD{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new OD(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const g=h[f];this.matchTNodeWithReadOption(c,d,PD(d,g)),this.matchTNodeWithReadOption(c,d,Ha(d,c,g,!1,!1))}else h===Mf?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,Ha(d,c,h,!1,!1))}matchTNodeWithReadOption(c,d,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Xm||f===Su||f===Mf&&4&d.type)this.addMatch(d.index,-2);else{const g=Ha(d,c,f,!1,!1);null!==g&&this.addMatch(d.index,g)}else this.addMatch(d.index,h)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function PD(a,c){const d=a.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===c)return d[h+1];return null}function dv(a,c,d,h){return-1===d?function b2(a,c){return 11&a.type?fu(a,c):4&a.type?cs(a,c):null}(c,a):-2===d?function Ck(a,c,d){return d===Xm?fu(c,a):d===Mf?cs(c,a):d===Su?lv(c,a):void 0}(a,c,h):ti(a,a[it],d,c)}function FD(a,c,d,h){const f=c[jr].queries[h];if(null===f.matches){const g=a.data,y=d.matches,E=[];for(let I=0;I<y.length;I+=2){const S=y[I];E.push(S<0?null:dv(c,g[S],y[I+1],d.metadata.read))}f.matches=E}return f.matches}function M0(a,c,d,h){const f=a.queries.getByIndex(d),g=f.matches;if(null!==g){const y=FD(a,c,f,d);for(let E=0;E<g.length;E+=2){const I=g[E];if(I>0)h.push(y[E/2]);else{const S=g[E+1],P=c[-I];for(let U=Xi;U<P.length;U++){const J=P[U];J[js]===J[qn]&&M0(J[it],J,S,h)}if(null!==P[yr]){const U=P[yr];for(let J=0;J<U.length;J++){const le=U[J];M0(le[it],le,S,h)}}}}}return h}function Ek(a){const c=ve(),d=Ht(),h=Tl();ph(h+1);const f=BD(d,h);if(a.dirty&&function Cl(a){return 4==(4&a[qt])}(c)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?M0(d,c,h,[]):FD(d,c,f,h);a.reset(g,FL),a.notifyOnChanges()}return!0}return!1}function Dk(a,c,d){const h=Ht();h.firstCreatePass&&(LD(h,new cv(a,c,d),-1),2==(2&c)&&(h.staticViewQueries=!0)),ND(h,ve(),c)}function Rf(a,c,d,h){const f=Ht();if(f.firstCreatePass){const g=pi();LD(f,new cv(c,d,h),g.index),function Ik(a,c){const d=a.contentQueries||(a.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,c)}(f,a),2==(2&d)&&(f.staticContentQueries=!0)}ND(f,ve(),d)}function uv(){return function Tk(a,c){return a[jr].queries[c].queryList}(ve(),Tl())}function ND(a,c,d){const h=new rc(4==(4&d));db(a,c,h,h.destroy),null===c[jr]&&(c[jr]=new Eo),c[jr].queries.push(new kf(h))}function LD(a,c,d){null===a.queries&&(a.queries=new RD),a.queries.track(new OD(c,d))}function BD(a,c){return a.queries.getByIndex(c)}function hv(a,c){return cs(a,c)}function UD(a){return!!Hi(a)}function k0(...a){}const zk=new gn("Application Initializer");let R0=(()=>{class a{constructor(d){this.appInits=d,this.resolve=k0,this.reject=k0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const d=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(Dp(g))d.push(g);else if(xu(g)){const y=new Promise((E,I)=>{g.subscribe({complete:E,error:I})});d.push(y)}}Promise.all(d).then(()=>{h()}).catch(f=>{this.reject(f)}),0===d.length&&h(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)(Gt(zk,8))},a.\u0275prov=ft({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const $k=new gn("AppId",{providedIn:"root",factory:function Gk(){return`${WD()}${WD()}${WD()}`}});function WD(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wk=new gn("Platform Initializer"),V2=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),U2=new gn("AnimationModuleType");let H2=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=ft({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const O0=new gn("LocaleId",{providedIn:"root",factory:()=>Jn(O0,vt.Optional|vt.SkipSelf)||function j2(){return typeof $localize<"u"&&$localize.locale||Iu}()}),z2=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class $2{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let G2=(()=>{class a{compileModuleSync(d){return new y0(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const h=this.compileModuleSync(d),g=Zl(Hi(d).declarations).reduce((y,E)=>{const I=Ct(E);return I&&y.push(new gp(I)),y},[]);return new $2(h,g)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=ft({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Z2=(()=>Promise.resolve(0))();function qD(a){typeof Zone>"u"?Z2.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class pa{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new On(!1),this.onMicrotaskEmpty=new On(!1),this.onStable=new On(!1),this.onError=new On(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&d,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Y2(){let a=yn.requestAnimationFrame,c=yn.cancelAnimationFrame;if(typeof Zone<"u"&&a&&c){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function X2(a){const c=()=>{!function Q2(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(yn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,YD(a),a.isCheckStableRunning=!0,ZD(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),YD(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,f,g,y,E)=>{try{return Yk(a),d.invokeTask(f,g,y,E)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&c(),Kk(a)}},onInvoke:(d,h,f,g,y,E,I)=>{try{return Yk(a),d.invoke(f,g,y,E,I)}finally{a.shouldCoalesceRunChangeDetection&&c(),Kk(a)}},onHasTask:(d,h,f,g)=>{d.hasTask(f,g),h===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,YD(a),ZD(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(d,h,f,g)=>(d.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pa.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(pa.isInAngularZone())throw new we(909,!1)}run(c,d,h){return this._inner.run(c,d,h)}runTask(c,d,h,f){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+f,c,K2,k0,k0);try{return g.runTask(y,d,h)}finally{g.cancelTask(y)}}runGuarded(c,d,h){return this._inner.runGuarded(c,d,h)}runOutsideAngular(c){return this._outer.run(c)}}const K2={};function ZD(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function YD(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Yk(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Kk(a){a._nesting--,ZD(a)}class Qk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new On,this.onMicrotaskEmpty=new On,this.onStable=new On,this.onError=new On}run(c,d,h){return c.apply(d,h)}runGuarded(c,d,h){return c.apply(d,h)}runOutsideAngular(c){return c()}runTask(c,d,h,f){return c.apply(d,h)}}const ga=new gn(""),ad=new gn("");let F0,pv=(()=>{class a{constructor(d,h,f){this._ngZone=d,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,F0||(function Bp(a){F0=a}(f),f.addToWindow(h)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pa.assertNotInAngularZone(),qD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qD(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,f){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:g,updateCb:f})}whenStable(d,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,h,f){return[]}}return a.\u0275fac=function(d){return new(d||a)(Gt(pa),Gt(P0),Gt(ad))},a.\u0275prov=ft({token:a,factory:a.\u0275fac}),a})(),P0=(()=>{class a{constructor(){this._applications=new Map}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return F0?.findTestabilityInTree(this,d,h)??null}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=ft({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const _a=!1;let Cn=null;const Ot=new gn("AllowMultipleToken"),Ls=new gn("PlatformDestroyListeners"),KD=new gn("appBootstrapListener");class Xk{constructor(c,d){this.name=c,this.token=d}}function e1(a,c,d=[]){const h=`Platform: ${c}`,f=new gn(h);return(g=[])=>{let y=B0();if(!y||y.injector.get(Ot,!1)){const E=[...d,...g,{provide:f,useValue:!0}];a?a(E):function QD(a){if(Cn&&!Cn.get(Ot,!1))throw new we(400,!1);Cn=a;const c=a.get(JD);(function N0(a){const c=a.get(Wk,null);c&&c.forEach(d=>d())})(a)}(function ku(a=[],c){return Ja.create({name:c,providers:[{provide:DC,useValue:"platform"},{provide:Ls,useValue:new Set([()=>Cn=null])},...a]})}(E,h))}return function XD(a){const c=B0();if(!c)throw new we(401,!1);return c}()}}function B0(){return Cn?.get(JD)??null}let JD=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const f=function V0(a,c){let d;return d="noop"===a?new Qk:("zone.js"===a?void 0:a)||new pa(c),d}(h?.ngZone,function eT(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),g=[{provide:pa,useValue:f}];return f.run(()=>{const y=Ja.create({providers:g,parent:this.injector,name:d.moduleType.name}),E=d.create(y),I=E.injector.get(Jm,null);if(!I)throw new we(402,!1);return f.runOutsideAngular(()=>{const S=f.onError.subscribe({next:P=>{I.handleError(P)}});E.onDestroy(()=>{j0(this._modules,E),S.unsubscribe()})}),function t1(a,c,d){try{const h=d();return Dp(h)?h.catch(f=>{throw c.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw c.runOutsideAngular(()=>a.handleError(h)),h}}(I,f,()=>{const S=E.injector.get(R0);return S.runInitializers(),S.donePromise.then(()=>(function jA(a){ye(a,"Expected localeId to be defined"),"string"==typeof a&&(Rp=a.toLowerCase().replace(/_/g,"-"))}(E.injector.get(O0,Iu)||Iu),this._moduleDoBootstrap(E),E))})})}bootstrapModule(d,h=[]){const f=U0({},h);return function Vp(a,c,d){const h=new y0(d);return Promise.resolve(h)}(0,0,d).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(d){const h=d.injector.get(H0);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!d.instance.ngDoBootstrap)throw new we(-403,!1);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const d=this._injector.get(Ls,null);d&&(d.forEach(h=>h()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)(Gt(Ja))},a.\u0275prov=ft({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function U0(a,c){return Array.isArray(c)?c.reduce(U0,a):{...a,...c}}let H0=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(d,h,f){this._zone=d,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),y=new N.y(E=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{pa.assertNotInAngularZone(),qD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{pa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{I.unsubscribe(),S.unsubscribe()}});this.isStable=(0,se.T)(g,y.pipe((0,ue.B)()))}bootstrap(d,h){const f=d instanceof Zc;if(!this._injector.get(R0).done){!f&&ar(d);throw new we(405,_a)}let y;y=f?d:this._injector.get(rf).resolveComponentFactory(d),this.componentTypes.push(y.componentType);const E=function Wi(a){return a.isBoundToModule}(y)?void 0:this._injector.get(ic),S=y.create(Ja.NULL,[],h||y.selector,E),P=S.location.nativeElement,U=S.injector.get(ga,null);return U?.registerApplication(P),S.onDestroy(()=>{this.detachView(S.hostView),j0(this.components,S),U?.unregisterApplication(P)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;j0(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const h=this._injector.get(KD,[]);h.push(...this._bootstrapListeners),h.forEach(f=>f(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>j0(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new we(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(d){return new(d||a)(Gt(pa),Gt(qc),Gt(Jm))},a.\u0275prov=ft({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function j0(a,c){const d=a.indexOf(c);d>-1&&a.splice(d,1)}function n1(){return!1}function tB(){}let iB=(()=>{class a{}return a.__NG_ELEMENT_ID__=tT,a})();function tT(a){return function o1(a,c,d){if(_c(a)&&!d){const h=$i(a.index,c);return new pp(h,h)}return 47&a.type?new pp(c[Ii],c):null}(pi(),ve(),16==(16&a))}class u1{constructor(){}supports(c){return M_(c)}create(c){return new K0(c)}}const Y0=(a,c)=>c;class K0{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||Y0}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,h=this._removalsHead,f=0,g=null;for(;d||h;){const y=!h||d&&d.currentIndex<Ru(h,f,g)?d:h,E=Ru(y,f,g),I=y.currentIndex;if(y===h)f--,h=h._nextRemoved;else if(d=d._next,null==y.previousIndex)f++;else{g||(g=[]);const S=E-f,P=I-f;if(S!=P){for(let J=0;J<S;J++){const le=J<g.length?g[J]:g[J]=0,Te=le+J;P<=Te&&Te<S&&(g[J]=le+1)}g[y.previousIndex]=P-S}}E!==I&&c(y,E,I)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!M_(c))throw new we(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let f,g,y,d=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let E=0;E<this.length;E++)g=c[E],y=this._trackByFn(E,g),null!==d&&Object.is(d.trackById,y)?(h&&(d=this._verifyReinsertion(d,g,y,E)),Object.is(d.item,g)||this._addIdentityChange(d,g)):(d=this._mismatch(d,g,y,E),h=!0),d=d._next}else f=0,function dE(a,c){if(Array.isArray(a))for(let d=0;d<a.length;d++)c(a[d]);else{const d=a[Symbol.iterator]();let h;for(;!(h=d.next()).done;)c(h.value)}}(c,E=>{y=this._trackByFn(f,E),null!==d&&Object.is(d.trackById,y)?(h&&(d=this._verifyReinsertion(d,E,y,f)),Object.is(d.item,E)||this._addIdentityChange(d,E)):(d=this._mismatch(d,E,y,f),h=!0),d=d._next,f++}),this.length=f;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,h,f){let g;return null===c?g=this._itTail:(g=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,g,f)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,g,f)):c=this._addAfter(new h1(d,h),g,f),c}_verifyReinsertion(c,d,h,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?c=this._reinsertAfter(g,c._prev,f):c.currentIndex!=f&&(c.currentIndex=f,this._addToMoves(c,f)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const f=c._prevRemoved,g=c._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(c,d,h),this._addToMoves(c,h),c}_moveAfter(c,d,h){return this._unlink(c),this._insertAfter(c,d,h),this._addToMoves(c,h),c}_addAfter(c,d,h){return this._insertAfter(c,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,h){const f=null===d?this._itHead:d._next;return c._next=f,c._prev=d,null===f?this._itTail=c:f._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new Q0),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,h=c._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Q0),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class h1{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class f1{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const d=c._prevDup,h=c._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class Q0{constructor(){this.map=new Map}put(c){const d=c.trackById;let h=this.map.get(d);h||(h=new f1,this.map.set(d,h)),h.add(c)}get(c,d){const f=this.map.get(c);return f?f.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ru(a,c,d){const h=a.previousIndex;if(null===h)return h;let f=0;return d&&h<d.length&&(f=d[h]),h+c+f}class iT{constructor(){}supports(c){return c instanceof Map||A_(c)}create(){return new sB}}class sB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||A_(c)))throw new we(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,f)=>{if(d&&d.key===f)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const g=this._getOrCreateRecordForKey(f,h);d=this._insertBeforeOrAppend(d,g)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const h=c._prev;return d._next=c,d._prev=h,c._prev=d,h&&(h._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const f=this._records.get(c);this._maybeAddToChanges(f,d);const g=f._prev,y=f._next;return g&&(g._next=y),y&&(y._prev=g),f._next=null,f._prev=null,f}const h=new m1(c);return this._records.set(c,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(h=>d(c[h],h))}}class m1{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function p1(){return new rT([new u1])}let rT=(()=>{class a{constructor(d){this.factories=d}static create(d,h){if(null!=h){const f=h.factories.slice();d=d.concat(f)}return new a(d)}static extend(d){return{provide:a,useFactory:h=>a.create(d,h||p1()),deps:[[a,new Ga,new Cr]]}}find(d){const h=this.factories.find(f=>f.supports(d));if(null!=h)return h;throw new we(901,!1)}}return a.\u0275prov=ft({token:a,providedIn:"root",factory:p1}),a})();function g1(){return new X0([new iT])}let X0=(()=>{class a{constructor(d){this.factories=d}static create(d,h){if(h){const f=h.factories.slice();d=d.concat(f)}return new a(d)}static extend(d){return{provide:a,useFactory:h=>a.create(d,h||g1()),deps:[[a,new Ga,new Cr]]}}find(d){const h=this.factories.find(f=>f.supports(d));if(h)return h;throw new we(901,!1)}}return a.\u0275prov=ft({token:a,providedIn:"root",factory:g1}),a})();const oT=e1(null,"core",[]);let J0=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)(Gt(H0))},a.\u0275mod=ae({type:a}),a.\u0275inj=Dt({}),a})();function sT(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(xt,Ae,j)=>{j.d(Ae,{Z:()=>Xe});var s=j(2090),G=j(4859),N=j(6881),se=j(1877);class ue{constructor(we,Fe){this._delegate=we,this.firebase=Fe,(0,N._addComponent)(we,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(we,Fe=N._DEFAULT_ENTRY_NAME){var Le;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(we);return!ze.isInitialized()&&"EXPLICIT"===(null===(Le=ze.getComponent())||void 0===Le?void 0:Le.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:Fe})}_removeServiceInstance(we,Fe=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Fe)}_addComponent(we){(0,N._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,N._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function xe(){const dt=function be(dt){const we={},Fe={__esModule:!0,initializeApp:function Me(Ve,de={}){const ot=N.initializeApp(Ve,de);if((0,s.r3)(we,ot.name))return we[ot.name];const Mt=new dt(ot,Fe);return we[ot.name]=Mt,Mt},app:ze,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ne(Ve){const de=Ve.name,ot=de.replace("-compat","");if(N._registerComponent(Ve)&&"PUBLIC"===Ve.type){const Mt=(ut=ze())=>{if("function"!=typeof ut[ot])throw De.create("invalid-app-argument",{appName:de});return ut[ot]()};void 0!==Ve.serviceProps&&(0,s.ZB)(Mt,Ve.serviceProps),Fe[ot]=Mt,dt.prototype[ot]=function(...ut){return this._getService.bind(this,de).apply(this,Ve.multipleInstances?ut:[])}}return"PUBLIC"===Ve.type?Fe[ot]:null},removeApp:function Le(Ve){delete we[Ve]},useAsService:function We(Ve,de){return"serverAuth"===de?null:de},modularAPIs:N}};function ze(Ve){if(!(0,s.r3)(we,Ve=Ve||N._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:Ve});return we[Ve]}return Fe.default=Fe,Object.defineProperty(Fe,"apps",{get:function Ie(){return Object.keys(we).map(Ve=>we[Ve])}}),ze.App=dt,Fe}(ue);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function we(Fe){(0,s.ZB)(dt,Fe)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),dt}(),Y=new se.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=K;!function ke(dt){(0,N.registerVersion)("@firebase/app-compat","0.2.13",dt)}()},6881:(xt,Ae,j)=>{j.r(Ae),j.d(Ae,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Hr,_DEFAULT_ENTRY_NAME:()=>or,_addComponent:()=>pt,_addOrOverwriteComponent:()=>Vt,_apps:()=>yn,_clearComponents:()=>gr,_components:()=>Xt,_getProvider:()=>Ki,_registerComponent:()=>hi,_removeServiceInstance:()=>Xn,deleteApp:()=>fi,getApp:()=>kr,getApps:()=>Gt,initializeApp:()=>rn,onLog:()=>mi,registerVersion:()=>Qi,setLogLevel:()=>_r});var s=j(5861),G=j(4859),N=j(1877),se=j(2090);const ue=(_e,ae)=>ae.some(Ue=>_e instanceof Ue);let re,De;const K=new WeakMap,Y=new WeakMap,ne=new WeakMap,Ge=new WeakMap,ke=new WeakMap;let we={get(_e,ae,Ue){if(_e instanceof IDBTransaction){if("done"===ae)return Y.get(_e);if("objectStoreNames"===ae)return _e.objectStoreNames||ne.get(_e);if("store"===ae)return Ue.objectStoreNames[1]?void 0:Ue.objectStore(Ue.objectStoreNames[0])}return Me(_e[ae])},set:(_e,ae,Ue)=>(_e[ae]=Ue,!0),has:(_e,ae)=>_e instanceof IDBTransaction&&("done"===ae||"store"===ae)||ae in _e};function ze(_e){return"function"==typeof _e?function Le(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...ae){return _e.apply(Ie(this),ae),Me(K.get(this))}:function(...ae){return Me(_e.apply(Ie(this),ae))}:function(ae,...Ue){const bt=_e.call(Ie(this),ae,...Ue);return ne.set(bt,ae.sort?ae.sort():[ae]),Me(bt)}}(_e):(_e instanceof IDBTransaction&&function dt(_e){if(Y.has(_e))return;const ae=new Promise((Ue,bt)=>{const kt=()=>{_e.removeEventListener("complete",on),_e.removeEventListener("error",Ct),_e.removeEventListener("abort",Ct)},on=()=>{Ue(),kt()},Ct=()=>{bt(_e.error||new DOMException("AbortError","AbortError")),kt()};_e.addEventListener("complete",on),_e.addEventListener("error",Ct),_e.addEventListener("abort",Ct)});Y.set(_e,ae)}(_e),ue(_e,function be(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,we):_e)}function Me(_e){if(_e instanceof IDBRequest)return function Xe(_e){const ae=new Promise((Ue,bt)=>{const kt=()=>{_e.removeEventListener("success",on),_e.removeEventListener("error",Ct)},on=()=>{Ue(Me(_e.result)),kt()},Ct=()=>{bt(_e.error),kt()};_e.addEventListener("success",on),_e.addEventListener("error",Ct)});return ae.then(Ue=>{Ue instanceof IDBCursor&&K.set(Ue,_e)}).catch(()=>{}),ke.set(ae,_e),ae}(_e);if(Ge.has(_e))return Ge.get(_e);const ae=ze(_e);return ae!==_e&&(Ge.set(_e,ae),ke.set(ae,_e)),ae}const Ie=_e=>ke.get(_e),Ve=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],ot=new Map;function Mt(_e,ae){if(!(_e instanceof IDBDatabase)||ae in _e||"string"!=typeof ae)return;if(ot.get(ae))return ot.get(ae);const Ue=ae.replace(/FromIndex$/,""),bt=ae!==Ue,kt=de.includes(Ue);if(!(Ue in(bt?IDBIndex:IDBObjectStore).prototype)||!kt&&!Ve.includes(Ue))return;const on=function(){var Ct=(0,s.Z)(function*(Dn,...mn){const ar=this.transaction(Dn,kt?"readwrite":"readonly");let Hi=ar.store;return bt&&(Hi=Hi.index(mn.shift())),(yield Promise.all([Hi[Ue](...mn),kt&&ar.done]))[0]});return function(mn){return Ct.apply(this,arguments)}}();return ot.set(ae,on),on}!function Fe(_e){we=_e(we)}(_e=>({..._e,get:(ae,Ue,bt)=>Mt(ae,Ue)||_e.get(ae,Ue,bt),has:(ae,Ue)=>!!Mt(ae,Ue)||_e.has(ae,Ue)}));class ut{constructor(ae){this.container=ae}getPlatformInfoString(){return this.container.getProviders().map(Ue=>{if(function Qt(_e){return"VERSION"===_e.getComponent()?.type}(Ue)){const bt=Ue.getImmediate();return`${bt.library}/${bt.version}`}return null}).filter(Ue=>Ue).join(" ")}}const mt="@firebase/app",Vi=new N.Yd("@firebase/app"),or="[DEFAULT]",pr={[mt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yn=new Map,Xt=new Map;function pt(_e,ae){try{_e.container.addComponent(ae)}catch(Ue){Vi.debug(`Component ${ae.name} failed to register with FirebaseApp ${_e.name}`,Ue)}}function Vt(_e,ae){_e.container.addOrOverwriteComponent(ae)}function hi(_e){const ae=_e.name;if(Xt.has(ae))return Vi.debug(`There were multiple attempts to register component ${ae}.`),!1;Xt.set(ae,_e);for(const Ue of yn.values())pt(Ue,_e);return!0}function Ki(_e,ae){const Ue=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return Ue&&Ue.triggerHeartbeat(),_e.container.getProvider(ae)}function Xn(_e,ae,Ue=or){Ki(_e,ae).clearInstance(Ue)}function gr(){Xt.clear()}const Ti=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Jt{constructor(ae,Ue,bt){this._isDeleted=!1,this._options=Object.assign({},ae),this._config=Object.assign({},Ue),this._name=Ue.name,this._automaticDataCollectionEnabled=Ue.automaticDataCollectionEnabled,this._container=bt,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ae){this._isDeleted=ae}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}const Hr="9.23.0";function rn(_e,ae={}){let Ue=_e;"object"!=typeof ae&&(ae={name:ae});const bt=Object.assign({name:or,automaticDataCollectionEnabled:!1},ae),kt=bt.name;if("string"!=typeof kt||!kt)throw Ti.create("bad-app-name",{appName:String(kt)});if(Ue||(Ue=(0,se.aH)()),!Ue)throw Ti.create("no-options");const on=yn.get(kt);if(on){if((0,se.vZ)(Ue,on.options)&&(0,se.vZ)(bt,on.config))return on;throw Ti.create("duplicate-app",{appName:kt})}const Ct=new G.H0(kt);for(const mn of Xt.values())Ct.addComponent(mn);const Dn=new Jt(Ue,bt,Ct);return yn.set(kt,Dn),Dn}function kr(_e=or){const ae=yn.get(_e);if(!ae&&_e===or&&(0,se.aH)())return rn();if(!ae)throw Ti.create("no-app",{appName:_e});return ae}function Gt(){return Array.from(yn.values())}function fi(_e){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,s.Z)(function*(_e){const ae=_e.name;yn.has(ae)&&(yn.delete(ae),yield Promise.all(_e.container.getProviders().map(Ue=>Ue.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function Qi(_e,ae,Ue){var bt;let kt=null!==(bt=pr[_e])&&void 0!==bt?bt:_e;Ue&&(kt+=`-${Ue}`);const on=kt.match(/\s|\//),Ct=ae.match(/\s|\//);if(on||Ct){const Dn=[`Unable to register library "${kt}" with version "${ae}":`];return on&&Dn.push(`library name "${kt}" contains illegal characters (whitespace or "/")`),on&&Ct&&Dn.push("and"),Ct&&Dn.push(`version name "${ae}" contains illegal characters (whitespace or "/")`),void Vi.warn(Dn.join(" "))}hi(new G.wA(`${kt}-version`,()=>({library:kt,version:ae}),"VERSION"))}function mi(_e,ae){if(null!==_e&&"function"!=typeof _e)throw Ti.create("invalid-log-argument");(0,N.Am)(_e,ae)}function _r(_e){(0,N.Ub)(_e)}const sr="firebase-heartbeat-database",vr=1,q="firebase-heartbeat-store";let W=null;function B(){return W||(W=function Ne(_e,ae,{blocked:Ue,upgrade:bt,blocking:kt,terminated:on}={}){const Ct=indexedDB.open(_e,ae),Dn=Me(Ct);return bt&&Ct.addEventListener("upgradeneeded",mn=>{bt(Me(Ct.result),mn.oldVersion,mn.newVersion,Me(Ct.transaction),mn)}),Ue&&Ct.addEventListener("blocked",mn=>Ue(mn.oldVersion,mn.newVersion,mn)),Dn.then(mn=>{on&&mn.addEventListener("close",()=>on()),kt&&mn.addEventListener("versionchange",ar=>kt(ar.oldVersion,ar.newVersion,ar))}).catch(()=>{}),Dn}(sr,vr,{upgrade:(_e,ae)=>{0===ae&&_e.createObjectStore(q)}}).catch(_e=>{throw Ti.create("idb-open",{originalErrorMessage:_e.message})})),W}function O(){return(O=(0,s.Z)(function*(_e){try{return yield(yield B()).transaction(q).objectStore(q).get(st(_e))}catch(ae){if(ae instanceof se.ZR)Vi.warn(ae.message);else{const Ue=Ti.create("idb-get",{originalErrorMessage:ae?.message});Vi.warn(Ue.message)}}})).apply(this,arguments)}function X(_e,ae){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,s.Z)(function*(_e,ae){try{const bt=(yield B()).transaction(q,"readwrite");yield bt.objectStore(q).put(ae,st(_e)),yield bt.done}catch(Ue){if(Ue instanceof se.ZR)Vi.warn(Ue.message);else{const bt=Ti.create("idb-set",{originalErrorMessage:Ue?.message});Vi.warn(bt.message)}}})).apply(this,arguments)}function st(_e){return`${_e.name}!${_e.options.appId}`}class en{constructor(ae){this.container=ae,this._heartbeatsCache=null;const Ue=this.container.getProvider("app").getImmediate();this._storage=new Wt(Ue),this._heartbeatsCachePromise=this._storage.read().then(bt=>(this._heartbeatsCache=bt,bt))}triggerHeartbeat(){var ae=this;return(0,s.Z)(function*(){const bt=ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=Rt();if(null===ae._heartbeatsCache&&(ae._heartbeatsCache=yield ae._heartbeatsCachePromise),ae._heartbeatsCache.lastSentHeartbeatDate!==kt&&!ae._heartbeatsCache.heartbeats.some(on=>on.date===kt))return ae._heartbeatsCache.heartbeats.push({date:kt,agent:bt}),ae._heartbeatsCache.heartbeats=ae._heartbeatsCache.heartbeats.filter(on=>{const Ct=new Date(on.date).valueOf();return Date.now()-Ct<=2592e6}),ae._storage.overwrite(ae._heartbeatsCache)})()}getHeartbeatsHeader(){var ae=this;return(0,s.Z)(function*(){if(null===ae._heartbeatsCache&&(yield ae._heartbeatsCachePromise),null===ae._heartbeatsCache||0===ae._heartbeatsCache.heartbeats.length)return"";const Ue=Rt(),{heartbeatsToSend:bt,unsentEntries:kt}=function Fn(_e,ae=1024){const Ue=[];let bt=_e.slice();for(const kt of _e){const on=Ue.find(Ct=>Ct.agent===kt.agent);if(on){if(on.dates.push(kt.date),Ui(Ue)>ae){on.dates.pop();break}}else if(Ue.push({agent:kt.agent,dates:[kt.date]}),Ui(Ue)>ae){Ue.pop();break}bt=bt.slice(1)}return{heartbeatsToSend:Ue,unsentEntries:bt}}(ae._heartbeatsCache.heartbeats),on=(0,se.L)(JSON.stringify({version:2,heartbeats:bt}));return ae._heartbeatsCache.lastSentHeartbeatDate=Ue,kt.length>0?(ae._heartbeatsCache.heartbeats=kt,yield ae._storage.overwrite(ae._heartbeatsCache)):(ae._heartbeatsCache.heartbeats=[],ae._storage.overwrite(ae._heartbeatsCache)),on})()}}function Rt(){return(new Date).toISOString().substring(0,10)}class Wt{constructor(ae){this.app=ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ae=this;return(0,s.Z)(function*(){return(yield ae._canUseIndexedDBPromise)&&(yield function V(_e){return O.apply(this,arguments)}(ae.app))||{heartbeats:[]}})()}overwrite(ae){var Ue=this;return(0,s.Z)(function*(){var bt;if(yield Ue._canUseIndexedDBPromise){const on=yield Ue.read();return X(Ue.app,{lastSentHeartbeatDate:null!==(bt=ae.lastSentHeartbeatDate)&&void 0!==bt?bt:on.lastSentHeartbeatDate,heartbeats:ae.heartbeats})}})()}add(ae){var Ue=this;return(0,s.Z)(function*(){var bt;if(yield Ue._canUseIndexedDBPromise){const on=yield Ue.read();return X(Ue.app,{lastSentHeartbeatDate:null!==(bt=ae.lastSentHeartbeatDate)&&void 0!==bt?bt:on.lastSentHeartbeatDate,heartbeats:[...on.heartbeats,...ae.heartbeats]})}})()}}function Ui(_e){return(0,se.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function Ko(_e){hi(new G.wA("platform-logger",ae=>new ut(ae),"PRIVATE")),hi(new G.wA("heartbeat",ae=>new en(ae),"PRIVATE")),Qi(mt,"0.9.13",_e),Qi(mt,"0.9.13","esm2017"),Qi("fire-js","")}("")},4859:(xt,Ae,j)=>{j.d(Ae,{H0:()=>be,wA:()=>N,zt:()=>ue});var s=j(5861),G=j(2090);class N{constructor(K,Y,ne){this.name=K,this.instanceFactory=Y,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const se="[DEFAULT]";class ue{constructor(K,Y){this.name=K,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const Y=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(Y)){const ne=new G.BH;if(this.instancesDeferred.set(Y,ne),this.isInitialized(Y)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:Y});Ge&&ne.resolve(Ge)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(K){var Y;const ne=this.normalizeInstanceIdentifier(K?.identifier),Ge=null!==(Y=K?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(ke){if(Ge)return null;throw ke}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function De(xe){return"EAGER"===xe.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[Y,ne]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(Y);try{const ke=this.getOrInitializeService({instanceIdentifier:Ge});ne.resolve(ke)}catch{}}}}clearInstance(K=se){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,s.Z)(function*(){const Y=Array.from(K.instances.values());yield Promise.all([...Y.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...Y.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=se){return this.instances.has(K)}getOptions(K=se){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:Y={}}=K,ne=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ne,options:Y});for(const[ke,Xe]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(ke)&&Xe.resolve(Ge);return Ge}onInit(K,Y){var ne;const Ge=this.normalizeInstanceIdentifier(Y),ke=null!==(ne=this.onInitCallbacks.get(Ge))&&void 0!==ne?ne:new Set;ke.add(K),this.onInitCallbacks.set(Ge,ke);const Xe=this.instances.get(Ge);return Xe&&K(Xe,Ge),()=>{ke.delete(K)}}invokeOnInitCallbacks(K,Y){const ne=this.onInitCallbacks.get(Y);if(ne)for(const Ge of ne)try{Ge(K,Y)}catch{}}getOrInitializeService({instanceIdentifier:K,options:Y={}}){let ne=this.instances.get(K);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=K,xe===se?void 0:xe),options:Y}),this.instances.set(K,ne),this.instancesOptions.set(K,Y),this.invokeOnInitCallbacks(ne,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,ne)}catch{}var xe;return ne||null}normalizeInstanceIdentifier(K=se){return this.component?this.component.multipleInstances?K:se:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const Y=this.getProvider(K.name);if(Y.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);Y.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const Y=new ue(K,this);return this.providers.set(K,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(xt,Ae,j)=>{j.d(Ae,{Am:()=>xe,Ub:()=>be,Yd:()=>De,in:()=>G});const s=[];var G=(()=>{return(K=G||(G={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",G;var K})();const N={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},se=G.INFO,ue={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},re=(K,Y,...ne)=>{if(Y<K.logLevel)return;const Ge=(new Date).toISOString(),ke=ue[Y];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[ke](`[${Ge}]  ${K.name}:`,...ne)};class De{constructor(Y){this.name=Y,this._logLevel=se,this._logHandler=re,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in G))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?N[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...Y),this._logHandler(this,G.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...Y),this._logHandler(this,G.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,G.INFO,...Y),this._logHandler(this,G.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,G.WARN,...Y),this._logHandler(this,G.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...Y),this._logHandler(this,G.ERROR,...Y)}}function be(K){s.forEach(Y=>{Y.setLogLevel(K)})}function xe(K,Y){for(const ne of s){let Ge=null;Y&&Y.level&&(Ge=N[Y.level]),ne.userLogHandler=null===K?null:(ke,Xe,...dt)=>{const we=dt.map(Fe=>{if(null==Fe)return null;if("string"==typeof Fe)return Fe;if("number"==typeof Fe||"boolean"==typeof Fe)return Fe.toString();if(Fe instanceof Error)return Fe.message;try{return JSON.stringify(Fe)}catch{return null}}).filter(Fe=>Fe).join(" ");Xe>=(Ge??ke.logLevel)&&K({level:G[Xe].toLowerCase(),message:we,args:dt,type:ke.name})}}}},259:(xt,Ae,j)=>{j.d(Ae,{C6:()=>s.getApps,KN:()=>s.registerVersion,Mq:()=>s.getApp,ZF:()=>s.initializeApp});var s=j(6881);(0,s.registerVersion)("firebase","9.23.0","app")},9260:(xt,Ae,j)=>{j.d(Ae,{Z:()=>s.Z});var s=j(3942);s.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(xt,Ae,j)=>{j.r(Ae);var s=j(5861),G=j(3942),N=j(1389),se=j(2090),De=(j(6881),j(1877),j(4859));function be(){return window}const xe=2e3;function Y(){return Y=(0,s.Z)(function*(B,V,O){var X;const{BuildInfo:Ee}=be();(0,N.as)(V.sessionId,"AuthEvent did not contain a session ID");const st=yield function Fe(B){return Le.apply(this,arguments)}(V.sessionId),At={};return(0,N.at)()?At.ibi=Ee.packageName:(0,N.au)()?At.apn=Ee.packageName:(0,N.av)(B,"operation-not-supported-in-this-environment"),Ee.displayName&&(At.appDisplayName=Ee.displayName),At.sessionId=st,(0,N.aw)(B,O,V.type,void 0,null!==(X=V.eventId)&&void 0!==X?X:void 0,At)}),Y.apply(this,arguments)}function Ge(){return(Ge=(0,s.Z)(function*(B){const{BuildInfo:V}=be(),O={};(0,N.at)()?O.iosBundleId=V.packageName:(0,N.au)()?O.androidPackageName=V.packageName:(0,N.av)(B,"operation-not-supported-in-this-environment"),yield(0,N.ax)(B,O)})).apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*(B,V,O){const{cordova:X}=be();let Ee=()=>{};try{yield new Promise((st,At)=>{let It=null;function en(){var Wt;st();const Ui=null===(Wt=X.plugins.browsertab)||void 0===Wt?void 0:Wt.close;"function"==typeof Ui&&Ui(),"function"==typeof O?.close&&O.close()}function Rt(){It||(It=window.setTimeout(()=>{At((0,N.az)(B,"redirect-cancelled-by-user"))},xe))}function Fn(){"visible"===document?.visibilityState&&Rt()}V.addPassiveListener(en),document.addEventListener("resume",Rt,!1),(0,N.au)()&&document.addEventListener("visibilitychange",Fn,!1),Ee=()=>{V.removePassiveListener(en),document.removeEventListener("resume",Rt,!1),document.removeEventListener("visibilitychange",Fn,!1),It&&window.clearTimeout(It)}})}finally{Ee()}})).apply(this,arguments)}function Le(){return(Le=(0,s.Z)(function*(B){const V=function ze(B){if((0,N.as)(/[0-9a-zA-Z]+/.test(B),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(B);const V=new ArrayBuffer(B.length),O=new Uint8Array(V);for(let X=0;X<B.length;X++)O[X]=B.charCodeAt(X);return O}(B),O=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(O)).map(Ee=>Ee.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Me=20;class Ie extends N.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(V)),super.onEvent(V)}initialized(){var V=this;return(0,s.Z)(function*(){yield V.initPromise})()}}function Ve(B){return de.apply(this,arguments)}function de(){return(de=(0,s.Z)(function*(B){const V=yield ut()._get(Qt(B));return V&&(yield ut()._remove(Qt(B))),V})).apply(this,arguments)}function Mt(){const B=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<Me;O++){const X=Math.floor(Math.random()*V.length);B.push(V.charAt(X))}return B.join("")}function ut(){return(0,N.aC)(N.b)}function Qt(B){return(0,N.aD)("authEvent",B.config.apiKey,B.name)}function Vi(B){if(!B?.includes("?"))return{};const[V,...O]=B.split("?");return(0,se.zd)(O.join("?"))}const he=class Oo{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(V){var O=this;return(0,s.Z)(function*(){const X=V._key();let Ee=O.eventManagers.get(X);return Ee||(Ee=new Ie(V),O.eventManagers.set(X,Ee),O.attachCallbackListeners(V,Ee)),Ee})()}_openPopup(V){(0,N.av)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,O,X,Ee){var st=this;return(0,s.Z)(function*(){!function we(B){var V,O,X,Ee,st,At,It,en,Rt,Fn;const Wt=be();(0,N.aA)("function"==typeof(null===(V=Wt?.universalLinks)||void 0===V?void 0:V.subscribe),B,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aA)(typeof(null===(O=Wt?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aA)("function"==typeof(null===(st=null===(Ee=null===(X=Wt?.cordova)||void 0===X?void 0:X.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===st?void 0:st.openUrl),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(en=null===(It=null===(At=Wt?.cordova)||void 0===At?void 0:At.plugins)||void 0===It?void 0:It.browsertab)||void 0===en?void 0:en.isAvailable),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(Fn=null===(Rt=Wt?.cordova)||void 0===Rt?void 0:Rt.InAppBrowser)||void 0===Fn?void 0:Fn.open),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const At=yield st._initialize(V);yield At.initialized(),At.resetRedirect(),(0,N.aG)(),yield st._originValidation(V);const It=function Ne(B,V,O=null){return{type:V,eventId:O,urlResponse:null,sessionId:Mt(),postBody:null,tenantId:B.tenantId,error:(0,N.az)(B,"no-auth-event")}}(V,X,Ee);yield function We(B,V){return ut()._set(Qt(B),V)}(V,It);const en=yield function K(B,V,O){return Y.apply(this,arguments)}(V,It,O),Rt=yield function ke(B){const{cordova:V}=be();return new Promise(O=>{V.plugins.browsertab.isAvailable(X=>{let Ee=null;X?V.plugins.browsertab.openUrl(B):Ee=V.InAppBrowser.open(B,(0,N.ay)()?"_blank":"_system","location=yes"),O(Ee)})})}(en);return function Xe(B,V,O){return dt.apply(this,arguments)}(V,At,Rt)})()}_isIframeWebStorageSupported(V,O){throw new Error("Method not implemented.")}_originValidation(V){const O=V._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function ne(B){return Ge.apply(this,arguments)}(V)),this.originValidationPromises[O]}attachCallbackListeners(V,O){const{universalLinks:X,handleOpenURL:Ee,BuildInfo:st}=be(),At=setTimeout((0,s.Z)(function*(){yield Ve(V),O.onEvent(ge())}),500),It=function(){var Fn=(0,s.Z)(function*(Wt){clearTimeout(At);const Ui=yield Ve(V);let Ko=null;Ui&&Wt?.url&&(Ko=function ot(B,V){var O,X;const Ee=function Yo(B){const V=Vi(B),O=V.link?decodeURIComponent(V.link):void 0,X=Vi(O).link,Ee=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return Vi(Ee).link||Ee||X||O||B}(V);if(Ee.includes("/__/auth/callback")){const st=Vi(Ee),At=st.firebaseError?function mt(B){try{return JSON.parse(B)}catch{return null}}(decodeURIComponent(st.firebaseError)):null,It=null===(X=null===(O=At?.code)||void 0===O?void 0:O.split("auth/"))||void 0===X?void 0:X[1],en=It?(0,N.az)(It):null;return en?{type:B.type,eventId:B.eventId,tenantId:B.tenantId,error:en,urlResponse:null,sessionId:null,postBody:null}:{type:B.type,eventId:B.eventId,tenantId:B.tenantId,sessionId:B.sessionId,urlResponse:Ee,postBody:null}}return null}(Ui,Wt.url)),O.onEvent(Ko||ge())});return function(Ui){return Fn.apply(this,arguments)}}();typeof X<"u"&&"function"==typeof X.subscribe&&X.subscribe(null,It);const en=Ee,Rt=`${st.packageName.toLowerCase()}://`;be().handleOpenURL=function(){var Fn=(0,s.Z)(function*(Wt){if(Wt.toLowerCase().startsWith(Rt)&&It({url:Wt}),"function"==typeof en)try{en(Wt)}catch(Ui){console.error(Ui)}});return function(Wt){return Fn.apply(this,arguments)}}()}};function ge(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.az)("no-auth-event")}}const He=1e3;function ht(){var B;return(null===(B=self?.location)||void 0===B?void 0:B.protocol)||null}function vn(B=(0,se.z$)()){return!("file:"!==ht()&&"ionic:"!==ht()&&"capacitor:"!==ht()||!B.toLowerCase().match(/iphone|ipad|ipod|android/))}function yi(){try{const B=self.localStorage,V=N.aL();if(B)return B.setItem(V,"1"),B.removeItem(V),!function xn(B=(0,se.z$)()){return function un(){return(0,se.w1)()&&11===document?.documentMode}()||function Gn(B=(0,se.z$)()){return/Edge\/\d+/.test(B)}(B)}()||(0,se.hl)()}catch{return Wn()&&(0,se.hl)()}return!1}function Wn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qn(){return(function ft(){return"http:"===ht()||"https:"===ht()}()||(0,se.ru)()||vn())&&!function Dt(){return(0,se.b$)()||(0,se.UG)()}()&&yi()&&!Wn()}function bi(){return vn()&&typeof document<"u"}function si(){return(si=(0,s.Z)(function*(){return!!bi()&&new Promise(B=>{const V=setTimeout(()=>{B(!1)},He);document.addEventListener("deviceready",()=>{clearTimeout(V),B(!0)})})})).apply(this,arguments)}const ai={LOCAL:"local",NONE:"none",SESSION:"session"},Po=N.aA,ui="persistence";function pr(B){return yn.apply(this,arguments)}function yn(){return(yn=(0,s.Z)(function*(B){yield B._initializationPromise;const V=pt(),O=N.aD(ui,B.config.apiKey,B.name);V&&V.setItem(O,B._getPersistence())})).apply(this,arguments)}function pt(){var B;try{return(null===(B=function vt(){return typeof window<"u"?window:null}())||void 0===B?void 0:B.sessionStorage)||null}catch{return null}}const Vt=N.aA;class hi{constructor(){this.browserResolver=N.aC(N.k),this.cordovaResolver=N.aC(he),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(V){var O=this;return(0,s.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,O,X,Ee){var st=this;return(0,s.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openPopup(V,O,X,Ee)})()}_openRedirect(V,O,X,Ee){var st=this;return(0,s.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openRedirect(V,O,X,Ee)})()}_isIframeWebStorageSupported(V,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,O)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return bi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,s.Z)(function*(){if(V.underlyingResolver)return;const O=yield function Ur(){return si.apply(this,arguments)}();V.underlyingResolver=O?V.cordovaResolver:V.browserResolver})()}}function Ki(B){return B.unwrap()}function gr(B){return Ti(B)}function Ti(B){const{_tokenResponse:V}=B instanceof se.ZR?B.customData:B;if(!V)return null;if(!(B instanceof se.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return N.P.credentialFromResult(B);const O=V.providerId;if(!O||O===N.p.PASSWORD)return null;let X;switch(O){case N.p.GOOGLE:X=N.V;break;case N.p.FACEBOOK:X=N.U;break;case N.p.GITHUB:X=N.W;break;case N.p.TWITTER:X=N.Z;break;default:const{oauthIdToken:Ee,oauthAccessToken:st,oauthTokenSecret:At,pendingToken:It,nonce:en}=V;return st||At||Ee||It?It?O.startsWith("saml.")?N.aO._create(O,It):N.L._fromParams({providerId:O,signInMethod:O,pendingToken:It,idToken:Ee,accessToken:st}):new N.X(O).credential({idToken:Ee,accessToken:st,rawNonce:en}):null}return B instanceof se.ZR?X.credentialFromError(B):X.credentialFromResult(B)}function Jt(B,V){return V.catch(O=>{throw O instanceof se.ZR&&function li(B,V){var O;const X=null===(O=V.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new kr(B,N.aq(B,V));else if(X){const Ee=Ti(V),st=V;Ee&&(st.credential=Ee,st.tenantId=X.tenantId||void 0,st.email=X.email||void 0,st.phoneNumber=X.phoneNumber||void 0)}}(B,O),O}).then(O=>{const Ee=O.user;return{operationType:O.operationType,credential:gr(O),additionalUserInfo:N.ao(O),user:Gt.getOrCreate(Ee)}})}function Hr(B,V){return rn.apply(this,arguments)}function rn(){return(rn=(0,s.Z)(function*(B,V){const O=yield V;return{verificationId:O.verificationId,confirm:X=>Jt(B,O.confirm(X))}})).apply(this,arguments)}class kr{constructor(V,O){this.resolver=O,this.auth=function Xn(B){return B.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return Jt(Ki(this.auth),this.resolver.resolveSignIn(V))}}class Gt{constructor(V){this._delegate=V,this.multiFactor=N.ar(V)}static getOrCreate(V){return Gt.USER_MAP.has(V)||Gt.USER_MAP.set(V,new Gt(V)),Gt.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var O=this;return(0,s.Z)(function*(){return Jt(O.auth,N.a0(O._delegate,V))})()}linkWithPhoneNumber(V,O){var X=this;return(0,s.Z)(function*(){return Hr(X.auth,N.l(X._delegate,V,O))})()}linkWithPopup(V){var O=this;return(0,s.Z)(function*(){return Jt(O.auth,N.d(O._delegate,V,hi))})()}linkWithRedirect(V){var O=this;return(0,s.Z)(function*(){return yield pr(N.aH(O.auth)),N.g(O._delegate,V,hi)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var O=this;return(0,s.Z)(function*(){return Jt(O.auth,N.a1(O._delegate,V))})()}reauthenticateWithPhoneNumber(V,O){return Hr(this.auth,N.r(this._delegate,V,O))}reauthenticateWithPopup(V){return Jt(this.auth,N.e(this._delegate,V,hi))}reauthenticateWithRedirect(V){var O=this;return(0,s.Z)(function*(){return yield pr(N.aH(O.auth)),N.h(O._delegate,V,hi)})()}sendEmailVerification(V){return N.ae(this._delegate,V)}unlink(V){var O=this;return(0,s.Z)(function*(){return yield N.an(O._delegate,V),O})()}updateEmail(V){return N.aj(this._delegate,V)}updatePassword(V){return N.ak(this._delegate,V)}updatePhoneNumber(V){return N.u(this._delegate,V)}updateProfile(V){return N.ai(this._delegate,V)}verifyBeforeUpdateEmail(V,O){return N.af(this._delegate,V,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Gt.USER_MAP=new WeakMap;const fi=N.aA;let Jn=(()=>{class B{constructor(O,X){if(this.app=O,X.isInitialized())return this._delegate=X.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ee}=O.options;fi(Ee,"invalid-api-key",{appName:O.name}),fi(Ee,"invalid-api-key",{appName:O.name});const st=typeof window<"u"?hi:void 0;this._delegate=X.initialize({options:{persistence:mi(Ee,O.name),popupRedirectResolver:st}}),this._delegate._updateErrorMap(N.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Gt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,X){N.I(this._delegate,O,X)}applyActionCode(O){return N.a5(this._delegate,O)}checkActionCode(O){return N.a6(this._delegate,O)}confirmPasswordReset(O,X){return N.a4(this._delegate,O,X)}createUserWithEmailAndPassword(O,X){var Ee=this;return(0,s.Z)(function*(){return Jt(Ee._delegate,N.a8(Ee._delegate,O,X))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return N.ad(this._delegate,O)}isSignInWithEmailLink(O){return N.ab(this._delegate,O)}getRedirectResult(){var O=this;return(0,s.Z)(function*(){fi(Qn(),O._delegate,"operation-not-supported-in-this-environment");const X=yield N.j(O._delegate,hi);return X?Jt(O._delegate,Promise.resolve(X)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function ye(B,V){(0,N.aH)(B)._logFramework(V)}(this._delegate,O)}onAuthStateChanged(O,X,Ee){const{next:st,error:At,complete:It}=Qi(O,X,Ee);return this._delegate.onAuthStateChanged(st,At,It)}onIdTokenChanged(O,X,Ee){const{next:st,error:At,complete:It}=Qi(O,X,Ee);return this._delegate.onIdTokenChanged(st,At,It)}sendSignInLinkToEmail(O,X){return N.aa(this._delegate,O,X)}sendPasswordResetEmail(O,X){return N.a3(this._delegate,O,X||void 0)}setPersistence(O){var X=this;return(0,s.Z)(function*(){let Ee;switch(function or(B,V){Po(Object.values(ai).includes(V),B,"invalid-persistence-type"),(0,se.b$)()?Po(V!==ai.SESSION,B,"unsupported-persistence-type"):(0,se.UG)()?Po(V===ai.NONE,B,"unsupported-persistence-type"):Wn()?Po(V===ai.NONE||V===ai.LOCAL&&(0,se.hl)(),B,"unsupported-persistence-type"):Po(V===ai.NONE||yi(),B,"unsupported-persistence-type")}(X._delegate,O),O){case ai.SESSION:Ee=N.a;break;case ai.LOCAL:Ee=(yield N.aC(N.i)._isAvailable())?N.i:N.b;break;case ai.NONE:Ee=N.N;break;default:return N.av("argument-error",{appName:X._delegate.name})}return X._delegate.setPersistence(Ee)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return Jt(this._delegate,N._(this._delegate))}signInWithCredential(O){return Jt(this._delegate,N.$(this._delegate,O))}signInWithCustomToken(O){return Jt(this._delegate,N.a2(this._delegate,O))}signInWithEmailAndPassword(O,X){return Jt(this._delegate,N.a9(this._delegate,O,X))}signInWithEmailLink(O,X){return Jt(this._delegate,N.ac(this._delegate,O,X))}signInWithPhoneNumber(O,X){return Hr(this._delegate,N.s(this._delegate,O,X))}signInWithPopup(O){var X=this;return(0,s.Z)(function*(){return fi(Qn(),X._delegate,"operation-not-supported-in-this-environment"),Jt(X._delegate,N.c(X._delegate,O,hi))})()}signInWithRedirect(O){var X=this;return(0,s.Z)(function*(){return fi(Qn(),X._delegate,"operation-not-supported-in-this-environment"),yield pr(X._delegate),N.f(X._delegate,O,hi)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return N.a7(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return B.Persistence=ai,B})();function Qi(B,V,O){let X=B;"function"!=typeof B&&({next:X,error:V,complete:O}=B);const Ee=X;return{next:At=>Ee(At&&Gt.getOrCreate(At)),error:V,complete:O}}function mi(B,V){const O=function Xt(B,V){const O=pt();if(!O)return[];const X=N.aD(ui,B,V);switch(O.getItem(X)){case ai.NONE:return[N.N];case ai.LOCAL:return[N.i,N.a];case ai.SESSION:return[N.a];default:return[]}}(B,V);if(typeof self<"u"&&!O.includes(N.i)&&O.push(N.i),typeof window<"u")for(const X of[N.b,N.a])O.includes(X)||O.push(X);return O.includes(N.N)||O.push(N.N),O}class _r{constructor(){this.providerId="phone",this._delegate=new N.P(Ki(G.Z.auth()))}static credential(V,O){return N.P.credential(V,O)}verifyPhoneNumber(V,O){return this._delegate.verifyPhoneNumber(V,O)}unwrap(){return this._delegate}}_r.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,_r.PROVIDER_ID=N.P.PROVIDER_ID;const sr=N.aA;class vr{constructor(V,O,X=G.Z.app()){var Ee;sr(null===(Ee=X.options)||void 0===Ee?void 0:Ee.apiKey,"invalid-api-key",{appName:X.name}),this._delegate=new N.R(V,O,X.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function W(B){B.INTERNAL.registerComponent(new De.wA("auth-compat",V=>{const O=V.getProvider("app-compat").getImmediate(),X=V.getProvider("auth");return new Jn(O,X)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.Q,FacebookAuthProvider:N.U,GithubAuthProvider:N.W,GoogleAuthProvider:N.V,OAuthProvider:N.X,SAMLAuthProvider:N.Y,PhoneAuthProvider:_r,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:vr,TwitterAuthProvider:N.Z,Auth:Jn,AuthCredential:N.J,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),B.registerVersion("@firebase/auth-compat","0.4.2")}(G.Z)},5861:(xt,Ae,j)=>{function s(N,se,ue,re,De,be,xe){try{var K=N[be](xe),Y=K.value}catch(ne){return void ue(ne)}K.done?se(Y):Promise.resolve(Y).then(re,De)}function G(N){return function(){var se=this,ue=arguments;return new Promise(function(re,De){var be=N.apply(se,ue);function xe(Y){s(be,re,De,xe,K,"next",Y)}function K(Y){s(be,re,De,xe,K,"throw",Y)}xe(void 0)})}}j.d(Ae,{Z:()=>G})},7582:(xt,Ae,j)=>{function se(he,ge){var ye={};for(var oe in he)Object.prototype.hasOwnProperty.call(he,oe)&&ge.indexOf(oe)<0&&(ye[oe]=he[oe]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(oe=Object.getOwnPropertySymbols(he);Re<oe.length;Re++)ge.indexOf(oe[Re])<0&&Object.prototype.propertyIsEnumerable.call(he,oe[Re])&&(ye[oe[Re]]=he[oe[Re]])}return ye}function ne(he,ge,ye,oe){return new(ye||(ye=Promise))(function(He,ht){function ft(un){try{Dt(oe.next(un))}catch(Gn){ht(Gn)}}function vn(un){try{Dt(oe.throw(un))}catch(Gn){ht(Gn)}}function Dt(un){un.done?He(un.value):function Re(He){return He instanceof ye?He:new ye(function(ht){ht(He)})}(un.value).then(ft,vn)}Dt((oe=oe.apply(he,ge||[])).next())})}function Me(he){return this instanceof Me?(this.v=he,this):new Me(he)}function Ie(he,ge,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,oe=ye.apply(he,ge||[]),He=[];return Re={},ht("next"),ht("throw"),ht("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function ht(xn){oe[xn]&&(Re[xn]=function(yi){return new Promise(function(Wn,Qn){He.push([xn,yi,Wn,Qn])>1||ft(xn,yi)})})}function ft(xn,yi){try{!function vn(xn){xn.value instanceof Me?Promise.resolve(xn.value.v).then(Dt,un):Gn(He[0][2],xn)}(oe[xn](yi))}catch(Wn){Gn(He[0][3],Wn)}}function Dt(xn){ft("next",xn)}function un(xn){ft("throw",xn)}function Gn(xn,yi){xn(yi),He.shift(),He.length&&ft(He[0][0],He[0][1])}}function We(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,ge=he[Symbol.asyncIterator];return ge?ge.call(he):(he=function dt(he){var ge="function"==typeof Symbol&&Symbol.iterator,ye=ge&&he[ge],oe=0;if(ye)return ye.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&oe>=he.length&&(he=void 0),{value:he&&he[oe++],done:!he}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),ye={},oe("next"),oe("throw"),oe("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function oe(He){ye[He]=he[He]&&function(ht){return new Promise(function(ft,vn){!function Re(He,ht,ft,vn){Promise.resolve(vn).then(function(Dt){He({value:Dt,done:ft})},ht)}(ft,vn,(ht=he[He](ht)).done,ht.value)})}}}j.d(Ae,{FC:()=>Ie,KL:()=>We,_T:()=>se,mG:()=>ne,qq:()=>Me}),"function"==typeof SuppressedError&&SuppressedError}},xt=>{xt(xt.s=5256)}]);